!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("prop-types"),require("@progress/kendo-drawing"),require("@progress/kendo-date-math"),require("@progress/kendo-react-intl"),require("react-dom"),require("@progress/kendo-licensing"),require("react-transition-group"),require("react-dom/server")):"function"==typeof define&&define.amd?define(["react","prop-types","@progress/kendo-drawing","@progress/kendo-date-math","@progress/kendo-react-intl","react-dom","@progress/kendo-licensing","react-transition-group","react-dom/server"],e):"object"==typeof exports?exports.KendoReactAll=e(require("react"),require("prop-types"),require("@progress/kendo-drawing"),require("@progress/kendo-date-math"),require("@progress/kendo-react-intl"),require("react-dom"),require("@progress/kendo-licensing"),require("react-transition-group"),require("react-dom/server")):t.KendoReactAll=e(t.React,t.PropTypes,t.KendoDrawing,t.KendoDateMath,t.KendoReactIntl,t.ReactDOM,t.KendoLicensing,t.ReactTransitionGroup,t.ReactDOMServer)}(window,(function(t,e,n,r,o,i,a,s,l){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=35)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return s})),n.d(e,"i",(function(){return l})),n.d(e,"h",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"b",(function(){return S})),n.d(e,"m",(function(){return E})),n.d(e,"p",(function(){return I})),n.d(e,"q",(function(){return A})),n.d(e,"r",(function(){return j})),n.d(e,"d",(function(){return M})),n.d(e,"v",(function(){return R})),n.d(e,"o",(function(){return N})),n.d(e,"w",(function(){return F})),n.d(e,"x",(function(){return B})),n.d(e,"t",(function(){return U})),n.d(e,"u",(function(){return W})),n.d(e,"l",(function(){return q})),n.d(e,"n",(function(){return K})),n.d(e,"D",(function(){return Y})),n.d(e,"s",(function(){return X})),n.d(e,"k",(function(){return $})),n.d(e,"a",(function(){return J})),n.d(e,"z",(function(){return Q})),n.d(e,"A",(function(){return tt})),n.d(e,"C",(function(){return et})),n.d(e,"B",(function(){return nt})),n.d(e,"y",(function(){return rt})),n.d(e,"c",(function(){return st}));var r=function(){return"undefined"!=typeof document?document:{}},o=function(){function t(){}return Object.defineProperty(t.prototype,"scrollbarWidth",{get:function(){var t=r();if(!this.scrollbar&&t&&t.createElement){var e=t.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",t.body.appendChild(e),this.scrollbar=e.offsetWidth-e.scrollWidth,t.body.removeChild(e)}return this.scrollbar},enumerable:!0,configurable:!0}),t}(),i=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),a=function(t){return"string"!=typeof Comment&&(function(t){return Boolean("function"==typeof t&&!!t.prototype.isReactComponent)}(t)||function(t){return Boolean(t.$$typeof&&"function"==typeof t.render)}(t))},s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return!0!==t&&!!t})).map((function(t){return Array.isArray(t)?s.apply(void 0,t):"object"==typeof t?Object.keys(t).map((function(e,n){return t[n]||t[e]&&e||null})).filter((function(t){return null!==t})).join(" "):t})).filter((function(t){return!!t})).join(" ")},l=function(t){return t?new Date(t.getTime()):null};function c(t){var e={};return u(t,e),e}function u(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e[n]=p(r,e[n])}}function p(t,e){if(Array.isArray(t))return t.map((function(t){return p(t,void 0)}));if(t instanceof Date)return l(t);if(t&&"object"==typeof t){var n=e||{};return u(t,n),n}return t}var h=n(0),d=n(1),f=function(t,e){return function(n){return e(t(n))}},m=function(t,e,n){return t.addEventListener&&t.addEventListener(e,n)},v=function(t,e,n){return t&&t.removeEventListener&&t.removeEventListener(e,n)},g=function(){},y=function(t){return t.preventDefault()},b=/touch/;function x(t){return t.type.match(b)?{pageX:t.changedTouches[0].pageX,pageY:t.changedTouches[0].pageY,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,type:t.type,originalEvent:t,isTouch:!0}:{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY,offsetX:t.offsetX,offsetY:t.offsetY,type:t.type,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,originalEvent:t}}var w=function(t){var e=this,n=t.press;void 0===n&&(n=g);var r=t.drag;void 0===r&&(r=g);var o=t.release;void 0===o&&(o=g);var i=t.mouseOnly;void 0===i&&(i=!1),this._pressHandler=f(x,n),this._dragHandler=f(x,r),this._releaseHandler=f(x,o),this._ignoreMouse=!1,this._mouseOnly=i,this._touchstart=function(t){1===t.touches.length&&e._pressHandler(t)},this._touchmove=function(t){1===t.touches.length&&e._dragHandler(t)},this._touchend=function(t){0===t.touches.length&&1===t.changedTouches.length&&(e._releaseHandler(t),e._ignoreMouse=!0,setTimeout(e._restoreMouse,2e3))},this._restoreMouse=function(){e._ignoreMouse=!1},this._mousedown=function(t){var n=t.which;n&&n>1||e._ignoreMouse||(m(e.document,"mousemove",e._mousemove),m(e.document,"mouseup",e._mouseup),e._pressHandler(t))},this._mousemove=function(t){e._dragHandler(t)},this._mouseup=function(t){v(e.document,"mousemove",e._mousemove),v(e.document,"mouseup",e._mouseup),e._releaseHandler(t)},this._pointerdown=function(t){t.isPrimary&&0===t.button&&(m(e.document,"pointermove",e._pointermove),m(e.document,"pointerup",e._pointerup),m(e.document,"pointercancel",e._pointerup),m(e.document,"contextmenu",y),e._pressHandler(t))},this._pointermove=function(t){t.isPrimary&&e._dragHandler(t)},this._pointerup=function(t){t.isPrimary&&(v(e.document,"pointermove",e._pointermove),v(e.document,"pointerup",e._pointerup),v(e.document,"pointercancel",e._pointerup),v(e.document,"contextmenu",y),e._releaseHandler(t))}},k={document:{configurable:!0}};w.supportPointerEvent=function(){return"undefined"!=typeof window&&window.PointerEvent},k.document.get=function(){return this._element?this._element.ownerDocument:document},w.prototype.bindTo=function(t){t!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=t,this._bindToCurrent())},w.prototype._bindToCurrent=function(){var t=this._element;this._usePointers()?m(t,"pointerdown",this._pointerdown):(m(t,"mousedown",this._mousedown),this._mouseOnly||(m(t,"touchstart",this._touchstart),m(t,"touchmove",this._touchmove),m(t,"touchend",this._touchend)))},w.prototype._unbindFromCurrent=function(){var t=this._element;if(this._usePointers())return v(t,"pointerdown",this._pointerdown),v(this.document,"pointermove",this._pointermove),v(this.document,"pointerup",this._pointerup),v(this.document,"contextmenu",y),void v(this.document,"pointercancel",this._pointerup);v(t,"mousedown",this._mousedown),this._mouseOnly||(v(t,"touchstart",this._touchstart),v(t,"touchmove",this._touchmove),v(t,"touchend",this._touchend))},w.prototype._usePointers=function(){return!this._mouseOnly&&w.supportPointerEvent()},w.prototype.update=function(t){var e=t.press;void 0===e&&(e=g);var n=t.drag;void 0===n&&(n=g);var r=t.release;void 0===r&&(r=g);var o=t.mouseOnly;void 0===o&&(o=!1),this._pressHandler=f(x,e),this._dragHandler=f(x,n),this._releaseHandler=f(x,r),this._mouseOnly=o},w.prototype.destroy=function(){this._unbindFromCurrent(),this._element=null},Object.defineProperties(w.prototype,k),w.default=w;var O,C=w,_=(O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.element=null,e.draggable=new C({press:function(t){e.element&&e.props.onPress&&e.props.onPress.call(void 0,{target:e,event:t,element:e.element})},drag:function(t){e.element&&e.props.onDrag&&e.props.onDrag.call(void 0,{target:e,event:t,element:e.element})},release:function(t){e.element&&e.props.onRelease&&e.props.onRelease.call(void 0,{target:e,event:t})}}),e.childRef=function(t){var n=e.props.childRef;e.element=t,n&&"function"==typeof n&&n(t)},e}return _(e,t),e.prototype.componentDidMount=function(){this.element&&this.draggable.bindTo(this.element)},e.prototype.componentWillUnmount=function(){this.draggable.destroy()},e.prototype.render=function(){return h.cloneElement(h.Children.only(this.props.children),{ref:this.childRef})},e.propTypes={children:d.element.isRequired},e}(h.Component),E=function(t){if(t){if((t instanceof HTMLInputElement||-1!==t.tabIndex)&&t.focus)return void t.focus();var e=t.querySelector('input, [tabindex]:not([tabindex="-1"])');e&&e.focus&&e.focus()}},I=function(t,e,n){var r="string"==typeof t?parseInt(t,void 0):t;if(NaN!==r)return void 0!==r?r:e?n?void 0:-1:0},T=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;function D(t){var e=[];return t.replace(T,(function(t,n,r,o){e.push(void 0!==n?n:r||o)})),e}var P={};function A(t){if(P[t])return P[t];var e=D(t);return P[t]=function(t){for(var n=t,r=0;r<e.length&&n;r++)n=n[e[r]];return n},P[t]}P.undefined=function(){};var j=function(){var t,e,n="";for(t=0;t<32;t++)e=16*Math.random()|0,8!==t&&12!==t&&16!==t&&20!==t||(n+="-"),n+=(12===t?4:16===t?3&e|8:e).toString(16);return n},M={backspace:8,tab:9,enter:13,shift:16,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,delete:46},R=function(){},N=function(){return!(!i||!document.body)&&(new o).scrollbarWidth},F=function(){if(!i||!document.body)return!1;var t=(new o).scrollbarWidth;document.body.style.setProperty("--kendo-scrollbar-width",t+"px")},L={undefined:function(t){return t}},z=function(t,e){return e&&e.arrays&&!isNaN(Number(t))?[]:{}};function B(t){if(L[t])return L[t];var e=D(t);return L[t]=function(t,n,r){for(var o=t,i=e.length-1,a=0;a<i&&o;a++)o=o[e[a]]=o[e[a]]||z(e[a+1],r);o[e[i]]=n},L[t]}var V=function(){return(V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function H(t,e,n){var r;return n?V({},t,((r={})[e]=n.length?n.slice():void 0,r)):t&&t[e]?t[e].slice():[]}var U=function(t,e,n){return t.map((function(t){return function t(e,n,r){if(e[n]){var o=H(e,n).map((function(e){return t(e,n,r)}));return r(H(e,n,o))}return r(e)}(t,e,n)})).slice()},W=function(t,e,n,r){for(var o=t,i=[],a=0;a<e.length;a++)o=o[e[a]],o=Array.isArray(o)?o:o[n],i.push(o);var s=i.length>1?i[i.length-2]:t,l=e[e.length-1],c=r(s[l]);s.splice(l,1,c)},q=function(t,e,n){var r;return Object.assign({},t,t[e]?((r={})[e]=t[e].slice(),r):{},n||{})},K=function(t,e,n){var r=[],o=e.slice();if(o.length){var i=t[o.shift()||0];for(r.push(i);o.length&&n;)i=i[n][o.shift()||0],r.push(i)}return r},G=n(13);function Y(t){if(void 0!==G)G.validatePackage(t);else{var e="License activation failed for "+t.name+"\n";e+="The @progress/kendo-licensing script is not loaded.\n",e+="See "+t.licensingDocsUrl+" for more information.\n",console.warn(e)}}var X=function(t){if(!i)return!1;var e=t?t.ownerDocument:document;if(!e||!e.body)return!1;var n=e.createElement("div");n.style.transform="matrix(10, 0, 0, 10, 0, 0)",n.innerHTML='<div style="position: fixed; top: 10px;">child</div>',e.body.appendChild(n);var r=10!==n.children[0].getBoundingClientRect().top;return e.body.removeChild(n),r};function $(t,e,n,r){if(t){var o={syntheticEvent:e,nativeEvent:e.nativeEvent,target:n};t.call(void 0,Object.assign(o,r))}}var Z=function(){return(Z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},J=function(t){var e=t.children,n=function(t){var e=t.onFocus,n=t.onBlur,r=t.onSyncFocus,o=t.onSyncBlur,i=h.useRef(!1),a=h.useRef(0),s=h.useCallback((function(t){clearTimeout(a.current),a.current=window.setTimeout((function(){return t()}))}),[a]),l=h.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];clearTimeout(a.current),r&&r.call.apply(r,[void 0].concat(t)),i.current||(i.current=!0,e&&e.call.apply(e,[void 0].concat(t)))}),[i,e,r]),c=h.useCallback((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o&&o.call.apply(o,[void 0].concat(t)),s((function(){i.current&&n&&(i.current=!1,n.call.apply(n,[void 0].concat(t)))}))}),[i,s,n,o]);return h.useEffect((function(){return function(){clearTimeout(a.current)}}),[]),{onFocus:l,onBlur:c}}({onFocus:t.onFocus,onBlur:t.onBlur,onSyncFocus:t.onSyncFocus,onSyncBlur:t.onSyncBlur});return e.call(void 0,Z({},n))};function Q(t,e,n){var r=h.useState(e),o=r[0],i=r[1];return h.useEffect((function(){if(!o&&window&&t.current){var e=window.getComputedStyle(t.current).direction;e&&i(e)}}),n),o}function tt(t,e){var n=e.onPress,r=e.onDrag,o=e.onRelease,i=h.useMemo((function(){return new C({press:n,drag:r,release:o})}),[]);h.useEffect((function(){var e=t.current;if(e)return i.bindTo(e),function(){i.destroy()}}),[]),h.useEffect((function(){i.update({press:n,drag:r,release:o})}),[n,r,o])}function et(t,e,n){var r=h.useState(e),o=r[0],i=r[1];return h.useEffect((function(){if(!o&&window&&t.current){var e=window.getComputedStyle(t.current).direction;e&&i(e)}}),n),o}var nt=function(t,e,n){void 0===n&&(n={});var r=h.useCallback((function(r){n.onMouseDown&&n.onMouseDown.call(void 0,r),t.onMouseDown&&t.onMouseDown.call(void 0,{target:e.current,syntheticEvent:r})}),[n.onMouseDown,t.onMouseDown,e]),o=h.useCallback((function(r){n.onMouseUp&&n.onMouseUp.call(void 0,r),t.onMouseUp&&t.onMouseUp.call(void 0,{target:e.current,syntheticEvent:r})}),[n.onMouseUp,t.onMouseUp,e]);return{onClick:h.useCallback((function(r){n.onClick&&n.onClick.call(void 0,r),t.onClick&&t.onClick.call(void 0,{target:e.current,syntheticEvent:r})}),[n.onClick,t.onClick,e]),onMouseUp:o,onMouseDown:r,onDoubleClick:h.useCallback((function(r){n.onDoubleClick&&n.onDoubleClick.call(void 0,r),t.onDoubleClick&&t.onDoubleClick.call(void 0,{target:e.current,syntheticEvent:r})}),[n.onDoubleClick,t.onDoubleClick,e]),onMouseEnter:h.useCallback((function(r){n.onMouseEnter&&n.onMouseEnter.call(void 0,r),t.onMouseEnter&&t.onMouseEnter.call(void 0,{target:e.current,syntheticEvent:r})}),[n.onMouseEnter,t.onMouseEnter,e]),onMouseLeave:h.useCallback((function(r){n.onMouseLeave&&n.onMouseLeave.call(void 0,r),t.onMouseLeave&&t.onMouseLeave.call(void 0,{target:e.current,syntheticEvent:r})}),[n.onMouseLeave,t.onMouseLeave,e]),onMouseMove:h.useCallback((function(r){n.onMouseMove&&n.onMouseMove.call(void 0,r),t.onMouseMove&&t.onMouseMove.call(void 0,{target:e.current,syntheticEvent:r})}),[n.onMouseMove,t.onMouseMove,e]),onMouseOut:h.useCallback((function(r){n.onMouseOut&&n.onMouseOut.call(void 0,r),t.onMouseOut&&t.onMouseOut.call(void 0,{target:e.current,syntheticEvent:r})}),[n.onMouseOut,t.onMouseOut,e]),onMouseOver:h.useCallback((function(r){n.onMouseOver&&n.onMouseOver.call(void 0,r),t.onMouseOver&&t.onMouseOver.call(void 0,{target:e.current,syntheticEvent:r})}),[n.onMouseOver,t.onMouseOver,e])}},rt=function(t){return h.isValidElement(t)?[t.type,t.props]:[t,{}]},ot={default:"",xsmall:"k-icon-xs",small:"k-icon-sm",medium:"k-icon-md",large:"k-icon-lg",xlarge:"k-icon-xl"},it=function(){return(it=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},at=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},st=h.forwardRef((function(t,e){var n=t.className,r=t.name,o=t.themeColor,i=t.size,a=t.flip,l=t.style,c=at(t,["className","name","themeColor","size","flip","style"]),u=h.useRef(null),p=h.useRef(null);h.useImperativeHandle(u,(function(){return{element:p.current}})),h.useImperativeHandle(e,(function(){return u.current}));var d=h.useMemo((function(){return o||lt.themeColor}),[o]),f=h.useMemo((function(){return i||lt.size}),[i]),m=h.useMemo((function(){return a||lt.flip}),[a]),v=h.useMemo((function(){return s("k-icon","k-i-"+r,"k-color-"+d,{"k-flip-h":"horizontal"===m||"both"===m,"k-flip-v":"vertical"===m||"both"===m},ot[f],n)}),[r,d,f,m,n]),g=nt(t,u);return h.createElement("span",it({ref:p},c,g,{className:v,style:l,role:"presentation"}))}));st.propTypes={style:d.object,classNames:d.string,name:d.string,themeColor:d.oneOf(["inherit","primary","secondary","tertiary","info","success","error","warning","dark","light","inverse"]),size:d.oneOf(["default","xsmall","small","medium","large","xlarge"]),flip:d.oneOf(["default","horizontal","vertical","both"])};var lt={size:"default",themeColor:"inherit",flip:"default"};st.displayName="KendoIcon";var ct=function(){return(ct=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ut=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},pt=h.forwardRef((function(t,e){var n=t.children,r=t.className,o=t.svgClassName,i=t.icon,a=t.flip,l=t.size,c=t.style,u=t.svgStyle,p=t.themeColor,d=t.viewBox,f=ut(t,["children","className","svgClassName","icon","flip","size","style","svgStyle","themeColor","viewBox"]),m=h.useRef(null);h.useImperativeHandle(e,(function(){return{element:m.current}}));var v=h.useMemo((function(){return i?i.name:ht.icon}),[i]),g=h.useMemo((function(){return p||ht.themeColor}),[p]),y=h.useMemo((function(){return l||ht.size}),[l]),b=h.useMemo((function(){return a||ht.flip}),[a]),x=h.useMemo((function(){return d||ht.viewBox}),[d]),w=h.useMemo((function(){return s("k-svg-icon","k-color-"+g,"k-svg-i-"+v,{"k-flip-h":"horizontal"===b||"both"===b,"k-flip-v":"vertical"===b||"both"===b},ot[y],r)}),[v,g,y,b,r]),k=h.useMemo((function(){return t.width&&t.height?ct({width:t.width,height:t.height},c):t.width?ct({width:t.width,height:t.width},c):t.height?ct({width:t.height,height:t.height},c):ct({},c)}),[t.width,t.height,c]);return h.createElement("span",{className:w,style:k,ref:m},h.createElement("svg",ct({className:o,style:u,"aria-hidden":!0,focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:i?i.viewBox:x,dangerouslySetInnerHTML:i?{__html:i.content}:void 0},f),i?void 0:n))}));pt.propTypes={style:d.object,classNames:d.string,children:d.any,icon:d.object,themeColor:d.oneOf(["inherit","primary","secondary","tertiary","info","success","error","warning","dark","light","inverse"]),size:d.oneOf(["default","xsmall","small","medium","large","xlarge"]),flip:d.oneOf(["default","horizontal","vertical","both"])};var ht={size:"default",themeColor:"inherit",flip:"default",icon:"",viewBox:"0 0 24 24"};pt.displayName="KendoSvgIcon";var dt={xsmall:"k-fs-xs",small:"k-fs-sm",medium:"k-fs-md",large:"k-fs-lg",xlarge:"k-fs-xl"},ft={light:"k-font-weight-light",normal:"k-font-weight-normal",bold:"k-font-weight-bold"},mt={xsmall:"k-m-xs",small:"k-m-sm",medium:"k-m-md",large:"k-m-lg",xlarge:"k-m-xl",thin:"k-m-thin",hair:"k-m-hair"},vt={xsmall:"xs",small:"sm",medium:"md",large:"lg",xlarge:"xl",thin:"thin",hair:"hair"},gt={top:"k-mt-",right:"k-mr-",bottom:"k-mb-",left:"k-ml-"},yt={left:"k-text-left",right:"k-text-right",center:"k-text-center",justify:"k-text-justify"},bt={lowercase:"k-text-lowercase",uppercase:"k-text-uppercase",capitalize:"k-text-capitalize"},xt={inherit:"k-color-inherit",primary:"k-color-primary",secondary:"k-color-secondary",tertiary:"k-color-tertiary",info:"k-color-info",success:"k-color-success",warning:"k-color-warning",error:"k-color-error",dark:"k-color-dark",light:"k-color-light",inverse:"k-color-inverse"},wt=function(){return(wt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},kt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Ot=function(t){var e=h.forwardRef((function(e,n){var r=e.className,o=e.fontSize,i=e.fontWeight,a=e.textAlign,s=e.textTransform,l=e.themeColor,c=e.margin,u=kt(e,["className","fontSize","fontWeight","textAlign","textTransform","themeColor","margin"]),p=h.useRef(null),d=h.useRef(null);h.useImperativeHandle(p,(function(){return{element:d.current,props:e}})),h.useImperativeHandle(n,(function(){return p.current}));var f=t,m=function(){if(void 0!==c){if("string"==typeof c)return[mt[c]];if("number"==typeof c&&c>=0&&c<=24)return["k-m-"+c];if("object"==typeof c){var t=[];return Object.keys(c).forEach((function(e){var n,r;null!==c[e]&&void 0!==c[e]&&t.push((n=e,r=c[e],""+gt[n]+("string"==typeof r?vt[r]:r)))})),t.join(" ")}}};return h.createElement(f,wt({ref:d,className:["k-"+("p"===t?"paragraph":t),dt[o],ft[i],yt[a],bt[s],xt[l],m(),r].filter((function(t){return void 0!==t})).join(" ")},u),e.children)}));return e.propTypes={style:d.object,className:d.string,fontSize:d.oneOf(["xsmall","small","medium","large","xlarge"]),fontWeight:d.oneOf(["light","normal","bold"]),margin:d.oneOfType([d.number,d.object,d.oneOf(["xsmall","small","medium","large","xlarge","thin","hair"])]),textAlign:d.oneOf(["left","right","center","justify"]),textTransform:d.oneOf(["lowercase","uppercase","capitalize"]),themeColor:d.oneOf(["inherit","primary","secondary","tertiary","info","success","error","warning","dark","light","inverse"])},e.displayName="KendoReactTypography"+t.toUpperCase(),e};Ot("h1"),Ot("h2"),Ot("h3"),Ot("h4"),Ot("h5"),Ot("h6"),Ot("p"),Ot("code"),Ot("pre")},function(t,e){t.exports=n},function(t,e){t.exports=r},function(t,e){t.exports=o},function(t,e,n){"use strict";n.r(e),n.d(e,"Pager",(function(){return y})),n.d(e,"createFilterComponent",(function(){return C})),n.d(e,"BooleanFilterCell",(function(){return E})),n.d(e,"DateFilterCell",(function(){return P})),n.d(e,"NumericFilterCell",(function(){return R})),n.d(e,"TextFilterCell",(function(){return L})),n.d(e,"ColumnDefaultProps",(function(){return z})),n.d(e,"FILTER_ROW_CLASS",(function(){return dt})),n.d(e,"FilterRow",(function(){return mt})),n.d(e,"Header",(function(){return Ot})),n.d(e,"HeaderCell",(function(){return _t})),n.d(e,"HeaderRow",(function(){return Rt})),n.d(e,"HeaderSelectionCell",(function(){return Nt})),n.d(e,"normalize",(function(){return St})),n.d(e,"mapColumns",(function(){return gt})),n.d(e,"readColumns",(function(){return yt})),n.d(e,"isRtl",(function(){return bt})),n.d(e,"getIndex",(function(){return xt})),n.d(e,"HeaderThElement",(function(){return nt})),n.d(e,"tableColumnsVirtualization",(function(){return Ft})),n.d(e,"ColumnResize",(function(){return Lt})),n.d(e,"CommonDragLogic",(function(){return zt})),n.d(e,"DragClue",(function(){return Ht})),n.d(e,"DropClue",(function(){return Wt})),n.d(e,"TextFilter",(function(){return Gt})),n.d(e,"NumericFilter",(function(){return $t})),n.d(e,"DateFilter",(function(){return Qt})),n.d(e,"BooleanFilter",(function(){return oe})),n.d(e,"EnumFilter",(function(){return ne})),n.d(e,"Expression",(function(){return ve})),n.d(e,"Filter",(function(){return Mn})),n.d(e,"Group",(function(){return Pn})),n.d(e,"Operators",(function(){return ue})),n.d(e,"stringOperator",(function(){return pe})),n.d(e,"unaryOperator",(function(){return he})),n.d(e,"ColumnMenuTextColumn",(function(){return rr})),n.d(e,"ColumnMenuNumericColumn",(function(){return or})),n.d(e,"ColumnMenuDateColumn",(function(){return ir})),n.d(e,"ColumnMenuBooleanColumn",(function(){return ar})),n.d(e,"ColumnMenuForm",(function(){return Qn})),n.d(e,"ColumnMenuFilterForm",(function(){return tr})),n.d(e,"ColumnMenuFilterLogic",(function(){return $n})),n.d(e,"ColumnMenuBooleanFilter",(function(){return Wn})),n.d(e,"ColumnMenuTextFilter",(function(){return qn})),n.d(e,"ColumnMenuNumericFilter",(function(){return Kn})),n.d(e,"ColumnMenuDateFilter",(function(){return Gn})),n.d(e,"ColumnMenuItem",(function(){return Nn})),n.d(e,"ColumnMenuOperators",(function(){return Vn})),n.d(e,"orderBy",(function(){return cr})),n.d(e,"filterBy",(function(){return ur})),n.d(e,"setGroupIds",(function(){return hr})),n.d(e,"getGroupIds",(function(){return dr})),n.d(e,"setExpandedState",(function(){return fr})),n.d(e,"useTableKeyboardNavigation",(function(){return tt})),n.d(e,"KEYBOARD_NAV_DATA_LEVEL",(function(){return B})),n.d(e,"KEYBOARD_NAV_DATA_SCOPE",(function(){return V})),n.d(e,"KEYBOARD_NAV_DATA_HEADER",(function(){return H})),n.d(e,"KEYBOARD_NAV_DATA_BODY",(function(){return U})),n.d(e,"KEYBOARD_NAV_DATA_ID",(function(){return W})),n.d(e,"KEYBOARD_NAV_DATA_ZONE",(function(){return q})),n.d(e,"KEYBOARD_NAV_FILTER_COL_SUFFIX",(function(){return K})),n.d(e,"FOCUSABLE_ELEMENTS",(function(){return Y})),n.d(e,"TABBABLE_ELEMENTS",(function(){return X})),n.d(e,"tableKeyboardNavigationHeaderAttributes",(function(){return Z})),n.d(e,"tableKeyboardNavigationBodyAttributes",(function(){return J})),n.d(e,"tableKeyboardNavigation",(function(){return vr})),n.d(e,"TableKeyboardNavigationContext",(function(){return Q})),n.d(e,"tableKeyboardNavigationScopeAttributes",(function(){return $})),n.d(e,"tableKeyboardNavigationTools",(function(){return ht})),n.d(e,"TableSelection",(function(){return jr})),n.d(e,"TABLE_ROW_INDEX_ATTRIBUTE",(function(){return gr})),n.d(e,"TABLE_COL_INDEX_ATTRIBUTE",(function(){return yr})),n.d(e,"TABLE_PREVENT_SELECTION_ELEMENT",(function(){return br})),n.d(e,"closestTagName",(function(){return kr})),n.d(e,"getRowIndex",(function(){return Or})),n.d(e,"getColumnIndex",(function(){return Cr})),n.d(e,"setSelectedState",(function(){return _r})),n.d(e,"getSelectedStateFromKeyDown",(function(){return Sr})),n.d(e,"getSelectedState",(function(){return Er})),n.d(e,"relativeContextElement",(function(){return Tr})),n.d(e,"getOffset",(function(){return Dr})),n.d(e,"getSelectionOptions",(function(){return Pr}));var r,o=n(0),i=n(1),a=n(2),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handlePageChange=function(t,n){t.preventDefault(),e.props.pageChange(n,t)},e.handleSelectPageChange=function(t){t.preventDefault(),e.props.pageChange(t.target.value,t)},e}return s(e,t),e.prototype.render=function(){for(var t=this,e=this.start>1&&this.renderDots(this.start-1),n=this.end<this.props.totalPages&&this.renderDots(this.end+1),r=this.start>1&&this.renderOptionDots(this.start-1),i=this.end<this.props.totalPages&&this.renderOptionDots(this.end+1),s=[],l=this.start;l<=this.end;l++)s.push(l);var c=s.map((function(e){return o.createElement("li",{key:e},o.createElement("a",{href:"#",onClick:function(n){return t.handlePageChange(n,e)},className:Object(a.g)("k-link",{"k-state-selected":t.props.currentPage===e})},e))})),u=s.map((function(t){return o.createElement("option",{key:t,className:Object(a.g)("k-link")},t)}));return o.createElement("div",{className:"k-pager-numbers-wrap"},o.createElement("select",{className:"k-dropdown",value:this.props.currentPage,onChange:function(e){return t.handleSelectPageChange(e)}},r,u,i),o.createElement("ul",{className:"k-pager-numbers k-reset"},e,c,n))},e.prototype.renderDots=function(t){var e=this;return o.createElement("li",null,o.createElement("a",{className:"k-link",onClick:function(n){return e.handlePageChange(n,t)},href:"#"},"..."))},e.prototype.renderOptionDots=function(t){return o.createElement("option",{className:"k-link",value:t},"...")},Object.defineProperty(e.prototype,"end",{get:function(){return Math.min(this.start+this.props.buttonCount-1,this.props.totalPages)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){var t=this.props.currentPage,e=this.props.buttonCount;if(t>e){var n=t%e;return 0===n?t-e+1:t-n+1}return 1},enumerable:!0,configurable:!0}),e}(o.Component),c=n(5),u=((r={})["pager.itemsPerPage"]="items per page",r["pager.info"]="{0} - {1} of {2} items",r["pager.firstPage"]="Go to the first page",r["pager.previousPage"]="Go to the previous page",r["pager.nextPage"]="Go to the next page",r["pager.lastPage"]="Go to the last page",r["pager.page"]="Page",r["pager.of"]="Of",r["pager.totalPages"]="{0}",r["sort.ariaLabel"]="Sortable",r["filter.ariaLabel"]="Filter",r["filter.eqOperator"]="Is equal to",r["filter.notEqOperator"]="Is not equal to",r["filter.isNullOperator"]="Is null",r["filter.isNotNullOperator"]="Is not null",r["filter.isEmptyOperator"]="Is empty",r["filter.isNotEmptyOperator"]="Is not empty",r["filter.startsWithOperator"]="Starts with",r["filter.containsOperator"]="Contains",r["filter.notContainsOperator"]="Does not contain",r["filter.endsWithOperator"]="Ends with",r["filter.gteOperator"]="Is greater than or equal to",r["filter.gtOperator"]="Is greater than",r["filter.lteOperator"]="Is less than or equal to",r["filter.ltOperator"]="Is less than",r["filter.isTrue"]="Is true",r["filter.isFalse"]="Is false",r["filter.afterOrEqualOperator"]="Is after or equal to",r["filter.afterOperator"]="Is after",r["filter.beforeOperator"]="Is before",r["filter.beforeOrEqualOperator"]="Is before or equal to",r["filter.andLogic"]="And",r["filter.orLogic"]="Or",r["filter.addExpression"]="Add Expression",r["filter.addGroup"]="Add Group",r["filter.close"]="Close",r["columnMenu.filterClearButton"]="Clear",r["columnMenu.filterSubmitButton"]="Filter",r["columnMenu.filterTitle"]="Filter",r["columnMenu.sortAscending"]="Sort Ascending",r["columnMenu.sortDescending"]="Sort Descending",r["columnMenu.filterEqOperator"]="Is equal to",r["columnMenu.filterNotEqOperator"]="Is not equal to",r["columnMenu.filterIsNullOperator"]="Is null",r["columnMenu.filterIsNotNullOperator"]="Is not null",r["columnMenu.filterIsEmptyOperator"]="Is empty",r["columnMenu.filterIsNotEmptyOperator"]="Is not empty",r["columnMenu.filterStartsWithOperator"]="Starts with",r["columnMenu.filterContainsOperator"]="Contains",r["columnMenu.filterNotContainsOperator"]="Does not contain",r["columnMenu.filterEndsWithOperator"]="Ends with",r["columnMenu.filterGteOperator"]="Is greater than or equal to",r["columnMenu.filterGtOperator"]="Is greater than",r["columnMenu.filterLteOperator"]="Is less than or equal to",r["columnMenu.filterLtOperator"]="Is less than",r["columnMenu.filterIsTrue"]="Is true",r["columnMenu.filterAfterOrEqualOperator"]="Is after or equal to",r["columnMenu.filterAfterOperator"]="Is after",r["columnMenu.filterBeforeOperator"]="Is before",r["columnMenu.filterBeforeOrEqualOperator"]="Is before or equal to",r["columnMenu.filterAndLogic"]="And",r["columnMenu.filterOrLogic"]="Or",r),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._text=void 0,e.onChange=function(t){var n=e._text=t.target.value.replace(/\D/g,"");e.forceUpdate(),n&&e.props.pageChange(parseInt(n,10),t)},e.value=function(){var t=void 0===e._text?e.props.currentPage.toString():e._text;return e._text=void 0,t},e}return p(e,t),e.prototype.render=function(){var t=this,e=Object(c.provideIntlService)(this),n=Object(c.provideLocalizationService)(this),r=this.props.messagesMap?this.props.messagesMap("pager.page"):{messageKey:"pager.page",defaultMessage:u["pager.page"]},i=this.props.messagesMap?this.props.messagesMap("pager.of"):{messageKey:"pager.of",defaultMessage:u["pager.of"]},a=this.props.messagesMap?this.props.messagesMap("pager.totalPages"):{messageKey:"pager.totalPages",defaultMessage:u["pager.totalPages"]};return o.createElement("span",{className:"k-pager-input k-label"},n.toLanguageString(r.messageKey,r.defaultMessage),o.createElement("input",{className:"k-textbox",value:this.value(),onBlur:function(){return t.forceUpdate()},onChange:this.onChange}),n.toLanguageString(i.messageKey,i.defaultMessage)+" "+e.format(n.toLanguageString(a.messageKey,a.defaultMessage),[this.props.totalPages]))},e}(o.Component);Object(c.registerForLocalization)(h);var d=n(10),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageSizeChange=function(t){e.props.pageChange&&e.props.pageChange({skip:0,take:parseInt(t.target.value,10)},t)},e}return f(e,t),e.prototype.render=function(){var t=this,e=this.props.pageSizes.slice();0===e.filter((function(e){return e===t.props.pageSize})).length&&e.unshift(this.props.pageSize);var n=this.props.messagesMap?this.props.messagesMap("pager.itemsPerPage"):{messageKey:"pager.itemsPerPage",defaultMessage:u["pager.itemsPerPage"]};return o.createElement("span",{className:"k-pager-sizes k-label"},o.createElement(d.DropDownList,{value:this.props.pageSize,data:e,onChange:this.pageSizeChange}),Object(c.provideLocalizationService)(this).toLanguageString(n.messageKey,n.defaultMessage))},e}(o.Component);Object(c.registerForLocalization)(m);var v={name:"@progress/kendo-react-data-tools",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616627,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(t){function e(e){var n=t.call(this,e)||this;return n._element=null,n.changePage=function(t,e){n.props.onPageChange&&t>0&&t<=n.totalPages&&n.props.onPageChange({target:n,skip:(t-1)*n.props.take,take:n.props.take,syntheticEvent:e,nativeEvent:e.nativeEvent})},n.onWindowResize=function(){var t=n.element;if(t&&n.props.responsive){var e=t.offsetWidth;e<600?(t.classList.remove("k-pager-md"),t.classList.add("k-pager-sm")):e>=600&&e<768?(t.classList.add("k-pager-md"),t.classList.remove("k-pager-sm")):(t.classList.remove("k-pager-md"),t.classList.remove("k-pager-sm"))}},Object(a.D)(v),n}return g(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onWindowResize)},e.prototype.render=function(){var t,e,n,r,i=this,s=this.props,p=s.skip,d=s.take,f=s.total,v=s.pageSizes,g=s.messagesMap,y=Object(c.provideLocalizationService)(this),b=Object(c.provideIntlService)(this),x=Math.floor(p/d)+1,w="numeric"===this.props.type?o.createElement(l,{buttonCount:this.props.buttonCount||0,totalPages:this.totalPages,currentPage:x,pageChange:this.changePage}):o.createElement(h,{currentPage:x,totalPages:this.totalPages,pageChange:this.changePage,messagesMap:g}),k=g?g("pager.firstPage"):{messageKey:"pager.firstPage",defaultMessage:u["pager.firstPage"]},O=g?g("pager.previousPage"):{messageKey:"pager.previousPage",defaultMessage:u["pager.previousPage"]},C=g?g("pager.nextPage"):{messageKey:"pager.nextPage",defaultMessage:u["pager.nextPage"]},_=g?g("pager.lastPage"):{messageKey:"pager.lastPage",defaultMessage:u["pager.lastPage"]},S=g?g("pager.info"):{messageKey:"pager.info",defaultMessage:u["pager.info"]};this.props.previousNext&&(t=this.renderButton(1,"k-link k-pager-nav k-pager-first"+(1===x?" k-state-disabled":""),y.toLanguageString(k.messageKey,k.defaultMessage),"k-icon k-i-arrow-end-left"),e=this.renderButton(x-1,"k-link k-pager-nav"+(1===x?" k-state-disabled":""),y.toLanguageString(O.messageKey,O.defaultMessage),"k-icon k-i-arrow-60-left"),n=this.renderButton(x+1,"k-link k-pager-nav"+(x>=this.totalPages?" k-state-disabled":""),y.toLanguageString(C.messageKey,C.defaultMessage),"k-icon k-i-arrow-60-right"),r=this.renderButton(this.totalPages,"k-link k-pager-nav k-pager-last"+(x>=this.totalPages?" k-state-disabled":""),y.toLanguageString(_.messageKey,_.defaultMessage),"k-icon k-i-arrow-end-right"));var E=v&&o.createElement(m,{pageChange:this.props.onPageChange,pageSize:d,pageSizes:v,messagesMap:g}),I=this.props.info&&o.createElement("div",{className:"k-pager-info k-label"},b.format(y.toLanguageString(S.messageKey,S.defaultMessage),[Math.min(p+1,f),Math.min(p+d,f),f]));return o.createElement("div",{className:Object(a.g)("k-pager-wrap k-pager k-widget",this.props.className),style:this.props.style,role:"navigation",ref:function(t){return i._element=t}},t,e,w,n,r,E,I)},e.prototype.renderButton=function(t,e,n,r){var i=this;return o.createElement("a",{onClick:function(e){e.preventDefault(),i.changePage(t,e)},href:"#",className:e,title:n},o.createElement("span",{className:r,"aria-label":n}))},Object.defineProperty(e.prototype,"totalPages",{get:function(){return Math.ceil((this.props.total||0)/this.props.take)},enumerable:!0,configurable:!0}),e.propTypes={className:i.string,style:i.object,total:i.number.isRequired,skip:i.number.isRequired,take:i.number.isRequired,buttonCount:i.number,info:i.bool,type:i.oneOf(["numeric","input"]),pageSizes:i.arrayOf(i.number),previousNext:i.bool,onPageChange:i.func,messagesMap:i.func},e.defaultProps={buttonCount:10,info:!0,type:"numeric"},e}(o.Component);Object(c.registerForIntl)(y),Object(c.registerForLocalization)(y);var b,x,w,k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(){return(O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},C=function(t){return function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.filterChange=function(t){n.props.onFilterChange&&n.props.onFilterChange(t)},n.inputChange=function(e){var r=e.target.value,o=n.props,i=o.filter,a=void 0===i?[]:i,s=o.field,l=void 0===s?"":s,c=n.findCellFilter(),u=c?a.map((function(t){return t.field===l?O({},c,{value:r}):t})):a.concat([O({},t.emptyFilter,{value:r,field:l})]);n.filterChange({filter:u,field:l,syntheticEvent:e.syntheticEvent})},n.operatorChange=function(e){var r=e.target.value.operator,o=n.props,i=o.filter,a=void 0===i?[]:i,s=o.field,l=void 0===s?"":s,c=n.findCellFilter(),u=c?a.map((function(t){return t.field===l?O({},c,{operator:r}):t})):a.concat([O({},t.emptyFilter,{field:l,operator:r})]);n.filterChange({filter:u,field:l,syntheticEvent:e.syntheticEvent})},n.clearButtonClick=function(t){var e=n.props,r=e.filter,o=void 0===r?[]:r,i=e.field,a=void 0===i?"":i;n.filterChange({filter:o.filter((function(t){return t.field!==a})),field:a,syntheticEvent:t})},n.findCellFilter=function(){var t=n.props,e=t.filter,r=void 0===e?[]:e,o=t.field;return r.find((function(t){return t.field===o}))},n}return k(n,e),n.prototype.render=function(){var e=this.props,n=e.clearButtonTitle,r=void 0===n?"":n,i=e.operators,a=void 0===i?[]:i,s=this.findCellFilter()||O({},t.emptyFilter,{operator:""}),l=s.operator,c=s.value,u={value:a.find((function(t){return t.operator===l}))||null,onChange:this.operatorChange,className:"k-dropdown-operator",iconClassName:"k-i-filter k-icon",data:a,textField:"text",popupSettings:{width:""},components:this.props.components};return o.createElement("div",{className:"k-filtercell"},o.createElement("div",{className:"k-filtercell-wrapper"},t.inputComponent({value:c,onChange:this.inputChange,components:this.props.components}),o.createElement("div",{className:"k-filtercell-operator"},t.operatorComponent(u,this.props),o.createElement("button",{className:null!==c&&""!==c||l?"k-button k-button-icon k-clear-button-visible":"k-button k-button-icon",title:r,type:"button",onClick:this.clearButtonClick},o.createElement("span",{className:"k-icon k-i-filter-clear"})))))},n}(o.Component)},_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(){return(S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e}(C({emptyFilter:{operator:"eq",value:""},inputComponent:function(t){return null},operatorComponent:function(t,e){var n=e.filter,r=void 0===n?[]:n,i=e.field,a=r.find((function(t){return t.field===i}));return o.createElement(d.DropDownList,S({},t,{value:t.data.find((function(t){return t.operator===(a?a.value:"")})),onChange:function(t){if(e.onFilterChange){var n=t.target.value.operator;if(""!==n){var o=a?r.map((function(t){return t.field===i?S({},a,{value:n}):t})):r.concat([{value:n,field:i,operator:"eq"}]);e.onFilterChange.call(void 0,{filter:o,field:i,syntheticEvent:t.syntheticEvent})}else a&&e.onFilterChange.call(void 0,{filter:r.filter((function(t){return t.field!==a.field})),field:i,syntheticEvent:t.syntheticEvent})}}}))}})),I=n(15),T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(){return(D=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e}(C({inputComponent:function(t){return o.createElement(I.DatePicker,D({},t))},operatorComponent:function(t){return o.createElement(d.DropDownList,D({},t))},emptyFilter:{operator:"eq",value:null}})),A=n(11),j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=function(){return(M=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j(e,t),e}(C({inputComponent:function(t){return o.createElement(A.NumericTextBox,M({},t))},operatorComponent:function(t){return o.createElement(d.DropDownList,M({},t))},emptyFilter:{operator:"eq",value:null}})),N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(){return(F=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N(e,t),e}(C({inputComponent:function(t){return o.createElement(A.Input,F({},t))},operatorComponent:function(t){return o.createElement(d.DropDownList,F({},t))},emptyFilter:{operator:"contains",value:""}})),z={filterable:!0,editable:!0,sortable:!0,resizable:!0,reorderable:!0,groupable:!0},B="data-keyboardnavlevel",V="data-keyboardnavscope",H="data-keyboardnavheader",U="data-keyboardnavbody",W="data-keyboardnavid",q="data-keyboardnavzone",K="_filter",G=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Y=G.concat(["[tabindex]"]),X=G.concat(["[tabindex]"]).map((function(t){return t+':not([tabindex="-1"])'})),$=((b={})[V]=!0,b),Z=((x={})[H]=!0,x),J=((w={})[U]=!0,w),Q=o.createContext(void 0);Q.displayName="KendoReactTableKeyboardNavigationContext";var tt=function(t,e){var n,r=o.useContext(Q);return r&&t&&!1!==e?((n={tabIndex:r&&r.activeId&&r.activeId===t?0:-1})[B]=r.level,n[W]=t,n):{}},et=function(){return(et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},nt=function(t){var e=t.ariaSort,n=t.colSpan,r=t.rowSpan,i=t.className,a=t.style,s=t.columnId,l=t.onKeyDown,c=t.navigatable,u=t.ariaColumnIndex,p=t.ariaLabel,h=t.role,d=t.ariaSelected,f=tt(s,c);return o.createElement("th",et({"aria-sort":e,"aria-label":p,"aria-colindex":u,"aria-selected":d,colSpan:n,rowSpan:r,className:i,style:a,onKeyDown:l,role:h},f),t.children)};nt.displayName="KendoReactHeaderThElement";var rt=function(t,e,n){return void 0===n&&(n="cell"),e+"_"+t+"_"+n},ot=function(t){if(t){var e=t.getAttribute(W);return e||void 0}},it=function(t){if(!t)return!1;var e=t.getAttribute(W);return Boolean(e)},at=function(t){return t.querySelector("["+H+"]")},st=function(t){return t.querySelector("["+U+"]")},lt=function(t,e,n,r,o){if(!n)return[];for(var i=t+(o?-1:1);i>=0&&i<r.length;){var a=r[i][e];if(a!==n)return[a,[i,e]];i+=o?-1:1}return[]},ct=function(t,e,n,r,o){if(!n)return[];for(var i=e+(o?-1:1);i>=0&&i<r[t].length;){var a=r[t][i];if(a!==n)return[a,[t,i]];i+=o?-1:1}return[]},ut=function(t,e){if(e)for(var n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++)if(t[n][r]===e)return[n,r]},pt=function(t){return t?""+t+K:""},ht={generateNavigatableId:rt,getNavigatableId:ot,getNavigatableLevel:function(t){if(t)return parseInt(t.getAttribute(B)||"",10)},getNavigatableElement:function(t,e){return void 0===e&&(e={level:0}),t.querySelector("["+B+"='"+e.level+"']")},getClosestNavigatableElement:function(t){return t.parentElement&&t.parentElement.closest("["+B+"]")},getActiveElement:function(t,e){return t.querySelector("["+W+"='"+e+"']")},getClosestScope:function(t){return t.parentElement&&t.parentElement.closest("["+V+"]")},getHeaderElement:at,getBodyElement:st,getFocusableElements:function(t,e){void 0===e&&(e={focusable:!1});var n=e.focusable?Y:X;return Array.from(t.querySelectorAll(n.join(",")))},getNavigatableElements:function(t,e){if(void 0===e&&(e={level:0}),!t)return[];var n=Y.map((function(t){return t+"["+B+"='"+e.level+"']"})).join(",");return Array.from(t.querySelectorAll(n))},filterNavigatableElements:function(t){void 0===t&&(t={level:0});var e=Y.map((function(e){return e+"["+B+"='"+t.level+"']"})).join(",");return function(t){return t.matches(e)}},focusElement:function(t){var e=t.elementForFocus,n=t.event,r=t.contextStateRef,o=t.prevElement;r.current&&e&&e.focus&&(n.preventDefault(),e.focus(),it(e)&&(e.setAttribute("tabIndex","0"),r.current.activeId=ot(e)),o&&it(o)&&o.setAttribute("tabIndex","-1"))},getIdPrefix:function(t){return t.current?t.current.idPrefix:""},isNavigatable:it,findNextIdByRowIndex:lt,findNextIdByCellIndex:ct,findId:ut,getNextNavigationIndex:function(t){return t.current?t.current.navigationMatrix.length:0},getFilterColumnId:pt},dt="k-filter-row",ft=function(t,e,n){var r=n?"k-grid-header-sticky":"";return t.some((function(t){return t.field===e}))&&(r+=" k-sorted"),r},mt=function(t){var e=t.columns,n=t.filter,r=t.filterChange,i=t.sort,a=void 0===i?[]:i,s=t.ariaRowIndex,l=Object(c.useLocalization)();return o.createElement("tr",{className:dt,"aria-rowindex":s,role:"row"},e.map((function(t,e){var i=void 0!==t.locked?{left:t.left,right:t.right,borderRightWidth:t.rightBorder?"1px":""}:{},s=t.filterCell||t.filter;return o.createElement(nt,{columnId:pt(t.id),navigatable:t.navigatable,style:i,key:e,ariaColumnIndex:t.ariaColumnIndex,ariaLabel:s?l.toLanguageString("filter.ariaLabel",u["filter.ariaLabel"]):void 0,className:ft(a,t.field,t.locked)},s&&o.createElement(s,{field:t.field,filter:n,onFilterChange:r}))})))};function vt(t,e){for(var n=t[e].depth,r=null,o=e+1;o<t.length;o++)if(t[o].depth===n){r=t[o];break}return r}function gt(t){for(var e=[[]],n=0,r=t.length-1;r>=0;r--)n=Math.max(n,t[r].depth),t[r].colSpan=t[r].colSpan||1,-1!==t[r].parentIndex&&(t[t[r].parentIndex].colSpan=(t[t[r].parentIndex].colSpan||0)+t[r].colSpan);var o=[],i=1;t.forEach((function(t,r){e[t.depth]=e[t.depth]||[];var a=!1;0===e[t.depth].length&&(i<=1?i=1+(t.children.length>0?0:n-t.depth):(i--,a=!0)),t.rowSpan=1+(t.children.length>0?0:n-t.depth),t.kFirst=a,t.index=e[t.depth].length,e[t.depth].push(r),t.ariaColumnIndex=o[t.depth]?o[t.depth]+1:1;for(var s=t.depth;s<t.depth+t.rowSpan;s++)o[s]=(o[s]||0)+t.colSpan}));var a=new Array(e.length).fill(0),s=0;t.forEach((function(t){if(t.locked)if(t.left=a[t.depth],s=t.width?parseFloat(t.width.toString()):0,0===t.children.length)for(var e=t.depth;e<a.length;e++)a[e]+=s;else a[t.depth]+=s}));for(var l=new Array(e.length).fill(0),c=t.length-1;c>=0;c--){var u=t[c];if(u.locked){if(u.right=l[u.depth],s=u.width?parseFloat(u.width.toString()):0,0===u.children.length)for(var p=u.depth;p<l.length;p++)l[p]+=s;else l[u.depth]+=s;var h=vt(t,c);u.rightBorder=!(h&&h.locked)}}return e}function yt(t,e,n){void 0===n&&(n=0);var r=[];if(!t||!t.length)return[];t.forEach((function(t){var o=yt(t.children||[],e,n+1);r.push(Object.assign({},{depth:n},z,t,{id:t.id?t.id:rt(""+e.prevId++,e.idPrefix,"column"),declarationIndex:r.length,children:o,rowSpan:0,colSpan:0,isAccessible:!0}))}));if(r.sort((function(t,e){return t.orderIndex===e.orderIndex?t.declarationIndex-e.declarationIndex:(t.orderIndex||0)-(e.orderIndex||0)})),0===n){var o=[],i=function(t,e){return t.forEach((function(t){t.parentIndex=e,i(t.children,o.push(t)-1)}))};return i(r,-1),o}return r}function bt(t){return Boolean(t&&"rtl"===getComputedStyle(t).direction)}function xt(t,e){if(!e||!t||!t.originalEvent)return-1;for(var n=e.ownerDocument?e.ownerDocument.elementFromPoint(t.clientX,t.originalEvent.clientY):null;n&&n.parentElement!==e;)n=n.parentElement;for(var r=e.children,o=0;o<r.length;o++)if(r[o]===n)return o;return-1}var wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kt=function(){return(kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ot=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.element=null,e}return wt(e,t),e.prototype.componentDidMount=function(){var t=this.props.columnResize;t&&t.resizable&&t.setIsRtl(bt(this.element))},e.prototype.render=function(){var t=this;return o.createElement("thead",kt({className:"k-grid-header",role:"presentation",ref:function(e){return t.element=e}},Z),this.props.headerRow,this.props.filterRow)},e}(o.Component),Ct=function(){return(Ct=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function _t(t){var e=t.onClick?{onClick:t.onClick}:{},n=o.createElement("span",Ct({className:"k-link"},e),t.title||t.field||"",t.children);return t.render?t.render.call(void 0,n,t):n}var St=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign.apply(Object,[{allowUnsort:!0,mode:"single"}].concat(t))},Et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),It=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onDrag=function(t){var n=e.draggable&&e.draggable.element;n&&e.props.resize(t.event,n,!1)},e.onRelease=function(t){var n=e.draggable&&e.draggable.element;n&&e.props.resize(t.event,n,!0)},e}return Et(e,t),e.prototype.render=function(){var t=this;return o.createElement(a.b,{onDrag:this.onDrag,onRelease:this.onRelease,ref:function(e){t.draggable=e}},o.createElement("span",{className:"k-column-resizer",draggable:!1}))},e}(o.PureComponent),Tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onPress=function(t){var n=e.draggable&&e.draggable.element;n&&e.props.pressHandler&&e.props.pressHandler(t.event,n)},e.onDrag=function(t){var n=e.draggable&&e.draggable.element;n&&e.props.dragHandler&&e.props.dragHandler(t.event,n)},e.onRelease=function(t){e.draggable&&e.draggable.element&&e.props.releaseHandler&&e.props.releaseHandler(t.event)},e}return Tt(e,t),e.prototype.render=function(){var t=this;return o.createElement(a.b,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease,ref:function(e){t.draggable=e}},o.createElement("tr",{"aria-rowindex":this.props.ariaRowIndex,role:"row"},this.props.children))},e}(o.PureComponent),Pt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),At=function(){return(At=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},jt={true:{asc:"desc",desc:"","":"asc"},false:{asc:"desc",desc:"asc","":"asc"}},Mt={none:"none",asc:"ascending",desc:"descending"},Rt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellClick=function(t,n){if(t.preventDefault(),e.props.sortChange){var r=St(e.props.sortable||!1,n.sortable||!1),o=r.allowUnsort,i=r.mode,a=(e.props.sort||[]).filter((function(t){return t.field===n.field}))[0],s=jt[o][a&&a.dir||""],l="single"===i?[]:(e.props.sort||[]).filter((function(t){return t.field!==n.field}));""!==s&&n.field&&l.push({field:n.field,dir:s}),e.props.sortChange(t,l,n.field)}},e.cellKeyDown=function(t,n){t.isDefaultPrevented()||t.keyCode===a.d.enter&&e.cellClick(t,n)},e.cells=function(t){return t.map((function(t,n){var r=e.props.columns[t],i=e.props.columnResize,a=i&&i.resizable&&r.resizable,s=e.props.sortable&&r.sortable,l=e.props.sort?e.props.sort.findIndex((function(t){return t.field===r.field})):-1,c=l>=0&&e.props.sort[l].dir||"none",u={field:r.field,onClick:s&&function(t){return e.cellClick(t,r)}||void 0,selectionChange:e.props.selectionChange,title:r.title,selectionValue:r.headerSelectionValue,render:e.props.cellRender,children:e.sortIcon(l,s)},p=(r.kFirst?"k-first ":"")+e.cellClass(r.field,r.headerClassName,r.locked),h=void 0!==r.locked?{left:r.left,right:r.right,borderRightWidth:r.rightBorder?"1px":""}:{},d=r.columnMenu||e.props.columnMenu,f=r.isAccessible?{ariaSort:s?Mt[c]:void 0,role:"columnheader",ariaColumnIndex:r.ariaColumnIndex,ariaSelected:!1}:{role:"presentation"};return o.createElement(nt,At({key:n,colSpan:r.colSpan,rowSpan:r.rowSpan,className:p,style:h,columnId:r.id,navigatable:r.navigatable,onKeyDown:s&&function(t){return e.cellKeyDown(t,r)}||void 0},f),d&&o.createElement(d,{sort:e.props.sort,onSortChange:e.props.sortChange,filter:e.props.columnMenuFilter,onFilterChange:e.props.columnMenuFilterChange,field:r.field}),r.headerCell&&o.createElement(r.headerCell,At({},u))||o.createElement(_t,At({},u)),a&&i&&o.createElement(It,{key:"ColumnResizer",resize:function(t,e,n){return i.dragHandler(t,r,e,n)}}))}))},e}return Pt(e,t),e.prototype.cellClass=function(t,e,n){var r="k-header"+(n?" k-grid-header-sticky":"")+(e?" "+e:"");return this.props.sort&&this.props.sort.some((function(e){return e.field===t}))&&(r+=" k-sorted"),r},e.prototype.sortIcon=function(t,e){if(!this.props.sort)return null;var n=Object(c.provideLocalizationService)(this).toLanguageString("sort.ariaLabel",u["sort.ariaLabel"]);return t>=0?[o.createElement("span",{key:1,"aria-label":n,className:"k-icon k-i-sort-"+this.props.sort[t].dir+"-sm"}),this.props.sort.length>1&&o.createElement("span",{key:2,className:"k-sort-order"},t+1)]:e&&o.createElement("span",{"aria-label":n})},e.prototype.render=function(){var t=this;return this.props.columnsMap.map((function(e,n){return t.props.pressHandler&&o.createElement(Dt,{key:n,pressHandler:t.props.pressHandler,dragHandler:t.props.dragHandler,releaseHandler:t.props.releaseHandler,ariaRowIndex:n+1},t.cells(e))||o.createElement("tr",{"aria-rowindex":n+1,role:"row"},t.cells(e))}))},e}(o.Component);function Nt(t){var e=[o.createElement("input",{key:0,checked:t.selectionValue,id:t.inputId,type:"checkbox",className:"k-checkbox",onChange:function(e){return t.selectionChange({field:t.field,syntheticEvent:e})}}),o.createElement("label",{key:1,className:"k-checkbox-label",htmlFor:t.inputId})];return t.render?t.render.call(void 0,e,t):e}function Ft(t){var e=t.enabled,n=t.columns,r=void 0===n?[]:n,o=t.tableViewPortWidth,i=t.scrollLeft,a=r.map((function(){return 1})),s=r.map((function(){return!1}));if(!e)return{colSpans:a,hiddenColumns:s};for(var l=r.map((function(t){return parseFloat((t.width||"").toString())||10})),c=0,u=0;u<r.length;u++)if(!r[u].locked){var p=u<l.length-1?l[u+1]:0;if(!(c+l[u]+p<i))break;s[u]=!0,c+=l[u]}var h=l.reduce((function(t,e){return t+e}),0);c=0;for(u=r.length-1;u>=0;u--)if(!r[u].locked){if(!(c+2*l[u]<h-o-i))break;s[u]=!0,c+=l[u]}for(var d,f,m=s.slice(),v=function(t){return t},g=m.lastIndexOf(!1),y=m.some(v),b=m.every(v);y&&m.length&&(-1!==g||b);){for(g<m.length-1&&(d=b?m.length:m.length-g-1,0===(f=m.length-d)&&(f=d-1),s[f]=!1,a[f]=d,m.splice(g+1,d));m.length&&!m[m.length-1];)m.pop();g=m.lastIndexOf(!1),y=m.some(v),b=m.every(v)}return{colSpans:a,hiddenColumns:s}}Object(c.registerForLocalization)(Rt);var Lt=function(){function t(t){var e=this;this.resizable=!1,this.isRtl=!1,this.setIsRtl=function(t){e.isRtl=t},this.onResize=t,this.dragHandler=this.dragHandler.bind(this)}return t.prototype.dragHandler=function(t,e,n,r){var o=t.originalEvent;r||(o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation());var i=n.parentElement;if(i&&i.parentElement){var a,s=i.clientWidth;if(this.isRtl?(a=n.getBoundingClientRect().right-n.offsetWidth/2-t.clientX,a+=s):a=s+t.clientX-n.getBoundingClientRect().left-n.offsetWidth/2,r||!(Math.abs(a-s)<1)){this.setWidths(e,Math.floor(a)/s);var l=this.columns.filter((function(t){return!t.children.length})).indexOf(e);this.onResize(l,s,a,o,r)}}},t.prototype.setWidths=function(t,e){for(var n=this.columns.indexOf(t),r=[],o=t.children.length,i=n+1;o>0&&i<this.columns.length;i++,o--){var a=this.columns[i];a.children.length?o+=a.children.length:r.push(a)}0===r.length&&r.push(t),r.forEach((function(t){var n=t.width?parseFloat(t.width.toString())*e:0,r=void 0===t.minResizableWidth?10:t.minResizableWidth;n<r&&(n=r),t.width=Math.floor(n)})),this.updateColElements(r)},t.prototype.updateColElements=function(t){for(var e=this.columns.filter((function(t){return!t.children.length})),n=1e-10,r=0;r<t.length;r++){var o=e.indexOf(t[r]),i=parseFloat((t[r].width||0).toString());n+=i-Math.floor(i);var a=Math.floor(i)+Math.floor(n);n-=Math.floor(n),this.setColWidth(this.colGroupMain&&this.colGroupMain.children[o],a),this.setColWidth(this.colGroupHeader&&this.colGroupHeader.children[o],a),this.setColWidth(this.colGroupFooter&&this.colGroupFooter.children[o],a)}},t.prototype.setColWidth=function(t,e){t&&(t.style.width=e+"px")},t}(),zt=function(){function t(t,e,n){var r=this;this.reorderable=!1,this.groupable=!1,this.startColumn=-1,this.startGroup=-1,this.currentColumn=-1,this.currentGroup=-1,this.dropElementClue=null,this.dragElementClue=null,this.groupPanelDivElement=null,this.refGroupPanelDiv=function(t){r.groupPanelDivElement=t},this.refDropElementClue=function(t){r.dropElementClue=t},this.refDragElementClue=function(t){r.dragElementClue=t},this.pressHandler=function(t,e){t.isTouch||t.originalEvent.preventDefault();var n=r.getColumnIndex(t,e);if(r.startGroup=r.getGroupIndex(t),n>=0){var o=r.columns[n];(o.reorderable&&r.reorderable||o.groupable&&r.groupable)&&(r.startColumn=n)}},this.dragHandler=function(t,e){if(t.isTouch||t.originalEvent.preventDefault(),t.originalEvent.stopPropagation(),-1!==r.startColumn||-1!==r.startGroup){r.currentColumn=r.getColumnIndex(t,e),r.currentGroup=r.getGroupIndex(t),r.groupPanelDivElement&&r.startGroup>=0&&(r.currentGroup=Math.min(r.currentGroup,r.groupPanelDivElement.children.length-2));var n=!r.isValid();n&&(r.currentColumn=-1,r.currentGroup=-1);var o=r.currentColumn>=0?e.children[r.columns[r.currentColumn].index]:r.groupPanelDivElement&&r.groupPanelDivElement.children[r.currentGroup];r.updateDragElementClue(t,e,o,n),r.updateDropElementClue(t,e,o,n)}},this.releaseHandler=function(t){var e=r.startColumn,n=r.currentColumn,o=r.startGroup,i=r.currentGroup;r.dropElementClue&&r.dropElementClue.setState({visible:!1}),r.dragElementClue&&r.dragElementClue.setState({visible:!1});var a=r.isValid();r.startColumn=r.startGroup=r.currentColumn=r.currentGroup=-1,a&&(e>=0&&n>=0?r.columnReorder(e,n,t.originalEvent):o>=0&&i>=0?r.groupReorder(o,i,t.originalEvent):e>=0&&i>=0&&r.columnToGroup(e,i,t.originalEvent))},this.columnReorder=t,this.groupReorder=e,this.columnToGroup=n}return t.prototype.getColumnIndex=function(t,e){if(!e||e.parentElement===this.groupPanelDivElement)return-1;var n=xt(t,e);if(-1===n)return-1;for(var r=function(t){if(e.parentNode.children[t]===e)return{value:o.columns.findIndex((function(e){return e.index===n&&e.depth===t}))}},o=this,i=0;i<e.parentNode.children.length;i++){var a=r(i);if("object"==typeof a)return a.value}return-1},t.prototype.getGroupIndex=function(t){return xt(t,this.groupPanelDivElement)},t.prototype.isValid=function(){return this.startGroup>=0?this.currentGroup>=0&&this.currentGroup!==this.startGroup:-1!==this.startColumn&&(this.currentGroup>=0?!0===this.columns[this.startColumn].groupable&&!0===this.groupable:!0===this.reorderable&&this.currentColumn>=0&&this.currentColumn!==this.startColumn&&!0===this.columns[this.startColumn].reorderable&&this.columns[this.currentColumn].parentIndex===this.columns[this.startColumn].parentIndex)},t.prototype.updateDragElementClue=function(t,e,n,r){if(this.dragElementClue){var o=this.startColumn>=0?e.children[this.columns[this.startColumn].index].innerText:e.innerText;this.dragElementClue.setState({visible:!0,top:t.pageY+10,left:t.pageX,innerText:o,status:r||!n?"k-i-cancel":"k-i-add"})}},t.prototype.updateDropElementClue=function(t,e,n,r){if(this.dropElementClue)if(!r&&n){var o=n.getBoundingClientRect(),i=o.left+t.pageX-t.clientX-6;(this.currentColumn>this.startColumn||this.currentGroup>this.startGroup&&-1!==this.startGroup)&&(i+=o.width);var a=o.top+t.pageY-t.clientY;this.dropElementClue.setState({visible:!0,top:a,left:i,height:this.currentColumn>=0?e.clientHeight:o.height})}else this.dropElementClue.setState({visible:!1})},t}(),Bt=n(12),Vt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ht=function(t){function e(e){var n=t.call(this,e)||this;return n.state={visible:!1,top:0,left:0,innerText:"",status:"k-i-cancel"},n.hiddenElementRef=o.createRef(),n}return Vt(e,t),e.prototype.render=function(){var t=this.hiddenElementRef.current,e=this.state.visible&&a.e&&Object(Bt.createPortal)(o.createElement("div",{className:"k-header k-drag-clue",style:{display:"block",position:"absolute",zIndex:2e4,padding:"8px 12px",top:this.state.top+"px",left:this.state.left+"px"}},o.createElement("span",{className:"k-icon k-drag-status "+this.state.status+" k-icon-with-modifier"},o.createElement("span",{className:"k-icon k-icon-modifier"})),this.state.innerText),t&&t.ownerDocument?t.ownerDocument.body:document.body);return o.createElement(o.Fragment,null,e,o.createElement("div",{ref:this.hiddenElementRef,style:{display:"none"}}))},e}(o.PureComponent),Ut=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wt=function(t){function e(e){var n=t.call(this,e)||this;return n.state={height:0,visible:!1,left:0,top:0},n.hiddenElementRef=o.createRef(),n}return Ut(e,t),e.prototype.render=function(){var t=this.hiddenElementRef.current,e=this.state.visible&&a.e&&Object(Bt.createPortal)(o.createElement("div",{className:"k-grouping-dropclue",style:{zIndex:1e4,display:"block",top:this.state.top+"px",left:this.state.left+"px",height:this.state.height+"px"}}),t&&t.ownerDocument?t.ownerDocument.body:document.body);return o.createElement(o.Fragment,null,e,o.createElement("div",{ref:this.hiddenElementRef,style:{display:"none"}}))},e}(o.PureComponent),qt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kt=function(){return(Kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onChange=function(t){e.props.onFilterChange.call(void 0,{nextFilter:Kt({},e.props.filter,{value:t.value})})},e}return qt(e,t),e.prototype.render=function(){return o.createElement(A.Input,{value:this.props.filter.value||"",onChange:this.onChange})},e.propTypes={filter:i.object.isRequired,onFilterChange:i.func.isRequired},e}(o.Component),Yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xt=function(){return(Xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},$t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onChange=function(t){e.props.onFilterChange.call(void 0,{nextFilter:Xt({},e.props.filter,{value:t.value})})},e}return Yt(e,t),e.prototype.render=function(){var t=this.props.filter;return o.createElement(A.NumericTextBox,{value:"number"==typeof t.value?t.value:null,onChange:this.onChange})},e.propTypes={filter:i.object.isRequired,onFilterChange:i.func.isRequired},e}(o.Component),Zt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jt=function(){return(Jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onChange=function(t){e.props.onFilterChange.call(void 0,{nextFilter:Jt({},e.props.filter,{value:t.value})})},e}return Zt(e,t),e.prototype.render=function(){var t=this.props.filter;return o.createElement(I.DatePicker,{value:t.value||null,onChange:this.onChange})},e.propTypes={filter:i.object.isRequired,onFilterChange:i.func.isRequired},e}(o.Component),te=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(){return(ee=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onChange=function(t){e.props.onFilterChange.call(void 0,{nextFilter:ee({},e.props.filter,{value:t.value.value})})},e}return te(e,t),e.prototype.render=function(){var t=Object(c.provideLocalizationService)(this),e=this.props,n=e.filter,r=e.data,i=void 0===r?[]:r,a=e.defaultItem,s=i.map((function(e){return ee({},e,{text:t.toLanguageString(e.text,u[e.text]||e.text)})}));return o.createElement(d.DropDownList,{value:s.find((function(t){return t.value===n.value}))||null,onChange:this.onChange,defaultItem:a,data:s,textField:"text"})},e.propTypes={filter:i.object.isRequired,onFilterChange:i.func.isRequired,data:i.arrayOf(i.shape({text:i.string,value:i.any})),defaultItem:i.any},e}(o.Component);Object(c.registerForLocalization)(ne);var re=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=[{text:"filter.isTrue",value:!0},{text:"filter.isFalse",value:!1}],e}return re(e,t),e.prototype.render=function(){return o.createElement(ne,{filter:this.props.filter,onFilterChange:this.props.onFilterChange,data:this.props.data||this.data,defaultItem:this.props.defaultItem})},e.propTypes={filter:i.object.isRequired,onFilterChange:i.func.isRequired,data:i.arrayOf(i.shape({text:i.string,value:i.any})),defaultItem:i.any},e}(o.Component),ie=n(7),ae=[{text:"filter.containsOperator",operator:"contains"},{text:"filter.notContainsOperator",operator:"doesnotcontain"},{text:"filter.eqOperator",operator:"eq"},{text:"filter.notEqOperator",operator:"neq"},{text:"filter.startsWithOperator",operator:"startswith"},{text:"filter.endsWithOperator",operator:"endswith"},{text:"filter.isNullOperator",operator:"isnull"},{text:"filter.isNotNullOperator",operator:"isnotnull"},{text:"filter.isEmptyOperator",operator:"isempty"},{text:"filter.isNotEmptyOperator",operator:"isnotempty"}],se=[{text:"filter.eqOperator",operator:"eq"},{text:"filter.notEqOperator",operator:"neq"},{text:"filter.gteOperator",operator:"gte"},{text:"filter.gtOperator",operator:"gt"},{text:"filter.lteOperator",operator:"lte"},{text:"filter.ltOperator",operator:"lt"},{text:"filter.isNullOperator",operator:"isnull"},{text:"filter.isNotNullOperator",operator:"isnotnull"}],le=[{text:"filter.eqOperator",operator:"eq"},{text:"filter.notEqOperator",operator:"neq"},{text:"filter.afterOrEqualOperator",operator:"gte"},{text:"filter.afterOperator",operator:"gt"},{text:"filter.beforeOperator",operator:"lt"},{text:"filter.beforeOrEqualOperator",operator:"lte"},{text:"filter.isNullOperator",operator:"isnull"},{text:"filter.isNotNullOperator",operator:"isnotnull"}],ce=[{text:"filter.eqOperator",operator:"eq"},{text:"filter.notEqOperator",operator:"neq"}],ue=function(){function t(){}return Object.defineProperty(t,"text",{get:function(){return ae.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numeric",{get:function(){return se.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"date",{get:function(){return le.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"boolean",{get:function(){return ce.slice()},enumerable:!0,configurable:!0}),t}(),pe=function(t){return"contains"===t||"doesnotcontain"===t||"startswith"===t||"endswith"===t},he=function(t){return"isnull"===t||"isnotnull"===t||"isempty"===t||"isnotempty"===t},de=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fe=function(){return(fe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},me=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onFieldChange=function(t){var n=t.value.name,r=e.props.fields.find((function(t){return t.name===n})),o=e.props.filter,i=r&&!r.operators.some((function(t){return t.operator===o.operator}))?r.operators[0].operator:o.operator,a={field:n,operator:i};he(i)||(a.value=pe(i)?"":null),e.triggerOnFilterChange(o,a,t)},e.onOperatorChange=function(t){var n,r=t.value.operator,o=e.props.filter;if(he(r)){o.value;var i=me(o,["value"]);n=fe({},i,{operator:r})}else n=fe({},o,{operator:r});e.triggerOnFilterChange(o,n,t)},e.onInputChange=function(t){var n=e.props.filter,r=t.nextFilter;if(he(r.operator)){var o=e.props.fields.find((function(t){return t.name===r.field}));r=fe({},r,{operator:o&&o.operators[0].operator||r.operator})}e.triggerOnFilterChange(n,r,t)},e.triggerOnFilterChange=function(t,n,r){var o={prevFilter:t,nextFilter:n,syntheticEvent:r.syntheticEvent,nativeEvent:r.nativeEvent,target:e};e.props.onChange.call(void 0,o)},e.onFilterRemove=function(t){var n={filter:e.props.filter,syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,target:e};e.props.onRemove.call(void 0,n)},e}return de(e,t),e.prototype.render=function(){var t=this.props,e=t.fields,n=t.filter,r=e.find((function(t){return t.name===n.field})),i=Object(c.provideLocalizationService)(this),a=(r&&r.operators||[]).map((function(t){return fe({},t,{text:i.toLanguageString(t.text,u[t.text]||t.text)})}));return o.createElement("div",{className:"k-filter-toolbar"},o.createElement(ie.Toolbar,{keyboardNavigation:!1},o.createElement(ie.ToolbarItem,{className:"k-filter-field"},o.createElement(d.DropDownList,{className:"k-filter-dropdown",data:e,textField:"label",value:e.find((function(t){return t.name===n.field})),onChange:this.onFieldChange})),o.createElement(ie.ToolbarItem,{className:"k-filter-operator"},o.createElement(d.DropDownList,{data:a,textField:"text",value:a.find((function(t){return t.operator===n.operator})),onChange:this.onOperatorChange})),o.createElement(ie.ToolbarItem,{className:"k-filter-value"},r&&o.createElement(r.filter,{filter:n,onFilterChange:this.onInputChange})),o.createElement(ie.ToolbarItem,null,o.createElement(ie.Button,{title:i.toLanguageString("filter.close",u["filter.close"]),icon:"close",look:"flat",type:"button",onClick:this.onFilterRemove}))))},e.propTypes={filter:i.object.isRequired,fields:i.array.isRequired,onChange:i.func.isRequired,onRemove:i.func.isRequired},e}(o.Component);Object(c.registerForLocalization)(ve);var ge=function(t){return null!=t},ye=function(t){return null==t},be=function(t){return Array.isArray(t)},xe=function(t){return"function"==typeof t},we=function(t){return"string"==typeof t},ke=function(t){return!function(t){return ye(t)||0===t.trim().length}(t)},Oe=function(t){return!isNaN(t-parseFloat(t))},Ce=function(t){return t&&t.getTime},_e=function(t){return ge(t.filters)};var Se,Ee=function(t,e,n){return function(r){return t(r)?e(r):n(r)}},Ie=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduceRight((function(t,e){return e(t)}),e)}},Te=function(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},De=function(t){return Ce(t.value)},Pe=function(t){t.filters&&(t.filters=t.filters.map((function(t){var e,n=Object.assign({},t);return!_e(t)&&we(t.operator)&&(n.operator={"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[(e=t.operator).toLowerCase()]||e),_e(t)&&Pe(n),n})))},Ae=function(t){return ge(t)&&(t=function(t){return _e(t)?Object.assign({},t):{filters:be(t)?t:[t],logic:"and"}}(t),Pe(t)),t},je=(Se="",{}),Me=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;je[void 0]=function(t){return t};var Re,Ne=function(t,e){var n=t+e;if(je[n])return je[n];var r=[];return t.replace(Me,(function(t,e,n,o){r.push(ge(e)?e:n||o)})),je[n]=function(t){for(var n=t,o=0;o<r.length;o++)if(n=n[r[o]],!ge(n)&&e)return n;return n},je[n]},Fe=function(t){return function(e){return[t,e]}},Le=function(){return null},ze=function(t){return function(e){return ge(t(e))}},Be=function(t){return function(e){return function(t){return ge(t)&&be(t)&&t.length>0}(t(e))}},Ve=function(t,e){return Ee(t,e,Le)},He=function(t,e){return function(n){return t(n).map(e).join("~")}},Ue=Ie.apply(void 0,[['"',""],[":","-"]].map((function(t){var e=t[0],n=t[1];return function(t){return t.replace(new RegExp(e,"g"),n)}}))),We=(Re=".",function(t){return t.slice(0,t.indexOf(Re))}),qe=function(t){var e=t.field,n=t.dir;return e+"-"+(void 0===n?"asc":n)},Ke=Ne("take"),Ge=Ne("aggregates"),Ye=Ne("skip"),Xe=Ne("group"),$e=Ne("sort",!0),Ze=He($e,qe),Je=He(Xe,qe),Qe=He(Ge,(function(t){return t.field+"-"+t.aggregate})),tn=Ie((function(t){return"datetime'"+t+"'"}),We,Ue,JSON.stringify,Te),en=Ie(Fe("page"),(function(t){var e=t.skip,n=t.take;return Math.floor((e||0)/n)+1})),nn=Ie(Fe("pageSize"),Ke),rn=Ie(Fe("group"),Je),on=Ie(Fe("sort"),Ze),an=Ie(Fe("aggregate"),Qe),sn=(Ve(ze(Ye),en),Ve(ze(Ke),nn),Ve(Be(Xe),rn),Ve(ze(Ge),an),Ie(Ve(Be($e),on),(function(t){return Object.assign({},t,{sort:($e(t)||[]).filter((function(t){var e=t.dir;return ke(e)}))})})),function(t){return t.field+"~"+t.operator+"~"+t.value}),ln=(Ee(De,Ie(sn,(function(t){var e=t.field,n=t.value,r=t.ignoreCase,o=t.operator;return{value:tn(n),field:e,ignoreCase:r,operator:o}})),sn),function(t,e,n){return e[t]=n,e}),cn=function(t){return function(e){var n,r=e[t];return ge(r)?r:e[(n=t,n.replace(/(^[A-Z])/g,(function(t,e){return e.toLowerCase()})))]}},un=(cn("Member"),cn("AggregateMethodName"),cn("Value"),function(t){return function(e){return Object.keys(e).reduce(t.bind(null,e),{})}}),pn=un((function(t,e,n){return ln(n.toLowerCase(),e,t[n])})),hn=un((function(t,e,n){return ln(n,e,pn(t[n]))})),dn=function(t,e){return ge(t)?t:e},fn=Ie((function(t){var e=t.field,n=t.hasSubgroups,r=t.value,o=t.aggregates,i=t.items;return{aggregates:hn(o),field:e,items:n?i.map(fn):i,value:r}}),(function(t){return{aggregates:t.Aggregates||t.aggregates,field:t.Member||t.member||t.field,hasSubgroups:t.HasSubgroups||t.hasSubgroups||!1,items:t.Items||t.items,value:dn(t.Key,dn(t.key,t.value))}})),mn=function(t,e){return ye(t)?t===e?0:-1:ye(e)?1:t.localeCompare?t.localeCompare(e):t>e?1:t<e?-1:0},vn=function(t,e){return mn(e,t)},gn=function(t){var e=Ne(t.field,!0);return function(n,r){return("asc"===t.dir?mn:vn)(e(n),e(r))}},yn=function(t,e){return 0},bn=function(t){return function(e){return function(n,r,o){return e(n,t(r,o))}}},xn=(bn((function(t){return t})),{or:{concat:function(t,e){return function(n){return t(n)||e(n)}},identity:function(){return!1}},and:{concat:function(t,e){return function(n){return t(n)&&e(n)}},identity:function(){return!0}}}),wn={contains:function(t,e){return(t||"").indexOf(e)>=0},doesnotcontain:function(t,e){return-1===(t||"").indexOf(e)},doesnotendwith:function(t,e){return(t||"").indexOf(e,(t||"").length-(e||"").length)<0},doesnotstartwith:function(t,e){return-1===(t||"").lastIndexOf(e,0)},endswith:function(t,e){return(t||"").indexOf(e,(t||"").length-(e||"").length)>=0},eq:function(t,e){return t===e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e},isempty:function(t){return""===t},isnotempty:function(t){return""!==t},isnotnull:function(t){return ge(t)},isnull:function(t){return ye(t)},lt:function(t,e){return t<e},lte:function(t,e){return t<=e},neq:function(t,e){return t!=e},startswith:function(t,e){return 0===(t||"").lastIndexOf(e,0)}},kn=/^\/Date\((.*?)\)\/$/,On=function(t){var e=t.field,n=t.ignoreCase,r=t.value,o=t.operator;e=ge(e)?e:function(t){return t},n=!ge(n)||n;var i=function(t,e,n){if(!ge(e))return t;var r=t;if(we(e)){var o=kn.exec(e);o?e=new Date(+o[1]):r=function(e){var r=t(e);return"string"==typeof r&&n?r.toLowerCase():Oe(r)?r+"":r}}return Ce(e)?function(t){var e=r(t);return Ce(e)?e.getTime():e}:r}(xe(e)?e:Ne(e,!0),r,n);r=function(t,e){if(null!=t&&we(t)){var n=kn.exec(t);if(n)return new Date(+n[1]).getTime();if(e)return t.toLowerCase()}else if(null!=t&&Ce(t))return t.getTime();return t}(r,n);var a=xe(o)?o:wn[o];return function(t){return a(i(t),r,n)}},Cn=function(t){var e=xn[t.logic];return t.filters.filter(ge).map((function(t){return _e(t)?Cn(t):On(t)})).reduce(e.concat,e.identity)},_n=function(t){return t&&0!==t.filters.length?Cn(t):function(){return!0}},Sn=function(t,e){return!ge(e)||_e(e)&&0===e.filters.length?t:t.filter(_n(Ae(e)))},En=(bn((function(t){return t})),function(t,e,n,r){if(!(n-e<2)){var o=e+n>>>1;En(t,e,o,r),En(t,o,n,r),function(t,e,n,r,o){for(var i=n-e,a=r-n,s=[],l=0;l<i;l++)s.push(t[e+l]);var c=0,u=n,p=e;do{o(t[u],s[c])<0?(t[p++]=t[u++],a--):(t[p++]=s[c++],i--)}while(a>0&&i>0);for(;i;)t[p++]=s[c++],i--;for(;a;)t[p++]=t[u++],a--}(t,e,o,n,r)}}),In=function(t,e){if(e.some((function(t){return ge(t.dir)}))){t=t.slice(0);var n=function(t){return t.filter((function(t){return ge(t.dir)})).map((function(t){return gn(t)})).reduce((function(t,e){return function(n,r){return t(n,r)||e(n,r)}}),yn)}(e);En(t,0,t.length,n)}return t},Tn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dn=function(){return(Dn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Pn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onGroupRemove=function(){e.props.onRemove.call(void 0,{filter:e.props.filter})},e.onAddExpression=function(){var t=e.props.filter,n=e.props.fields[0],r={field:n.name,operator:n.operators[0].operator};r.value=pe(r.operator)?"":null,e.props.onChange.call(void 0,{nextFilter:Dn({},t,{filters:t.filters.concat([r])}),prevFilter:t})},e.onAddGroup=function(){var t=e.props.filter;e.props.onChange.call(void 0,{nextFilter:Dn({},t,{filters:t.filters.concat([Dn({},e.props.defaultGroupFilter)])}),prevFilter:t})},e.onLogicAnd=function(){return e.changeLogic("and")},e.onLogicOr=function(){return e.changeLogic("or")},e.changeLogic=function(t){var n=e.props.filter;n.logic!==t&&e.props.onChange.call(void 0,{nextFilter:Dn({},n,{logic:t}),prevFilter:n})},e.replaceFilter=function(t,n){var r=e.props.filter,o=r.filters.map((function(e){return e===t?n:e}));return Dn({},r,{filters:o})},e.onChange=function(t){var n={nextFilter:e.replaceFilter(t.prevFilter,t.nextFilter),prevFilter:e.props.filter,syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,target:e};e.props.onChange.call(void 0,n)},e.onRemove=function(t){var n=e.props.filter,r=n.filters.filter((function(e){return e!==t.filter})),o={nextFilter:Dn({},n,{filters:r}),prevFilter:n,syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,target:e};e.props.onChange.call(void 0,o)},e}return Tn(e,t),e.prototype.render=function(){var t=this,n=this.props,r=n.fields,i=n.filter,a=Object(c.provideLocalizationService)(this);return o.createElement(o.Fragment,null,o.createElement("div",{className:"k-filter-toolbar"},o.createElement(ie.Toolbar,{keyboardNavigation:!1},o.createElement(ie.ToolbarItem,null,o.createElement(ie.ButtonGroup,null,o.createElement(ie.Button,{togglable:!0,onClick:this.onLogicAnd,selected:"and"===i.logic,type:"button"},a.toLanguageString("filter.andLogic",u["filter.andLogic"])),o.createElement(ie.Button,{togglable:!0,onClick:this.onLogicOr,selected:"or"===i.logic,type:"button"},a.toLanguageString("filter.orLogic",u["filter.orLogic"])))),o.createElement(ie.ToolbarItem,null,o.createElement(ie.Button,{title:a.toLanguageString("filter.addExpression",u["filter.addExpression"]),icon:"filter-add-expression",type:"button",onClick:this.onAddExpression})),o.createElement(ie.ToolbarItem,null,o.createElement(ie.Button,{title:a.toLanguageString("filter.addGroup",u["filter.addGroup"]),icon:"filter-add-group",type:"button",onClick:this.onAddGroup})),o.createElement(ie.ToolbarItem,null,o.createElement(ie.Button,{title:a.toLanguageString("filter.close",u["filter.close"]),icon:"close",look:"flat",type:"button",onClick:this.onGroupRemove})))),i.filters.length>0&&o.createElement("ul",{className:"k-filter-lines"},i.filters.map((function(n,i){return o.createElement("li",{key:i,className:"k-filter-item"},_e(n)?o.createElement(e,{filter:n,fields:r,onChange:t.onChange,onRemove:t.onRemove,defaultGroupFilter:t.props.defaultGroupFilter}):o.createElement(ve,{filter:n,fields:r,onChange:t.onChange,onRemove:t.onRemove}))}))))},e.propTypes={filter:i.object.isRequired,fields:i.array.isRequired,onChange:i.func.isRequired,onRemove:i.func.isRequired,defaultGroupFilter:i.object.isRequired},e}(o.Component);Object(c.registerForLocalization)(Pn);var An=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jn=function(){return(jn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Mn=function(t){function e(e){var n=t.call(this,e)||this;return n.onFilterChange=function(t){var e={filter:t.nextFilter,syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,target:n};n.props.onChange.call(void 0,e)},n.onGroupRemove=function(t){var e={filter:jn({},n.props.value,{filters:[]}),syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,target:n};n.props.onChange.call(void 0,e)},Object(a.D)(v),n}return An(e,t),e.prototype.render=function(){return o.createElement("div",{className:"k-widget k-filter"+(this.props.className?" "+this.props.className:""),style:this.props.style},o.createElement("ul",{className:"k-filter-container"},o.createElement("li",{className:"k-filter-group-main"},o.createElement(Pn,{filter:this.props.value,fields:this.props.fields,onChange:this.onFilterChange,onRemove:this.onGroupRemove,defaultGroupFilter:this.props.defaultGroupFilter||{logic:"and",filters:[]}}))))},e.propTypes={className:i.string,style:i.object,fields:function(t,e){var n=t[e];return void 0===n?new Error("Property '"+e+"' is missing."):Array.isArray(n)?Object.keys(n.reduce((function(t,e){var n;return jn({},t,((n={})[e.name]=1,n))}),{})).length!==n.length?new Error("Property '"+e+"' needs to contain objects with unique 'name' field."):null:new Error("Property '"+e+"' needs to be Array<FieldSettings>.")},value:i.object.isRequired,onChange:i.func.isRequired},e}(o.Component),Rn=n(14),Nn=function(t){return o.createElement("div",{onClick:t.onClick,className:Object(a.g)("k-columnmenu-item",{"k-state-selected":t.selected},{"k-state-disabled":t.disabled})},t.iconClass&&o.createElement("span",{className:"k-icon "+t.iconClass}),t.title)},Fn=[{text:"columnMenu.filterContainsOperator",operator:"contains"},{text:"columnMenu.filterNotContainsOperator",operator:"doesnotcontain"},{text:"columnMenu.filterEqOperator",operator:"eq"},{text:"columnMenu.filterNotEqOperator",operator:"neq"},{text:"columnMenu.filterStartsWithOperator",operator:"startswith"},{text:"columnMenu.filterEndsWithOperator",operator:"endswith"},{text:"columnMenu.filterIsNullOperator",operator:"isnull"},{text:"columnMenu.filterIsNotNullOperator",operator:"isnotnull"},{text:"columnMenu.filterIsEmptyOperator",operator:"isempty"},{text:"columnMenu.filterIsNotEmptyOperator",operator:"isnotempty"}],Ln=[{text:"columnMenu.filterEqOperator",operator:"eq"},{text:"columnMenu.filterNotEqOperator",operator:"neq"},{text:"columnMenu.filterGteOperator",operator:"gte"},{text:"columnMenu.filterGtOperator",operator:"gt"},{text:"columnMenu.filterLteOperator",operator:"lte"},{text:"columnMenu.filterLtOperator",operator:"lt"},{text:"columnMenu.filterIsNullOperator",operator:"isnull"},{text:"columnMenu.filterIsNotNullOperator",operator:"isnotnull"}],zn=[{text:"columnMenu.filterEqOperator",operator:"eq"},{text:"columnMenu.filterNotEqOperator",operator:"neq"},{text:"columnMenu.filterAfterOrEqualOperator",operator:"gte"},{text:"columnMenu.filterAfterOperator",operator:"gt"},{text:"columnMenu.filterBeforeOperator",operator:"lt"},{text:"columnMenu.filterBeforeOrEqualOperator",operator:"lte"},{text:"columnMenu.filterIsNullOperator",operator:"isnull"},{text:"columnMenu.filterIsNotNullOperator",operator:"isnotnull"}],Bn=[{text:"columnMenu.filterIsTrue",operator:""}],Vn=function(){function t(){}return Object.defineProperty(t,"text",{get:function(){return Fn.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numeric",{get:function(){return Ln.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"date",{get:function(){return zn.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"boolean",{get:function(){return Bn.slice()},enumerable:!0,configurable:!0}),t}(),Hn=function(){return(Hn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Un=function(t){var e=t.filter,n=t.onFilterChange,r=t.operators,i=t.initialFilter,a=o.useCallback((function(t){var r=e,o=t.target.value.operator,a=r?Hn({},r,{operator:o}):{value:i.value,operator:o};n.call(void 0,t.syntheticEvent,a,r)}),[e,n,i]),s=o.useCallback((function(t){var o=t.target.value,i=e,a=i?Hn({},i,{value:o}):{value:o,operator:r[0].operator};n.call(void 0,t,a,i)}),[e,n,r]),l=Object(c.useLocalization)(),p=r.map((function(t){return Hn({},t,{text:l.toLanguageString(t.text,u[t.text])})}));return o.createElement(o.Fragment,null,o.createElement(d.DropDownList,{value:p.find((function(t){return t.operator===e.operator}))||null,onChange:a,data:p,textField:"text"}),o.createElement(t.input,{value:e.value,onChange:s}))},Wn=function(t){var e=t.filter,n=t.onFilterChange,r=o.useCallback((function(t){return n.call(void 0,t.syntheticEvent,Hn({},e,{value:t.value}),e)}),[e,n]),i=Vn.boolean[0].text;return o.createElement(A.Checkbox,{onChange:r,checked:e.value,label:Object(c.useLocalization)().toLanguageString(i,u[i]),labelPlacement:"after"})},qn=function(t){var e=o.useCallback((function(t){return o.createElement("input",Hn({},t,{value:t.value||"",className:"k-textbox"}))}),[]),n=o.useRef(Vn.text),r=o.useRef({operator:"",value:""});return o.createElement(Un,Hn({initialFilter:r.current,input:e,operators:t.operators||n.current},t))},Kn=function(t){var e=o.useCallback((function(t){return o.createElement(A.NumericTextBox,Hn({},t,{value:t.value||null}))}),[]),n=o.useRef(Vn.numeric),r=o.useRef({operator:"",value:null});return o.createElement(Un,Hn({initialFilter:r.current,input:e,operators:t.operators||n.current},t))},Gn=function(t){var e=o.useCallback((function(t){return o.createElement(I.DatePicker,Hn({},t,{value:t.value||null}))}),[]),n=o.useRef(Vn.date),r=o.useRef({operator:"",value:null});return o.createElement(Un,Hn({initialFilter:r.current,input:e,operators:t.operators||n.current},t))},Yn=function(){return(Yn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Xn=[{text:"columnMenu.filterAndLogic",logic:"and"},{text:"columnMenu.filterOrLogic",logic:"or"}],$n=function(t){var e=Object(c.useLocalization)(),n=(t.data||Xn).map((function(t){return Yn({},t,{text:e.toLanguageString(t.text,u[t.text])})}));return o.createElement(d.DropDownList,Yn({onChange:t.onChange,className:"k-filter-and",textField:"text"},t,{data:n,value:n.find((function(e){return e.logic===t.value}))}))},Zn=n(18),Jn=function(){return(Jn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qn=function(t){return o.createElement("div",{className:"k-columnmenu-item-content"},o.createElement(Zn.Reveal,{style:{position:"relative",display:"block"}},t.show&&o.createElement("div",{className:"kendo-grid-filter-menu-container"},o.createElement("form",{className:"k-filter-menu k-group k-reset k-state-border-up",onSubmit:t.onSubmit,onReset:t.onReset},o.createElement("div",{className:"k-filter-menu-container"},t.children,o.createElement("div",{className:"k-actions k-hstack k-justify-content-stretch"},t.actions))))))},tr=function(t){var e=Object(c.useLocalization)();return o.createElement(Qn,Jn({},t,{actions:o.createElement(o.Fragment,null,o.createElement("button",{className:"k-button",type:"reset"},e.toLanguageString("columnMenu.filterClearButton",u["columnMenu.filterClearButton"])),o.createElement("button",{className:"k-button k-primary"},e.toLanguageString("columnMenu.filterSubmitButton",u["columnMenu.filterSubmitButton"])))}))},er=function(){return(er=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},nr=function(t){Object(a.D)(v);var e=o.useRef([]),n=t.field,r=t.filter,i=t.sort,s=void 0===i?e.current:i,l=t.onSortChange,p=t.onFilterChange,h=t.initialFilter,d=t.sortAsc,f=void 0!==d&&d,m=t.sortDesc,g=void 0!==m&&m,y=t.filterContent,b=void 0===y?[]:y,x=t.expandFilters,w=void 0!==x&&x,k=o.useState(!1),O=k[0],C=k[1],_=o.useState(w),S=_[0],E=_[1],I=o.useState(h(n)),T=I[0],D=I[1],P=o.useRef(null),A=o.useRef(null),j=o.useRef(null),M=o.useCallback((function(){return(r||[]).find((function(t){return t.filters.every((function(t){return!_e(t)&&t.field===n}))}))}),[r,n]),R=o.useCallback((function(){C(!1)}),[]),N=o.useCallback((function(){clearTimeout(j.current),j.current=window.setTimeout((function(){R()}))}),[R]),F=o.useCallback((function(){return clearTimeout(j.current)}),[]),L=o.useCallback((function(){C(!O),E(!O&&w),D(O?T:M()||h(n))}),[M,n,O,T,h,w]);o.useEffect((function(){O&&A.current&&A.current.focus()}),[O]);var z=o.useCallback((function(){return E(!S)}),[S]),B=o.useCallback((function(t,e){var r=s.slice(),o=r.findIndex((function(t){return t.field===n})),i={field:n,dir:e};o>=0?r[o].dir!==i.dir?r.splice(o,1,i):r.splice(o,1):r.push(i),R(),l&&l.call(void 0,t,r,n)}),[s,n,l,R]),V=o.useCallback((function(t,e,n){var r=er({},T,{filters:T.filters.slice()}),o=r.filters.indexOf(n);r.filters.splice(o,1,e),D(r)}),[T]),H=o.useCallback((function(t){t.preventDefault();var e=(r||[]).slice(),o=M(),i=o?e.indexOf(o):-1;i>=0?e.splice(i,1,T):e.push(T),R(),p&&p.call(void 0,t,e,n)}),[r,T,n,p,R,M]),U=o.useCallback((function(t){var e=(r||[]).slice(),o=M(),i=o?e.indexOf(o):-1;i>=0&&e.splice(i,1),D(h(n)),R(),p&&p.call(void 0,t,e,n)}),[r,n,p,h,R,M]),W=o.useCallback((function(t){return B(t,"asc")}),[B]),q=o.useCallback((function(t){return B(t,"desc")}),[B]),K=o.useCallback((function(t){return D(er({},T,{logic:t.value.logic}))}),[T]),G=s.find((function(t){return t.field===n}))||{dir:""},Y=T.filters[0],X=T.filters[1],$=b[0],Z=b[1],J=b[2],Q=Object(c.useLocalization)(),tt=[f||g?o.createElement("div",{className:"k-columnmenu-item-wrapper",key:"sorting"},f&&o.createElement(Nn,{title:Q.toLanguageString("columnMenu.sortAscending",u["columnMenu.sortAscending"]),iconClass:"k-i-sort-asc-sm",selected:"asc"===G.dir,onClick:W}),g&&o.createElement(Nn,{title:Q.toLanguageString("columnMenu.sortDescending",u["columnMenu.sortDescending"]),iconClass:"k-i-sort-desc-sm",selected:"desc"===G.dir,onClick:q})):null,b.length>0?o.createElement("div",{className:"k-columnmenu-item-wrapper",key:"filtering"},o.createElement(Nn,{iconClass:"k-i-filter",title:Q.toLanguageString("columnMenu.filterTitle",u["columnMenu.filterTitle"]),onClick:z}),o.createElement(tr,{show:S,onSubmit:H,onReset:U},$&&o.createElement($,{filter:Y,onFilterChange:V}),Z&&o.createElement(Z,{value:T.logic,onChange:K}),J&&o.createElement(J,{filter:X,onFilterChange:V}))):null],et=[o.createElement("span",{ref:P,onClick:L,className:"k-grid-column-menu k-grid-filter"+(Boolean(M())?" k-state-active":""),key:"button"},o.createElement("span",{className:"k-icon k-i-more-vertical"})),o.createElement(Rn.Popup,{anchor:P.current,show:O,key:"popup"},o.createElement("div",{className:"k-grid-columnmenu-popup",ref:A,tabIndex:0,onBlur:N,onFocus:F,style:{outline:"none"}},t.itemsRender?t.itemsRender.call(void 0,tt,{closeMenu:R,field:n}):tt))];return t.render?t.render.call(void 0,et):et},rr=function(t){var e=o.useCallback((function(t){return{logic:"and",filters:[{operator:"contains",field:t,value:""},{operator:"contains",field:t,value:""}]}}),[]);return o.createElement(nr,er({sortAsc:!0,sortDesc:!0,filterContent:[qn,$n,qn],initialFilter:e},t))},or=function(t){var e=o.useCallback((function(t){return{logic:"or",filters:[{operator:"eq",field:t,value:null},{operator:"eq",field:t,value:null}]}}),[]);return o.createElement(nr,er({sortAsc:!0,sortDesc:!0,filterContent:[Kn,$n,Kn],initialFilter:e},t))},ir=function(t){var e=o.useCallback((function(t){return{logic:"or",filters:[{operator:"eq",field:t,value:null},{operator:"eq",field:t,value:null}]}}),[]);return o.createElement(nr,er({sortAsc:!0,sortDesc:!0,filterContent:[Gn,$n,Gn],initialFilter:e},t))},ar=function(t){var e=o.useCallback((function(t){return{logic:"and",filters:[{operator:"eq",field:t,value:!1}]}}),[]);return o.createElement(nr,er({sortAsc:!0,sortDesc:!0,filterContent:[Wn],initialFilter:e},t))},sr=function(){return(sr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function lr(t,e,n){var r;return n?sr({},t,((r={})[e]=n.length?n.slice():void 0,r)):t&&t[e]?t[e].slice():[]}function cr(t,e,n){var r=In(t,e);return r=r.map((function(t){return function t(e,n,r){var o;if(e[r]){var i=lr(e,r,In(lr(e,r),n)),a=lr(i,r).map((function(e){return t(e,n,r)}));return sr({},i,((o={})[r]=a,o))}return e}(t,e,n)}))}function ur(t,e,n){var r,o=((r={})[n]=t.slice(),r);return(o=function t(e,n,r){var o=lr(e,r);if(o&&o.length){o=o.map((function(e){return t(e,n,r)}));var i=Sn(o,{filters:[{filters:n,logic:"and"},{operator:function(t){return Boolean((t[r]||[]).length)}}],logic:"or"});return lr(e,r,i)}return e}(o,e,n))[n]||[]}var pr=function(t,e,n){t.items&&(t.groupId=""+n+(n&&"_")+t.value+t.field,e>1&&t.items.forEach((function(n){return pr(n,e-1,t.groupId)})))},hr=function(t){var e=t.group;if(e&&e.length&&t.data)return t.data.forEach((function(t){return pr(t,e.length,"")}))},dr=function(t){var e=[];return Object(a.t)(t.data,"items",(function(t){t.groupId&&e.push(t.groupId)})),e},fr=function(t){return Object(a.t)(t.data,"items",(function(e){return Object(a.l)(e,"items",{expanded:!t.collapsedIds.some((function(t){return t===e.groupId}))})}))},mr=function(t){var e=t.navigationStateRef,n=t.scope;if(e.current&&n){var r=[],o=at(n),i=st(n);if(o&&i){var a=Array.from(o.children),s=Array.from(i.children);a.concat(s).forEach((function(t,e){Array.from(t.children).forEach((function(t){var n=ot(t);if(n){for(var o,i=t.rowSpan||1,a=t.colSpan||1,s=e,l=e+i;s<l;s++){if(r[s]||(r[s]=[]),void 0===o){var c=r[s].findIndex((function(t){return!t}));o=c>-1?c:r[s].length}r[s][o]=n||""}for(s=o+1,l=o+a;s<l;s++)r[e][s]=n||""}}))})),e.current.navigationMatrix=r.filter((function(t){return!!t})),e.current.lastHeaderIndex=a.length-1}}},vr={onConstructor:function(t){var e=t.navigatable,n=t.contextStateRef,r=t.navigationStateRef,o=t.idPrefix;e&&(n.current={activeId:"",level:0},r.current={activeElementIsFocused:!1,prevNavigationIndexes:void 0,idPrefix:o||Object(a.r)(),navigationMatrix:[],lastHeaderIndex:-1})},onComponentDidMount:function(t){var e=t.scope,n=t.contextStateRef,r=t.navigationStateRef;if(n.current&&r.current&&e){mr(t);var o=r.current.navigationMatrix[0][0],i=ht.getActiveElement(e,o);o&&i&&(n.current.activeId=o,i.setAttribute("tabIndex","0"))}},onGetSnapshotBeforeUpdate:function(t){var e=t.contextStateRef,n=t.navigationStateRef,r=t.document;if(e.current&&n.current&&r){var o=r.activeElement,i=ht.getNavigatableId(o);i&&i===e.current.activeId&&(n.current.activeElementIsFocused=!0)}},onComponentDidUpdate:function(t){var e=t.scope,n=t.contextStateRef,r=t.navigationStateRef;if(mr(t),n.current&&r.current&&e){if(!ht.getActiveElement(e,n.current.activeId)){var o=r.current.navigationMatrix[0][0],i=ht.getActiveElement(e,o);o&&i&&(n.current.activeId=o,i.setAttribute("tabIndex","0"),r.current.activeElementIsFocused&&i.focus())}r.current.activeElementIsFocused=!1}},onFocus:function(t,e){var n=e.contextStateRef;if(!t.isDefaultPrevented()&&n.current){var r=t.target,o=ht.getNavigatableId(r);if(o&&o!==n.current.activeId){var i=ht.getClosestScope(r);if(!i)return;var a=ht.getActiveElement(i,n.current.activeId);a&&a.setAttribute("tabIndex","-1"),r.setAttribute("tabIndex","0"),n.current.activeId=o}}},onKeyDown:function(t,e){var n=e.contextStateRef,r=e.navigationStateRef,o=e.onNavigationAction;if(!t.isDefaultPrevented()&&n.current&&r.current)if(t.keyCode!==a.d.esc){var i=t.target,s=ht.getNavigatableId(i),l=ht.getNavigatableLevel(i),c=ht.getClosestScope(i),u=r.current.navigationMatrix;if(void 0!==l&&c){if(t.keyCode===a.d.enter){var p=ht.getNavigatableElement(i,{level:l+1});if(p)return void ht.focusElement({elementForFocus:p,event:t,contextStateRef:n,prevElement:i});w=ht.getFocusableElements(i)[0];return void ht.focusElement({elementForFocus:w,event:t,contextStateRef:n,prevElement:i})}if(t.keyCode===a.d.up||t.keyCode===a.d.down||t.keyCode===a.d.left||t.keyCode===a.d.right){var h=t.keyCode===a.d.up||t.keyCode===a.d.left,d=t.keyCode===a.d.up||t.keyCode===a.d.down,f=void 0;if(r.current&&r.current.prevNavigationIndexes){var m=r.current.prevNavigationIndexes,v=m[0],g=m[1];f=u[v][g]===s?r.current.prevNavigationIndexes:ut(u,s)}else f=ut(u,s);if(f){v=f[0],g=f[1];var y=d?lt(v,g,s,u,h):ct(v,g,s,u,h),b=y[0],x=y[1];if(b){w=ht.getActiveElement(c,b);ht.focusElement({elementForFocus:w,event:t,contextStateRef:n,prevElement:i}),r.current.prevNavigationIndexes=x,o&&o({focusElement:w,event:t})}}}}}else{var w=ht.getClosestNavigatableElement(t.target);ht.focusElement({elementForFocus:w,event:t,contextStateRef:n})}},generateMatrix:mr},gr="data-grid-row-index",yr="data-grid-col-index",br="data-prevent-selection",xr=function(){return(xr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},wr={},kr=function(t,e){for(var n=t;n;){if(n.tagName===e)return n;if("TABLE"===n.tagName)return null;n=n.parentElement}return null},Or=function(t){if(t){var e=t.getAttribute(gr);return e?parseInt(e,10):void 0}},Cr=function(t){if(t){var e=t.getAttribute(yr);return e?parseInt(e,10):void 0}},_r=function(t){var e=t.subItemsField||"items",n=Object(a.q)(t.dataItemKey);return Object(a.t)(t.data,e,(function(r){var o;return Object(a.l)(r,e,((o={})[t.selectedField]=t.selectedState[n(r)],o))}))},Sr=function(t){var e=t.event,n=t.dataItemKey,r=t.selectedState,o=e.syntheticEvent,i=e.nativeEvent,s=e.dataItems,l=e.componentId,c=e.mode,u=e.cell,p=e.selectedField,h=i.target,d=i.ctrlKey,f=i.metaKey,m=i.altKey,v=i.shiftKey;if(o.isDefaultPrevented()||i.keyCode!==a.d.enter)return r;var g=kr(h,"TD"),y=kr(h,"TR"),b=Cr(g),x=Or(y),w={};return g&&y&&void 0!==x&&void 0!==b&&(w=Er({selectedState:r,dataItemKey:n,event:{ctrlKey:d,metaKey:f,altKey:m,shiftKey:v,dataItems:s,cell:u,mode:c,selectedField:p,componentId:l,startColIndex:b,endColIndex:b,startRowIndex:x,endRowIndex:x,isDrag:!1,syntheticEvent:o,nativeEvent:i,target:e.target,dataItem:null}})),w},Er=function(t){var e,n,r=t.event,o=t.dataItemKey,i=t.selectedState,s=r.dataItems,l=r.startRowIndex,c=r.endRowIndex,u=r.startColIndex,p=r.endColIndex,h=r.cell,d=r.isDrag,f=r.ctrlKey,m=r.shiftKey,v=r.metaKey,g=r.componentId,y=r.mode,b=r.dataItem,x=Object(a.q)(o),w={},k=null!==b;if("single"===y){var O=s.slice(l,l+1)[0],C=x(O);wr[g]={rowIndex:l,colIndex:u},w[C]=!h||[u]}else if(!d&&(m||f||v||k)){if(f||v||k){wr[g]={rowIndex:l,colIndex:u};O=s.slice(l,c+1)[0],C=x(O);(w=xr({},i))[C]=h&&!k?(e=w[C],n=u,!e||Array.isArray(e)&&0===e.length?[n]:e.findIndex((function(t){return t===n}))>-1?e.filter((function(t){return t===n})):e.concat([n])):!w[C]}else if(m){var _=wr[g]&&wr[g].rowIndex||0,S=wr[g]&&wr[g].colIndex||0,E=Math.min(_,l,c),I=Math.max(_,l,c),T=Math.min(S,u,p),D=Math.max(S,u,p),P=[];for(j=T;j<=D;j++)P.push(j);s.slice(E,I+1).forEach((function(t){var e=x(t);w[e]=!h||P.slice()}))}}else{d||(wr[g]={rowIndex:l,colIndex:u});for(var A=[],j=u;j<=p;j++)A.push(j);s.slice(l,c+1).forEach((function(t){var e=x(t);w[e]=!h||A.slice()}))}return w},Ir=Object(a.s)(),Tr=function(t){if(!t||!Ir)return null;for(var e=t.parentElement;e;){if("none"!==window.getComputedStyle(e).transform)return e;e=e.parentElement}},Dr=function(t){if(t&&t.ownerDocument&&t!==t.ownerDocument.body){var e=t.getBoundingClientRect();return{left:e.left-t.scrollLeft,top:e.top-t.scrollTop}}return{left:0,top:0}},Pr=function(t){return{enabled:!!t&&("boolean"!=typeof t.enabled||t.enabled),drag:!!t&&Boolean(t.drag),mode:t&&t.mode?t.mode:"multiple",cell:Boolean(t&&t.cell)}},Ar=function(){return(Ar=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},jr=function(t){var e=t.onRelease,n=t.childRef,r=Pr(t.selectable),i=r.enabled,s=r.drag,l=r.mode,c=r.cell,u=o.useRef(null),p=o.useRef(null),h=o.useRef({clientX:0,clientY:0}),d=o.useState(null),f=d[0],m=d[1],v=o.useRef(),g=o.useRef(!1),y=o.useRef(!1),b=o.useCallback((function(t){var e=t.event;y.current=e.originalEvent.target.hasAttribute(br),!y.current&&u.current&&(v.current=Tr(u.current.element),h.current={clientY:e.clientY,clientX:e.clientX})}),[]),x=o.useCallback((function(t){var e=t.event,n=h.current,r=n.clientX,o=n.clientY;if(!y.current&&s&&"single"!==l&&((Math.abs(o-e.clientY)>5||Math.abs(r-e.clientX)>5)&&(g.current=!0),g.current)){var i=Dr(v.current);m({top:Math.min(o,e.clientY)-i.top,left:Math.min(r,e.clientX)-i.left,width:Math.abs(e.clientX-r),height:Math.abs(e.clientY-o)})}}),[m,s,l]),w=o.useCallback((function(t){var n=t.event,r=h.current,o=r.clientX,i=r.clientY;if(!y.current&&u.current){var a=u.current.element&&u.current.element.ownerDocument;if(a){if(g.current){var s=Math.min(i,n.clientY),d=Math.min(o,n.clientX),f=Math.max(i,n.clientY),v=Math.max(o,n.clientX),b=p.current;if(!b)return;b.style.visibility="hidden";T=a.elementFromPoint(d,s);var x=a.elementFromPoint(v,f);if(b.style.visibility="",!T||!x)return;var w=kr(T,"TD"),k=kr(w,"TR"),O=kr(x,"TD"),C=kr(O,"TR"),_=Cr(w),S=Or(k),E=Cr(O),I=Or(C);void 0!==_&&void 0!==S&&void 0!==E&&void 0!==I&&e({nativeEvent:n.originalEvent,startRowIndex:S,startColIndex:_,endRowIndex:I,endColIndex:E,altKey:n.altKey,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.originalEvent.metaKey,mode:l,cell:c,isDrag:!0})}else{var T;if(!(T=a.elementFromPoint(o,i)))return;var D=kr(T,"TD"),P=kr(T,"TR"),A=Cr(D),j=Or(P);D&&P&&void 0!==j&&void 0!==A&&e({nativeEvent:n.originalEvent,startRowIndex:j,startColIndex:A,endRowIndex:j,endColIndex:A,altKey:n.altKey,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.originalEvent.metaKey,mode:l,cell:c,isDrag:!1})}m(null),g.current=!1,h.current={clientX:0,clientY:0}}}}),[m,l,c,e]);return i?o.createElement(o.Fragment,null,o.createElement(a.b,{onPress:b,onDrag:x,onRelease:w,ref:u,childRef:n},t.children),f&&o.createElement("div",{ref:p,style:Ar({},f,{position:"fixed"}),className:"k-marquee k-marquee-color"})):o.cloneElement(o.Children.only(t.children),{ref:n})}},function(t,e,n){"use strict";n.r(e),n.d(e,"Toolbar",(function(){return B})),n.d(e,"ToolbarItem",(function(){return H})),n.d(e,"ToolbarSeparator",(function(){return W})),n.d(e,"ToolbarSpacer",(function(){return q})),n.d(e,"Button",(function(){return m})),n.d(e,"ButtonGroup",(function(){return b})),n.d(e,"SplitButton",(function(){return A})),n.d(e,"SplitButtonItem",(function(){return O})),n.d(e,"DropDownButton",(function(){return F})),n.d(e,"DropDownButtonItem",(function(){return M})),n.d(e,"Chip",(function(){return it})),n.d(e,"ChipList",(function(){return et})),n.d(e,"FloatingActionButton",(function(){return yt})),n.d(e,"FloatingActionButtonItem",(function(){return ut}));var r,o=n(0),i=n(1),a=n(2),s={name:"@progress/kendo-react-buttons",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616372,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},l=':not(.k-state-disabled):not([disabled]):not([disabled="true"])',c=["button"+l,".k-button-group > button"+l,".k-dropdown > .k-dropdown-wrap"+l,".k-colorpicker > .k-picker-wrap"+l],u={button:"k-button",flat:"k-flat",outline:"k-outline",clear:"k-button-clear",primary:"k-primary","state-selected":"k-state-selected","button-icon":"k-button-icon","button-icontext":"k-button-icontext","state-disabled":"k-state-disabled","group-start":"k-group-start","group-end":"k-group-end","button-group":"k-button-group","button-group-stretched":"k-button-group-stretched",ltr:"k-ltr",rtl:"k-rtl"},p=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},f=u;var m=function(t){function e(e){var n=t.call(this,e)||this;return n._element=null,n.handleClick=function(t){n.toggleIfApplicable(),n.props.onClick&&n.props.onClick.call(void 0,t)},Object(a.D)(s),n.state={selected:!0===n.props.togglable&&!0===n.props.selected},n}return p(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return void 0!==this._selectedTemp?this._selectedTemp:this.state.selected},enumerable:!0,configurable:!0}),e.getDerivedStateFromProps=function(t,e){return t.togglable&&void 0!==t.selected&&t.selected!==e.selected?{selected:t.selected}:null},e.prototype.render=function(){var t,e=this,n=this.props,r=n.children,i=n.look,s=n.primary,l=n.togglable,c=n.icon,u=n.iconClass,p=n.imageUrl,m=n.imageAlt,v=n.className,g=(n.onClick,d(n,["children","look","primary","togglable","icon","iconClass","imageUrl","imageAlt","className","onClick"])),y=void 0!==c||void 0!==u||void 0!==p,b=void 0!==r,x={className:Object(a.g)([f.button],((t={})[f[""+i]]="default"!==i,t[f.primary]=s,t[f["state-disabled"]]=this.props.disabled,t[f["state-selected"]]=this.state.selected,t[f["button-icon"]]=!b&&y,t[f["button-icontext"]]=b&&y,t),[f[""+this.props.dir]],v),onClick:this.handleClick,role:l?"checkbox":void 0,"aria-disabled":this.props.disabled||void 0,"aria-checked":l?this.state.selected:void 0},w=function(t){var e=t.imageUrl,n=t.icon,r=t.iconClass,i=t.imageAlt;if(e)return o.createElement("img",{role:"presentation",className:"k-image",alt:i,src:e});if(n){var s=Object(a.g)("k-icon","k-i-"+n);return o.createElement("span",{role:"presentation",className:s})}return r?o.createElement("span",{role:"presentation",className:r}):null}({icon:c,iconClass:u,imageUrl:p,imageAlt:m});return o.createElement("button",h({},x,g,{ref:function(t){return e._element=t}}),w,r)},e.prototype.toggleIfApplicable=function(){var t=this;if(this.props.togglable&&void 0===this.props.selected){var e=!this.state.selected;this._selectedTemp=e,this.setState({selected:e},(function(){return t._selectedTemp=void 0}))}},e.propTypes={children:i.node,look:i.oneOf(["default","flat","outline","clear"]),primary:i.bool,selected:i.bool,togglable:i.bool,icon:i.string,iconClass:i.string,imageUrl:i.string,imageAlt:i.string},e.defaultProps={look:"default",primary:!1,togglable:!1},e}(o.Component),v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(){return(g=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},y=u,b=function(t){function e(e){var n=t.call(this,e)||this;return n._element=null,Object(a.D)(s),n}return v(e,t),e.prototype.render=function(){var t,e=this,n=this.mapButtons(this.props.children),r=Object(a.g)([y["button-group"]],((t={})[y["state-disabled"]]=this.props.disabled,t[y["button-group-stretched"]]=!!this.props.width,t),this.props.className),i={className:r,style:{width:""+this.props.width},dir:this.props.dir,role:"group","aria-disabled":this.props.disabled};return o.createElement("div",g({ref:function(t){e._element=t}},i,{className:r}),n)},e.prototype.mapButtons=function(t){var e=this,n=o.Children.count(t),r=void 0!==this.props.dir?"rtl"===this.props.dir:this._element&&"rtl"===getComputedStyle(this._element).direction||!1;return o.Children.map(t,(function(t,i){return o.isValidElement(t)?e.renderButton(t,i,i===n-1,r):t}))},e.prototype.renderButton=function(t,e,n,r){var i,s=Object(a.g)(t.props.className,((i={})[y["group-start"]]=r?n:0===e,i[y["group-end"]]=r?0===e:n,i)),l=g({},this.props.width?{width:this.props.width}:{},t.props.style||{}),c=this.props.disabled||t.props.disabled,u=g({},t.props,s?{className:s}:{},Object.keys(l).length?{style:l}:{},void 0!==c?{disabled:c}:{});return o.Children.count(t.props.children)>0?o.cloneElement(t,u,t.props.children):o.cloneElement(t,u)},e.propTypes={children:i.oneOfType([i.arrayOf(i.element),i.element]),className:i.string,disabled:i.bool,width:i.string,dir:i.string},e}(o.Component),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClick=function(t){return e.props.onClick(t,e.props.index)},e}return x(e,t),e.prototype.render=function(){var t=this.props,e=t.dataItem,n=t.focused,r=t.id,i=t.onDown,s=t.render,l=o.createElement("li",{id:r,className:Object(a.g)("k-item",{"k-state-focused":n,"k-state-selected":e.selected,"k-state-disabled":e.disabled}),onClick:this.onClick,onMouseDown:i,onPointerDown:i,role:"menuItem","aria-disabled":e.disabled||void 0},this.renderContent());return void 0!==this.props.item&&void 0!==s?s.call(void 0,l,this.props):l},e.prototype.renderContent=function(){var t=this.props,e=t.dataItem,n=t.textField,r=t.index,i=this.props.dataItem.render||this.props.item||(void 0===this.props.item?this.props.render:null),a=void 0!==e.text?e.text:n?e[n]:e,s=e.icon?"k-icon k-i-"+e.icon:e.iconClass;return i&&o.createElement(i,{item:e,itemIndex:r})||[s&&o.createElement("span",{className:s,role:"presentation",key:"icon"}),e.imageUrl&&o.createElement("img",{className:"k-image",alt:"",src:e.imageUrl,role:"presentation",key:"image"}),a]},e}(o.Component),k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e.prototype.render=function(){return null},e.propTypes={text:i.string,icon:i.string,iconClass:i.string,imageUrl:i.string,disabled:i.bool,render:i.any},e}(o.Component),C=function(t,e,n,r){if(n)return t;switch(e){case a.d.enter:case a.d.space:case a.d.esc:return-1;case a.d.up:case a.d.left:return Math.max(0,t-1);case a.d.down:case a.d.right:return Math.min(r-1,t+1);default:return t}},_=n(14);function S(t){var e={horizontal:"left",vertical:"bottom"};return t&&(e.horizontal="right"),e}function E(t){var e={horizontal:"left",vertical:"top"};return t&&(e.horizontal="right"),e}var I,T,D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=u,A=function(t){function e(e){var n=t.call(this,e)||this;return n.state={focused:!1,focusedIndex:-1,opened:!1},n.wrapper=null,n.mainButton=null,n.guid=Object(a.r)(),n.buttonsData=[],n.onKeyDown=function(t){var e=n.state.focusedIndex;if(t.altKey)n.opened||t.keyCode!==a.d.down?n.opened&&t.keyCode===a.d.up&&(n.dispatchPopupEvent(t,!1),n.setState({focusedIndex:-1,opened:!1})):(n.dispatchPopupEvent(t,!0),n.setState({focusedIndex:0,opened:!0}));else{var r=void 0;if(t.keyCode===a.d.enter||t.keyCode===a.d.space?(t.preventDefault(),n.dispatchClickEvent(t,e),e>=0&&(r={focusedIndex:n.opened?-1:0,opened:!n.opened},n.dispatchPopupEvent(t,r.opened))):n.opened&&t.keyCode===a.d.esc&&(r={focusedIndex:-1,opened:!1},n.dispatchPopupEvent(t,r.opened)),n.opened){var o=C(e,t.keyCode,t.altKey,n.buttonsData.length);o!==e&&((r=r||{}).focusedIndex=o);var i=t.keyCode===a.d.up||t.keyCode===a.d.down||t.keyCode===a.d.left||t.keyCode===a.d.right;!t.altKey&&i&&t.preventDefault()}r&&n.setState(r)}},n.onFocus=function(t){Object(a.k)(n.props.onFocus,t,n,void 0),n.setState({focused:!0,focusedIndex:-1})},n.onItemClick=function(t,e){var r=n.opened;r&&n.setState({focusedIndex:0,opened:!1}),n.dispatchClickEvent(t,e),r&&n.dispatchPopupEvent(t,!1)},n.onBlur=function(t){n.setState({focused:!1,focusedIndex:-1,opened:!1}),Object(a.k)(n.props.onBlur,t,n,void 0),n.opened&&n.dispatchPopupEvent(t,!1)},n.onSplitPartClick=function(t){if(n.buttonsData.length){var e=!n.opened;n.dispatchPopupEvent(t,e),n.setState({focusedIndex:e?0:-1,opened:e,focused:!0})}},n.onDownSplitPart=function(t){t.preventDefault(),n.element&&document.activeElement!==n.element&&n.element.focus()},n.onItemDown=function(t){document.activeElement===n.element&&t.preventDefault()},n.dispatchPopupEvent=function(t,e){Object(a.k)(e?n.props.onOpen:n.props.onClose,t,n,void 0)},Object(a.D)(s),n}return D(e,t),Object.defineProperty(e.prototype,"opened",{get:function(){return void 0===this.props.opened?this.state.opened:this.props.opened},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this;this.buttonsData=this.props.items||o.Children.toArray(this.props.children).filter((function(t){return t&&t.type===O})).map((function(t){return t.props}));var e=this.isRtl(),n=e?"rtl":void 0,r=this.props,i=r.tabIndex,s=r.disabled,l=this.state.focusedIndex;return o.createElement("div",{className:Object(a.g)("k-widget","k-split-button","k-button-group",[P[""+this.props.look]],{"k-state-focused":this.state.focused},this.props.className),onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,dir:n,ref:function(e){return t.wrapper=e}},o.createElement(m,{onClick:function(e){return t.onItemClick(e,-1)},disabled:s||void 0,tabIndex:i,accessKey:this.props.accessKey,className:this.props.buttonClass,icon:this.props.icon,iconClass:this.props.iconClass,imageUrl:this.props.imageUrl,look:this.props.look,dir:n,ref:function(e){return t.mainButton=e&&e.element},type:"button","aria-disabled":s,"aria-haspopup":!0,"aria-expanded":this.opened,"aria-label":this.props.text+" splitbutton","aria-owns":this.guid,"aria-activedescendant":l>=0?this.guid+"-"+l:void 0},this.props.text),o.createElement(m,{icon:"arrow-s",disabled:s||void 0,tabIndex:-1,look:this.props.look,onClick:this.onSplitPartClick,onMouseDown:this.onDownSplitPart,onPointerDown:this.onDownSplitPart,dir:n,"aria-label":"menu toggling button"}),this.renderPopup(e))},e.prototype.componentDidMount=function(){(void 0===this.props.dir&&this.isRtl()||this.opened)&&this.forceUpdate()},Object.defineProperty(e.prototype,"element",{get:function(){return this.mainButton},enumerable:!0,configurable:!0}),e.prototype.dispatchClickEvent=function(t,e){this.isItemDisabled(e)||(-1===e?Object(a.k)(this.props.onButtonClick,t,this,void 0):Object(a.k)(this.props.onItemClick,t,this,{item:this.buttonsData[e],itemIndex:e}))},e.prototype.renderPopup=function(t){var e=this.props.popupSettings,n=void 0===e?{}:e;return o.createElement(_.Popup,{anchor:this.wrapper,show:this.opened,animate:n.animate,popupClass:Object(a.g)("k-list-container k-reset k-group",n.popupClass),anchorAlign:n.anchorAlign||S(t),popupAlign:n.popupAlign||E(t),style:t?{direction:"rtl"}:void 0},o.createElement("ul",{className:"k-list k-reset",role:"menu",id:this.guid},this.renderChildItems()))},e.prototype.renderChildItems=function(){var t=this,e=this.props,n=e.item,r=e.itemRender,i=e.textField;return this.buttonsData.length>0?this.buttonsData.map((function(e,a){return o.createElement(w,{dataItem:e,textField:i,focused:t.state.focusedIndex===a,onClick:t.onItemClick,onDown:t.onItemDown,render:r,item:n,key:a,index:a,id:t.guid+"-"+a})})):null},e.prototype.isItemDisabled=function(t){return this.buttonsData[t]?this.buttonsData[t].disabled:this.props.disabled},e.prototype.isRtl=function(){return void 0!==this.props.dir?"rtl"===this.props.dir:!!this.wrapper&&"rtl"===getComputedStyle(this.wrapper).direction},e.propTypes={accessKey:i.string,onButtonClick:i.func,onFocus:i.func,onBlur:i.func,onItemClick:i.func,onOpen:i.func,onClose:i.func,text:i.string,items:i.arrayOf(i.any),textField:i.string,tabIndex:i.number,disabled:i.bool,icon:i.string,iconClass:i.string,imageUrl:i.string,popupSettings:i.object,itemRender:i.any,item:i.func,look:i.string,className:i.string,buttonClass:i.string,dir:i.string},e}(o.Component),j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j(e,t),e.prototype.render=function(){return null},e.propTypes={text:i.string,icon:i.string,iconClass:i.string,imageUrl:i.string,selected:i.bool,disabled:i.bool,render:i.any},e}(o.Component),R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(){return(N=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},F=function(t){function e(e){var n=t.call(this,e)||this;return n.state={opened:!1,focused:!1,focusedIndex:-1},n.wrapper=null,n.mainButton=null,n.guid=Object(a.r)(),n.buttonsData=[],n.onKeyDown=function(t){var e=n.state.focusedIndex;if(t.altKey)n.opened||t.keyCode!==a.d.down?n.opened&&t.keyCode===a.d.up&&(n.dispatchPopupEvent(t,!1),n.setState({focusedIndex:-1,opened:!1})):(n.dispatchPopupEvent(t,!0),n.setState({focusedIndex:0,opened:!0}));else{var r=N({},n.state);if(t.keyCode===a.d.enter||t.keyCode===a.d.space?(e>=0&&n.dispatchClickEvent(t,e),t.preventDefault(),r.focusedIndex=n.opened?-1:0,r.opened=!n.opened,n.dispatchPopupEvent(t,r.opened)):n.opened&&t.keyCode===a.d.esc&&(r.focusedIndex=-1,r.opened=!1,n.dispatchPopupEvent(t,r.opened)),n.opened){var o=C(e,t.keyCode,t.altKey,n.buttonsData.length);r.focusedIndex=o;var i=t.keyCode===a.d.up||t.keyCode===a.d.down||t.keyCode===a.d.left||t.keyCode===a.d.right;!t.altKey&&i&&t.preventDefault()}n.setState(r)}},n.onFocus=function(t){n.setState({focused:!0,focusedIndex:n.opened?0:-1}),Object(a.k)(n.props.onFocus,t,n,void 0)},n.onBlur=function(t){n.setState({focused:!1,opened:!1,focusedIndex:-1}),Object(a.k)(n.props.onBlur,t,n,void 0),n.opened&&n.dispatchPopupEvent(t,!1)},n.onItemClick=function(t,e){n.setState({focusedIndex:-1,opened:!1}),n.dispatchClickEvent(t,e),n.dispatchPopupEvent(t,!1)},n.onItemDown=function(t){document.activeElement===n.element&&t.preventDefault()},n.mouseDown=function(t){t.preventDefault()},n.onClickMainButton=function(t){if(n.buttonsData.length){var e=!n.opened;n.setState({opened:e,focused:!0,focusedIndex:e?0:-1}),n.dispatchPopupEvent(t,e)}},n.dispatchPopupEvent=function(t,e){Object(a.k)(e?n.props.onOpen:n.props.onClose,t,n,void 0)},Object(a.D)(s),n}return R(e,t),Object.defineProperty(e.prototype,"opened",{get:function(){return void 0===this.props.opened?this.state.opened:this.props.opened},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this,e=this.isRtl(),n=e?"rtl":void 0,r=this.props,i=r.tabIndex,s=r.disabled,l=this.state.focusedIndex;return this.buttonsData=this.props.items||o.Children.toArray(this.props.children).filter((function(t){return t&&t.type===M})).map((function(t){return t.props})),o.createElement("div",{className:Object(a.g)("k-widget","k-dropdown-button",this.props.className,{"k-state-focused":this.state.focused}),onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,dir:n,ref:function(e){return t.wrapper=e}},o.createElement(m,{onClick:this.onClickMainButton,onMouseDown:this.mouseDown,disabled:s||void 0,tabIndex:i,accessKey:this.props.accessKey,icon:this.props.icon,iconClass:this.props.iconClass,className:this.props.buttonClass,imageUrl:this.props.imageUrl,look:this.props.look,primary:this.props.primary,dir:n,ref:function(e){return t.mainButton=e&&e.element},type:"button","aria-disabled":s,"aria-haspopup":!0,"aria-expanded":this.opened,"aria-label":this.props.text+" dropdownbutton","aria-owns":this.guid,"aria-activedescendant":l>=0?this.guid+"-"+l:void 0},this.props.text),this.renderPopup(e))},e.prototype.componentDidMount=function(){(void 0===this.props.dir&&this.isRtl()||this.opened)&&this.forceUpdate()},e.prototype.componentDidUpdate=function(){this.state.focused&&this.element&&this.element.focus()},Object.defineProperty(e.prototype,"element",{get:function(){return this.mainButton},enumerable:!0,configurable:!0}),e.prototype.dispatchClickEvent=function(t,e){this.isItemDisabled(e)||Object(a.k)(this.props.onItemClick,t,this,{item:this.buttonsData[e],itemIndex:e})},e.prototype.renderPopup=function(t){var e=this.props.popupSettings,n=void 0===e?{}:e;return o.createElement(_.Popup,{anchor:this.wrapper,show:this.opened,animate:n.animate,popupClass:Object(a.g)("k-list-container k-reset k-group",n.popupClass),anchorAlign:n.anchorAlign||S(t),popupAlign:n.popupAlign||E(t),style:t?{direction:"rtl"}:void 0},o.createElement("ul",{className:"k-list k-reset",role:"menu",id:this.guid},this.renderChildItems()))},e.prototype.renderChildItems=function(){var t=this,e=this.props,n=e.item,r=e.itemRender,i=e.textField;return this.buttonsData.length>0?this.buttonsData.map((function(e,a){return o.createElement(w,{dataItem:e,textField:i,focused:t.state.focusedIndex===a,onClick:t.onItemClick,onDown:t.onItemDown,render:r,item:n,index:a,key:a,id:t.guid+"-"+a})})):null},e.prototype.isItemDisabled=function(t){return this.buttonsData[t]?this.buttonsData[t].disabled:this.props.disabled},e.prototype.isRtl=function(){return void 0!==this.props.dir?"rtl"===this.props.dir:!!this.wrapper&&"rtl"===getComputedStyle(this.wrapper).direction},e.propTypes={accessKey:i.string,primary:i.bool,onFocus:i.func,onBlur:i.func,onItemClick:i.func,onOpen:i.func,onClose:i.func,items:i.arrayOf(i.any),textField:i.string,tabIndex:i.number,disabled:i.bool,icon:i.string,iconClass:i.string,imageUrl:i.string,popupSettings:i.object,itemRender:i.func,item:i.func,look:i.string,className:i.string,buttonClass:i.string,dir:i.string},e}(o.Component),L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(){return(z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},B=function(t){function e(n){var r=t.call(this,n)||this;return r._element=null,r.offsetHeight=0,r.offsetWidth=0,r.buttons=[],r.focusedSelector=r.selectors.map((function(t){return t+":focus"})).join(","),r.setTabIndex=function(t){var n=r.props.tabIndex,o=void 0===n?e.defaultProps.tabIndex:n;r.buttons.forEach((function(e,n){e.tabIndex=n===t?o:-1}))},r.onKeyDown=function(t){var e=t.target;if((t.keyCode===a.d.left||t.keyCode===a.d.right)&&!t.defaultPrevented&&-1!==r.buttons.findIndex((function(t){return t===e}))){var n=r.focusedIndex;t.keyCode===a.d.left?r.focusButton(n,n-1):r.focusButton(n,n+1)}},r.onWindowResize=function(t){var e=r.element;if(e){var n=e.offsetWidth,o=e.offsetHeight;if(r.offsetWidth!==n||r.offsetHeight!==o){r.offsetWidth=n,r.offsetHeight=o;var i={offsetWidth:r.offsetWidth,offsetHeight:r.offsetHeight};r.props.onResize&&r.props.onResize.call(void 0,z({target:r},i,{nativeEvent:t}))}}},Object(a.D)(s),r}return L(e,t),Object.defineProperty(e.prototype,"selectors",{get:function(){return this.props.buttons||c},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusedIndex",{get:function(){var t=this.element&&this.element.querySelector(this.focusedSelector);return Math.max(0,this.buttons.findIndex((function(e){return e===t})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("resize",this.onWindowResize);var t=this.element;t&&(this.offsetWidth=t.offsetWidth,this.offsetHeight=t.offsetHeight,!1!==this.props.keyboardNavigation&&(this.buttons=Array.from(t.querySelectorAll(this.selectors.join(","))),this.setTabIndex(0)))},e.prototype.componentDidUpdate=function(){var t=this.element;t&&!1!==this.props.keyboardNavigation&&(this.buttons=Array.from(t.querySelectorAll(this.selectors.join(","))),this.setTabIndex(this.focusedIndex))},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onWindowResize),this.buttons.length=0},e.prototype.render=function(){var t=this;return o.createElement("div",{className:Object(a.g)("k-widget k-toolbar",this.props.className),style:this.props.style,role:"toolbar",dir:this.props.dir,ref:function(e){return t._element=e},onKeyDown:!1!==this.props.keyboardNavigation?this.onKeyDown:void 0},this.props.children)},e.prototype.focusButton=function(t,n){var r=this.props.tabIndex,o=void 0===r?e.defaultProps.tabIndex:r,i=this.buttons[n];if(i){i.tabIndex=o,i.focus();var a=this.buttons[t];a&&(a.tabIndex=-1)}},e.propTypes={tabIndex:i.number,dir:i.string,keyboardNavigation:i.bool,style:i.object,className:i.string,onResize:i.func,buttons:i.arrayOf(i.string)},e.defaultProps={tabIndex:0},e}(o.Component),V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._element=null,e}return V(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this;return o.createElement("span",{className:this.props.className,style:this.props.style,ref:function(e){return t._element=e}},this.props.children)},e.propTypes={className:i.string},e}(o.PureComponent),U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.render=function(){return o.createElement(H,{className:"k-separator"})},e}(o.PureComponent),q=o.forwardRef((function(t,e){var n=o.useRef(null),r=o.useRef(null);o.useImperativeHandle(r,(function(){return{element:n.current}})),o.useImperativeHandle(e,(function(){return{element:n.current}}));var i=o.useMemo((function(){return Object(a.g)("k-spacer",t.className)}),[t.className]);return o.createElement("span",{ref:n,className:i})}));q.propTypes={className:i.string},function(t){t.single="single",t.multiple="multiple",t.none="none"}(I||(I={})),function(t){t.toggle="toggle",t.remove="remove"}(T||(T={}));var K;!function(t){t.next="next",t.prev="prev",t.current="current",t.reset="reset"}(K||(K={}));var G;!function(t){t.remove="remove",t.add="add",t.reorder="reorder"}(G||(G={}));var Y=function(){return(Y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},X=o.createContext([null,function(t){}]),$=o.createContext([null,function(t){}]),Z=o.createContext([null,function(t){}]),J=function(t,e,n){var r=o.useState(t),i=r[0],a=r[1];return[i,function(t){var r=function(t,e){switch(e.selection){case I.single:switch(e.type){case T.toggle:if(!Array.isArray(t)||null===t)return e.payload===t?null:e.payload;throw new Error("State cannot be an array in single selection");case T.remove:return e.payload===t?null:t;default:return t}case I.multiple:switch(e.type){case T.toggle:if(Array.isArray(t))return t.some((function(t){return t===e.payload}))?t.filter((function(t){return t!==e.payload})):t.concat([e.payload]);if(null===t)return[e.payload];throw new Error("State cannot be non-array in multiple selection");case T.remove:return Array.isArray(t)?t.some((function(t){return t===e.payload}))?t.filter((function(t){return t!==e.payload})):t.concat([e.payload]):t;default:return t}case I.none:return null;default:return t}}(e.state||i,Y({},t,e));n&&n(r,t.event),a(r)}]},Q=function(t){var e=o.useState(null),n=e[0],r=e[1];return[n,function(e){var n=function(t,e){var n=e.items.findIndex((function(e){return e===t}));switch(e.type){case K.next:return n===e.items.length-1?t:e.items[n+1];case K.prev:return 0===n?t:e.items[n-1];case K.current:return e.payload;case K.reset:return null;default:return t}}(e.payload,Y({},e,t));r(n)}]},tt=function(t,e,n){var r=o.useState(t),i=r[0],a=r[1];return[i,function(t){var r=function(t,e){switch(e.type){case G.add:break;case G.remove:return t.filter((function(t){return t[e.valueField]!==e.payload}));case G.reorder:break;default:return t}}(e.state||i,Y({},t,e));n&&n(r,t.event),a(r)}]},et=o.forwardRef((function(t,e){Object(a.D)(s);var n=o.useRef(null),r=o.useRef(null),i=Object(a.z)(r,t.dir),l=o.useMemo((function(){return t.chip||it}),[t.chip,it]),c=o.useMemo((function(){return t.selection||rt.selection}),[t.selection,rt.selection]);o.useImperativeHandle(n,(function(){return{element:r.current,props:t}})),o.useImperativeHandle(e,(function(){return n.current}));var u=o.useCallback((function(e,r){t.onChange&&n.current&&t.onChange.call(void 0,{value:e,target:n.current,syntheticEvent:r})}),[t.onChange]),p=J(t.value||t.defaultValue,{selection:c,state:t.value},u),h=p[0],d=p[1],f=o.useCallback((function(e,r){t.onDataChange&&n.current&&t.onDataChange.call(void 0,{value:e,target:n.current,syntheticEvent:r})}),[t.onDataChange]),m=tt(t.data||t.defaultData||rt.defaultData,{state:t.data,valueField:t.valueField||rt.valueField},f),v=m[0],g=m[1],y=o.useCallback((function(e,n){return e.push(n[t.valueField||rt.valueField]),e}),[t.valueField,rt.valueField]),b=o.useMemo((function(){return t.data||v}),[t.data,v]),x=o.useMemo((function(){return t.value||h}),[t.value,h]),w=o.useMemo((function(){return b.reduce(y,[])}),[b,y]),k=Q({items:w}),O=k[0],C=k[1],_=Object(a.B)(t,n);return o.createElement(X.Provider,{value:[x,d]},o.createElement($.Provider,{value:[O,C]},o.createElement(Z.Provider,{value:[b,g]},o.createElement("div",Y({ref:r},_,{role:"listbox",id:t.id,dir:i,style:t.style,tabIndex:Object(a.p)(t.tabIndex,t.disabled,void 0),className:Object(a.g)("k-chip-list",{"k-rtl":"rtl"===i,"k-selection-single":"single"===c,"k-selection-multiple":"multiple"===c,"k-state-disabled":t.disabled},t.className),"aria-labelledby":t.ariaLabelledBy,"aria-describedby":t.ariaDescribedBy}),b.map((function(e){return o.createElement(l,{role:"option",dataItem:e,key:e[t.valueField||rt.valueField],text:e[t.textField||rt.textField],value:e[t.valueField||rt.valueField]})}))))))})),nt={id:i.string,className:i.string,tabIndex:i.number,data:i.any,defaultData:i.arrayOf(i.any),onDataChange:i.func,value:i.oneOfType([i.any,i.arrayOf(i.any)]),defaultValue:i.oneOfType([i.any,i.arrayOf(i.any)]),onChange:i.func,selection:i.oneOf(["single","none","multiple"]),textField:i.string,valueField:i.string,disabled:i.bool,dir:i.oneOf(["ltr","rtl"]),ariaLabelledBy:i.string,ariaDescribedBy:i.string},rt={chip:it,disabled:!1,defaultValue:null,defaultData:[],dir:"ltr",selection:"none",textField:"text",valueField:"value",removable:"removable"};et.displayName="KendoReactChipList",et.propTypes=nt,et.defaultProps=rt;var ot=function(){return(ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},it=o.forwardRef((function(t,e){Object(a.D)(s);var n=o.useRef(null),r=o.useRef(null),i=Object(a.z)(r,t.dir);o.useImperativeHandle(n,(function(){return{element:r.current,props:t}})),o.useImperativeHandle(e,(function(){return n.current}));var l=o.useContext(X),c=l[0],u=l[1],p=o.useContext($),h=p[0],d=p[1],f=o.useContext(Z)[1],m=o.useMemo((function(){return t.selected||(Array.isArray(c)?c.some((function(e){return e===t.value})):c===t.value)}),[t.selected,t.value,c]),v=o.useMemo((function(){return h===t.value}),[t.value,h]),g=o.useMemo((function(){return t.look||st.look}),[t.look]);o.useEffect((function(){v&&r.current&&r.current.focus()}),[v]);var y=o.useCallback((function(e){u({type:T.toggle,payload:t.value,event:e}),t.onClick&&t.onClick.call(void 0,{target:n.current,syntheticEvent:e})}),[t.onClick,u,t.value]),b=o.useCallback((function(e){t.removable&&(f({type:G.remove,payload:t.value,event:e}),d({type:K.reset,payload:t.value,event:e}),u({type:T.remove,payload:t.value,event:e}),t.onRemove&&t.onRemove.call(void 0,{target:n.current,syntheticEvent:e}))}),[t.onRemove,t.removable,f,d,u]),x=o.useCallback((function(e){switch(e.keyCode){case a.d.left:d({type:K.prev,payload:t.value,event:e});break;case a.d.right:d({type:K.next,payload:t.value,event:e});break;case a.d.enter:u({type:T.toggle,payload:t.value,event:e});break;case a.d.delete:b(e)}t.onKeyDown&&t.onKeyDown.call(void 0,{target:n.current,syntheticEvent:e})}),[t.onKeyDown,d,u,b]),w=o.useCallback((function(e){d({payload:t.value,type:K.current,event:e}),t.onFocus&&t.onFocus.call(void 0,{target:n.current,syntheticEvent:e})}),[t.onFocus,d]),k=o.useCallback((function(e){t.onBlur&&t.onBlur.call(void 0,{target:n.current,syntheticEvent:e})}),[t.onBlur]),O=Object(a.B)(t,n,{onClick:y});return o.createElement("div",ot({},O,{role:t.role,id:t.value,style:t.style,ref:r,dir:i,tabIndex:Object(a.p)(t.tabIndex,t.disabled,void 0),className:Object(a.g)("k-chip",{"k-rtl":"rtl"===i,"k-chip-disabled":t.disabled,"k-chip-selected":m,"k-chip-focused":v,"k-chip-success":"success"===t.type,"k-chip-warning":"warning"===t.type,"k-chip-error":"error"===t.type,"k-chip-info":"info"===t.type,"k-chip-has-icon":t.icon,"k-chip-outline":"outlined"===g,"k-chip-filled":"filled"===g},t.className),"aria-checked":m,"aria-disabled":t.disabled,"aria-describedby":t.ariaDescribedBy,onFocus:w,onBlur:k,onKeyDown:x}),o.createElement("span",{className:"k-selected-icon-wrapper"},m&&o.createElement("span",{className:"k-selected-icon k-icon "+(t.selectedIcon||st.selectedIcon)})),t.icon&&o.createElement("span",{className:"k-icon k-chip-icon "+t.icon}),o.createElement("span",{className:"k-chip-content"},void 0!==t.children?t.children:t.text&&o.createElement("span",{"aria-label":t.text,className:"k-chip-label"},t.text)),t.removable&&o.createElement("span",{className:"k-remove-icon",onClick:b},o.createElement("span",{className:"k-icon "+t.removeIcon})))})),at={id:i.string,text:i.string,value:i.any,type:i.oneOf(["none","success","warning","error","info"]),dir:i.oneOf(["ltr","rtl"]),removable:i.bool,removeIcon:i.string,disabled:i.bool,icon:i.string,selectedIcon:i.string,look:i.string,onRemove:i.func,dataItem:i.any,selected:i.bool,ariaDescribedBy:i.string},st={disabled:!1,removable:!1,selectedIcon:"k-i-check",look:"filled",removeIcon:"k-i-close-circle",dir:"ltr"};it.displayName="KendoReactChip",it.propTypes=at,it.defaultProps=st;var lt=function(){return(lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ct=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ut=o.forwardRef((function(t,e){var n=t.className,r=t.disabled,i=t.text,s=t.icon,l=t.style,c=t.id,u=t.focused,p=t.tabIndex,h=t.index,d=t.dataItem,f=t.item,m=t.onDown,v=t.onClick,g=ct(t,["className","disabled","text","icon","style","id","focused","tabIndex","index","dataItem","item","onDown","onClick"]),y=o.useRef(null),b=o.useCallback((function(){y.current&&y.current.focus()}),[]),x=o.useCallback((function(){return{element:y.current,focus:b}}),[b]);o.useImperativeHandle(e,x);var w=o.useCallback((function(t){v&&void 0!==h&&!r&&v(t,h)}),[v,h]),k=o.useMemo((function(){return Object(a.g)("k-fab-item",{"k-state-focus":u,"k-state-disabled":r},n)}),[n,r,u]),O=f;return o.createElement("li",lt({ref:y,id:c,className:k,style:l,role:"menuitem",tabIndex:Object(a.p)(p,r),"aria-disabled":r,"aria-label":(i||"")+" floatingactionbutton item",onClick:w,onMouseDown:m,onPointerDown:m},g),O?o.createElement(O,{itemIndex:h,item:d}):o.createElement(o.Fragment,null,i&&o.createElement("span",{className:"k-fab-item-text"},i),s&&o.createElement("span",{className:Object(a.g)("k-fab-item-icon k-icon k-i-"+s)})))}));ut.propTypes={className:i.string,style:i.object,children:i.any,disabled:i.bool,focused:i.bool,index:i.number,icon:i.string,text:i.string,tabIndex:i.number,customProp:i.any},ut.displayName="KendoFloatingActionButtonItem";var pt=function(t){return"number"==typeof t?t+"px":t},ht=function(t,e){var n={horizontal:e?"right":"left",vertical:"bottom"};return"end"===t.horizontal&&(n.horizontal=e?"left":"right"),n},dt=function(t,e){var n={horizontal:e?"right":"left",vertical:"top"};return"end"===t.horizontal&&(n.horizontal=e?"left":"right"),n},ft=function(t,e){return{end:e?"left":"right",center:"left",start:e?"right":"left"}[t.horizontal||"end"]},mt=function(t){return{top:"top",middle:"top",bottom:"bottom"}[t.vertical||"bottom"]},vt=function(){return(vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},gt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},yt=o.forwardRef((function(t,e){Object(a.D)(s);var n=t.align,r=void 0===n?bt.align:n,i=t.alignOffset,l=t.className,c=t.disabled,u=t.icon,p=t.iconClass,h=t.id,d=t.items,f=t.item,m=t.text,v=t.positionMode,g=void 0===v?bt.positionMode:v,y=t.shape,b=void 0===y?bt.shape:y,x=t.size,w=void 0===x?bt.size:x,k=t.style,O=t.themeColor,C=void 0===O?bt.themeColor:O,S=t.tabIndex,E=t.accessKey,I=t.popupSettings,T=void 0===I?{}:I,D=t.onClick,P=t.onItemClick,A=t.onFocus,j=t.onBlur,M=t.onKeyDown,R=t.onOpen,N=t.onClose,F=gt(t,["align","alignOffset","className","disabled","icon","iconClass","id","items","item","text","positionMode","shape","size","style","themeColor","tabIndex","accessKey","popupSettings","onClick","onItemClick","onFocus","onBlur","onKeyDown","onOpen","onClose"]),L=o.useRef(null),z=o.useRef(null),B=o.useRef(null),V=o.useRef(null),H=o.useCallback((function(){z.current&&z.current.focus()}),[]),U=o.useCallback((function(){return{element:z.current,focus:H}}),[H]);o.useImperativeHandle(L,U),o.useImperativeHandle(e,(function(){return L.current}));var W=o.useState(!1),q=W[0],K=W[1],G=o.useState(!1),Y=G[0],X=G[1],$=o.useState(-1),Z=$[0],J=$[1],Q=o.useMemo((function(){return Object(a.r)()}),[]),tt=Object(a.z)(z,t.dir),et="rtl"===tt,nt=o.useMemo((function(){return Object(a.r)()}),[]);o.useEffect((function(){!function(t,e,n,r){var o=e.horizontal,i=e.vertical;if(t.current){var a=n&&void 0!==n.x?pt(n.x):"16px",s=n&&void 0!==n.x?"calc(50% + "+pt(n.x)+")":"50%",l=n&&void 0!==n.y?pt(n.y):"16px",c=n&&void 0!==n.y?"calc(50% + "+pt(n.y)+")":"50%";t.current.style.setProperty(ft(e,r),"center"===o?s:a),t.current.style.setProperty(mt(e),"middle"===i?c:l),r&&("top"!==i&&"bottom"!==i||"start"!==o||t.current.style.setProperty("left","unset"),"middle"===i&&"end"===o&&t.current.style.setProperty("right","unset"),"middle"===i&&"start"===o&&t.current.style.setProperty("left","unset"))}}(z,r,i,et)}),[z,r,i,et]),o.useEffect((function(){Y&&z&&z.current&&z.current.focus()}),[Y,z]);var rt=o.useCallback((function(t,e){d&&Object(a.k)(e?R:N,t,U(),void 0)}),[R,N,d]),ot=o.useCallback((function(t){t.target&&!c&&(!d&&D?Object(a.k)(D,t,U(),void 0):(K(!q),X(!0),J(q?-1:0),rt(t,!q)))}),[K,X,J,D,rt,q,d,c]),it=o.useCallback((function(t){X(!0),J(q?0:-1),A&&Object(a.k)(A,t,U(),void 0)}),[A,X,J]),at=o.useCallback((function(t){X(!1),K(!1),J(-1),Object(a.k)(j,t,U(),void 0),q&&rt(t,!1)}),[j,X,K,J,rt]),st=o.useCallback((function(t){t.preventDefault()}),[]),lt=o.useCallback((function(t,e){d&&(d[e].disabled||Object(a.k)(P,t,U(),{itemProps:d[e],itemIndex:e}))}),[P]),ct=o.useCallback((function(t,e){t.target&&d&&(J(e),K(!1),lt(t,e),rt(t,!1))}),[J,K,lt,rt]),yt=o.useCallback((function(t){document.activeElement===z.current&&t.preventDefault()}),[z,document.activeElement]),xt=o.useCallback((function(t){var e=Z,n=d?d.length-1:-1,o="bottom"===r.vertical;switch(t.keyCode){case a.d.enter:case a.d.space:e>=0&&lt(t,e),t.preventDefault(),K(!q),J(q?-1:0);break;case a.d.esc:t.preventDefault(),K(!1),J(-1);break;case a.d.home:t.preventDefault(),J(0);break;case a.d.end:t.preventDefault(),J(n);break;case a.d.down:case a.d.right:t.preventDefault(),e<n&&!o&&J(e+1),e>0&&o&&J(e-1);break;case a.d.up:case a.d.left:t.preventDefault(),e>0&&!o&&J(e-1),e<n&&o&&J(e+1)}Object(a.k)(M,t,U(),void 0)}),[M,Z,J,et,K]),wt=o.useMemo((function(){return Object(a.g)("k-fab","k-fab-"+C,"k-fab-"+b,{"k-fab-sm":"small"===w,"k-fab-md":"medium"===w,"k-fab-lg":"large"===w,"k-state-disabled":c,"k-pos-absolute":"absolute"===g,"k-pos-fixed":"fixed"===g,"k-state-focus":Y},"k-"+r.vertical+"-"+r.horizontal,l)}),[C,w,b,c,g,r,Y,l]),kt=d&&d.map((function(t,e){return o.createElement(ut,vt({},t,{key:e,index:e,id:nt+"-"+e,disabled:c||t.disabled,focused:Z===e,dataItem:t,item:f,className:Object(a.g)(t.className,(n=tt||"ltr",i=r.horizontal,{rtl:{end:"k-text-left",start:"k-text-right"},ltr:{start:"k-text-left",end:"k-text-right"}}[n]["end"===i?"end":"start"])),onClick:ct,onDown:yt}));var n,i})),Ot=u&&!m,Ct=(z.current?z.current.offsetWidth:0)/2-16;return o.createElement(o.Fragment,null,o.createElement("button",vt({ref:z,id:h||Q,role:d?"menubutton":"button",type:"button","aria-disabled":c,"aria-expanded":d?q:void 0,"aria-haspopup":!!d,"aria-label":(m||"")+" floatingactionbutton","aria-owns":d?nt:void 0,"aria-activedescendant":Z>=0&&d?nt+"-"+Z:void 0,tabIndex:Object(a.p)(S,c),accessKey:E,dir:tt,disabled:c,className:wt,style:k,onClick:ot,onMouseDown:st,onFocus:it,onBlur:at,onKeyDown:xt},F),u?o.createElement("span",{role:"presentation",className:Object(a.g)("k-fab-icon k-icon k-i-"+u)}):p?o.createElement("span",{role:"presentation",className:p}):null,m&&o.createElement("span",{className:"k-fab-text"},m)),o.createElement(_.Popup,{ref:V,anchor:z.current,show:q,animate:T.animate,popupClass:Object(a.g)("k-popup-transparent k-fab-popup",T.popupClass),anchorAlign:T.anchorAlign||ht(r,et),popupAlign:T.popupAlign||dt(r,et),style:{boxShadow:"none"}},o.createElement("ul",{ref:B,role:"menu","aria-labelledby":h,id:nt,className:Object(a.g)("k-fab-items",{"k-fab-items-bottom":"bottom"!==r.vertical,"k-fab-items-top":"bottom"===r.vertical}),style:{paddingLeft:Ot?Ct:void 0,paddingRight:Ot?Ct:void 0}},kt)))}));yt.propTypes={className:i.string,style:i.object,id:i.string,dir:i.string,tabIndex:i.number,accessKey:i.string,disabled:i.bool,icon:i.string,iconClass:i.string,text:i.string,alignOffset:i.shape({x:i.oneOfType([i.number,i.string]),y:i.oneOfType([i.number,i.string])}),align:i.shape({vertical:i.oneOf(["top","middle","bottom"]),horizontal:i.oneOf(["start","center","end"])}),positionMode:i.oneOf(["absolute","fixed"]),shape:i.oneOf(["rectangle","rounded","pill"]),size:i.oneOf(["small","medium","large"]),themeColor:i.oneOf(["primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"])};var bt={align:{vertical:"bottom",horizontal:"end"},shape:"pill",size:"medium",themeColor:"primary",positionMode:"fixed"};yt.displayName="KendoFloatingActionButton"},function(t,e,n){"use strict";n.r(e),n.d(e,"FloatingLabel",(function(){return m})),n.d(e,"Label",(function(){return u})),n.d(e,"Error",(function(){return p})),n.d(e,"Hint",(function(){return h}));var r,o=n(0),i=n(1),a=n(2),s=((r={})["labels.optional"]="(Optional)",r),l=n(5),c={name:"@progress/kendo-react-labels",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616480,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},u=function(t){Object(a.D)(c);var e=t.id,n=t.editorId,r=t.editorRef,i=t.editorDisabled,u=t.children,p=t.editorValid,h=t.style,d=t.className,f=t.optional,m=Object(l.useLocalization)(),v=f?m.toLanguageString("labels.optional",s["labels.optional"]):"",g=v&&o.createElement("span",{className:"k-label-optional"},v),y=o.useCallback((function(t){if(r&&r.current&&!i){r.current.focus&&(t.preventDefault(),r.current.focus());var e=r.current.actionElement;e&&(t.preventDefault(),e.click())}}),[r]),b=Object(a.g)({"k-label":!0,"k-label-empty":!u,"k-text-error":!1===p,"k-text-disabled":!0===i},d);return o.createElement("label",{id:e,htmlFor:n,onClick:y,style:h,className:b},u,g)};u.propTypes={id:i.string,editorId:i.string,editorRef:i.oneOfType([i.func,i.shape({current:i.any})]),editorValid:i.bool,editorDisabled:i.bool,style:i.object,className:i.string,optional:i.bool},u.displayName="KendoReactLabel";var p=function(t){Object(a.D)(c);var e=Object(a.g)({"k-form-error":!0,"k-text-start":"start"===t.direction,"k-text-end":"end"===t.direction},t.className);return o.createElement("div",{id:t.id,role:"alert",style:t.style,className:e},t.children)};p.propTypes={id:i.string,direction:i.oneOf(["start","end"]),children:i.oneOfType([i.element,i.node]),style:i.object,className:i.string},p.defaultProps={direction:"start"},p.displayName="KendoReactError";var h=function(t){Object(a.D)(c);var e=Object(a.g)({"k-form-hint":!0,"k-text-start":"start"===t.direction,"k-text-end":"end"===t.direction,"k-text-disabled":!0===t.editorDisabled},t.className);return o.createElement("div",{id:t.id,style:t.style,className:e},t.children)};h.propTypes={id:i.string,direction:i.oneOf(["start","end"]),children:i.oneOfType([i.element,i.node]),style:i.object,className:i.string,editorDisabled:i.bool},h.defaultProps={direction:"start"},h.displayName="KendoReactHint";var d,f=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(t){function e(e){var n=t.call(this,e)||this;return n.state={focused:!1},n.handleFocus=function(t){n.setState({focused:!0})},n.handleBlur=function(t){n.setState({focused:!1})},Object(a.D)(c),n}return f(e,t),e.prototype.render=function(){var t=this.props,e=t.label,n=t.editorId,r=t.className,i=t.editorValue,c=t.editorPlaceholder,u=t.editorValid,p=t.editorDisabled,h=t.style,d=t.id,f=t.optional,m=Object(l.provideLocalizationService)(this),v=f?m.toLanguageString("labels.optional",s["labels.optional"]):"",g=v&&o.createElement("span",{className:"k-label-optional"},v),y=Object(a.g)({"k-textbox-container":!0,"k-state-focused":this.state.focused,"k-state-empty":!c&&!i&&0!==i,"k-text-disabled":p,"k-rtl":"rtl"===this.props.dir},r),b=Object(a.g)({"k-label":!0,"k-text-error":!1===u,"k-text-disabled":p});return o.createElement("span",{className:y,onFocus:this.handleFocus,onBlur:this.handleBlur,style:h,dir:this.props.dir},this.props.children,e?n?o.createElement("label",{id:d,htmlFor:n,className:b},e,g):o.createElement("span",{id:d,className:b},e,g):null)},e.propTypes={label:i.string,editorId:i.string,editorValue:i.oneOfType([i.string,i.bool,i.number]),editorPlaceholder:i.string,editorValid:i.bool,editorDisabled:i.bool,id:i.string,style:i.object,className:i.string,optional:i.bool},e}(o.Component);Object(l.registerForLocalization)(m)},function(t,e,n){"use strict";n.r(e),n.d(e,"FieldArray",(function(){return g})),n.d(e,"Field",(function(){return s})),n.d(e,"Form",(function(){return f})),n.d(e,"FieldWrapper",(function(){return y})),n.d(e,"FormElement",(function(){return w}));var r=n(0),o=r.createContext(null),i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},s=function(t){var e=t.name,n=t.component,s=t.validator,l=t.children,c=t.onChange,u=a(t,["name","component","validator","children","onChange"]),p=r.useContext(o),h=p?p.id:"";r.useEffect((function(){if(p)return p.registerField(e,s)}),[e,h,s]);var d=r.useCallback((function(t){var n=t?void 0!==t.value?t.value:t.target?t.target.value:t.target:t;p.onChange(e,{value:n}),c&&c.call(void 0,t)}),[e,h,c]),f=r.useCallback((function(t){return p.onChange(e,{value:t.target.value})}),[e,h]),m=r.useCallback((function(){return p.onBlur(e)}),[e,h]),v=r.useCallback((function(){return p.onFocus(e)}),[e,h]);if(!p)return null;var g=p.valueGetter(e);return"string"==typeof n?r.createElement(n,i({onChange:f,onBlur:m,onFocus:v,value:g,children:l},u)):r.createElement(n,i({children:l},u,{onChange:d,onBlur:m,onFocus:v,value:g,validationMessage:p.errors[e],touched:p.touched[e],modified:p.modified[e],visited:p.visited[e],valid:!(Boolean(p.errors[e])&&p.touched[e]),name:e}))};s.displayName="KendoReactField";var l,c=n(1),u=n(2),p={name:"@progress/kendo-react-form",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616831,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},h=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(){return(d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},f=function(t){function e(e){var n=t.call(this,e)||this;return n._id=Object(u.r)(),n._touched={},n._visited={},n._modified={},n._validatorsByField={},n._values={},n._fields={},n._unmounted=!1,n._submitted=!1,n.isValid=function(){return n.isFormValid(n.errors)},n.accumulatedForceUpdate=function(){n._accumulatorTimeout&&clearTimeout(n._accumulatorTimeout),n._accumulatorTimeout=window.setTimeout((function(){n._accumulatorTimeout=void 0,n.forceUpdate()}),0)},n.resetForm=function(){n.values=Object(u.h)(n.props.initialValues),n._id=Object(u.r)(),n._touched={},n._visited={},n._modified={},n._validatorsByField={},n._fields={},n._submitted=!1,n.forceUpdate()},n.onReset=function(){return n.resetForm()},n.addField=function(t){n._fields[t]=!0},n.onSubmit=function(t){var e={},r=n.fields;t&&("function"==typeof t.preventDefault&&t.preventDefault(),"function"==typeof t.stopPropagation&&t.stopPropagation()),r.forEach((function(t){e[t]=!0})),n.visited=d({},e),n.touched=d({},e);var o=n.values,i=n.isFormValid(n.errors),a=n.isFormModified(n.modified,r);n.props.onSubmitClick&&n.props.onSubmitClick.call(void 0,{values:o,isValid:i,isModified:a,event:t}),i&&(n.props.ignoreModified||a)&&n.props.onSubmit&&(n._submitted=!0,n.props.onSubmit.call(void 0,o,t)),n.forceUpdate()},n.onChange=function(t,e){var r,o=e.value;n.addField(t),n.modified[t]||(n.modified=d({},n.modified,((r={})[t]=!0,r))),n.valueSetter(t,o),n.forceUpdate()},n.onFocus=function(t,e){var r;n.visited[t]||(n.visited=d({},n.visited,((r={})[t]=!0,r)),e||n.forceUpdate())},n.onBlur=function(t,e){var r;n.touched[t]||(n.onFocus(t,e),n.touched=d({},n.touched,((r={})[t]=!0,r)),e||n.forceUpdate())},n.onFieldRegister=function(t,e){var r;n.addField(t);var o=n.validatorsByField[t]||[],i=o.length;return n.validatorsByField=d({},n.validatorsByField,((r={})[t]=o.concat([e]),r)),n.accumulatedForceUpdate(),function(){var e;if(!n._unmounted){var r=(n.validatorsByField[t]||[]).slice(),o=Boolean(r[i]);r[i]=void 0,n.validatorsByField=d({},n.validatorsByField,((e={})[t]=r,e)),o&&n.accumulatedForceUpdate()}}},n.isFormValid=function(t){return!Object.keys(t).some((function(e){return Boolean(t[e])}))},n.isFormModified=function(t,e){return e.some((function(e){return t[e]}))},n.isFormHasNotTouched=function(t,e){return e.some((function(e){return!t[e]}))},n.isFormTouched=function(t,e){return e.some((function(e){return t[e]}))},n.isFormVisited=function(t,e){return e.some((function(e){return t[e]}))},n.valueGetter=function(t){return Object(u.q)(t)(n.values)},n.valueSetter=function(t,e){return Object(u.x)(t)(n.values,e)},n.onArrayAction=function(t){var e;n.addField(t),n.modified[t]||(n.modified=d({},n.modified,((e={})[t]=!0,e))),n.onBlur(t,!0)},n.onInsert=function(t,e){n.onArrayAction(t);var r=(n.valueGetter(t)||[]).slice();r.splice(e.index,0,e.value),n.valueSetter(t,r),n.forceUpdate()},n.onUnshift=function(t,e){n.onInsert(t,{value:e.value,index:0})},n.onPush=function(t,e){n.onArrayAction(t);var r=(n.valueGetter(t)||[]).concat([e.value]);n.valueSetter(t,r),n.forceUpdate()},n.onPop=function(t){n.onArrayAction(t);var e=(n.valueGetter(t)||[]).slice(),r=e.pop();return n.valueSetter(t,e),n.forceUpdate(),r},n.onRemove=function(t,e){n.onArrayAction(t);var r=(n.valueGetter(t)||[]).slice(),o=r.splice(e.index,1);return n.valueSetter(t,r),n.forceUpdate(),o},n.onReplace=function(t,e){n.onArrayAction(t);var r=(n.valueGetter(t)||[]).slice();r.splice(e.index,1,e.value),n.valueSetter(t,r),n.forceUpdate()},n.onMove=function(t,e){n.onArrayAction(t);var r=(n.valueGetter(t)||[]).slice(),o=r[e.prevIndex];r.splice(e.prevIndex,1),r.splice(e.nextIndex,0,o),n.valueSetter(t,r),n.forceUpdate()},Object(u.D)(p),n.values=Object(u.h)(e.initialValues),n}return h(e,t),Object.defineProperty(e.prototype,"touched",{get:function(){return this._touched},set:function(t){this._touched=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visited",{get:function(){return this._visited},set:function(t){this._visited=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modified",{get:function(){return this._modified},set:function(t){this._modified=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validatorsByField",{get:function(){return this._validatorsByField},set:function(t){this._validatorsByField=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){this._values=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fields",{get:function(){return Object.keys(this._fields)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formErrors",{get:function(){if(this.props.validator)return this.props.validator(this.values,this.valueGetter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){var t=this,e={},n=this.fields,r=this.validatorsByField;return n.forEach((function(n){if(e[n]="",r[n]){var o=[];r[n].forEach((function(t){Array.isArray(t)?o.push.apply(o,t):o.push(t)})),o.find((function(r){if(r){var o=r(t.valueGetter(n),t.valueGetter,{name:n});if(o)return e[n]=o,!0}return!1}))}})),this.formErrors&&Object(u.j)(this.formErrors,e),e},enumerable:!0,configurable:!0}),e.prototype.componentWillUnmount=function(){this._unmounted=!0,this._accumulatorTimeout&&clearTimeout(this._accumulatorTimeout)},e.prototype.render=function(){var t=this.props.render,e=this.touched,n=this.visited,i=this.modified,a=this.fields,s=this.errors,l=this.isFormValid(s),c=this.isFormModified(i,a),u=this.isFormTouched(e,a),p=this.isFormVisited(n,a),h=this.isFormHasNotTouched(e,a)&&!l||l&&(this.props.ignoreModified||c);return r.createElement(o.Provider,{key:this._id,value:{id:this._id,valueGetter:this.valueGetter,errors:s,modified:i,touched:e,visited:n,registerField:this.onFieldRegister,onSubmit:this.onSubmit,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onUnshift:this.onUnshift,onPush:this.onPush,onInsert:this.onInsert,onPop:this.onPop,onRemove:this.onRemove,onReplace:this.onReplace,onMove:this.onMove}},t({valid:l,modified:c,touched:u,visited:p,submitted:this._submitted,valueGetter:this.valueGetter,errors:s,allowSubmit:h,onChange:this.onChange,onSubmit:this.onSubmit,onFormReset:this.resetForm}))},e.displayName="KendoReactForm",e.propTypes={initialValues:c.any,onSubmit:c.func,onSubmitClick:c.func,render:c.func.isRequired},e}(r.Component),m=function(){return(m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},v=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},g=function(t){var e=t.name,n=t.component,i=t.validator,a=(t.type,t.children),s=v(t,["name","component","validator","type","children"]),l=r.useContext(o),c=l?l.id:"";r.useEffect((function(){if(l)return l.registerField(e,i)}),[e,c,i]);var u=r.useCallback((function(t){return l.onUnshift(e,t)}),[e,c]),p=r.useCallback((function(t){return l.onPush(e,t)}),[e,c]),h=r.useCallback((function(t){return l.onInsert(e,t)}),[e,c]),d=r.useCallback((function(){return l.onPop(e)}),[e,c]),f=r.useCallback((function(t){return l.onRemove(e,t)}),[e,c]),g=r.useCallback((function(t){return l.onReplace(e,t)}),[e,c]),y=r.useCallback((function(t){return l.onMove(e,t)}),[e,c]);if(!l)return null;var b=l.valueGetter(e);return r.createElement(n,m({value:b,validationMessage:l.errors[e],touched:l.touched[e],modified:l.modified[e],visited:l.visited[e],valid:!(Boolean(l.errors[e])&&l.touched[e]),onUnshift:u,onPush:p,onInsert:h,onPop:d,onRemove:f,onReplace:g,onMove:y,children:a,name:e},s))};g.displayName="KendoReactFieldArray";var y=function(t){var e=Object(u.g)({"k-form-field":!0,"k-rtl":"rtl"===t.dir},t.className);return r.createElement("div",{className:e,style:t.style},t.children)};y.displayName="KendoReactFieldWrapper";var b=function(){return(b=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},x=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},w=r.forwardRef((function(t,e){var n=r.useRef(null),i=r.useRef(null);r.useImperativeHandle(i,(function(){return{element:n.current,props:t}})),r.useImperativeHandle(e,(function(){return i.current}));var a=r.useContext(o),s=t.className,l=(t.onSubmit,t.style,t.horizontal),c=x(t,["className","onSubmit","style","horizontal"]),p=Object(u.g)({"k-form":!0,"k-form-horizontal":!0===l},s);return r.createElement("form",b({ref:n},c,{style:t.style,className:p,onSubmit:a?a.onSubmit:void 0}),t.children)}));w.displayName="KendoReactFormElement"},function(t,e,n){"use strict";n.r(e),n.d(e,"getValueMap",(function(){return Ht})),n.d(e,"getMultiSelectTreeValue",(function(){return Ut})),n.d(e,"AutoComplete",(function(){return nt})),n.d(e,"DropDownList",(function(){return W})),n.d(e,"ComboBox",(function(){return Q})),n.d(e,"MultiSelect",(function(){return ht})),n.d(e,"MultiColumnComboBox",(function(){return gt})),n.d(e,"DropDownTree",(function(){return Pt})),n.d(e,"MultiSelectTree",(function(){return Bt}));var r,o,i=n(0),a=n(1),s=n(2),l=n(8),c=n(14),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.width,r=t.dir,o=t.itemsCount,a=t.popupSettings;return i.createElement(c.Popup,p({style:{width:n,direction:r},contentKey:o&&o.join()},a),e)},e}(i.Component),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.render=function(){var t=this;return i.createElement("span",{className:"k-list-filter"},i.createElement("input",{ref:function(e){return t.input=e},value:this.props.value||"",className:"k-textbox",onChange:this.props.onChange,onKeyDown:this.props.onKeyDown}),i.createElement("span",{className:"k-icon k-i-search"}))},e}(i.Component),m=function(t){return null!=t},v=function(t,e,n){if(!m(t))return!1;var r=String(t);return n&&(r=r.toLowerCase()),0===r.indexOf(e)},g=function(t,e,n){var r=-1;if(e){e=e.toLowerCase();for(var o=0;o<t.length;o++){var i=(b(t[o],n)||"")+"";if(i&&i.toLowerCase().startsWith(e)){r=o;break}}}return r},y=function(t,e,n,r){void 0===r&&(r=!1);var o=function(t){return r?t:t.toLowerCase()};return t.findIndex((function(t){return n?o(b(t,n))===o(e):o(e)===o(t.toString())}))},b=function(t,e){if(e&&m(t)){var n=e.split("."),r=t;return n.forEach((function(t){r=r?r[t]:void 0})),r}return t},x=function(t,e,n){e.forEach((function(e){var r=t.findIndex((function(t){return w(t,e,n)}));-1!==r&&t.splice(r,1)}))},w=function(t,e,n){return t===e||m(t)===m(e)&&b(t,n)===b(e,n)},k=function(t,e,n){if(e){var r=y(t,e,n,!0);return-1!==r?t[r]:t[g(t,e,n)]}return t[0]},O=function(t){"INPUT"!==t.target.nodeName&&t.preventDefault()},C=function(t,e,n){return!!t==!!e&&t.text===e.text&&(t===e||function(t,e,n){if(void 0===t&&(t=[]),void 0===e&&(e=[]),t===e)return!0;if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!w(t[r],e[r],n))return!1;return!0}(t.data,e.data,n))},_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t){return t.preventDefault()},E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.render=function(){var t=this.props,e=t.selected,n=t.defaultItem,r=t.textField;return i.createElement("div",{onClick:this.props.onClick,onMouseDown:S,className:Object(s.g)("k-list-optionlabel",{"k-state-selected":e})},b(n,r)||"")},e}(i.Component),I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleClick=function(t){return e.props.onClick(e.props.index,t)},e}return I(e,t),e.prototype.render=function(){var t=this.props,e=t.selected,n=t.group,r=t.dataItem,o=t.render,a=i.createElement("li",{id:this.props.id,role:"option","aria-selected":e,className:Object(s.g)("k-item",{"k-state-selected":e,"k-state-focused":this.props.focused,"k-first":Boolean(n)}),onClick:this.handleClick},b(r,this.props.textField).toString(),void 0!==n?i.createElement("div",{className:"k-group"},n):null);return void 0!==o?o.call(void 0,a,this.props):a},e}(i.Component),D=n(5),P="dropdowns.nodata",A="dropdowns.clear",j=((o={})[A]="clear",o[P]="NO DATA FOUND.",o),M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype.renderItems=function(){var t=this,e=this.props,n=e.textField,r=e.valueField,o=e.groupField,a=e.optionsGuid,s=e.skip,l=void 0===s?0:s,c=e.focusedIndex,u=e.highlightSelected,p=void 0===u||u,h=e.value,d=e.data,f=e.itemRender,m=Array.isArray(h);return d.map((function(e,s){var u,v,g=l+s,y=p&&(!m&&w(e,h,r)||m&&-1!==h.findIndex((function(t){return w(t,e,r)}))),x=void 0;return s>0&&void 0!==o&&(u=b(e,o),v=b(d[s-1],o),u&&v&&u!==v&&(x=u)),i.createElement(T,{id:"option-"+a+"-"+g,dataItem:e,selected:y,focused:c===s,index:g,key:g,onClick:t.props.onClick,textField:n,group:x,render:f})}))},e.prototype.renderNoValueElement=function(t){var e=this.props.noDataRender,n=i.createElement("div",{className:"k-nodata"},i.createElement("div",null,t.toLanguageString(P,j[P])));return e?e.call(void 0,n):n},e.prototype.render=function(){var t=Object(D.provideLocalizationService)(this),e=this.props,n=e.id,r=e.show,o=e.wrapperCssClass,a=e.wrapperStyle,s=e.listStyle,l=e.listRef,c=e.wrapperRef,u=e.listClassName,p=void 0===u?"k-list":u,h=this.renderItems();return h.length?i.createElement("div",{className:o,style:a,ref:c,onMouseDown:this.props.onMouseDown,onBlur:this.props.onBlur,onScroll:this.props.onScroll,unselectable:"on"},i.createElement("ul",{id:n,role:"listbox","aria-hidden":!r||void 0,className:p+" k-reset",ref:l,style:s},h)):this.renderNoValueElement(t)},e}(i.Component),N=R;Object(D.registerForLocalization)(R);var F=function(){function t(){var t=this;this.containerHeight=0,this.skip=0,this.total=0,this.enabled=!1,this.pageSize=0,this.itemHeight=0,this.prevScrollPos=0,this.listTranslate=0,this.scrollSyncing=!1,this.scrollerRef=function(e){var n=t;n.container=e,e&&(e.setAttribute("unselectable","on"),window.setTimeout(n.calcScrollElementHeight.bind(n),0))},this.calcScrollElementHeight=function(){t.scrollSyncing=!0;var e=!1;t.itemHeight=t.list?t.list.children[0].offsetHeight:t.itemHeight,t.containerHeight=Math.min(1533915,t.itemHeight*t.total);var n=t.containerHeight;return t.scrollElement&&(e=t.scrollElement.style.height!==n+"px")&&(t.scrollElement.style.height=n+"px"),t.scrollSyncing=!1,e},this.scrollHandler=this.scrollHandler.bind(this)}return Object.defineProperty(t.prototype,"translate",{get:function(){return this.listTranslate},enumerable:!0,configurable:!0}),t.prototype.changePage=function(t,e){var n=Math.min(Math.max(0,t),this.total-this.pageSize);n!==this.skip&&this.PageChange({skip:n,take:this.pageSize},e)},t.prototype.translateTo=function(t){this.listTranslate=t,this.list&&(this.list.style.transform="translateY("+t+"px)")},t.prototype.reset=function(){this.container&&(this.calcScrollElementHeight(),this.container.scrollTop=0,this.translateTo(0))},t.prototype.scrollToEnd=function(){this.container&&this.list&&(this.calcScrollElementHeight(),this.container.scrollTop=this.container.scrollHeight-this.container.offsetHeight,this.translateTo(this.container.scrollHeight-this.list.offsetHeight))},t.prototype.localScrollUp=function(t){var e,n=this.itemHeight,r=this.container.scrollTop,o=this.listTranslate,i=r-o;if(!(i>n)){for(e=0;e<this.skip&&!(o+n+i<=r);e++)o-=n;if(o=this.validateTranslate(o),this.skip-e<=0&&o>=r)return this.translateTo(0),this.changePage(0,t),void(this.container.scrollTop=0);o!==this.listTranslate&&(this.translateTo(o),this.changePage(this.skip-e,t))}},t.prototype.localScrollDown=function(t){var e,n=this.itemHeight,r=this.container.scrollTop,o=this.listTranslate,i=this.list.children.length;for(e=0;e<i&&!(o+n>=r);e++)o+=n;o=this.validateTranslate(o),e>=i&&this.skip+e>=this.total?(this.translateTo(o),this.changePage(this.total-1,t)):o!==this.listTranslate&&(this.translateTo(o),this.changePage(this.skip+e,t))},t.prototype.scrollNonStrict=function(t){var e=this.total*this.prevScrollPos/this.containerHeight,n=Math.min(Math.floor(e),this.total-1),r=this.containerHeight*e/this.total;r=this.validateTranslate(r),this.translateTo(r),this.changePage(n,t)},t.prototype.scrollHandler=function(t){var e=this.container?this.container.scrollTop:0,n=this.prevScrollPos;this.prevScrollPos=e,this.enabled&&this.list&&this.container&&!this.scrollSyncing&&(e-n<=0&&e>this.listTranslate-this.list.scrollHeight/10?this.localScrollUp(t):e-n>0&&e<this.listTranslate+2*this.list.scrollHeight/3?this.localScrollDown(t):this.scrollNonStrict(t))},t.prototype.validateTranslate=function(t){return t=Math.max(0,t),t=Math.min(this.containerHeight-this.list.offsetHeight,t)},t}(),L=function(){function t(){}return t.prototype.navigate=function(t){var e=t.keyCode;return e===s.d.up||e===s.d.left?this.next({current:t.current,min:t.min,max:t.max,step:-1}):e===s.d.down||e===s.d.right?this.next({current:t.current,min:t.min,max:t.max,step:1}):e===s.d.home?0:e===s.d.end?t.max:void 0},t.prototype.next=function(t){return m(t.current)?Math.min(t.max,Math.max(t.current+t.step,t.min)):t.min},t}(),z=function(){return(z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},B=function(){function t(t){var e=this;this.vs=new F,this.navigation=new L,this.handleItemClick=function(t,n){var r=e.initState();r.syntheticEvent=n,e.component.handleItemSelect(t,r),e.togglePopup(r),e.applyState(r)},this.handleFocus=function(t){if(!e.component.state.focused){var n=e.initState();n.data.focused=!0,n.events.push({type:"onFocus"}),n.syntheticEvent=t,e.applyState(n)}},this.filterChanged=function(t,n){var r=e.component.props,o=r.textField;r.filterable&&n.events.push({type:"onFilterChange",filter:{field:o,operator:"contains",ignoreCase:!0,value:t}})},this.togglePopup=function(t){var n=e.component.props,r=void 0!==n.opened?n.opened:e.component.state.opened;void 0===n.opened&&(t.data.opened=!r),r?t.events.push({type:"onClose"}):(t.events.push({type:"onOpen"}),e.calculatePopupWidth())},this.pageChange=function(t,n){var r=e.initState();r.syntheticEvent=n,e.triggerOnPageChange(r,t.skip,t.take),e.applyState(r)},this.scrollToVirtualItem=function(t,n){var r=e.vs;if(r.enabled=!1,0===t.skip)r.reset();else if(t.skip+t.pageSize===t.total)r.scrollToEnd();else{var o=r.translate;0===o&&(r.calcScrollElementHeight(),o=r.itemHeight*t.skip,r.translateTo(o-r.itemHeight)),r.container&&(r.container.scrollTop=o),e.scrollToItem(n,!0)}window.setTimeout((function(){return r.enabled=!0}),10)},this.renderScrollWrapper=function(t,n){var r=e.getPopupSettings(),o=e.vs;return o.enabled?i.createElement("div",{onScroll:function(t){o.scrollHandler(t),n&&n.call(void 0,t)},ref:o.scrollerRef,style:{height:r.height,overflowY:"scroll"}},t):t},this.renderScrollElement=function(){var t=e.vs;return t.enabled&&i.createElement("div",{ref:function(e){return t.scrollElement=e},key:"scrollElementKey"})},this.listBoxId=Object(s.r)(),this.guid=Object(s.r)(),this.component=t,this.vs.PageChange=this.pageChange}return t.prototype.didMount=function(){var t=this.component.props,e=t.popupSettings||{},n=t.style||{},r=e.width,o=!0===t.opened;void 0===r&&this.calculatePopupWidth(),void 0===t.dir&&void 0===n.direction&&(this.calculateDir(),o=!0),o&&this.component.forceUpdate()},t.prototype.calculateDir=function(){var t=this.component.element;t&&t.ownerDocument&&t.ownerDocument.defaultView&&(this.dirCalculated=t.ownerDocument.defaultView.getComputedStyle(t).direction||void 0)},t.prototype.calculatePopupWidth=function(){this.wrapper&&(this.popupWidth=this.wrapper.offsetWidth+"px")},t.prototype.scrollToItem=function(t,e){var n=this.list||this.vs.list;if(n&&t>=0){var r=this.vs,o=r.container||n.parentNode,i=void 0!==e?e:r.enabled;!function(t,e,n,r,o){var i=t.offsetHeight,a=e.children.item(n),s=a.offsetTop+(o?r-t.scrollTop:0),l=a.offsetHeight;if(o){var c=0;s+l>i?c=s+l-i:s<0&&(c=s),0!==c?t.scrollTop+=c:0===t.scrollTop&&0!==r&&(t.scrollTop=r)}else s+l>i+t.scrollTop?t.scrollTop=s+l-i:s<t.scrollTop&&(t.scrollTop-=t.scrollTop-s)}(o,n,t,r.translate,i)}},t.prototype.initState=function(){return{data:{},events:[],syntheticEvent:void 0}},t.prototype.applyState=function(t){var e=this;Object.keys(t.data).length>0&&this.component.setState(t.data);var n={syntheticEvent:t.syntheticEvent,nativeEvent:t.syntheticEvent?t.syntheticEvent.nativeEvent:void 0,target:this.component,value:this.component.value};t.events.forEach((function(t){var r=t.type;delete t.type;var o=r&&e.component.props[r];o&&o.call(void 0,z({},n,t))}))},t.prototype.triggerOnPageChange=function(t,e,n){var r=this.component.props.virtual;if(r){var o=Math.min(Math.max(0,e),Math.max(0,r.total-n));o!==r.skip&&t.events.push({type:"onPageChange",page:{skip:o,take:n}})}},t.prototype.triggerPageChangeCornerItems=function(t,e){var n=this.component.props,r=n.data,o=void 0===r?[]:r,i=n.dataItemKey,a=n.virtual,s=void 0!==n.opened?n.opened:this.component.state.opened;t&&a&&this.vs.enabled&&(a.skip>0&&w(t,o[0],i)?this.triggerOnPageChange(e,a.skip-1,a.pageSize):!s&&a.skip+a.pageSize<a.total&&w(t,o[o.length-1],i)&&this.triggerOnPageChange(e,a.skip+1,a.pageSize))},t.prototype.getPopupSettings=function(){return Object.assign({},t.defaultProps.popupSettings,this.component.props.popupSettings)},t.basicPropTypes={opened:a.bool,disabled:a.bool,dir:a.string,tabIndex:a.number,accessKey:a.string,data:a.array,textField:a.string,className:a.string,label:a.string,loading:a.bool,popupSettings:a.shape({animate:a.oneOfType([a.bool,a.shape({openDuration:a.number,closeDuration:a.number})]),className:a.string,appendTo:a.any,width:a.oneOfType([a.string,a.number]),height:a.oneOfType([a.string,a.number])}),onOpen:a.func,onClose:a.func,onFocus:a.func,onBlur:a.func,onChange:a.func,itemRender:a.func,listNoDataRender:a.func,focusedItemIndex:a.func,header:a.node,footer:a.node},t.propTypes=z({},t.basicPropTypes,{value:a.any,defaultValue:a.any,filterable:a.bool,filter:a.string,virtual:a.shape({pageSize:a.number.isRequired,skip:a.number.isRequired,total:a.number.isRequired}),onFilterChange:a.func,onPageChange:a.func}),t.defaultProps={popupSettings:{height:"200px"},required:!1,validityStyles:!0},t}(),V={name:"@progress/kendo-react-dropdowns",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616560,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},H=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U=function(){return(U=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},W=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n.base=new B(n),n.searchState={word:"",last:""},n._skipFocusEvent=!1,n._filterInput=null,n._navigated=!1,n.focus=function(){n.base.wrapper&&n.base.wrapper.focus()},n.handleItemSelect=function(t,e){var r=n.props,o=r.data,i=void 0===o?[]:o,a=r.virtual,s=r.dataItemKey,l=r.defaultItem,c=a?a.skip:0,u=-1===t&&void 0!==l?l:i[t-c],p=!w(u,n.value,s);n.triggerOnChange(u,e),p&&n.base.triggerPageChangeCornerItems(u,e)},n.renderDropDownWrapper=function(){var t=n.props,e=t.dataItemKey,r=t.data,o=void 0===r?[]:r,a=t.textField,l=t.disabled,c=t.tabIndex,u=t.loading,p=t.iconClassName,h=t.virtual,d=void 0===h?{skip:0}:h,f=t.valueRender,m=n.state.focused,v=void 0!==n.props.opened?n.props.opened:n.state.opened,g=n.value,y=o.findIndex((function(t){return w(t,g,e)})),x=b(g,a),k=i.createElement("span",{className:"k-input"},x),O=void 0!==f?f.call(void 0,k,g):k;return i.createElement("span",{ref:function(t){return n.base.wrapper=t},role:"listbox",tabIndex:Object(s.p)(c,l),accessKey:n.props.accessKey,className:Object(s.g)("k-dropdown-wrap",{"k-state-focused":m,"k-state-disabled":l}),onKeyDown:n.handleKeyDown,onKeyPress:n.handleKeyPress,onClick:l?void 0:n.handleWrapperClick,"aria-disabled":l||void 0,"aria-haspopup":!0,"aria-expanded":v||!1,"aria-owns":n.base.listBoxId,"aria-activedescendant":v?"option-"+n.base.guid+"-"+(y+d.skip):void 0,"aria-label":n.props.label,"aria-labelledby":n.props.ariaLabelledBy,"aria-describedby":n.props.ariaDescribedBy,id:n.props.id,title:n.props.title},O,i.createElement("span",{className:"k-select"},i.createElement("span",{className:Object(s.g)("k-icon",p,{"k-i-arrow-s":!u&&!p,"k-i-loading":u&&!p})})),n.dummySelect(g))},n.dummySelect=function(t){return i.createElement("select",{name:n.props.name,ref:function(t){n._select=t},tabIndex:-1,"aria-hidden":!0,title:n.props.label,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},i.createElement("option",{value:n.props.valueMap?n.props.valueMap.call(void 0,t):t}))},n.renderListContainer=function(){var t=n.props,e=t.header,r=t.footer,o=t.dir,a=t.data,l=void 0===a?[]:a,c=n.base,u=c.getPopupSettings(),p=void 0!==n.props.opened?n.props.opened:n.state.opened,d=void 0!==n.props.virtual,f=void 0!==u.width?u.width:c.popupWidth,m={dir:void 0!==o?o:c.dirCalculated,width:f,popupSettings:{className:Object(s.g)("k-list-container k-reset",u.className),animate:u.animate,anchor:n.element,show:p,onOpen:n.onPopupOpened,onClose:n.onPopupClosed,appendTo:u.appendTo},itemsCount:[l.length]};return i.createElement(h,U({},m),n.renderListFilter(),d&&n.renderDefaultItem(),d&&e,n.base.renderScrollWrapper(i.createElement(i.Fragment,null,!d&&n.renderDefaultItem(),!d&&e,n.renderList(),!d&&r,n.base.renderScrollElement())),d&&r)},n.renderList=function(){var t=n.props,e=t.data,r=void 0===e?[]:e,o=t.textField,a=t.dataItemKey,s=t.virtual,l=void 0===s?{skip:0}:s,c=t.listNoDataRender,u=t.itemRender,p=n.base.vs,h=l.skip,d=void 0!==n.props.opened?n.props.opened:n.state.opened,f=n.base.getPopupSettings(),m="translateY("+p.translate+"px)";return i.createElement(N,{id:n.base.listBoxId,show:d,data:r.slice(),focusedIndex:n.focusedIndex(),value:n.value,textField:o,valueField:a,optionsGuid:n.base.guid,listRef:function(t){return p.list=n.base.list=t},wrapperStyle:p.enabled?{float:"left",width:"100%"}:{maxHeight:f.height},wrapperCssClass:p.enabled?void 0:"k-list-scroller",listStyle:p.enabled?{transform:m}:void 0,key:"listkey",skip:h,onClick:n.handleItemClick,itemRender:u,noDataRender:c})},n.renderListFilter=function(){var t=void 0!==n.props.filter?n.props.filter:n.state.text;return n.props.filterable&&i.createElement(f,{value:t,ref:function(t){return n._filterInput=t&&t.input},onChange:n.handleListFilterChange,onKeyDown:n.handleKeyDown})},n.renderDefaultItem=function(){var t=n.props,e=t.textField,r=t.defaultItem,o=t.dataItemKey;return void 0!==r&&i.createElement(E,{defaultItem:r,textField:e,selected:w(n.value,r,o),key:"defaultitemkey",onClick:n.handleDefaultItemClick})},n.search=function(t){clearTimeout(n._typingTimeout),n.props.filterable||(n._typingTimeout=window.setTimeout((function(){return n.searchState.word=""}),n.props.delay),n.selectNext(t))},n.selectNext=function(t){var e,r=n.props,o=r.data,i=void 0===o?[]:o,a=r.dataItemKey,s=i.map((function(t,e){return{item:t,itemIndex:e}})),l=n.searchState.word,c=n.searchState.last,u=function(t,e){for(var n=0;n<t.length;n++)if(t.charAt(n)!==e)return!1;return!0}(l,c),p=s.length,h=Math.max(0,i.findIndex((function(t){return w(t,n.value,a)})));n.props.defaultItem&&(e={item:n.props.defaultItem,itemIndex:-1},p+=1,h+=1),s=function(t,e,n){var r=t;return n&&(r=[n].concat(r)),r.slice(e).concat(r.slice(0,e))}(s,h+=u?1:0,e);for(var d,f,m,g=0,y=n.props,x=y.textField,k=y.ignoreCase;g<p;g++)if(d=b(s[g].item,x),f=u&&v(d,c,k),m=v(d,l,k),f||m){g=s[g].itemIndex;break}if(g!==p){var O=n.base.initState();O.syntheticEvent=t,n.handleItemSelect(g,O),n.applyState(O),n._valueDuringOnChange=void 0}},n.handleKeyDown=function(t){var e=n.props,r=e.data,o=void 0===r?[]:r,i=e.filterable,a=e.disabled,l=e.leftRightKeysNavigation,c=void 0===l||l,u=e.virtual,p=void 0===u?{skip:0,total:0,pageSize:0}:u,h=void 0!==n.props.opened?n.props.opened:n.state.opened,d=t.keyCode,f=d===s.d.home||d===s.d.end,m=d===s.d.up||d===s.d.down,v=!h&&(t.altKey&&d===s.d.down||d===s.d.enter||d===s.d.space),g=h&&(t.altKey&&d===s.d.up||d===s.d.esc),y=c&&(d===s.d.left||d===s.d.right),b=m||!i&&(y||f),x=n.base.initState();if(x.syntheticEvent=t,!a){if(f&&n.base.vs.enabled)d===s.d.home?0!==p.skip?(n.base.triggerOnPageChange(x,0,p.pageSize),n._navigated=!0):n.triggerOnChange(o[0],x):p.skip<p.total-p.pageSize?(n.base.triggerOnPageChange(x,p.total-p.pageSize,p.pageSize),n._navigated=!0):n.triggerOnChange(o[o.length-1],x);else if(h&&d===s.d.enter){var w=n.focusedIndex();void 0!==w&&n.handleItemSelect(w,x),n.base.togglePopup(x),t.preventDefault()}else v||g?(n.base.togglePopup(x),t.preventDefault()):b&&(n.onNavigate(x,d),t.preventDefault());n.applyState(x)}},n.handleItemClick=function(t,e){n.base.handleItemClick(t,e),n._valueDuringOnChange=void 0},n.handleFocus=function(t){n._skipFocusEvent||n.base.handleFocus(t)},n.handleBlur=function(t){if(!n._skipFocusEvent&&n.state.focused){var e=void 0!==n.props.opened?n.props.opened:n.state.opened,r=n.base.initState();r.syntheticEvent=t,r.data.focused=!1,r.events.push({type:"onBlur"}),e&&n.base.togglePopup(r),n.applyState(r)}},n.handleDefaultItemClick=function(t){var e=n.base.initState();e.syntheticEvent=t,n.base.togglePopup(e),n.triggerOnChange(n.props.defaultItem,e),n.applyState(e)},n.handleWrapperClick=function(t){var e=n.base.initState();e.syntheticEvent=t,n.state.focused||(e.data.focused=!0),n.base.togglePopup(e),n.applyState(e)},n.handleKeyPress=function(t){if(!n.props.filterable&&0!==t.which&&t.keyCode!==s.d.enter){var e=String.fromCharCode(t.charCode||t.keyCode);n.props.ignoreCase&&(e=e.toLowerCase())," "===e&&t.preventDefault(),n.searchState={word:n.searchState.word+e,last:n.searchState.last+e},n.search(t)}},n.handleListFilterChange=function(t){var e=n.base.initState();e.syntheticEvent=t,void 0===n.props.filter&&(e.data.text=t.target.value),n.base.filterChanged(t.target.value,e),n.applyState(e)},n.onPopupOpened=function(){n._filterInput&&n.focusElement(n._filterInput)},n.onPopupClosed=function(){n.state.focused&&window.setTimeout((function(){n.state.focused&&n.base.wrapper&&n.focusElement(n.base.wrapper)}))},n.setValidity=function(){n._select&&n._select.setCustomValidity&&n._select.setCustomValidity(n.validity.valid?"":n.props.validationMessage||"Please select a value from the list!")},Object(s.D)(V),n}return H(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionElement",{get:function(){return this.base.wrapper},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var t;return void 0!==this._valueDuringOnChange?t=this._valueDuringOnChange:void 0!==this.props.value?t=this.props.value:void 0!==this.state.value?t=this.state.value:void 0!==this.props.defaultValue&&(t=this.props.defaultValue),m(t)||void 0===this.props.defaultItem||(t=this.props.defaultItem),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){var t=this.props,e=t.data,n=void 0===e?[]:e,r=t.dataItemKey,o=this.value;return n.findIndex((function(t){return w(t,o,r)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t=void 0!==this.props.validationMessage,e=!this.required||null!==this.value&&""!==this.value&&void 0!==this.value;return{customError:t,valid:void 0!==this.props.valid?this.props.valid:e,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:e.defaultProps.required},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(t,e){var n=this.props,r=n.data,o=void 0===r?[]:r,i=n.dataItemKey,a=n.virtual,s=t.virtual?t.virtual.total:0,l=void 0!==this.props.opened?this.props.opened:this.state.opened,c=void 0!==t.opened?t.opened:e.opened,u=!c&&l;if(this.base.getPopupSettings().animate||u&&this.onPopupOpened(),a&&a.total!==s)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{var p=this.value,h=void 0!==t.value?t.value:e.value,d=o.findIndex((function(t){return w(t,p,i)})),f=!w(h,p,i);u&&a?this.base.scrollToVirtualItem(a,d):u&&!a||l&&c&&p&&f&&!this._navigated?this.base.scrollToItem(d):l&&c&&this._navigated&&(this._navigated&&a&&0===a.skip?this.base.vs.reset():this._navigated&&a&&a.skip===a.total-a.pageSize&&this.base.vs.scrollToEnd())}this._navigated=!1,this.setValidity()},e.prototype.componentDidMount=function(){this.base.didMount(),this.setValidity()},e.prototype.render=function(){var t=this,e=this.props,n=e.style,r=e.className,o=e.label,a=e.dir,c=e.virtual,u=void 0!==this.props.opened?this.props.opened:this.state.opened,p=b(this.value,this.props.textField),h=!this.validityStyles||this.validity.valid,d=this.base;d.vs.enabled=void 0!==c,void 0!==c&&(d.vs.skip=c.skip,d.vs.total=c.total,d.vs.pageSize=c.pageSize);var f=i.createElement("span",{ref:function(e){return t._element=e},className:Object(s.g)("k-widget k-dropdown",{"k-state-invalid":!h},r),style:o?U({},n,{width:void 0}):n,dir:a,onMouseDown:u?O:void 0,onFocus:this.handleFocus,onBlur:this.handleBlur},this.renderDropDownWrapper(),this.renderListContainer());return o?i.createElement(l.FloatingLabel,{label:o,editorValue:p,editorValid:h,editorDisabled:this.props.disabled,style:{width:n?n.width:void 0},children:f}):f},e.prototype.onNavigate=function(t,e){var n=this.props,r=n.data,o=void 0===r?[]:r,i=n.defaultItem,a=n.dataItemKey,s=n.virtual,l=void 0===s?{skip:0,total:0,pageSize:0}:s,c=this.base.vs,u=this.value,p=o.findIndex((function(t){return w(t,u,a)})),h=this.base.navigation.navigate({current:l.skip+p,max:(c.enabled?l.total:o.length)-1,min:void 0!==i?-1:0,keyCode:e});void 0!==h&&this.handleItemSelect(h,t),this.applyState(t)},e.prototype.focusedIndex=function(){var t=m(this.props.filter)?this.props.filter:this.state.text,e=this.props,n=e.data,r=void 0===n?[]:n,o=e.virtual,i=void 0===o?{skip:0}:o,a=e.dataItemKey,s=e.textField,l=e.focusedItemIndex,c=this.value,u=!(r.findIndex((function(t){return w(t,c,a)}))<0&&!this.props.defaultItem);return!u&&t&&0===i.skip?l?l(r,t,s):r.indexOf(k(r,t,s)):u||0!==i.skip?void 0:0},e.prototype.focusElement=function(t){var e=this;this._skipFocusEvent=!0,t.focus(),window.setTimeout((function(){return e._skipFocusEvent=!1}),30)},e.prototype.triggerOnChange=function(t,e){w(this.value,t,this.props.dataItemKey)||(void 0===this.props.value&&(e.data.value=t),this._valueDuringOnChange=t,e.events.push({type:"onChange"}))},e.prototype.applyState=function(t){this.base.applyState(t),this._valueDuringOnChange=void 0},e.propTypes=U({delay:a.number,ignoreCase:a.bool,iconClassName:a.string,defaultItem:a.any,valueRender:a.func,valueMap:a.func,validationMessage:a.string,required:a.bool,id:a.string,ariaLabelledBy:a.string,ariaDescribedBy:a.string,leftRightKeysNavigation:a.bool,title:a.string},B.propTypes),e.defaultProps=U({delay:500,tabIndex:0,ignoreCase:!0},B.defaultProps,{required:!1}),e}(i.Component),q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){return t.preventDefault()},e}return q(e,t),e.prototype.render=function(){var t=Object(D.provideLocalizationService)(this).toLanguageString(A,j[A]);return i.createElement("span",{className:"k-icon k-clear-value k-i-close",role:"button",onClick:this.props.onClick,onMouseDown:this.onMouseDown,tabIndex:-1,title:t,key:"clearbutton"})},e}(i.Component),G=K;Object(D.registerForLocalization)(K);var Y,X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return X(e,t),Object.defineProperty(e.prototype,"input",{get:function(){return this._input},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(t){var e=t.value,n=t.suggestedText,r=this.props,o=r.value,i=r.suggestedText,a=r.focused,s=this.input,l=e!==o||i!==n,c=l&&e.startsWith(o)&&!(n&&i&&n.endsWith(i));a&&s&&document.activeElement!==s&&s.focus(),i&&l&&!c&&s&&s.setSelectionRange(o.length-i.length,o.length)},e.prototype.render=function(){var t=this,e=this.props,n=e.expanded,r=void 0!==n&&n,o=e.disabled,a=e.role,s=void 0===a?"listbox":a,l=e.render,c=i.createElement("span",{className:"k-searchbar",key:"searchbar"},i.createElement("input",{autoComplete:"off",id:this.props.id,type:"text",size:this.props.size,placeholder:this.props.placeholder,className:"k-input",tabIndex:this.props.tabIndex,accessKey:this.props.accessKey,role:s,name:this.props.name,value:this.props.value,onChange:this.props.onChange,ref:function(e){return t._input=e},onKeyDown:this.props.onKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur,"aria-disabled":o||void 0,disabled:o||void 0,readOnly:this.props.readOnly||void 0,"aria-haspopup":"listbox","aria-expanded":r,"aria-owns":this.props.owns,"aria-activedescendant":r?this.props.activedescendant:void 0,"aria-describedby":this.props.ariaDescribedBy,"aria-labelledby":this.props.ariaLabelledBy}));return[l?l.call(void 0,c):c,!this.props.loading&&this.props.clearButton&&i.createElement(G,{onClick:this.props.clearButtonClick,key:"clearbutton"}),this.props.loading&&i.createElement("span",{className:"k-icon k-i-loading",key:"loading"})]},e}(i.Component),Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(){return(J=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Q=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n.base=new B(n),n._inputId=Object(s.r)(),n._suggested="",n.itemHeight=0,n.focus=function(){n._input&&n._input.focus()},n.handleItemSelect=function(t,e){var r=n.props,o=r.data,i=void 0===o?[]:o,a=r.virtual,s=r.dataItemKey,l=i[t-(a?a.skip:0)],c=!w(l,n.value,s);n.triggerOnChange(l,e),void 0!==n.state.text&&(e.data.text=void 0),c&&n.base.triggerPageChangeCornerItems(l,e)},n.toggleBtnClick=function(t){var e=n.base.initState();e.syntheticEvent=t,n.base.togglePopup(e),n.applyState(e)},n.onScroll=function(t){var e=n.props,r=e.data,o=void 0===r?[]:r,i=e.groupField;if(i&&o.length){for(var a=n.base,s=a.vs,l=a.list,c=n.itemHeight=n.itemHeight||(s.enabled?s.itemHeight:l?l.children[0].offsetHeight:0),u=t.target.scrollTop-s.skip*c,p=o[0][i],h=1;h<o.length&&!(c*h>u);h++)o[h]&&o[h][i]&&(p=o[h][i]);p!==n.state.group&&n.setState({group:p})}},n.handleItemClick=function(t,e){n.base.handleItemClick(t,e),n._valueDuringOnChange=void 0},n.handleBlur=function(t){if(n.state.focused){var e=n.base.initState();e.data.focused=!1,e.events.push({type:"onBlur"}),e.syntheticEvent=t,n.applyValueOnRejectSuggestions(t.currentTarget.value,e)}},n.onInputKeyDown=function(t){var e=t.keyCode,r=void 0!==n.props.opened?n.props.opened:n.state.opened,o=n.base.initState();if(o.syntheticEvent=t,!t.altKey&&(e===s.d.up||e===s.d.down))return t.preventDefault(),n.onNavigate(o,e),void n.applyState(o);var i=function(){t.preventDefault(),n.base.togglePopup(o),n.applyState(o)};r?t.altKey&&e===s.d.up?i():e===s.d.enter?(t.preventDefault(),n.applyValueOnEnter(t.currentTarget.value,o)):e===s.d.esc&&n.applyValueOnRejectSuggestions(t.currentTarget.value,o):t.altKey&&e===s.d.down&&i()},n.inputOnChange=function(t){var e=n.base.initState();e.syntheticEvent=t;var r=void 0!==n.props.opened?n.props.opened:n.state.opened,o=t.currentTarget,i=o.value;if(n.props.suggest){var a=o.selectionEnd===i.length,s=void 0!==n.props.filter?n.props.filter:n.state.text;m(s)||(s=b(n.value,n.props.textField)||"");var l=s&&s===i,c=s&&s.length>i.length;l||c||!a?n._suggested="":n.suggestValue(i)}void 0===n.props.filter&&(e.data.text=i),void 0!==n.state.focusedItem&&(e.data.focusedItem=void 0),r||n.base.togglePopup(e),n.base.filterChanged(i,e),n.applyState(e)},n.clearButtonClick=function(t){var e=n.base.initState();e.syntheticEvent=t,t.stopPropagation(),n._suggested="",n.base.filterChanged("",e),void 0===n.props.filter&&void 0!==n.state.text&&(e.data.text=void 0),n.triggerOnChange(null,e),(void 0!==n.props.opened?n.props.opened:n.state.opened)&&n.base.togglePopup(e),n.applyState(e)},n.setValidity=function(){n._input&&n._input.setCustomValidity&&n._input.setCustomValidity(n.validity.valid?"":n.props.validationMessage||"Please enter a valid value!")},Object(s.D)(V),n}return Z(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return void 0!==this._valueDuringOnChange?this._valueDuringOnChange:void 0!==this.props.value?this.props.value:void 0!==this.state.value?this.state.value:void 0!==this.props.defaultValue?this.props.defaultValue:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){var t=this.props,e=t.data,n=void 0===e?[]:e,r=t.dataItemKey,o=this.value;return n.findIndex((function(t){return w(t,o,r)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t=void 0!==this.props.validationMessage,e=!this.required||null!==this.value&&""!==this.value&&void 0!==this.value;return{customError:t,valid:void 0!==this.props.valid?this.props.valid:e,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:e.defaultProps.required},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(t,e){var n=this.props,r=n.data,o=void 0===r?[]:r,i=n.dataItemKey,a=n.virtual,s=t.virtual?t.virtual.total:0,l=void 0!==this.props.opened?this.props.opened:this.state.opened,c=void 0!==t.opened?t.opened:e.opened,u=!c&&l,p=this.value;if(this._valueOnDidUpdate=p,a&&a.total!==s)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{var h=void 0!==t.value?t.value:e.value,d=o.findIndex((function(t){return w(t,p,i)})),f=!w(h,p,i);u&&a?this.base.scrollToVirtualItem(a,d):(u&&!a||l&&c&&p&&f)&&this.base.scrollToItem(d)}u&&this._input&&this._input.focus(),this.setValidity()},e.prototype.componentDidMount=function(){this.base.didMount(),this.setValidity()},e.prototype.render=function(){var t=this,n=this.props,r=n.dir,o=n.disabled,a=n.clearButton,c=void 0===a?e.defaultProps.clearButton:a,u=n.label,p=n.textField,h=n.className,d=n.style,f=n.loading,v=n.iconClassName,g=n.virtual,y=this.state.focused,x=!this.validityStyles||this.validity.valid,w=void 0!==this.props.filter?this.props.filter:this.state.text,k=b(this.value,p),O=m(w)?w:k,C=c&&(!!O||m(this.value)),_=this.base,S=_.vs,E=this.props.id||this._inputId;S.enabled=void 0!==g,void 0!==g&&(S.skip=g.skip,S.total=g.total,S.pageSize=g.pageSize);var I=i.createElement("span",{className:Object(s.g)("k-widget k-combobox",{"k-combobox-clearable":c,"k-state-invalid":!x},h),ref:function(e){return t._element=e},style:u?J({},d,{width:void 0}):d,dir:r},i.createElement("span",{ref:function(t){return _.wrapper=t},className:Object(s.g)("k-dropdown-wrap",{"k-state-disabled":o,"k-state-focused":y&&!o})},this.renderSearchBar(C,O||"",E),i.createElement("span",{className:"k-select",onClick:this.toggleBtnClick,onMouseDown:function(t){return t.preventDefault()}},i.createElement("span",{className:Object(s.g)("k-icon",v,{"k-i-arrow-s":!f&&!v,"k-i-loading":f&&!v})}))),this.renderListContainer());return u?i.createElement(l.FloatingLabel,{label:u,editorId:E,editorValue:O,editorValid:x,editorDisabled:o,style:{width:d?d.width:void 0},children:I}):I},e.prototype.onNavigate=function(t,e){var n=this.props,r=n.data,o=void 0===r?[]:r,i=n.virtual,a=void 0===i?{skip:0}:i,s=this.props.filter?this.props.filter:this.state.text,l=this.getFocusedIndex(),c=this.base.vs,u=this.value;if(this._suggested="",-1===l||m(u))if(""===s)this.handleItemSelect(0,t);else{var p=a.skip+l,h=this.base.navigation.navigate({keyCode:e,current:p,max:(c.enabled?c.total:o.length)-1,min:0});void 0!==h&&this.handleItemSelect(h,t)}else this.handleItemSelect(l,t)},e.prototype.applyValueOnEnter=function(t,e){var n,r=this.props,o=r.data,i=void 0===o?[]:o,a=r.textField,s=r.allowCustom,l=void 0!==this.props.opened?this.props.opened:this.state.opened,c=b(this.value,a)===t?this.index:y(i,t,a),u=-1!==c,p=void 0;if(this._suggested="",u)p=i[c];else{if(!s)return this.selectFocusedItem(t,e);p=void 0!==a?((n={})[a]=t,n):t}this.triggerOnChange(p,e),l&&this.base.togglePopup(e),void 0===this.props.filter&&void 0!==this.state.text&&(e.data.text=void 0),this.applyState(e)},e.prototype.applyValueOnRejectSuggestions=function(t,e){var n,r=this.props,o=r.data,i=void 0===o?[]:o,a=r.textField,s=r.allowCustom,l=void 0!==this.props.opened?this.props.opened:this.state.opened,c=b(this.value,a);if(this._suggested="",t===c||""===t&&!m(c))return l&&this.base.togglePopup(e),this.applyState(e);var u=y(i,t,a,!0),p=null;-1!==u?p=i[u]:s&&(p=t?a?((n={})[a]=t,n):t:null),this.triggerOnChange(p,e),void 0!==this.state.text&&(e.data.text=void 0,this.base.filterChanged("",e)),l&&this.base.togglePopup(e),this.applyState(e)},e.prototype.selectFocusedItem=function(t,e){var n=void 0!==this.props.opened?this.props.opened:this.state.opened,r=this.props,o=r.data,i=void 0===o?[]:o,a=r.textField,s=r.virtual,l=void 0===s?{skip:0}:s,c=r.focusedItemIndex,u=void 0===c?g:c,p=l.skip,h=""===t&&0===p?0:u(i,t,a);return-1!==h?this.handleItemSelect(h+p,e):(this.triggerOnChange(null,e),void 0!==this.state.text&&(e.data.text=void 0)),n&&this.base.togglePopup(e),this.applyState(e)},e.prototype.renderListContainer=function(){var t=this.base,e=this.props,n=e.dir,r=e.header,o=e.footer,a=e.data,l=void 0===a?[]:a,c=e.groupField,u=void 0!==this.props.opened?this.props.opened:this.state.opened,p=t.getPopupSettings(),d=void 0!==p.width?p.width:t.popupWidth,f=this.state.group;return void 0===f&&void 0!==c&&(f=b(l[0],c)),i.createElement(h,{width:d,popupSettings:{animate:p.animate,anchor:this.element,show:u,className:Object(s.g)("k-list-container k-reset",p.className),appendTo:p.appendTo},dir:void 0!==n?n:this.base.dirCalculated,itemsCount:[l.length]},r,f&&i.createElement("div",{className:"k-group-header"},f),t.renderScrollWrapper([this.renderList(),t.renderScrollElement()],this.onScroll),o)},e.prototype.renderList=function(){var t=this,e=this.base,n=this.props,r=n.textField,o=n.dataItemKey,a=n.listNoDataRender,s=n.itemRender,l=n.data,c=void 0===l?[]:l,u=n.virtual,p=void 0===u?{skip:0}:u,h=e.getPopupSettings(),d=e.vs,f=p.skip,v=void 0!==this.props.opened?this.props.opened:this.state.opened,g="translateY("+d.translate+"px)",y=v?this.getFocusedIndex():void 0,x=void 0!==this.props.filter?this.props.filter:this.state.text,w=b(this.value,r),k=m(x)&&x!==w?null:this.value,O=this.props.list||N;return i.createElement(O,{id:e.listBoxId,show:v,data:c,focusedIndex:y,value:k,textField:r,valueField:o,groupField:this.props.groupField,optionsGuid:e.guid,listRef:function(e){d.list=t.base.list=e,t.itemHeight=0},wrapperStyle:d.enabled?{float:"left",width:"100%"}:{maxHeight:h.height},wrapperCssClass:d.enabled?void 0:"k-list-scroller",listStyle:d.enabled?{transform:g}:void 0,key:"listkey",skip:f,onClick:this.handleItemClick,itemRender:s,noDataRender:a,onMouseDown:function(t){return t.preventDefault()},onScroll:this.onScroll})},e.prototype.renderSearchBar=function(t,e,n){var r=this,o=this.props,a=o.placeholder,s=o.tabIndex,l=o.disabled,c=o.data,u=void 0===c?[]:c,p=o.dataItemKey,h=o.virtual,d=void 0===h?{skip:0}:h,f=void 0!==this.props.opened?this.props.opened:this.state.opened,m=this.value,v=Math.max(0,u.findIndex((function(t){return w(t,m,p)})));return this._suggested&&!w(this._valueOnDidUpdate,m,p)&&(this._suggested=""),i.createElement($,{id:n,placeholder:a,tabIndex:s||void 0,accessKey:this.props.accessKey,value:e+this._suggested,suggestedText:this._suggested,ref:function(t){return r._input=t&&t.input},onKeyDown:this.onInputKeyDown,onChange:this.inputOnChange,onFocus:this.base.handleFocus,onBlur:this.handleBlur,disabled:l,expanded:f,owns:this.base.listBoxId,activedescendant:this.base.guid+"-"+(v+d.skip),role:"combobox",clearButton:t,clearButtonClick:this.clearButtonClick,ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy,render:this.props.valueRender})},e.prototype.triggerOnChange=function(t,e){var n=this.value;!m(n)&&!m(t)||w(n,t,this.props.dataItemKey)||(void 0===this.props.value&&(e.data.value=t),this._valueDuringOnChange=t,e.events.push({type:"onChange"}))},e.prototype.getFocusedIndex=function(){var t=this.value,e=this.props,n=e.data,r=void 0===n?[]:n,o=e.textField,i=e.dataItemKey,a=e.virtual,s=void 0===a?{skip:0}:a,l=e.focusedItemIndex,c=void 0===l?g:l,u=this.props.filter?this.props.filter:this.state.text;return m(t)&&void 0===u?r.findIndex((function(e){return w(e,t,i)})):u?c(r,u,o):0===s.skip?0:-1},e.prototype.suggestValue=function(t){var e=this.props,n=e.data,r=e.textField;this._suggested=function(t,e,n){void 0===e&&(e=[]);var r="";if(t){var o=e[g(e,t,n)];if(o){var i=b(o,n);t.toLowerCase()!==i.toLowerCase()&&(r=i.substring(t.length))}}return r}(t,n,r)},e.prototype.applyState=function(t){this.base.applyState(t),this._valueDuringOnChange=void 0},e.propTypes=J({},B.propTypes,{dataItemKey:a.string,groupField:a.string,suggest:a.bool,placeholder:a.string,allowCustom:a.bool,clearButton:a.bool,iconClassName:a.string,validationMessage:a.string,required:a.bool,id:a.string,ariaLabelledBy:a.string,ariaDescribedBy:a.string,list:a.any,valueRender:a.func}),e.defaultProps=J({},B.defaultProps,{allowCustom:!1,clearButton:!0,required:!1}),e}(i.Component),tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(){return(et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},nt=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n.base=new B(n),n._inputId=Object(s.r)(),n._suggested="",n.focus=function(){n._input&&n._input.focus()},n.handleItemSelect=function(t,e){var r=n.props.data,o=b((void 0===r?[]:r)[t],n.props.textField);n.triggerOnChange(o,e)},n.itemFocus=function(t,e){var r=n.props,o=r.data,i=void 0===o?[]:o,a=r.textField,s=i[t];w(n.state.focusedItem,s,a)||(e.data.focusedItem=s)},n.togglePopup=function(t){n.base.togglePopup(t)},n.setValidity=function(){n._input&&n._input.setCustomValidity&&n._input.setCustomValidity(n.validity.valid?"":n.props.validationMessage||"Please enter a valid value!")},n.handleItemClick=function(t,e){n.base.handleItemClick(t,e),n._valueDuringOnChange=void 0},n.onChangeHandler=function(t){var e=n.base.initState(),r=t.currentTarget,o=r.value,i=r.selectionEnd===o.length;e.syntheticEvent=t;var a=n._suggested,s=n.value,l=s&&s.substring(0,s.length-a.length),c=l&&l===o,u=l&&l.length>o.length,p=n.props.suggest,h=void 0!==n.props.opened?n.props.opened:n.state.opened;if(void 0!==p&&!1!==p){c||u||!i?n._suggested="":n.suggestValue(o);var d=o+n._suggested,f={userInput:o,value:n._suggested};n.triggerOnChange(d,e,{suggestion:f})}else n._suggested="",n.triggerOnChange(o,e);(!h&&o||h&&!o)&&n.togglePopup(e),e.data.focusedItem=void 0,n.applyState(e)},n.clearButtonClick=function(t){var e=n.base.initState(),r=void 0!==n.props.opened?n.props.opened:n.state.opened;e.syntheticEvent=t;n._suggested="",n.triggerOnChange("",e),void 0!==n.state.focusedItem&&(e.data.focusedItem=void 0),r&&n.togglePopup(e),n.applyState(e)},n.onInputKeyDown=function(t){var e=t.keyCode,r=void 0!==n.props.opened?n.props.opened:n.state.opened,o=n.base.initState();o.syntheticEvent=t;var i=function(){r&&t.preventDefault()};e===s.d.enter||e===s.d.esc?(i(),n.applyInputValue(t.currentTarget.value,o,t.keyCode)):e!==s.d.up&&e!==s.d.down||(i(),n.onNavigate(o,e))},n.handleBlur=function(t){if(n.state.focused){var e=n.base.initState();e.data.focused=!1,e.events.push({type:"onBlur"}),e.syntheticEvent=t,n.applyInputValue(t.currentTarget.value,e)}},Object(s.D)(V),n}return tt(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return void 0!==this._valueDuringOnChange?this._valueDuringOnChange:void 0!==this.props.value?this.props.value:void 0!==this.state.value?this.state.value:void 0!==this.props.defaultValue?this.props.defaultValue:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t=void 0!==this.props.validationMessage,e=!this.required||""!==this.value;return{customError:t,valid:void 0!==this.props.valid?this.props.valid:e,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:e.defaultProps.required},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(t,e){var n=this.props.data,r=void 0===n?[]:n,o=t.data,i=void 0===o?[]:o,a=this.focusedIndex(),s=r[a],l=i!==r,c=void 0!==s&&e.focusedItem!==s,u=void 0!==this.props.opened?this.props.opened:this.state.opened,p=void 0!==t.opened?t.opened:e.opened;(u&&(c||l)||!p&&u)&&this.base.scrollToItem(a),this.setValidity()},e.prototype.componentDidMount=function(){this.base.didMount(),this.setValidity()},e.prototype.render=function(){var t=this,e=this.props,n=e.dir,r=e.disabled,o=e.label,a=e.className,c=e.style,u=e.loading,p=e.suggest,h=!this.validityStyles||this.validity.valid,d=this.state.focused,f=this.base,m=this.value,v=!1!==this.props.clearButton&&!u&&!!m,g=this.props.id||this._inputId;"string"==typeof p&&(this._suggested=p);var y=i.createElement("span",{className:Object(s.g)("k-widget k-autocomplete",a,{"k-state-disabled":r,"k-state-focused":d&&!r,"k-state-invalid":!h}),ref:function(e){t._element=e,f.wrapper=e},style:o?et({},c,{width:void 0}):c,dir:n},this.renderSearchBar(v,m||"",g),u&&i.createElement("span",{className:"k-icon k-i-loading"}),this.renderListContainer());return o?i.createElement(l.FloatingLabel,{label:o,editorId:g,editorValue:m,editorValid:h,editorDisabled:r,style:{width:c?c.width:void 0},children:y}):y},e.prototype.onNavigate=function(t,e){var n=this,r=this.value,o=this.props,i=o.data,a=void 0===i?[]:i,s=o.textField,l=o.focusedItemIndex,c=void 0!==this.state.focusedItem?a.findIndex((function(t){return w(t,n.state.focusedItem,s)})):l?l(a,r,s):a.indexOf(k(a,r,s)),u=this.base.navigation.navigate({keyCode:e,current:c,max:a.length-1,min:0});void 0!==u&&this.itemFocus(u,t),this.applyState(t)},e.prototype.applyInputValue=function(t,e,n){var r=void 0!==this.props.opened?this.props.opened:this.state.opened,o=this.props,i=o.data,a=void 0===i?[]:i,l=o.textField;if(this._suggested="",r&&n===s.d.enter){var c=b(a[this.focusedIndex(t)],l);this.triggerOnChange(c,e)}r&&this.togglePopup(e),this.applyState(e)},e.prototype.renderSearchBar=function(t,e,n){var r=this,o=this.base,a=this.props,s=a.placeholder,l=a.tabIndex,c=a.disabled,u=a.readonly,p=this.state.focused,h=void 0!==this.props.opened?this.props.opened:this.state.opened;return i.createElement($,{id:n,placeholder:s,tabIndex:l||void 0,accessKey:this.props.accessKey,value:e,suggestedText:this._suggested,focused:p,name:this.props.name,ref:function(t){return r._input=t&&t.input},onKeyDown:this.onInputKeyDown,onChange:this.onChangeHandler,onFocus:o.handleFocus,onBlur:this.handleBlur,disabled:c,readOnly:u,expanded:h,owns:o.listBoxId,activedescendant:"option-"+o.guid+"-"+this.focusedIndex(),role:"combobox",clearButton:t,clearButtonClick:this.clearButtonClick,ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy,render:this.props.valueRender})},e.prototype.renderListContainer=function(){var t=this.base,e=this.props,n=e.dir,r=e.header,o=e.footer,a=e.data,l=void 0===a?[]:a,c=t.getPopupSettings(),u=void 0!==this.props.opened?this.props.opened:this.state.opened,p=void 0!==c.width?c.width:t.popupWidth;return i.createElement(h,{width:p,popupSettings:{animate:c.animate,anchor:this.element,show:u,className:Object(s.g)("k-list-container k-reset",c.className),appendTo:c.appendTo},dir:void 0!==n?n:this.base.dirCalculated,itemsCount:[l.length]},r,this.renderList(),o)},e.prototype.renderList=function(){var t=this.base,e=t.getPopupSettings(),n=this.props,r=n.textField,o=n.data,a=void 0===o?[]:o,s=n.listNoDataRender,l=n.itemRender,c=this.value,u=void 0!==this.props.opened?this.props.opened:this.state.opened;return i.createElement(N,{id:t.listBoxId,show:u,data:a.slice(),focusedIndex:this.focusedIndex(),value:c,textField:r,valueField:r,highlightSelected:!1,optionsGuid:t.guid,listRef:function(e){return t.list=e},wrapperStyle:{maxHeight:e.height},wrapperCssClass:"k-list-scroller",onClick:this.handleItemClick,itemRender:l,noDataRender:s,onMouseDown:function(t){return t.preventDefault()}})},e.prototype.triggerOnChange=function(t,e,n){(this.value!==t||n)&&(e.data.value=t,this._valueDuringOnChange=t,e.events.push(et({type:"onChange"},n||{})))},e.prototype.applyState=function(t){this.base.applyState(t),this._valueDuringOnChange=void 0},e.prototype.suggestValue=function(t){if(this._suggested="",t){var e=this.props,n=e.data,r=void 0===n?[]:n,o=e.textField,i=r[g(r,t,o)];if(i){var a=b(i,o);t.toLowerCase()!==a.toLowerCase()&&(this._suggested=a.substring(t.length))}}},e.prototype.focusedIndex=function(t){var e=this,n=this.props,r=n.data,o=void 0===r?[]:r,i=n.textField,a=n.focusedItemIndex,s=void 0!==t?t:this.value;return void 0!==this.state.focusedItem?o.findIndex((function(t){return w(t,e.state.focusedItem,i)})):a?a(o,s,i):Math.max(0,o.indexOf(k(o,s,i)))},e.propTypes=et({},B.basicPropTypes,{suggest:a.oneOfType([a.bool,a.string]),placeholder:a.string,value:a.string,defaultValue:a.string,validationMessage:a.string,required:a.bool,readonly:a.bool,clearButton:a.bool,valueRender:a.func,id:a.string,ariaLabelledBy:a.string,ariaDescribedBy:a.string}),e.defaultProps=et({},B.defaultProps),e}(i.Component),rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ot=function(t){return t.preventDefault()},it=function(t){return t.stopPropagation()},at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rt(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.data,r=e.guid,o=this.props.tag;return i.createElement("ul",{className:"k-reset",role:"listbox",id:"tagslist-"+r},n.map((function(e,a){var s=o?i.createElement(o,{tagData:e,guid:r,focusedTag:t.props.focused,onTagDelete:t.props.onTagDelete}):i.createElement("li",{className:e===t.props.focused?"k-button k-state-focused":"k-button",key:e.text+a,id:"tag-"+r+"-"+e.text.replace(/\s+/g,"-"),onMouseDown:ot,onClick:it,"aria-selected":!0,role:"option","aria-setsize":n.length},i.createElement("span",null,e.text),i.createElement("span",{"aria-label":"delete",className:"k-select",onClick:function(n){return t.props.onTagDelete.call(void 0,e.data,n)}},i.createElement("span",{className:"k-icon k-i-close"})));return t.props.tagRender?t.props.tagRender(e,s):s})))},e}(i.Component);!function(t){t[t.PopupList=0]="PopupList",t[t.TagsList=1]="TagsList"}(Y||(Y={}));var st,lt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ct=function(){return(ct=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ut=function(t){return t.preventDefault()},pt=function(t){return t===st.CustomItem};!function(t){t[t.None=0]="None",t[t.ListItem=1]="ListItem",t[t.CustomItem=2]="CustomItem"}(st||(st={}));var ht=function(t){function e(e){var n=t.call(this,e)||this;return n.state={activedescendant:Y.PopupList},n._valueItemsDuringOnChange=null,n._inputId=Object(s.r)(),n.base=new B(n),n._tags=[],n._skipFocusEvent=!1,n.scrollToFocused=!1,n.focus=function(){n._input&&n._input.focus()},n.handleItemSelect=function(t,e){var r=n.props,o=r.data,i=void 0===o?[]:o,a=r.dataItemKey,s=r.virtual,l=i[t-(s?s.skip:0)],c=n.value.findIndex((function(t){return w(t,l,a)})),u=[];-1!==c?(u=n.value).splice(c,1):u=n.value.concat([l]),(void 0!==n.props.filter?n.props.filter:n.state.text)&&(n.state.text&&(e.data.text=""),n.base.filterChanged("",e)),void 0!==n.state.focusedIndex&&(e.data.focusedIndex=void 0),n.triggerOnChange(u,e),n.base.triggerPageChangeCornerItems(l,e)},n.onTagDelete=function(t,e){var r=void 0!==n.props.opened?n.props.opened:n.state.opened,o=n.base.initState();o.syntheticEvent=e,r&&n.base.togglePopup(o),n.state.focused||(o.data.focused=!0,n.focus());var i=n.value;x(i,t,n.props.dataItemKey),n.triggerOnChange(i,o),n.applyState(o)},n.itemFocus=function(t,e){var r=n.props,o=r.data,i=void 0===o?[]:o,a=r.allowCustom,s=r.virtual,l=s?s.skip:0,c=void 0!==n.props.filter?n.props.filter:n.state.text,u=n.getFocusedState().focusedIndex,p=a&&c,h=i[t-l];h&&u!==t?n.state.focusedIndex!==t&&(e.data.focusedIndex=t,e.data.activedescendant=Y.PopupList):p&&-1===t&&void 0!==n.state.focusedIndex&&(e.data.focusedIndex=void 0),n.base.triggerPageChangeCornerItems(h,e)},n.searchbarRef=function(t){var e=n._input=t&&t.input;e&&n.state.focused&&window.setTimeout((function(){return e.focus()}),0)},n.onChangeHandler=function(t){var e=n.base.initState(),r=t.currentTarget.value,o=void 0!==n.props.opened?n.props.opened:n.state.opened;e.syntheticEvent=t,void 0===n.props.filter&&(e.data.text=r),e.data.focusedIndex=void 0,o||n.base.togglePopup(e),n.base.filterChanged(r,e),n.applyState(e)},n.clearButtonClick=function(t){var e=void 0!==n.props.opened?n.props.opened:n.state.opened,r=n.base.initState();r.syntheticEvent=t,t.stopPropagation(),n.value.length>0&&n.triggerOnChange([],r),void 0!==n.state.focusedIndex&&(r.data.focusedIndex=void 0),e&&n.base.togglePopup(r);var o=void 0!==n.props.filter?n.props.filter:n.state.text;m(o)&&""!==o&&n.base.filterChanged("",r),n.state.text&&(r.data.text=""),n.applyState(r)},n.onInputKeyDown=function(t){var e=t.keyCode,r=void 0!==n.props.filter?n.props.filter:n.state.text,o=void 0!==n.props.opened?n.props.opened:n.state.opened,i=n.getFocusedState().focusedItem,a=n.base.initState();if(a.syntheticEvent=t,!r&&n.value.length>0&&(e===s.d.left||e===s.d.right||e===s.d.home||e===s.d.end||e===s.d.delete||e===s.d.backspace))return n.onTagsNavigate(t,a);var l=function(){t.preventDefault(),n.base.togglePopup(a),n.applyState(a)};o?t.altKey&&e===s.d.up?l():e===s.d.up||e===s.d.down?(t.preventDefault(),n.onNavigate(a,e)):e===s.d.enter?(t.preventDefault(),n.props.allowCustom&&r&&null===i?n.customItemSelect(t):n.selectFocusedItem(t)):e===s.d.esc&&l():t.altKey&&e===s.d.down&&l()},n.renderListContainer=function(){var t=n.base,e=n.props,r=e.header,o=e.footer,a=e.allowCustom,l=e.dir,c=e.data,u=void 0===c?[]:c,p=n.base.getPopupSettings(),d=void 0!==n.props.opened?n.props.opened:n.state.opened,f=void 0!==n.props.filter?n.props.filter:n.state.text,m=void 0!==n.props.virtual,v=void 0!==p.width?p.width:t.popupWidth,g={dir:void 0!==l?l:t.dirCalculated,width:v,popupSettings:{className:Object(s.g)("k-list-container k-reset",p.className),animate:p.animate,anchor:n.element,show:d,onOpen:n.onPopupOpened,onClose:n.onPopupClosed,appendTo:p.appendTo},itemsCount:[u.length,n.value.length]},y=n.getFocusedState().focusedType,b=a&&f&&i.createElement("div",{className:"k-list",key:"customitem",onClick:n.customItemSelect},i.createElement("div",{className:Object(s.g)("k-item k-custom-item",{"k-state-focused":pt(y)})},f,i.createElement("span",{className:"k-icon k-i-plus",style:{float:"right"}})));return i.createElement(h,ct({},g),m&&r,n.base.renderScrollWrapper(i.createElement(i.Fragment,null,!m&&r,b,n.renderList(),!m&&o,n.base.renderScrollElement())),m&&o)},n.renderList=function(){var t=n.props,e=t.data,r=void 0===e?[]:e,o=t.textField,a=t.listNoDataRender,s=t.itemRender,l=t.dataItemKey,c=t.virtual,u=n.base.vs,p=c?c.skip:0,h=void 0!==n.props.opened?n.props.opened:n.state.opened,d=n.getFocusedState().focusedIndex,f=n.base.getPopupSettings(),m="translateY("+u.translate+"px)";return i.createElement(N,{id:n.base.listBoxId,show:h,data:r.slice(),focusedIndex:d-p,value:n.value,textField:o,valueField:l,optionsGuid:n.base.guid,listRef:function(t){u.list=n.base.list=t},wrapperStyle:u.enabled?{float:"left",width:"100%"}:{maxHeight:f.height},wrapperCssClass:u.enabled?void 0:"k-list-scroller",listStyle:u.enabled?{transform:m}:void 0,key:"listKey",skip:p,onClick:n.handleItemClick,itemRender:s,noDataRender:a,onMouseDown:ut,onBlur:n.handleBlur})},n.customItemSelect=function(t){var e,r=void 0!==n.props.filter?n.props.filter:n.state.text,o=n.props.textField;if(r){var i=n.base.initState();i.syntheticEvent=t;var a=o?((e={})[o]=r,e):r;void 0!==n.state.text&&(i.data.text=""),i.data.focusedIndex=void 0,n.base.filterChanged("",i);var s=n.value.concat([a]);n.triggerOnChange(s,i),n.base.togglePopup(i),n.applyState(i)}},n.handleWrapperClick=function(t){var e=void 0!==n.props.opened?n.props.opened:n.state.opened,r=n._input;!e&&r&&n.focusElement(r);var o=n.base.initState();o.syntheticEvent=t,n.state.focused||(o.events.push({type:"onFocus"}),o.data.focused=!0),n.base.togglePopup(o),n.applyState(o)},n.handleItemClick=function(t,e){var r=n.base.initState();r.syntheticEvent=e,n.handleItemSelect(t,r),n.props.autoClose&&n.base.togglePopup(r),n.applyState(r)},n.handleBlur=function(t){if(n.state.focused&&!n._skipFocusEvent){var e=void 0!==n.props.opened?n.props.opened:n.state.opened,r=n.base.initState(),o=n.props,i=o.allowCustom,a=o.filterable;r.syntheticEvent=t,r.data.focused=!1,r.events.push({type:"onBlur"}),e&&(n.state.opened&&(r.data.opened=!1),r.events.push({type:"onClose"})),i||a||!n.state.text||(r.data.text=""),n.applyState(r)}},n.handleFocus=function(t){n._skipFocusEvent||n.base.handleFocus(t)},n.onPopupOpened=function(){n._input&&n.state.focused&&n.focusElement(n._input)},n.onPopupClosed=function(){n.state.focused&&window.setTimeout((function(){n.state.focused&&n.focusElement(n._input)}),0)},n.setValidity=function(){n._input&&n._input.setCustomValidity&&n._input.setCustomValidity(n.validity.valid?"":n.props.validationMessage||"Please enter a valid value!")},Object(s.D)(V),n}return lt(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var t=[];return this._valueItemsDuringOnChange?t.push.apply(t,this._valueItemsDuringOnChange):this.props.value?t.push.apply(t,this.props.value):this.state.value?t.push.apply(t,this.state.value):this.props.defaultValue&&t.push.apply(t,this.props.defaultValue),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t=void 0!==this.props.validationMessage,e=!this.required||null!==this.value&&this.value.length>0&&void 0!==this.value;return{customError:t,valid:void 0!==this.props.valid?this.props.valid:e,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:e.defaultProps.required},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(t,e){var n=this.props.virtual,r=n?n.skip:0,o=t.virtual?t.virtual.total:0,i=void 0!==this.props.opened?this.props.opened:this.state.opened,a=void 0!==t.opened?t.opened:e.opened,s=!a&&i,l=a&&!i;if(!this.base.getPopupSettings().animate&&l&&this.onPopupClosed(),n&&n.total!==o)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{var c=this.getFocusedState(),u=c.focusedItem,p=c.focusedIndex;s&&n?this.base.scrollToVirtualItem(n,p-r):s&&!n?this.base.scrollToItem(p):i&&a&&u&&this.scrollToFocused&&this.base.scrollToItem(p-r)}this.scrollToFocused=!1,this.setValidity()},e.prototype.componentDidMount=function(){this.base.didMount(),this.setValidity()},e.prototype.onNavigate=function(t,e){var n=this.props,r=n.allowCustom,o=n.data,i=void 0===o?[]:o,a=void 0!==this.props.opened?this.props.opened:this.state.opened,l=void 0!==this.props.filter?this.props.filter:this.state.text,c=this.getFocusedState(),u=c.focusedType,p=c.focusedIndex,h=r&&l,d=pt(u),f=this.base,m=f.vs;if(a&&e===s.d.up&&d)void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0);else{var v=f.navigation.navigate({keyCode:e,current:p,max:(m.enabled?m.total:i.length)-1,min:h?-1:0});void 0!==v&&(this.itemFocus(v,t),this.scrollToFocused=!0)}this.applyState(t)},e.prototype.render=function(){var t=this,e=this.props,n=e.style,r=e.className,o=e.label,a=e.dir,c=e.disabled,u=e.tags,p=e.textField,h=e.dataItemKey,d=e.virtual,f=this.state,m=f.focused,v=f.text,g=f.focusedTag,y=this.base.vs,x=this.props.id||this._inputId;y.enabled=void 0!==d,void 0!==d&&(y.skip=d.skip,y.total=d.total,y.pageSize=d.pageSize);var w=[];void 0===u?this.value.forEach((function(t){w.push({text:b(t,p),data:[t]})})):w.push.apply(w,u),this.setItems(w,this._tags);var k=!this.validityStyles||this.validity.valid,_=i.createElement("span",{ref:function(e){return t._element=e},className:Object(s.g)("k-widget k-multiselect",r,{"k-state-focused":m&&!c,"k-state-invalid":!k,"k-state-disabled":c}),style:o?ct({},n,{width:void 0}):n,dir:a,onFocus:this.handleFocus,onBlur:this.handleBlur},i.createElement("div",{onClick:this.handleWrapperClick,ref:function(e){return t.base.wrapper=e},className:"k-multiselect-wrap k-floatwrap",onMouseDown:O},w.length>0&&i.createElement(at,{tagRender:this.props.tagRender,onTagDelete:this.onTagDelete,data:w,guid:this.base.guid,focused:g?w.find((function(t){return C(t,g,h)})):void 0}),this.renderSearchbar(x)),this.renderListContainer());return o?i.createElement(l.FloatingLabel,{label:o,editorId:x,editorValue:v||b(this.value[0],p),editorValid:k,editorDisabled:c,style:{width:n?n.width:void 0},children:_}):_},e.prototype.renderSearchbar=function(t){var e=this.state,n=e.activedescendant,r=e.focusedTag,o=this.props,a=o.disabled,s=o.placeholder,l=o.ariaDescribedBy,c=(void 0!==this.props.filter?this.props.filter:this.state.text)||"",u=void 0!==this.props.opened?this.props.opened:this.state.opened,p=this.getFocusedState().focusedIndex,h=!!c||this.value.length>0,d=0!==this.value.length||c?void 0:s,f=n===Y.TagsList&&void 0!==r?"tag-"+this.base.guid+"-"+r.text.replace(/\s+/g,"-"):"option-"+this.base.guid+"-"+p;return i.createElement($,{id:t,size:Math.max((d||"").length,c.length,1),tabIndex:this.props.tabIndex,accessKey:this.props.accessKey,placeholder:d,value:c,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,ref:this.searchbarRef,disabled:a,expanded:u,owns:this.base.listBoxId,activedescendant:f,ariaDescribedBy:"tagslist-"+this.base.guid+(l?" "+l:""),clearButton:h,clearButtonClick:this.clearButtonClick,loading:this.props.loading,ariaLabelledBy:this.props.ariaLabelledBy})},e.prototype.onTagsNavigate=function(t,e){var n=t.keyCode,r=this.state.focusedTag,o=this._tags,i=this.props.dataItemKey,a=r?o.findIndex((function(t){return C(t,r,i)})):-1,l=void 0,c=-1!==a;if(n===s.d.left)l=o[a=c?Math.max(0,a-1):o.length-1];else if(n===s.d.right)a===o.length-1?l=void 0:c&&(l=o[a=Math.min(o.length-1,a+1)]);else if(n===s.d.home)l=o[0];else if(n===s.d.end)l=o[o.length-1];else if(n===s.d.delete){if(c){var u=this.value;x(u,o[a].data,i),this.triggerOnChange(u,e)}}else if(n===s.d.backspace){u=this.value;if(c)x(u,o[a].data,i),this.triggerOnChange(u,e);else if(!c&&o.length){var p=o.pop();x(u,p.data,i),this.triggerOnChange(u,e)}}l!==r&&(e.data.focusedTag=l,e.data.activedescendant=Y.TagsList),this.applyState(e)},e.prototype.triggerOnChange=function(t,e){void 0===this.props.value&&(e.data.value=t.slice()),this._valueItemsDuringOnChange=[],this.setItems(t,this._valueItemsDuringOnChange),e.events.push({type:"onChange"})},e.prototype.selectFocusedItem=function(t){var e=this.props,n=e.data,r=void 0===n?[]:n,o=e.virtual,i=this.getFocusedState().focusedIndex;void 0!==r[i-(o?o.skip:0)]&&this.handleItemClick(i,t)},e.prototype.setItems=function(t,e){e.length=0,e.push.apply(e,t)},e.prototype.getFocusedState=function(){var t,e=this.state.focusedIndex,n=void 0!==this.props.filter?this.props.filter:this.state.text,r=this.props,o=r.allowCustom,i=r.data,a=void 0===i?[]:i,s=r.dataItemKey,l=r.virtual,c=r.textField,u=r.focusedItemIndex,p=void 0===u?g:u,h=l&&l.skip||0;if(void 0!==e)return{focusedIndex:e,focusedItem:a[e-h],focusedType:st.ListItem};var d=this.value;if(o&&n)return{focusedItem:null,focusedIndex:-1,focusedType:st.CustomItem};if(n)return{focusedItem:a[t=p(a,n,c)],focusedIndex:t+h,focusedType:st.ListItem};if(d.length){var f=d[d.length-1];return t=a.findIndex((function(t){return w(t,f,s)})),void 0!==a[t]?{focusedIndex:t+h,focusedItem:a[t],focusedType:st.ListItem}:{focusedType:st.None,focusedIndex:-1}}return 0===h?{focusedItem:a[0],focusedIndex:0,focusedType:st.ListItem}:{focusedType:st.None,focusedIndex:-1}},e.prototype.focusElement=function(t){var e=this;this._skipFocusEvent=!0,t.focus(),window.setTimeout((function(){return e._skipFocusEvent=!1}),0)},e.prototype.applyState=function(t){this.base.applyState(t),this._valueItemsDuringOnChange=null},e.propTypes=ct({},B.propTypes,{autoClose:a.bool,value:a.arrayOf(a.any),defaultValue:a.arrayOf(a.any),dataItemKey:a.string,placeholder:a.string,tags:a.arrayOf(a.shape({text:a.string,data:a.arrayOf(a.any)})),tagRender:a.func,id:a.string,ariaLabelledBy:a.string,ariaDescribedBy:a.string}),e.defaultProps=ct({},B.defaultProps,{autoClose:!0,required:!1}),e}(i.Component),dt=function(){return(dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ft=function(t){return i.createElement(N,dt({},t,{listClassName:"k-grid-list"}))},mt=function(){return(mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},vt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},gt=i.forwardRef((function(t,e){var n=i.useRef(null),r=i.useRef(null),o=Object(s.o)(),a=t.columns,l=void 0===a?bt.columns:a,c=t.popupSettings,u=void 0===c?bt.popupSettings:c,p=t.onOpen,h=t.onClose,d=t.onFocus,f=t.onBlur,m=t.onChange,v=t.onFilterChange,g=t.onPageChange,y=vt(t,["columns","popupSettings","onOpen","onClose","onFocus","onBlur","onChange","onFilterChange","onPageChange"]);i.useImperativeHandle(n,(function(){return{element:r.current&&r.current.element,focus:function(){r.current&&r.current.focus()},get value(){return r.current&&r.current.value},get name(){return r.current&&r.current.name},props:t}})),i.useImperativeHandle(e,(function(){return n.current}));var b=i.useMemo((function(){return"calc("+l.map((function(t){return e=t.width,n=bt.width,e?"number"==typeof e?e+"px":e:n;var e,n})).filter(Boolean).join(" + ")+" + "+o+"px)"}),[l,o]),x=i.useMemo((function(){return i.createElement(i.Fragment,null,t.header,i.createElement("div",{className:"k-grid-header"},i.createElement("div",{className:"k-grid-header-wrap"},i.createElement("table",{role:"presentation"},i.createElement("colgroup",null,l.map((function(t,e){return i.createElement("col",{key:t.uniqueKey?t.uniqueKey:e,style:{width:t.width?t.width:bt.width}})}))),i.createElement("tbody",null,i.createElement("tr",null,l.map((function(t,e){return i.createElement("th",{key:t.uniqueKey?t.uniqueKey:e,className:"k-header"},t.header||"")}))))))))}),[t.header,l]),w=t.virtual?t.virtual.skip:0,k=i.useCallback((function(e,n){var r,o,a,c=l.map((function(t,e){return i.createElement("span",{className:"k-cell",style:{width:t.width?t.width:bt.width},key:t.uniqueKey?t.uniqueKey:e},t.field?Object(s.q)(t.field)(n.dataItem):"")})),u=void 0,p=t.data||[],h=n.index-w;void 0!==t.groupField&&(r=(a=Object(s.q)(t.groupField))(p[h]),o=a(p[h-1]),r&&o&&r!==o&&(u=r)),u&&c.push(i.createElement("div",{key:"group",className:"k-cell k-group-cell"},i.createElement("span",null,u)));var d=i.cloneElement(e,mt({},e.props),c);return t.itemRender?t.itemRender.call(void 0,d,n):d}),[l,t.groupField,t.itemRender,t.data,w]),O=i.useCallback((function(t,e){t&&t.call(void 0,mt({},e,{target:n.current}))}),[]),C=i.useCallback((function(t){return O(p,t)}),[p]),_=i.useCallback((function(t){return O(h,t)}),[h]),S=i.useCallback((function(t){return O(d,t)}),[d]),E=i.useCallback((function(t){return O(f,t)}),[f]),I=i.useCallback((function(t){return O(m,t)}),[m]),T=i.useCallback((function(t){return O(v,t)}),[v]),D=i.useCallback((function(t){return O(g,t)}),[g]);i.useEffect((function(){Object(s.w)()}));var P=i.useCallback((function(t){return i.createElement(ft,mt({},t))}),[]);return i.createElement(Q,mt({},y,{list:P,popupSettings:mt({width:b},u,{className:Object(s.g)("k-dropdowngrid-popup k-popup-flush",u.className)}),ref:r,header:x,itemRender:k,onOpen:C,onClose:_,onFocus:S,onBlur:E,onChange:I,onFilterChange:T,onPageChange:D}))})),yt=mt({},Q.propTypes,{columns:a.any.isRequired}),bt={columns:[],popupSettings:{},width:"200px"};gt.displayName="KendoMultiColumnComboBox",gt.propTypes=yt,gt.defaultProps=bt;var xt=n(20);function wt(t,e,n){var r=i.useState(e),o=r[0],a=r[1];return i.useEffect((function(){void 0!==o&&t.current&&a(t.current.offsetWidth)}),n),o}var kt=function(t){return i.createElement("div",{className:"k-nodata"},i.createElement("div",null,t.children))},Ot=function(){return(Ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ct=function(t){return i.createElement(i.Fragment,null,t.children)},_t=function(t){return t.split("_").map((function(t){return parseInt(t,10)}))},St="selected",Et="items",It={animate:!0,width:"200px",height:"200px"},Tt=!1,Dt=!0,Pt=i.forwardRef((function(t,e){Object(s.D)(V);var n=i.useMemo((function(){return Object(s.r)()}),[]),r=t.id||n,o=t.data,a=void 0===o?[]:o,u=t.dataItemKey,p=t.popupSettings,h=void 0===p?{}:p,d=t.style,f=void 0===d?{}:d,v=t.opened,g=t.disabled,y=t.onOpen,x=void 0===y?s.v:y,k=t.onClose,O=void 0===k?s.v:k,C=t.placeholder,_=t.label,S=t.name,E=t.selectField,I=void 0===E?St:E,T=t.subItemsField,M=void 0===T?Et:T,R=t.validationMessage,N=t.valid,F=t.required,L=void 0===F?Tt:F,z=t.validityStyles,B=void 0===z?Dt:z,H=Object(s.p)(t.tabIndex,g),U=i.useRef(null),W=i.useRef(null),q=i.useRef(null),K=i.useRef(null),G=i.useRef(null),Y=i.useRef(!1),X=i.useState(void 0),$=X[0],Z=X[1],J=void 0!==t.value,Q=J?t.value:void 0!==$?$:t.defaultValue,tt=m(Q),et=tt?b(Q,t.textField):"",nt=function(t,e){var n=t.validationMessage,r=t.valid,o=t.required;return{customError:void 0!==n,valid:Boolean(void 0!==r?r:!o||e),valueMissing:!e}}({validationMessage:R,valid:N,required:L},tt),rt=i.useCallback((function(){return W.current&&W.current.focus()}),[]);i.useImperativeHandle(U,(function(){return{props:t,element:W.current,actionElement:W.current,focus:rt}})),i.useImperativeHandle(e,(function(){return U.current}));var ot=Object(s.C)(W,t.dir),it=void 0!==h.width?h.width:void 0!==f.width?f.width:It.width,at=wt(W,it),st=Ot({width:at},void 0!==ot?{direction:ot}:{}),lt=i.useState(!1),ct=lt[0],ut=lt[1],pt=void 0!==v?v:ct,ht=i.useState(!1),dt=ht[0],ft=ht[1],mt=i.useState(""),vt=mt[0],gt=mt[1],yt=i.useCallback((function(){K.current&&K.current.setCustomValidity&&K.current.setCustomValidity(nt.valid?"":void 0===R?"Please select a value from the list!":R)}),[R,nt]);i.useEffect(yt);var bt=i.useCallback((function(t){if(!pt){if(x){var e=Ot({},t);x.call(void 0,e)}void 0===v&&ut(!0)}}),[pt,v,x]),Pt=i.useCallback((function(t){if(pt){if(O){var e=Ot({},t);O.call(void 0,e)}void 0===v&&ut(!1)}}),[pt,v,O]),At=i.useCallback((function(t){if(!t.isDefaultPrevented()&&U.current){ft(!0);var e={syntheticEvent:t,nativeEvent:t.nativeEvent,target:U.current};(pt?Pt:bt)(e)}}),[pt,v,x,O]),jt=i.useCallback((function(t){Y.current=!0,t(),window.setTimeout((function(){return Y.current=!1}),0)}),[]),Mt=i.useCallback((function(t){var e=t.keyCode,n=t.altKey,r=G.current&&G.current.element;if(U.current&&(!t.isDefaultPrevented()||q.current!==t.target)){var o={syntheticEvent:t,nativeEvent:t.nativeEvent,target:U.current};if(pt)if(e===s.d.esc||n&&e===s.d.up)Pt(o);else if(r&&r.querySelector(".k-state-focused")&&(e===s.d.up||e===s.d.down||e===s.d.left||e===s.d.right||e===s.d.home||e===s.d.end)){if(e===s.d.up&&q.current){var i=Array.from(r.querySelectorAll(".k-treeview-item")),a=i.slice().reverse().find((function(t){return Boolean(t&&t.querySelector(".k-state-focused"))}));if(a&&0===i.indexOf(a))return jt((function(){Nt(q.current)}))}jt(s.v)}else e===s.d.down&&jt((function(){Nt(q.current||r)}));else n&&e===s.d.down&&bt(o)}}),[pt,v,x,O]),Rt=i.useCallback((function(t){var e=t.keyCode;t.altKey||e!==s.d.up&&e!==s.d.down||(t.preventDefault(),jt(e===s.d.up?function(){Nt(W.current)}:function(){Nt(G.current&&G.current.element)}))}),[]),Nt=i.useCallback((function(t){t&&jt((function(){return t.focus()}))}),[]),Ft=i.useCallback((function(){!dt&&pt?Pt({target:U.current}):t.filterable?Nt(q.current):Nt(G.current&&G.current.element)}),[O,t.filterable,dt,v,pt]),Lt=i.useCallback((function(){dt&&Nt(W.current)}),[dt]),zt=i.useCallback((function(e){if(!dt&&!Y.current&&(ft(!0),t.onFocus&&U.current)){var n={syntheticEvent:e,nativeEvent:e.nativeEvent,target:U.current};t.onFocus.call(void 0,n)}}),[dt,t.onFocus]),Bt=i.useCallback((function(e){if(dt&&!Y.current&&U.current){ft(!1);var n={syntheticEvent:e,nativeEvent:e.nativeEvent,target:U.current};if(t.onBlur){var r=Ot({},n);t.onBlur.call(void 0,r)}Pt(n)}}),[dt,t.onBlur,pt,v,O]),Vt=i.useCallback((function(){dt&&jt(s.v)}),[dt]),Ht=i.useCallback((function(e,n,r){if(t.onChange){var o=Ot({value:n,level:r?_t(r):[]},e);t.onChange.call(void 0,o)}J||Z(n)}),[t.onChange,J]),Ut=i.useCallback((function(t){if(!w(t.item,Q,u)&&U.current){var e=t.item,n=t.itemHierarchicalIndex,r=t.nativeEvent,o={syntheticEvent:t.syntheticEvent,nativeEvent:r,target:U.current};Ht(o,e,n),Pt(o)}}),[J,Q,t.onChange,u,pt,v,O]),Wt=i.useCallback((function(t){if(U.current){var e={syntheticEvent:t,nativeEvent:t.nativeEvent,target:U.current};Ht(e,null),Pt(e),t.preventDefault()}}),[J,t.onChange,pt,v,O]),qt=i.useCallback((function(e){if(t.onExpandChange&&U.current){var n=e.item,r=e.itemHierarchicalIndex,o=e.nativeEvent,i=e.syntheticEvent,a={level:_t(r),item:n,nativeEvent:o,syntheticEvent:i,target:U.current};t.onExpandChange.call(void 0,a)}}),[t.onExpandChange]),Kt=i.useCallback((function(e){if(t.onFilterChange&&U.current){var n={filter:{field:t.textField,operator:"contains",value:e.target.value},syntheticEvent:e,nativeEvent:e.nativeEvent,target:U.current};t.onFilterChange.call(void 0,n),void 0===t.filter&&gt(e.target.value)}}),[t.onFilterChange,t.filter,t.textField]),Gt=i.useMemo((function(){return J||!tt?a:Object(s.t)(a,M,(function(t){var e;return Object(s.l)(t,M,((e={})[I]=w(t,Q,u),e))}))}),[a,Q,J,tt,I,M]),Yt=t.listNoData||kt,Xt=t.valueHolder||Ct,$t=Object(D.useLocalization)(),Zt=!B||nt.valid,Jt=i.createElement("span",{className:Object(s.g)("k-widget k-dropdowntree k-dropdowntree-clearable",t.className),tabIndex:H,accessKey:t.accessKey,id:r,style:_?Ot({},f,{width:void 0}):f,dir:ot,ref:W,onKeyDown:g?void 0:Mt,onMouseDown:Vt,onFocus:zt,onBlur:Bt,role:"listbox","aria-haspopup":"true","aria-expanded":pt,"aria-disabled":g,"aria-label":_,"aria-labelledby":t.ariaLabelledBy,"aria-describedby":t.ariaDescribedBy},i.createElement("span",{className:Object(s.g)("k-dropdown-wrap",{"k-state-focused":dt,"k-state-disabled":g,"k-state-invalid":!Zt}),onClick:g?void 0:At},i.createElement("span",{className:"k-input"},i.createElement(Xt,{item:Q},et||C)),tt&&!g&&i.createElement("span",{onClick:Wt,className:"k-icon k-clear-value k-i-close",title:$t.toLanguageString(A,j[A]),role:"button",tabIndex:-1,onMouseDown:function(t){return t.preventDefault()}}),i.createElement("span",{className:"k-select","aria-label":"select"},i.createElement("span",{className:Object(s.g)("k-icon",{"k-i-arrow-60-down":!t.loading,"k-i-loading":t.loading})})),i.createElement("select",{name:S,ref:K,tabIndex:-1,"aria-hidden":!0,title:_,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},i.createElement("option",{value:t.valueMap?t.valueMap.call(void 0,Q):Q}))),i.createElement(c.Popup,{className:Object(s.g)("k-list-container k-group k-reset k-popup-dropdowntree",h.className,{"k-rtl":"rtl"===ot}),style:st,animate:h.animate,anchor:W.current,show:pt,onOpen:Ft,onClose:Lt,appendTo:h.appendTo},t.filterable&&i.createElement("span",{className:"k-list-filter"},i.createElement("input",{className:"k-textbox",tabIndex:H,ref:q,value:void 0===t.filter?vt:t.filter,onChange:Kt,onKeyDown:Rt}),i.createElement("span",{className:"k-icon k-i-zoom"})),a.length>0?i.createElement(xt.TreeView,{ref:G,tabIndex:H,data:Gt,focusIdField:u,textField:t.textField,selectField:I,expandField:t.expandField,childrenField:M,expandIcons:!0,onItemClick:Ut,onExpandChange:qt,item:t.item}):i.createElement(Yt,null,$t.toLanguageString(P,j[P]))));return _?i.createElement(l.FloatingLabel,{label:_,editorValue:et,editorPlaceholder:C,editorValid:Zt,editorDisabled:g,editorId:r,style:{width:f?f.width:void 0},children:Jt,dir:ot}):Jt})),At={opened:a.bool,disabled:a.bool,dir:a.string,tabIndex:a.number,accessKey:a.string,data:a.array,value:a.any,valueMap:a.func,placeholder:a.string,dataItemKey:a.string.isRequired,textField:a.string.isRequired,selectField:a.string,expandField:a.string,subItemsField:a.string,className:a.string,style:a.object,label:a.string,validationMessage:a.string,validityStyles:a.bool,valid:a.bool,required:a.bool,name:a.string,id:a.string,ariaLabelledBy:a.string,ariaDescribedBy:a.string,filterable:a.bool,filter:a.string,loading:a.bool,popupSettings:a.shape({animate:a.oneOfType([a.bool,a.shape({openDuration:a.number,closeDuration:a.number})]),className:a.string,appendTo:a.any,width:a.oneOfType([a.string,a.number]),height:a.oneOfType([a.string,a.number])}),onOpen:a.func,onClose:a.func,onFocus:a.func,onBlur:a.func,onChange:a.func,onFilterChange:a.func,onExpandChange:a.func,item:a.func,valueHolder:a.func,listNoData:a.func};Pt.displayName="KendoReactDropDownTree",Pt.propTypes=At;var jt=function(){return(jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Mt="checkField",Rt="checkIndeterminateField",Nt="items",Ft={animate:!0,width:"200px",height:"200px"},Lt=!1,zt=!0,Bt=i.forwardRef((function(t,e){Object(s.D)(V);var n=i.useMemo((function(){return Object(s.r)()}),[]),r=t.id||n,o=t.data,a=void 0===o?[]:o,u=t.dataItemKey,p=t.popupSettings,h=void 0===p?{}:p,d=t.style,f=void 0===d?{}:d,m=t.opened,v=t.disabled,g=t.onOpen,y=void 0===g?s.v:g,x=t.onClose,k=void 0===x?s.v:x,O=t.placeholder,_=t.label,S=t.name,E=t.checkField,I=void 0===E?Mt:E,T=t.checkIndeterminateField,M=void 0===T?Rt:T,R=t.subItemsField,N=void 0===R?Nt:R,F=t.validationMessage,L=t.valid,z=t.tags,B=t.value,H=t.required,U=void 0===H?Lt:H,W=t.validityStyles,q=void 0===W?zt:W,K=Object(s.p)(t.tabIndex,v),G=i.useRef(null),Y=i.useRef(null),X=i.useRef(null),$=i.useRef(null),Z=i.useRef(null),J=i.useRef(!1),Q=i.useRef([]),tt=i.useRef(null),et=i.useState(),nt=et[0],rt=et[1],ot=i.useState(!1),it=ot[0],st=ot[1],lt=i.useState(!1),ct=lt[0],ut=lt[1],pt=i.useState(""),ht=pt[0],dt=pt[1],ft=void 0!==m?m:it,mt=Boolean(Array.isArray(B)&&B.length),vt=function(t,e){var n=t.validationMessage,r=t.valid,o=t.required;return{customError:void 0!==n,valid:Boolean(void 0!==r?r:!o||e),valueMissing:!e}}({validationMessage:F,valid:L,required:U},mt),gt=Object(s.C)(Y,t.dir),yt=void 0!==h.width?h.width:void 0!==f.width?f.width:Ft.width,bt=wt(Y,yt),Ot=jt({width:bt},void 0!==gt?{direction:gt}:{}),Ct=i.useCallback((function(){return Y.current&&Y.current.focus()}),[]);Q.current=void 0===z?(B||[]).map((function(e){return{text:b(e,t.textField),data:[e]}})):z.slice(),i.useImperativeHandle(G,(function(){return{props:t,element:Y.current,actionElement:Y.current,focus:Ct}})),i.useImperativeHandle(e,(function(){return G.current}));var _t=i.useCallback((function(){$.current&&$.current.setCustomValidity&&$.current.setCustomValidity(vt.valid?"":void 0===F?"Please select a value from the list!":F)}),[F,vt]);i.useEffect(_t),i.useEffect((function(){tt.current&&ft&&tt.current.setPosition(tt.current._popup)}),[B,ft]);var St=i.useCallback((function(e,n,r){if(t.onChange){var o=jt({items:n,operation:r},e);t.onChange.call(void 0,o)}}),[t.onChange]),Et=i.useCallback((function(t){if(!w(t.item,B,u)&&G.current){var e=t.item,n=t.nativeEvent,r={syntheticEvent:t.syntheticEvent,nativeEvent:n,target:G.current};St(r,[e],"toggle")}}),[B,u,St]),It=i.useCallback((function(t){if(!ft){if(y){var e=jt({},t);y.call(void 0,e)}void 0===m&&st(!0)}}),[ft,m,y]),Tt=i.useCallback((function(t){if(ft){if(k){var e=jt({},t);k.call(void 0,e)}void 0===m&&st(!1)}}),[ft,m,k]),Dt=i.useCallback((function(t){J.current=!0,t(),window.setTimeout((function(){return J.current=!1}),0)}),[]),Pt=i.useCallback((function(t){t&&Dt((function(){return t.focus()}))}),[Dt]),At=i.useCallback((function(){!ct&&ft?Tt({target:G.current}):t.filterable?Pt(X.current):Pt(Z.current&&Z.current.element)}),[ct,ft,Pt,Tt,t.filterable]),Bt=i.useCallback((function(){ct&&Pt(Y.current)}),[ct,Pt]),Vt=i.useCallback((function(e){if(!ct&&!J.current&&(ut(!0),t.onFocus&&G.current)){var n={syntheticEvent:e,nativeEvent:e.nativeEvent,target:G.current};t.onFocus.call(void 0,n)}}),[ct,t.onFocus]),Ht=i.useCallback((function(e){if(ct&&!J.current&&G.current){ut(!1);var n={syntheticEvent:e,nativeEvent:e.nativeEvent,target:G.current};if(t.onBlur){var r=jt({},n);t.onBlur.call(void 0,r)}Tt(n)}}),[ct,t.onBlur,ft,m,k]),Ut=i.useCallback((function(){ct&&Dt(s.v)}),[ct,Dt]),Wt=i.useCallback((function(t){if(!t.isDefaultPrevented()&&G.current){ut(!0);var e={syntheticEvent:t,nativeEvent:t.nativeEvent,target:G.current};ft||It(e)}}),[ft,It]),qt=i.useCallback((function(t){var e=t.keyCode,n=t.altKey,r=Z.current&&Z.current.element;if(G.current&&(!t.isDefaultPrevented()||X.current!==t.target)){var o={syntheticEvent:t,nativeEvent:t.nativeEvent,target:G.current};if(B&&B.length>0&&(e===s.d.left||e===s.d.right||e===s.d.home||e===s.d.end||e===s.d.delete)){var i=Q.current,a=nt?i.findIndex((function(t){return C(t,nt,u)})):-1,l=void 0,c=-1!==a;e===s.d.left?l=i[a=c?Math.max(0,a-1):i.length-1]:e===s.d.right?a===i.length-1?l=void 0:c&&(l=i[a=Math.min(i.length-1,a+1)]):e===s.d.home?l=i[0]:e===s.d.end?l=i[i.length-1]:e===s.d.delete&&c&&St(o,i[a].data,"delete"),l!==nt&&rt(l)}if(ft)if(e===s.d.esc||n&&e===s.d.up)Tt(o);else if(r&&r.querySelector(".k-state-focused")&&(e===s.d.up||e===s.d.down||e===s.d.left||e===s.d.right||e===s.d.home||e===s.d.end)){if(e===s.d.up&&X.current){var p=Array.from(r.querySelectorAll(".k-treeview-item")),h=p.slice().reverse().find((function(t){return Boolean(t&&t.querySelector(".k-state-focused"))}));if(h&&0===p.indexOf(h))return Dt((function(){Pt(X.current)}))}Dt(s.v)}else e===s.d.down&&Dt((function(){Pt(X.current||r)}));else n&&e===s.d.down&&It(o)}}),[ft,Tt,Pt,Dt,It,nt,u,B,St]),Kt=i.useCallback((function(t){var e=t.keyCode;t.altKey||e!==s.d.up&&e!==s.d.down||(t.preventDefault(),Dt(e===s.d.up?function(){Pt(Y.current)}:function(){Pt(Z.current&&Z.current.element)}))}),[Pt,Dt]),Gt=i.useCallback((function(t){if(G.current){var e={syntheticEvent:t,nativeEvent:t.nativeEvent,target:G.current};St(e,[],"clear"),Tt(e),t.preventDefault()}}),[St,Tt]),Yt=i.useCallback((function(t,e){Tt({target:G.current}),ct||Pt(X.current),St({syntheticEvent:e,nativeEvent:e.nativeEvent,target:G.current},t,"delete")}),[St,Tt,Pt,ct]),Xt=i.useCallback((function(e){if(t.onExpandChange&&G.current){var n=e.item,r=e.itemHierarchicalIndex,o=e.nativeEvent,i=e.syntheticEvent,a={level:(s=r,s.split("_").map((function(t){return parseInt(t,10)}))),item:n,nativeEvent:o,syntheticEvent:i,target:G.current};t.onExpandChange.call(void 0,a)}var s}),[t.onExpandChange]),$t=i.useCallback((function(e){if(t.onFilterChange&&G.current){var n={filter:{field:t.textField,operator:"contains",value:e.target.value},syntheticEvent:e,nativeEvent:e.nativeEvent,target:G.current};t.onFilterChange.call(void 0,n),void 0===t.filter&&dt(e.target.value)}}),[t.onFilterChange,t.filter,t.textField]),Zt=t.listNoData||kt,Jt=Object(D.useLocalization)(),Qt=!q||vt.valid,te=i.createElement("span",{className:Object(s.g)("k-widget k-dropdowntree",t.className,{"k-state-focused":ct&&!v,"k-state-invalid":!Qt,"k-state-disabled":v}),tabIndex:K,accessKey:t.accessKey,id:r,style:_?jt({},f,{width:void 0}):f,dir:gt,ref:Y,onKeyDown:v?void 0:qt,onMouseDown:Ut,onFocus:Vt,onBlur:Ht,role:"listbox","aria-haspopup":"true","aria-expanded":ft,"aria-disabled":v,"aria-label":_,"aria-labelledby":t.ariaLabelledBy,"aria-describedby":t.ariaDescribedBy},i.createElement("span",{className:Object(s.g)("k-multiselect-wrap k-floatwrap",{"k-state-focused":ct,"k-state-disabled":v,"k-state-invalid":!Qt}),onClick:v?void 0:Wt},Q.current.length>0&&i.createElement(at,{tag:t.tag,onTagDelete:Yt,data:Q.current,guid:n,focused:nt?Q.current.find((function(t){return C(t,nt,u)})):void 0}),t.loading&&i.createElement("span",{className:Object(s.g)("k-icon",{"k-i-loading":t.loading})}),mt&&!v&&i.createElement("span",{onClick:Gt,className:"k-icon k-clear-value k-i-close",title:Jt.toLanguageString(A,j[A]),role:"button",tabIndex:-1,onMouseDown:function(t){return t.preventDefault()}}),i.createElement("select",{name:S,ref:$,tabIndex:-1,"aria-hidden":!0,title:_,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},i.createElement("option",{value:t.valueMap?t.valueMap.call(void 0,B):B}))),i.createElement(c.Popup,{className:Object(s.g)("k-list-container k-group k-reset k-popup-dropdowntree",h.className,{"k-rtl":"rtl"===gt}),style:Ot,animate:h.animate,anchor:Y.current,show:ft,onOpen:At,onClose:Bt,appendTo:h.appendTo,ref:tt},t.filterable&&i.createElement("span",{className:"k-list-filter"},i.createElement("input",{className:"k-textbox",tabIndex:K,ref:X,value:void 0===t.filter?ht:t.filter,onChange:$t,onKeyDown:Kt}),i.createElement("span",{className:"k-icon k-i-zoom"})),a.length>0?i.createElement(xt.TreeView,{ref:Z,tabIndex:K,data:a,focusIdField:u,textField:t.textField,checkField:I,checkIndeterminateField:M,expandField:t.expandField,childrenField:N,expandIcons:!0,onItemClick:Et,onCheckChange:Et,onExpandChange:Xt,checkboxes:!0,item:t.item}):i.createElement(Zt,null,Jt.toLanguageString(P,j[P]))));return _?i.createElement(l.FloatingLabel,{label:_,editorValue:mt,editorPlaceholder:O,editorValid:Qt,editorDisabled:v,editorId:r,style:{width:f?f.width:void 0},children:te,dir:gt}):te})),Vt={opened:a.bool,disabled:a.bool,dir:a.string,tabIndex:a.number,accessKey:a.string,data:a.array,value:a.any,valueMap:a.func,placeholder:a.string,dataItemKey:a.string.isRequired,textField:a.string.isRequired,checkField:a.string,checkIndeterminateField:a.string,expandField:a.string,subItemsField:a.string,className:a.string,style:a.object,label:a.string,validationMessage:a.string,validityStyles:a.bool,valid:a.bool,required:a.bool,name:a.string,id:a.string,ariaLabelledBy:a.string,ariaDescribedBy:a.string,filterable:a.bool,filter:a.string,loading:a.bool,tags:a.arrayOf(a.shape({text:a.string,data:a.arrayOf(a.any)})),popupSettings:a.shape({animate:a.oneOfType([a.bool,a.shape({openDuration:a.number,closeDuration:a.number})]),className:a.string,appendTo:a.any,width:a.oneOfType([a.string,a.number]),height:a.oneOfType([a.string,a.number])}),onOpen:a.func,onClose:a.func,onFocus:a.func,onBlur:a.func,onChange:a.func,onFilterChange:a.func,onExpandChange:a.func,item:a.func,listNoData:a.func};Bt.displayName="KendoReactMultiSelectTree",Bt.propTypes=Vt;var Ht=function(t,e){var n={};return t&&t.length&&t.forEach((function(t){n[e(t)]=!0})),n},Ut=function(t,e){var n=e.items,r=e.dataItemKey,o=e.value,i=e.subItemsField,a=void 0===i?"items":i,l=e.operation,c=Object(s.q)(r),u=Ht(o,c);if("clear"===l)return[];if("delete"===l){var p=Ht(n,c);return o.filter((function(t){return!p[c(t)]}))}for(var h,d,f=n[0],m=c(f),v=Object(s.q)(a),g=t.slice(),y=[];g.length;){var b=g.pop();if(m===c(b)){h=y.map((function(t){return t.item})),d=b;break}y&&y.length&&y[y.length-1].parentPosition===g.length&&y.pop(),(S=v(b))&&S.length&&(y.push({item:b,parentPosition:g.length}),g.push.apply(g,S))}for(var x=(v(d)||[]).slice(),w=[];x.length;){b=x.pop();w.push(b),(S=v(b))&&S.length&&x.push.apply(x,S)}var k=[];if(!u[m]){k.push.apply(k,o),k.push(d),k.push.apply(k,w.filter((function(t){return!u[c(t)]})));for(var O=h.filter((function(t){return!u[c(t)]})),C=Ht(k,c),_=O.length-1;_>-1;_--){var S,E=O[_];if((S=v(E)).filter((function(t){return C[c(t)]})).length<S.length)break;k.push(E),C[c(E)]=!0}}else{var I=c(d),T=Ht(w,c),D=Ht(h,c);k.push.apply(k,o.filter((function(t){var e=c(t);return!T[e]&&I!==e&&!D[e]})))}return k}},function(t,e,n){"use strict";n.r(e),n.d(e,"ColorGradient",(function(){return N})),n.d(e,"DEFAULT_TILE_SIZE",(function(){return B})),n.d(e,"DEFAULT_COLUMNS_COUNT",(function(){return V})),n.d(e,"DEFAULT_PRESET",(function(){return H})),n.d(e,"ColorPalette",(function(){return U})),n.d(e,"ColorPicker",(function(){return $})),n.d(e,"Input",(function(){return nt})),n.d(e,"MaskedTextBox",(function(){return yt})),n.d(e,"NumericTextBox",(function(){return Vt})),n.d(e,"Slider",(function(){return Gt})),n.d(e,"SLIDER_LABEL_ATTRIBUTE",(function(){return Ut})),n.d(e,"SliderLabel",(function(){return Wt})),n.d(e,"RangeSlider",(function(){return Jt})),n.d(e,"Switch",(function(){return re})),n.d(e,"Checkbox",(function(){return ae})),n.d(e,"RadioGroup",(function(){return pe})),n.d(e,"RadioButton",(function(){return ce})),n.d(e,"TextArea",(function(){return me})),n.d(e,"Rating",(function(){return Se})),n.d(e,"RatingItem",(function(){return ve}));var r=n(0),o=n(1),i=n(2),a={name:"@progress/kendo-react-inputs",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616592,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},s=function(t){return null!=t},l=function(t,e,n){return!s(t)||isNaN(t)||t<=e?e:t>=n?n:t},c=n(3),u=function(t,e,n){void 0===n&&(n=!0);if(-1===["hex","rgba"].indexOf(e))throw new Error("Unsupported color output format '"+e+"'. The available options are 'hex' or 'rgba'.");if(s(t)){var r=Object(c.parseColor)(t.trim(),n);if(s(r))return"hex"===e?r.toCss():r.toCssRgba()}},p=function(t,e){void 0===e&&(e=!0);var n=Object(c.parseColor)(t,e);return s(n)?n.toHSV():{}},h=function(t,e){void 0===e&&(e=!0);var n=Object(c.parseColor)(t,e);return s(n)?n.toBytes():{}},d=function(t){var e=l(t.h,0,359.9),n=l(t.s,0,1),r=l(t.v,0,1),o=l(t.a,0,1);return c.Color.fromHSV(e,n,r,o).toCssRgba()},f=function(t){return d({h:t,s:1,v:1,a:1})},m=function(t,e){var n=l(t.r,0,255),r=l(t.g,0,255),o=l(t.b,0,255),i=l(t.a,0,1),a=l(e.r,0,255),s=l(e.g,0,255),c=l(e.b,0,255);return{r:Math.round((1-i)*a+i*n),g:Math.round((1-i)*s+i*r),b:Math.round((1-i)*c+i*o)}},v=function(t){var e=[t.r,t.g,t.b].map((function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}));return.2126*e[0]+.7152*e[1]+.0722*e[2]},g=function(t,e){return n=v(m(t,e)),r=v(m(e,{r:0,g:0,b:0,a:1})),(Math.max(n,r)+.05)/(Math.min(n,r)+.05);var n,r},y={};var b,x,w=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),k=function(t){function e(e){var n=t.call(this,e)||this;return n.onChange=function(t){var e=t.target.value,r=u(e,"rgba");n.setState({hex:e}),s(r)&&n.props.onHexChange(e,r,t)},n.onBlur=function(){s(u(n.state.hex,"rgba"))||n.setState({hex:n.state.originalHex})},n.state={hex:n.props.hex,originalHex:n.props.hex},n}return w(e,t),e.prototype.render=function(){return r.createElement("input",{value:this.state.hex,className:"k-textbox k-hex-value",onChange:this.onChange,onBlur:this.onBlur,disabled:this.props.disabled})},e.getDerivedStateFromProps=function(t,e){return t.hex!==e.originalHex?{hex:t.hex,originalHex:t.hex}:null},e}(r.Component),O=n(5),C=((x={})["numerictextbox.increment"]="Increase value",x["numerictextbox.decrement"]="Decrease value",x["slider.increment"]="Increase",x["slider.decrement"]="Decrease",x["slider.dragTitle"]="Drag",x["colorGradient.r"]="r",x["colorGradient.g"]="g",x["colorGradient.b"]="b",x["colorGradient.a"]="a",x["colorGradient.hex"]="hex",x["colorGradient.contrastRatio"]="Contrast ratio",x["colorGradient.colorGradientAALevel"]="AA",x["colorGradient.colorGradientAAALevel"]="AAA",x["colorGradient.colorGradientPass"]="Pass",x["colorGradient.colorGradientFail"]="Fail",x["checkbox.validation"]="Please check this box if you want to proceed!",x["checkbox.optionalText"]="(Optional)",x["radioButton.validation"]="Please select option if you want to proceed!",x["switch.validation"]="Please turn on if you want to proceed!",x),_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(){return(S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onRgbaRChange=function(t){e.dispatchRgbaChange({r:t.value},t)},e.onRgbaGChange=function(t){e.dispatchRgbaChange({g:t.value},t)},e.onRgbaBChange=function(t){e.dispatchRgbaChange({b:t.value},t)},e.onRgbaAChange=function(t){e.dispatchRgbaChange({a:t.value},t)},e}return _(e,t),e.prototype.render=function(){var t=Object(O.provideLocalizationService)(this),e=t.toLanguageString("colorGradient.r",C["colorGradient.hex"]),n=t.toLanguageString("colorGradient.r",C["colorGradient.r"]),o=t.toLanguageString("colorGradient.r",C["colorGradient.g"]),i=t.toLanguageString("colorGradient.r",C["colorGradient.b"]),a=t.toLanguageString("colorGradient.r",C["colorGradient.a"]);return r.createElement("div",{className:"k-colorinputs"},r.createElement("div",{className:"k-hbox k-gradient-values"},r.createElement(k,{hex:this.props.hex,onHexChange:this.props.onHexChange,disabled:this.props.disabled}),r.createElement(Vt,{value:this.props.rgba.r,min:0,max:255,spinners:!1,format:"n",onChange:this.onRgbaRChange,disabled:this.props.disabled}),r.createElement(Vt,{value:this.props.rgba.g,min:0,max:255,spinners:!1,format:"n",onChange:this.onRgbaGChange,disabled:this.props.disabled}),r.createElement(Vt,{value:this.props.rgba.b,min:0,max:255,spinners:!1,format:"n",onChange:this.onRgbaBChange,disabled:this.props.disabled}),this.props.opacity&&r.createElement(Vt,{value:this.props.rgba.a,min:0,max:1,step:.01,spinners:!1,format:"n2",onChange:this.onRgbaAChange,disabled:this.props.disabled})),r.createElement("div",{className:"k-hbox k-gradient-values"},r.createElement("div",{className:"k-hex-value"},e),r.createElement("div",null,n),r.createElement("div",null,o),r.createElement("div",null,i),this.props.opacity&&r.createElement("div",null,a)))},e.prototype.dispatchRgbaChange=function(t,e){var n=S({},this.props.rgba);void 0!==t.r&&(n.r=t.r),void 0!==t.g&&(n.g=t.g),void 0!==t.b&&(n.b=t.b),void 0!==t.a&&(n.a=t.a),this.props.onRgbaChange(n,e)},e}(r.Component),I=E;Object(O.registerForIntl)(E),Object(O.registerForLocalization)(E);var T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.render=function(){var t=Object(O.provideLocalizationService)(this),e=t.toLanguageString("colorGradient.contrastRatio",C["colorGradient.contrastRatio"]),n=t.toLanguageString("colorGradient.colorGradientAALevel",C["colorGradient.colorGradientAALevel"]),o=t.toLanguageString("colorGradient.colorGradientAAALevel",C["colorGradient.colorGradientAAALevel"]),i=t.toLanguageString("colorGradient.colorGradientPass",C["colorGradient.colorGradientPass"]),a=t.toLanguageString("colorGradient.colorGradientFail",C["colorGradient.colorGradientFail"]),s=g(this.props.rgba,this.props.bgColor),l=4.5.toFixed(1),c=7..toFixed(1),u=e+": "+s.toFixed(2),p=n+": "+l,h=o+": "+c,d=r.createElement("span",{className:"k-contrast-validation k-text-success"},i," ",r.createElement("span",{className:"k-icon k-i-check"})),f=r.createElement("span",{className:"k-contrast-validation k-text-error"},a," ",r.createElement("span",{className:"k-icon k-i-close"}));return r.createElement("div",{className:"k-vbox k-color-contrast"},r.createElement("span",{className:"k-separator"}),r.createElement("div",{className:"k-contrast-ratio"},r.createElement("span",{className:"k-contrast-ratio-text"},u),s>=4.5?r.createElement("span",{className:"k-contrast-validation k-text-success"},r.createElement("span",{className:"k-icon k-i-check"}),s>=7&&r.createElement("span",{className:"k-icon k-i-check"})):r.createElement("span",{className:"k-contrast-validation k-text-error"},r.createElement("span",{className:"k-icon k-i-close"}))),r.createElement("div",null,r.createElement("span",null,p),s>=4.5?d:f),r.createElement("div",null,r.createElement("span",null,h),s>=7?d:f))},e}(r.Component);Object(O.registerForLocalization)(D);var P=function(t,e){return 0===t.length?"":'<path d="'+t.reduce((function(t,n,r,o){return 0===r?"M "+n[0]+","+n[1]:t+" "+e(n,r,o)}),"")+'" fill="none" stroke="white" stroke-width="1"/>'},A=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return{length:Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),angle:Math.atan2(r,n)}},j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j(e,t),e.prototype.renderSvgCurveLine=function(){var t,e,n=this,r=this.props.metrics,o=function(t,e,i,a,s){var l=(i+a)/2,c=Object.assign({},n.props.hsva,{s:e/r.width,v:1-l/r.height}),u=g(h(d(c)),h(n.props.backgroundColor||""));return i+.5>a?u<t+1&&u>t-1?l:null:s(u,t)?o(t,e,i,a-(a-i)/2,s):o(t,e,i+(a-i)/2,a,s)},i=function(t,e,n){void 0===n&&(n=!1);for(var i=[],a=0;a<=r.width;a+=r.width/e){var s=o(t,a,0,r.height,n?function(t,e){return t<e}:function(t,e){return t>e});null!==s&&i.push([a,s])}return i},a=(e=A,t=function(t,n,r,o){var i=e(n||t,r||t),a=i.angle+(o?Math.PI:0),s=.1*i.length;return[t[0]+Math.cos(a)*s,t[1]+Math.sin(a)*s]},function(e,n,r){var o=t(r[n-1],r[n-2],e),i=o[0],a=o[1],s=t(e,r[n-1],r[n+1],!0);return"C "+i+","+a+" "+s[0]+","+s[1]+" "+e[0]+","+e[1]});return P(i(4.5,16),a)+P(i(4.5,16,!0),a)+P(i(7,16),a)+P(i(7,16,!0),a)},e.prototype.shouldComponentUpdate=function(t){return t.hsva.h!==this.props.hsva.h||t.hsva.a!==this.props.hsva.a||this.props.backgroundColor!==t.backgroundColor},e.prototype.render=function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"k-color-contrast-svg",dangerouslySetInnerHTML:{__html:this.renderSvgCurveLine()},style:{position:"absolute",overflow:"visible",pointerEvents:"none",left:0,top:0,zIndex:3}})},e}(r.Component),R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(t){function e(n){var r=t.call(this,n)||this;r.onHexChange=function(t,e,n){if(r.isUncontrolled){var o=p(e);r.setState({hsva:o,backgroundColor:f(o.h),rgba:h(e),hex:t})}else!function(t,e,n){y[t]={value:e,hex:n}}(r.state.guid,e,t);r.dispatchChangeEvent(e,n,n.nativeEvent)},r.onRgbaChange=function(t,e){var n=function(t){var e=l(t.r,0,255),n=l(t.g,0,255),r=l(t.b,0,255),o=l(t.a,0,1);return c.Color.fromBytes(e,n,r,o).toCssRgba()}(t);if(r.isUncontrolled){var o=p(n),i=u(n,"hex");r.setState({hsva:o,backgroundColor:f(o.h),rgba:t,hex:i})}else!function(t,e,n){y[t]={value:e,rgba:n}}(r.state.guid,n,t);r.dispatchChangeEvent(n,e.syntheticEvent,e.nativeEvent)},r.onAlphaSliderChange=function(t){r.handleHsvaChange(Object.assign({},r.state.hsva,{a:t.value/100}),t.syntheticEvent,t.nativeEvent)},r.onHueSliderChange=function(t){r.handleHsvaChange(Object.assign({},r.state.hsva,{h:t.value}),t.syntheticEvent,t.nativeEvent)},r.onDrag=function(t){r.gradientWrapper.classList.add("k-dragging"),r.changePosition(t.event)},r.onRelease=function(){r.gradientWrapper.classList.remove("k-dragging")},r.onGradientWrapperClick=function(t){r.changePosition(t)},r.changePosition=function(t){var e=r.getGradientRectMetrics(),n=t.clientX-e.left,o=t.clientY-e.top,i=l(n,0,e.width),a=l(o,0,e.height),s=Object.assign({},r.state.hsva,{s:i/e.width,v:1-a/e.height});r.handleHsvaChange(s,t,t.nativeEvent)},r.focus=function(){Object(i.m)(r.wrapper)},Object(i.D)(a);var o=n.value||n.defaultValue||u("rgba(255, 255, 255, 1)","rgba");return r.state=Object.assign({},e.getStateFromValue(o),{isFirstRender:!0,guid:Object(i.r)()}),r}return R(e,t),e.getDerivedStateFromProps=function(t,n){return t.value&&!n.isFirstRender?e.getStateFromValue(t.value,n.guid):null},e.prototype.componentDidMount=function(){this.setAlphaSliderBackground(this.state.backgroundColor),this.state.isFirstRender&&this.setState({isFirstRender:!1})},e.prototype.componentWillUnmount=function(){var t;t=this.state.guid,delete y[t]},e.prototype.componentDidUpdate=function(t,e){e.backgroundColor!==this.state.backgroundColor&&this.setAlphaSliderBackground(this.state.backgroundColor)},e.prototype.renderRectangleDragHandle=function(){var t={};if(!this.state.isFirstRender){var e=this.getGradientRectMetrics(),n=(1-this.state.hsva.v)*e.height,o=this.state.hsva.s*e.width;t.top=n+"px",t.left=o+"px"}return r.createElement("div",{className:"k-draghandle",style:t})},e.prototype.handleHsvaChange=function(t,e,n){var r=d(t);if(this.isUncontrolled){var o=u(r,"hex");this.setState({hsva:t,backgroundColor:f(t.h),rgba:h(r),hex:o})}else!function(t,e,n){y[t]={value:e,hsva:n}}(this.state.guid,r,t);this.dispatchChangeEvent(r,e,n)},e.prototype.dispatchChangeEvent=function(t,e,n){this.props.onChange&&this.props.onChange.call(void 0,{syntheticEvent:e,nativeEvent:n,target:this,value:t})},e.getStateFromValue=function(t,e){s(u(t,"hex"))||(t="rgba(255, 255, 255, 1)");var n=function(t,e){if(t){var n=y[t];return n&&n.value===e?n.hsva:void 0}}(e,t)||p(t),r=function(t,e){if(t){var n=y[t];return n&&n.value===e?n.rgba:void 0}}(e,t)||h(t),o=function(t,e){if(t){var n=y[t];return n&&n.value===e?n.hex:void 0}}(e,t)||u(t,"hex");return{hsva:n,backgroundColor:f(n.h),rgba:r,hex:o}},e.prototype.setAlphaSliderBackground=function(t){this.props.opacity&&this.alphaSlider&&this.alphaSlider.sliderTrack&&(this.alphaSlider.sliderTrack.style.background="linear-gradient(to top, transparent, "+t+")")},Object.defineProperty(e.prototype,"isUncontrolled",{get:function(){return void 0===this.props.value},enumerable:!0,configurable:!0}),e.prototype.getGradientRectMetrics=function(){return this.gradientWrapper.getBoundingClientRect()},e.prototype.render=function(){var t=this,e=Object(i.g)("k-widget k-flatcolorpicker",{"k-state-disabled":this.props.disabled});return r.createElement("div",{id:this.props.id,className:e,"aria-disabled":this.props.disabled?"true":void 0,style:this.props.style,ref:function(e){return t.wrapper=e},tabIndex:Object(i.p)(this.props.tabIndex,this.props.disabled),"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy},r.createElement("div",{className:"k-hbox k-hsv-wrap"},r.createElement("div",{className:"k-hsv-rectangle",style:{background:this.state.backgroundColor}},r.createElement(i.b,{onDrag:this.onDrag,onRelease:this.onRelease,ref:function(e){return t.gradientWrapper=e?e.element:void 0}},r.createElement("div",{className:"k-hsv-gradient",style:{touchAction:"none"},onClick:this.onGradientWrapperClick},this.renderRectangleDragHandle())),this.props.backgroundColor&&!this.state.isFirstRender&&r.createElement(M,{metrics:this.gradientWrapper?this.getGradientRectMetrics():void 0,hsva:this.state.hsva,backgroundColor:this.props.backgroundColor})),r.createElement("div",{className:"k-hbox k-sliders-wrap"},r.createElement(Gt,{value:this.state.hsva.h,buttons:!1,vertical:!0,min:0,max:360,step:5,onChange:this.onHueSliderChange,className:"k-hue-slider",disabled:this.props.disabled}),this.props.opacity&&r.createElement(Gt,{value:s(this.state.hsva.a)?100*this.state.hsva.a:100,buttons:!1,vertical:!0,min:0,max:100,step:1,onChange:this.onAlphaSliderChange,className:"k-alpha-slider",disabled:this.props.disabled,ref:function(e){return t.alphaSlider=e}}))),r.createElement(I,{rgba:this.state.rgba,onRgbaChange:this.onRgbaChange,hex:this.state.hex,onHexChange:this.onHexChange,opacity:this.props.opacity,disabled:this.props.disabled}),this.props.backgroundColor&&r.createElement(D,{bgColor:h(this.props.backgroundColor),rgba:this.state.rgba}))},e.propTypes={defaultValue:o.string,value:o.string,onChange:o.func,opacity:o.bool,backgroundColor:o.string,disabled:o.bool,style:o.any,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string},e.defaultProps={opacity:!0},e}(r.Component),F=function(){function t(){this.colorRows=[]}return t.prototype.setColorMatrix=function(t,e){if(this.colorRows=[],s(t)&&t.length){e=e||t.length;for(var n=0;n<t.length;n+=e){var r=t.slice(n,e+n);this.colorRows.push(r)}}},t.prototype.getCellCoordsFor=function(t){var e=this;if(s(t)){var n=t?Object(c.parseColor)(t,!0):t,r=[t];s(n)&&r.push(n.toCss(),n.toCssRgba());for(var o=function(t){for(var n=function(n){if(r.some((function(r){return r===e.colorRows[t][n]})))return{value:{row:t,col:n}}},o=0;o<i.colorRows[t].length;o++){var a=n(o);if("object"==typeof a)return a}},i=this,a=0;a<this.colorRows.length;a++){var l=o(a);if("object"==typeof l)return l.value}}},t.prototype.getColorAt=function(t){if(s(t)&&s(this.colorRows[t.row]))return this.colorRows[t.row][t.col]},t.prototype.getNextCell=function(t,e,n){if(!(s(t)&&s(t.row)&&s(t.col)))return{row:0,col:0};var r=this.clampIndex(t.row+n,this.colorRows.length-1);return{row:r,col:this.clampIndex(t.col+e,this.colorRows[r].length-1)}},t.prototype.clampIndex=function(t,e){return t<0?0:t>e?e:t},t}(),L={basic:{colors:["#000000","#7f7f7f","#880015","#ed1c24","#ff7f27","#fff200","#22b14c","#00a2e8","#3f48cc","#a349a4"," ffffff","#c3c3c3","#b97a57","#ffaec9","#ffc90e","#efe4b0","#b5e61d","#99d9ea","#7092be","#c8bfe7"],columns:10},office:{colors:["#ffffff","#000000","#e6e6e6","#435569","#4371c4","#ed7e32","#a5a4a5","#febf04","#5a9bd5","#71ae48","#f2f2f3","#7f7f7f","#d1cece","#d5dde3","#dae1f4","#fce5d4","#deeded","#fff2cc","#deeaf6","#e1efd9","#d7d8d8","#585959","#aeabab","#adbaca","#b4c5e7","#f6caac","#dbdbdb","#ffe498","#bcd6ee","#c5e0b2","#bfbfc0","#3f3f3f","#767070","#8595b1","#8fabdb","#f5b183","#c9c8c9","#fed965","#9bc4e5","#a8d08d","#a5a5a6","#262625","#393939","#334050","#2e5496","#c45a11","#7b7b7a","#bf9000","#2f75b5","#548235","#7f7f7f","#0b0c0c","#161616","#222a34","#203764","#843d0b","#525252","#7f6000","#1d4d79","#375623"],columns:10},apex:{colors:["#ffffff","#000000","#c9c2d1","#69676d","#ceb966","#9cb084","#6bb1c9","#6585cf","#7e6bc9","#a379bb","#f2f2f2","#7f7f7f","#f4f2f5","#e0e0e2","#f5f1e0","#ebefe6","#e1eff4","#e0e6f5","#e5e1f4","#ece4f1","#d8d8d8","#595959","#e9e6ec","#c2c1c5","#ebe3c1","#d7dfcd","#c3dfe9","#c1ceeb","#cbc3e9","#dac9e3","#bfbfbf","#3f3f3f","#dedae3","#a4a3a8","#e1d5a3","#c3cfb5","#a6d0de","#a2b5e2","#b1a6de","#c7aed6","#a5a5a5","#262626","#9688a5","#4e4d51","#ae9638","#758c5a","#3d8da9","#365bb0","#533da9","#7d4d99","#7f7f7f","#0c0c0c","#635672","#343336","#746425","#4e5d3c","#295e70","#243c75","#372970","#533366"],columns:10},austin:{colors:["#ffffff","#000000","#caf278","#3e3d2d","#94c600","#71685a","#ff6700","#909465","#956b43","#fea022","#f2f2f2","#7f7f7f","#f4fce4","#dddcd0","#efffc0","#e3e1dc","#ffe0cb","#e8e9df","#ece1d6","#feecd2","#d8d8d8","#595959","#e9f9c9","#bbb9a1","#dfff82","#c8c3ba","#ffc299","#d2d4c0","#dac3ad","#fed9a6","#bfbfbf","#3f3f3f","#dff7ae","#ada598","#cfff43","#ada598","#ffa365","#bcbfa1","#c8a585","#fec67a","#a5a5a5","#262626","#a9ea25","#2e2d21","#6f9400","#544e43","#bf4d00","#6c6f4b","#6f5032","#d77b00","#7f7f7f","#0c0c0c","#74a50f","#1f1e16","#4a6300","#38342d","#7f3300","#484a32","#4a3521","#8f5200"],columns:10},clarity:{colors:["#ffffff","#292934","#f3f2dc","#d2533c","#93a299","#ad8f67","#726056","#4c5a6a","#808da0","#79463d","#f2f2f2","#e7e7ec","#e7e5b9","#f6dcd8","#e9ecea","#eee8e0","#e4dedb","#d8dde3","#e5e8ec","#e9d6d3","#d8d8d8","#c4c4d1","#d5d185","#edbab1","#d3d9d6","#ded2c2","#c9beb8","#b2bcc8","#ccd1d9","#d3aea7","#bfbfbf","#8a8aa3","#aca73b","#e4978a","#bec7c1","#cdbba3","#af9e94","#8c9bac","#b2bac6","#bd857c","#a5a5a5","#56566e","#56531d","#a43925","#6b7c72","#866b48","#554840","#39434f","#5c697b","#5a342d","#7f7f7f","#3b3b4b","#22210b","#6d2619","#47534c","#594730","#39302b","#262d35","#3d4652","#3c231e"],columns:10},slipstream:{colors:["#ffffff","#000000","#b4dcfa","#212745","#4e67c8","#5eccf3","#a7ea52","#5dceaf","#ff8021","#f14124","#f2f2f2","#7f7f7f","#8bc9f7","#c7cce4","#dbe0f4","#def4fc","#edfadc","#def5ef","#ffe5d2","#fcd9d3","#d8d8d8","#595959","#4facf3","#909aca","#b8c2e9","#beeafa","#dbf6b9","#beebdf","#ffcca6","#f9b3a7","#bfbfbf","#3f3f3f","#0d78c9","#5967af","#94a3de","#9ee0f7","#caf297","#9de1cf","#ffb279","#f68d7b","#a5a5a5","#262626","#063c64","#181d33","#31479f","#11b2eb","#81d319","#34ac8b","#d85c00","#c3260c","#7f7f7f","#0c0c0c","#021828","#101322","#202f6a","#0b769c","#568c11","#22725c","#903d00","#821908"],columns:10},metro:{colors:["#ffffff","#000000","#d6ecff","#4e5b6f","#7fd13b","#ea157a","#feb80a","#00addc","#738ac8","#1ab39f","#f2f2f2","#7f7f7f","#a7d6ff","#d9dde4","#e5f5d7","#fad0e4","#fef0cd","#c5f2ff","#e2e7f4","#c9f7f1","#d8d8d8","#595959","#60b5ff","#b3bcca","#cbecb0","#f6a1c9","#fee29c","#8be6ff","#c7d0e9","#94efe3","#bfbfbf","#3f3f3f","#007dea","#8d9baf","#b2e389","#f272af","#fed46b","#51d9ff","#aab8de","#5fe7d5","#a5a5a5","#262626","#003e75","#3a4453","#5ea226","#af0f5b","#c58c00","#0081a5","#425ea9","#138677","#7f7f7f","#0c0c0c","#00192e","#272d37","#3f6c19","#750a3d","#835d00","#00566e","#2c3f71","#0c594f"],columns:10},flow:{colors:["#ffffff","#000000","#dbf5f9","#04617b","#0f6fc6","#009dd9","#0bd0d9","#10cf9b","#7cca62","#a5c249","#f2f2f2","#7f7f7f","#b2e9f2","#b4ecfc","#c7e2fa","#c4eeff","#c9fafc","#c9faed","#e4f4df","#edf2da","#d8d8d8","#595959","#76d9e8","#6adafa","#90c6f6","#89deff","#93f5f9","#94f6db","#cae9c0","#dbe6b6","#bfbfbf","#3f3f3f","#21b2c8","#20c8f7","#59a9f2","#4fceff","#5df0f6","#5ff2ca","#b0dfa0","#c9da91","#a5a5a5","#262626","#105964","#02485c","#0b5394","#0075a2","#089ca2","#0b9b74","#54a838","#7e9532","#7f7f7f","#0c0c0c","#062328","#01303d","#073763","#004e6c","#05686c","#07674d","#387025","#546321"],columns:10},hardcover:{colors:["#ffffff","#000000","#ece9c6","#895d1d","#873624","#d6862d","#d0be40","#877f6c","#972109","#aeb795","#f2f2f2","#7f7f7f","#e1dca5","#f2e0c6","#f0d0c9","#f6e6d5","#f5f2d8","#e7e5e1","#fbc7bc","#eef0e9","#d8d8d8","#595959","#d0c974","#e6c28d","#e2a293","#eeceaa","#ece5b2","#cfccc3","#f78f7a","#dee2d4","#bfbfbf","#3f3f3f","#a29a36","#daa454","#d4735e","#e6b681","#e2d88c","#b7b2a5","#f35838","#ced3bf","#a5a5a5","#262626","#514d1b","#664515","#65281a","#a2641f","#a39428","#655f50","#711806","#879464","#7f7f7f","#0c0c0c","#201e0a","#442e0e","#431b11","#6c4315","#6d621a","#433f35","#4b1004","#5a6243"],columns:10},trek:{colors:["#ffffff","#000000","#fbeec9","#4e3b30","#f0a22e","#a5644e","#b58b80","#c3986d","#a19574","#c17529","#f2f2f2","#7f7f7f","#f7e09e","#e1d6cf","#fcecd5","#eddfda","#f0e7e5","#f3eae1","#ece9e3","#f5e3d1","#d8d8d8","#595959","#f3cc5f","#c4ad9f","#f9d9ab","#dcc0b6","#e1d0cc","#e7d5c4","#d9d4c7","#ebc7a3","#bfbfbf","#3f3f3f","#d29f0f","#a78470","#f6c781","#cba092","#d2b9b2","#dbc1a7","#c6bfab","#e1ac76","#a5a5a5","#262626","#694f07","#3a2c24","#c87d0e","#7b4b3a","#926255","#a17242","#7b7153","#90571e","#7f7f7f","#0c0c0c","#2a1f03","#271d18","#855309","#523226","#614138","#6b4c2c","#524b37","#603a14"],columns:10},verve:{colors:["#ffffff","#000000","#d2d2d2","#666666","#ff388c","#e40059","#9c007f","#68007f","#005bd3","#00349e","#f2f2f2","#7f7f7f","#bdbdbd","#e0e0e0","#ffd7e8","#ffc6dc","#ffb8f1","#f1b2ff","#c3dcff","#b8cfff","#d8d8d8","#595959","#9d9d9d","#c1c1c1","#ffafd1","#ff8eba","#ff71e4","#e365ff","#87baff","#72a0ff","#bfbfbf","#3f3f3f","#696969","#a3a3a3","#ff87ba","#ff5597","#ff2ad7","#d519ff","#4b98ff","#2b71ff","#a5a5a5","#262626","#343434","#4c4c4c","#e90062","#ab0042","#75005f","#4e005f","#00449e","#002676","#7f7f7f","#0c0c0c","#151515","#333333","#9b0041","#72002c","#4e003f","#34003f","#002d69","#00194f"],columns:10},monochrome:{colors:["#000000","#1a1a1a","#333333","#4d4d4d","#666666","#808080","#999999","#b3b3b3","#cccccc","#e6e6e6","#f2f2f2","#ffffff"],columns:12}},z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=24,V=10,H="office",U=function(t){function e(e){var n=t.call(this,e)||this;return n.wrapper=null,n.guid=Object(i.r)(),n.focus=function(){n.wrapper&&n.wrapper.focus()},n.onKeyDown=function(t){switch(t.keyCode){case i.d.down:n.handleCellNavigation(0,1);break;case i.d.up:n.handleCellNavigation(0,-1);break;case i.d.right:n.handleCellNavigation(1,0);break;case i.d.left:n.handleCellNavigation(-1,0);break;case i.d.enter:n.handleEnter(t);break;default:return}t.preventDefault()},n.onColorClick=function(t,e){n.isUncontrolled?n.setState({selectedColor:t,focusedColor:t}):n.setState({focusedColor:t}),n.dispatchChangeEvent(t,e)},n.onFocus=function(){n.setState({focusedColor:n.state.selectedColor||n.paletteService.colorRows[0][0]})},n.onBlur=function(){n.setState({focusedColor:void 0})},Object(i.D)(a),n.state={selectedColor:void 0!==n.props.value?n.props.value:n.props.defaultValue,isFirstRender:!0},n}return z(e,t),e.prototype.render=function(){var t=this,e=this.getPaletteInfo(),n=this.paletteService=new F;n.setColorMatrix(e.colors,e.columns);var o=n.getCellCoordsFor(this.state.selectedColor),a=n.getCellCoordsFor(this.state.focusedColor),s=Object(i.g)("k-widget k-colorpalette",{"k-state-disabled":this.props.disabled});return e.colors.length?r.createElement("div",{id:this.props.id,className:s,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,"aria-disabled":this.props.disabled?"true":void 0,"aria-activedescendant":o&&this.createCellId(o),"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,tabIndex:Object(i.p)(this.props.tabIndex,this.props.disabled),ref:function(e){return t.wrapper=e}},r.createElement("div",{role:"grid"},r.createElement("table",{className:"k-palette k-reset",role:"presentation"},r.createElement("tbody",null,this.renderRows(n.colorRows,o,a))))):""},e.getDerivedStateFromProps=function(t,e){if(e.isFirstRender||void 0===t.value){if(e.isFirstRender)return{isFirstRender:!1}}else{if(""===t.value&&void 0!==e.selectedColor)return{selectedColor:void 0};if(""!==t.value&&t.value!==e.selectedColor)return{selectedColor:t.value}}return null},e.prototype.handleCellNavigation=function(t,e){if(this.focusedColorCooridanates){var n=this.paletteService.getNextCell(this.focusedColorCooridanates,t,e);this.setState({focusedColor:this.paletteService.getColorAt(n)})}else this.setState({focusedColor:this.paletteService.colorRows[0][0]})},e.prototype.handleEnter=function(t){this.isUncontrolled&&this.setState({selectedColor:this.state.focusedColor}),this.dispatchChangeEvent(this.state.focusedColor,t)},e.prototype.dispatchChangeEvent=function(t,e){Object(i.k)(this.props.onChange,e,this,{value:t,rgbaValue:u(t,"rgba")})},Object.defineProperty(e.prototype,"focusedColorCooridanates",{get:function(){return this.state.focusedColor?this.paletteService.getCellCoordsFor(this.state.focusedColor):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUncontrolled",{get:function(){return void 0===this.props.value},enumerable:!0,configurable:!0}),e.prototype.getPaletteInfo=function(){if("string"==typeof this.props.palette){var t=L[this.props.palette];return s(t)?{colors:t.colors,columns:this.props.columns||t.columns||V}:{colors:[],columns:0}}return{colors:this.props.palette||[],columns:this.props.columns||V}},e.prototype.renderRows=function(t,e,n){var o=this;return t.map((function(t,i){return r.createElement("tr",{role:"row",key:i},o.renderColumns(t,i,e,n))}))},e.prototype.renderColumns=function(t,e,n,o){var a=this,s=void 0!==n&&n.row===e,l=n&&n.col,c=void 0!==o&&o.row===e,u=o&&o.col,p="number"!=typeof this.props.tileSize?this.props.tileSize:{width:this.props.tileSize,height:this.props.tileSize},h=p.width+"px",d=p.height+"px";return t.map((function(t,n){var o=s&&l===n,p=Object(i.g)("k-item",{"k-state-selected":o,"k-state-focused":c&&u===n});return r.createElement("td",{className:p,"aria-label":t,"aria-selected":!!o||!!a.props.disabled&&void 0,style:{backgroundColor:t,width:h,height:d,minWidth:h},onClick:function(e){return a.onColorClick(t,e)},id:a.createCellId({row:e,col:n}),key:n})}))},e.prototype.createCellId=function(t){return this.guid+"_"+t.row+"_"+t.col},e.propTypes={palette:o.oneOfType([o.arrayOf(o.string),o.string]),columns:o.number,tileSize:o.any,defaultValue:o.string,value:o.string,disabled:o.bool,tabIndex:o.number,onChange:o.func,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string},e.defaultProps={palette:H,tileSize:B},e}(r.Component),W=n(14),q=function(){return(q=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},K=function(t){var e=t.popupSettings||{},n="rtl"===t.dir?"right":"left",o=r.useMemo((function(){return{horizontal:n,vertical:"bottom"}}),[n]),a=r.useMemo((function(){return{horizontal:n,vertical:"top"}}),[n]);return r.createElement(r.Fragment,null,t.input,t.button,r.createElement(W.Popup,q({style:q({},(e||{}).style,{direction:t.dir})},e,{anchor:t.popupAnchor,anchorAlign:o,popupAlign:a,show:t.open,onOpen:t.onOpen,onClose:t.onClose,className:Object(i.g)("k-reset",e.className)}),t.content))};K.displayName="KendoPickerComponent";var G=function(){return(G=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Y={palette:H,tileSize:B},X=function(t){return void 0!==t},$=r.forwardRef((function(t,e){Object(i.D)(a);var n=t.popupSettings,o=t.gradientSettings,s=t.paletteSettings,l=t.valid,c=t.disabled,u=t.tabIndex,p=t.view,h=t.icon,d=t.onChange,f=t.onFocus,m=t.onBlur,v=t.onActiveColorClick,g=r.useRef(null),y=r.useRef(null),b=r.useRef(null),x=r.useRef(),w=r.useRef(null),k=r.useCallback((function(){g.current&&g.current.focus()}),[]);r.useImperativeHandle(e,(function(){return{element:g.current,actionElement:w.current,focus:k}}));var O=r.useState(!1),C=O[0],_=O[1],S=r.useState(t.defaultValue),E=S[0],I=S[1],T=r.useState(!1),D=T[0],P=T[1],A=X(t.value),j=X(t.open),M=A?t.value:E,R=j?t.open:D,F=r.useCallback((function(t,e){j||(!t&&!e&&g&&g.current&&g.current.focus(),P(t))}),[j]),L=r.useCallback((function(t){var e=t.altKey,n=t.keyCode;if(n!==i.d.esc)return n!==i.d.enter||j?void(!e||n!==i.d.up&&n!==i.d.down||(t.preventDefault(),t.stopPropagation(),n===i.d.up&&g&&g.current&&(g.current.focus(),F(!1)),n===i.d.down&&F(!0))):(t.preventDefault(),t.stopPropagation(),void F(!R));F(!1)}),[R,j]),z=r.useCallback((function(){j||(y.current?y.current.focus():b.current&&b.current.focus())}),[j]),B=r.useCallback((function(){F(!R,!0)}),[R]),V=r.useCallback((function(t){v&&v.call(void 0,{syntheticEvent:t,nativeEvent:t.nativeEvent,value:M})}),[v,M]),H=r.useCallback((function(t){x.current?(clearTimeout(x.current),x.current=void 0):_(!0),f&&f.call(void 0,{nativeEvent:t.nativeEvent,syntheticEvent:t})}),[f]),W=r.useCallback((function(){F(!1,!0),_(!1),x.current=void 0}),[]),q=r.useCallback((function(t){clearTimeout(x.current),x.current=window.setTimeout(W),m&&m.call(void 0,{nativeEvent:t.nativeEvent,syntheticEvent:t})}),[m]),Y=r.useCallback((function(t,e){var n=e?t.rgbaValue:t.value;A||I(n),e&&F(!1),d&&d.call(void 0,{value:n,nativeEvent:t.nativeEvent,syntheticEvent:t.syntheticEvent})}),[A,d]),$=r.useCallback((function(t){return Y(t,!0)}),[X,Y]),Z=Object(i.z)(g,t.dir),J=t.iconClassName||h&&"k-icon k-i-"+h,Q=Object(i.g)({"k-widget":!0,"k-colorpicker":!0,"k-state-invalid":!1===l}),tt=r.useMemo((function(){return Object(i.g)({"k-picker-wrap":!0,"k-state-disabled":c,"k-state-focused":C})}),[C,c]);return r.createElement("span",{className:Q,dir:Z},r.createElement("span",{id:t.id,"aria-labelledby":t.ariaLabelledBy,"aria-describedby":t.ariaDescribedBy,className:tt,ref:g,tabIndex:Object(i.p)(u,c),title:t.title,onKeyDown:L,onFocus:H,onBlur:q},r.createElement(K,{dir:Z,open:R,onOpen:z,popupAnchor:g.current||void 0,popupSettings:G({},n),input:J?r.createElement("span",{onClick:V,className:Object(i.g)("k-tool-icon",J)},r.createElement("span",{className:"k-selected-color",style:{backgroundColor:M}})):r.createElement("span",{onClick:V,className:"k-selected-color",style:{backgroundColor:M}},!M&&r.createElement("span",{className:"k-icon k-i-line"})),button:r.createElement("span",{onClick:B,className:"k-select",ref:w},r.createElement("span",{className:"k-icon k-i-arrow-s"})),content:r.createElement(r.Fragment,null,("combo"===p||"gradient"===p)&&r.createElement(N,G({},o,{tabIndex:0,ref:y,value:M,onChange:Y})),("combo"===p||"palette"===p)&&r.createElement(U,G({},s,{ref:b,value:M,onChange:$})))})))}));$.propTypes={value:o.string,defaultValue:o.string,disabled:o.bool,view:o.oneOf(["gradient","palette","combo"]),dir:o.string,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string},$.defaultProps={view:"palette",gradientSettings:{opacity:!0},paletteSettings:Y},$.displayName="KendoColorPicker";var Z,J=n(8),Q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tt=function(){return(tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},et=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},nt=function(t){function e(n){var r=t.call(this,n)||this;return r._inputId=Object(i.r)(),r.focus=function(){r._input&&r._input.focus()},r.isInvalid=function(t){var e=!1;for(var n in t)t.hasOwnProperty(n)&&(e=e||t[n]);return e},r.setValidity=function(){r._input&&r._input.setCustomValidity&&(r.validity.valid||!r.validityStyles?r._input.classList.remove("k-state-invalid"):r._input.classList.add("k-state-invalid"),r._input.setCustomValidity(r.validity.valid?"":r.props.validationMessage||""))},r.handleChange=function(t){r.setState({value:t.target.value}),r.valueDuringOnChange=t.target.value,r.props.onChange&&r.props.onChange.call(void 0,{syntheticEvent:t,nativeEvent:t.nativeEvent,value:t.target.value,target:r}),r.valueDuringOnChange=void 0},r.handleAutoFill=function(t){if("autoFillStart"===t.animationName){var e=t.target.parentNode;e&&e.classList.contains("k-state-empty")&&e.classList.remove("k-state-empty")}},Object(i.D)(a),r.state={value:r.props.defaultValue||e.defaultProps.defaultValue},r}return Q(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._input},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t={badInput:!!this._input&&this._input.validity.badInput,patternMismatch:!!this._input&&this._input.validity.patternMismatch,rangeOverflow:!!this._input&&this._input.validity.rangeOverflow,rangeUnderflow:!!this._input&&this._input.validity.rangeUnderflow,stepMismatch:!!this._input&&this._input.validity.stepMismatch,tooLong:!!this._input&&this._input.validity.tooLong,typeMismatch:!!this._input&&this._input.validity.typeMismatch,valueMissing:!!this._input&&this._input.validity.valueMissing};return tt({},t,{customError:void 0!==this.props.validationMessage,valid:void 0!==this.props.valid?this.props.valid:!this._input||!this.isInvalid(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.forceUpdate()},e.prototype.componentDidUpdate=function(){this.setValidity()},e.prototype.render=function(){var t=this,e=this.props,n=e.className,o=e.label,a=e.id,s=(e.validationMessage,e.defaultValue,e.valid,e.visited,e.touched,e.modified,e.ariaLabelledBy),l=e.ariaDescribedBy,c=(e.validityStyles,e.style),u=et(e,["className","label","id","validationMessage","defaultValue","valid","visited","touched","modified","ariaLabelledBy","ariaDescribedBy","validityStyles","style"]),p=a||this._inputId,h=!this.validityStyles||this.validity.valid,d=Object(i.g)(n,"k-textbox"),f=r.createElement("input",tt({"aria-labelledby":s,"aria-describedby":l},u,{style:o?void 0:c,value:this.value,id:p,className:d,onChange:this.handleChange,onAnimationStart:this.handleAutoFill,ref:function(e){t._input=e}}));return o?r.createElement(J.FloatingLabel,{label:o,editorId:p,editorValue:String(this.value),editorValid:h,editorDisabled:u.disabled,editorPlaceholder:u.placeholder,children:f,style:c,dir:u.dir}):f},e.propTypes={label:o.string,validationMessage:o.string,required:o.bool,validate:o.bool,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string},e.defaultProps={defaultValue:"",required:!1,validityStyles:!0},e}(r.Component);!function(t){t[t.Literal=0]="Literal",t[t.Mask=1]="Mask",t[t.Undefined=2]="Undefined"}(Z||(Z={}));var rt=function(){function t(t,e,n){void 0===n&&(n=Z.Undefined),this.value=t,this.rest=e,this.type=n}return t.prototype.map=function(e){return new t(e(this.value),this.rest)},t.prototype.chain=function(t){return t(this.value,this.rest)},t.prototype.fold=function(t,e){return t(this.value,this.rest)},t.prototype.concat=function(t){return this.map((function(e,n){return t.chain((function(t,n){return e.concat([t])}))}))},t.prototype.toString=function(){return"Result({ value: '"+this.value+"', rest: "+this.rest+" })"},t}(),ot=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.input=t,this.control=e,this.inputCursor=0,this.controlCursor=0}return t.prototype.eof=function(){return this.inputCursor>=this.input.length},t.prototype.next=function(){return{char:this.input[this.inputCursor++],control:this.control[this.controlCursor++]}},t.prototype.peek=function(){return{char:this.input[this.inputCursor],control:this.control[this.controlCursor]}},t.prototype.eat_input=function(){this.inputCursor++},t.prototype.eat_control=function(){this.controlCursor++},t.prototype.eat=function(){this.inputCursor++,this.controlCursor++},t}(),it=function(t){return(t||"").split("")},at=function(){function t(t){this.parse=t}return t.prototype.run=function(t,e){return void 0===e&&(e=""),t instanceof ot?this.parse(t):this.parse(new ot(it(t),it(e)))},t.prototype.map=function(e){var n=this;return new t((function(t){return n.parse(t).map(e)}))},t.prototype.chain=function(e){var n=this;return new t((function(t){return n.parse(t).chain((function(t,n){return e(t).run(n)}))}))},t.prototype.isLiteral=function(t){return this.run(t).type===Z.Literal},t}(),st=function(t,e){return new at((function(n){var r=n.next().char,o=t[r];return"\\"===r?(r=n.next().char,new rt(e.literal(r),n)):new rt(o?e.mask(o):e.literal(r),n)}))},lt=function(t){var e=t.prompt,n=t.promptPlaceholder;return new at((function(t){var r=t.next().char;return new rt(r===e?n:r,t)}))},ct=function(t){return new at((function(e){var n=e.next().char;return new rt(t?n:"",e)}))},ut=function(t){return t.reduce((function(t,e){return n=e,t.chain((function(t){return n.map((function(e){return t.concat([e])}))}));var n}),(e=[],new at((function(t){return new rt(e,t)}))));var e},pt=function(t){return new at((function(e){for(var n=new rt([],e);!e.eof();)n=n.concat(t.run(e));return n}))},ht=function(){function t(){this.rules={},this.prompt="_",this.mask="",this.promptPlaceholder=" ",this.includeLiterals=!1,this.maskTokens=[],this.unmaskTokens=[],this.rawTokens=[],this.validationTokens=[]}return t.prototype.update=function(t){var e=t.mask,n=void 0===e?"":e,r=t.prompt,o=void 0===r?"":r,i=t.promptPlaceholder,a=void 0===i?" ":i,s=t.rules,l=void 0===s?{}:s,c=t.includeLiterals,u=void 0!==c&&c;this.mask=n,this.prompt=o,this.promptPlaceholder=a,this.rules=l,this.includeLiterals=u,this.tokenize()},t.prototype.validationValue=function(t){void 0===t&&(t="");var e=t;return ut(this.validationTokens).run(t).fold((function(t){e=t.join("")})),e},t.prototype.rawValue=function(t){void 0===t&&(t="");var e=t;return this.rawTokens.length?(ut(this.rawTokens).run(t).fold((function(t){e=t.join("")})),e):e},t.prototype.maskRaw=function(t){void 0===t&&(t="");var e=t;return this.maskTokens.length?(ut(this.maskTokens).run(t).fold((function(t){e=t.join("")})),e):e},t.prototype.maskInput=function(t,e,n){return t.length<e.length?this.maskRemoved(t,e,n):this.maskInserted(t,e,n)},t.prototype.maskInRange=function(t,e,n,r){var o="",i=r,a=e.split("").slice(0,n),s=e.split("").slice(r);return ut(this.maskTokens.slice(n,r)).run(t).fold((function(t){o=a.concat(t).concat(s).join("")})),{selection:i,value:o}},t.prototype.maskRemoved=function(t,e,n){var r=this,o="",i=n,a=t.split("").slice(n),s=t.split("").slice(0,n).join(""),l=this.maskTokens.length-(t.length-n);return ut(this.maskTokens.slice(0,l)).run(s,e).fold((function(t){i=r.adjustPosition(t,i),o=t.concat(a).join("")})),{selection:i,value:o}},t.prototype.adjustPosition=function(t,e){var n=t[e];return this.maskTokens[e].isLiteral(n)||n===this.prompt?e:e+1},t.prototype.maskInserted=function(t,e,n){var r=this,o="",i=n,a=t.slice(0,n);return ut(this.unmaskTokens).run(a,e).chain((function(t){i=t.join("").length;var n=e.slice(i);return ut(r.maskTokens).run(t.join("")+n,e)})).fold((function(t){o=t.join("")})),{selection:i,value:o}},Object.defineProperty(t.prototype,"maskTokenCreator",{get:function(){var t=this.prompt,e=this.promptPlaceholder;return{literal:function(t){return e=t,new at((function(t){return t.peek().char===e?(t.eat(),new rt(e,t,Z.Literal)):new rt(e,t,Z.Literal)}));var e},mask:function(n){return function(t){var e=t.prompt,n=t.promptPlaceholder;return function(t){return new at((function(r){for(;!r.eof();){var o=r.peek(),i=o.char,a=o.control;if(i===a&&a===e)return r.eat(),new rt(e,r,Z.Mask);if(t.test(i))return r.eat(),new rt(i,r,Z.Mask);if(i===n)return r.eat(),new rt(e,r,Z.Mask);r.eat_input()}return r.eat(),new rt(e,r,Z.Mask)}))}}({prompt:t,promptPlaceholder:e})(n)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unmaskTokenCreator",{get:function(){var t=this;return{literal:function(t){return e=t,new at((function(t){return t.eof()?new rt("",t):(t.peek().char===e&&t.eat(),new rt(e,t))}));var e},mask:function(e){return(n=t.prompt,function(t){return new at((function(e){for(;!e.eof();){var r=e.peek(),o=r.char,i=r.control;if(o===n&&i===n)return e.eat(),new rt(o,e);if(t.test(o))return e.eat(),new rt(o,e);e.eat_input()}return e.eat(),new rt("",e)}))})(e);var n}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawTokenCreator",{get:function(){var t=this.prompt,e=this.promptPlaceholder,n=this.includeLiterals;return{literal:function(t){return ct(n)},mask:function(n){return lt({prompt:t,promptPlaceholder:e})}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validationTokenCreator",{get:function(){var t=this.prompt;return{literal:function(t){return ct(!1)},mask:function(e){return lt({prompt:t,promptPlaceholder:""})}}},enumerable:!0,configurable:!0}),t.prototype.tokenize=function(){var t=this;pt(st(this.rules,this.maskTokenCreator)).run(this.mask).fold((function(e,n){t.maskTokens=e})),pt(st(this.rules,this.unmaskTokenCreator)).run(this.mask).fold((function(e,n){t.unmaskTokens=e})),pt(st(this.rules,this.rawTokenCreator)).run(this.mask).fold((function(e,n){t.rawTokens=e})),pt(st(this.rules,this.validationTokenCreator)).run(this.mask).fold((function(e,n){t.validationTokens=e}))},t}(),dt={"#":/[\d\s\+\-]/,"&":/[\S]/,0:/[\d]/,9:/[\d\s]/,"?":/[a-zA-Z\s]/,A:/[a-zA-Z0-9]/,C:/./,L:/[a-zA-Z]/,a:/[a-zA-Z0-9\s]/},ft=function(){return!1},mt=function(t,e){if(!!t!=!!e)return!1;if(t===e||!t||!e)return!0;var n=!0;for(var r in t)if(t[r]!==e[r]){n=!1;break}if(n)for(var r in e)if(!t.hasOwnProperty(r)){n=!1;break}return n},vt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gt=function(){return(gt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},yt=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n._inputId="k-"+Object(i.r)(),n._service=new ht,n._isPasted=!1,n._selection=[null,null],n._input=null,n.focus=function(){n._input&&n._input.focus()},n.pasteHandler=function(t){var e=t.target,r=e.selectionStart,o=e.selectionEnd;o!==r&&(n._isPasted=!0,n._selection=[r||0,o||0])},n.onChangeHandler=function(t){var e=t.currentTarget,r=e.value,o=n._selection[0]||0,i=n._selection[1]||0;if(!n.props.mask)return n._isPasted=!1,n._selection=[null,null],void n.triggerOnChange(r,t);var a,s=n.value;if(n._isPasted){n._isPasted=!1;var l=s.length-i,c=r.length-l;a=n._service.maskInRange(r.slice(o,c),s,o,i)}else a=n._service.maskInput(r,s,e.selectionStart||0);n._selection=[a.selection,a.selection],n.triggerOnChange(a.value,t)},n.focusHandler=function(t){n.state.focused||(n.setState({focused:!0}),n.props.onFocus&&n.props.onFocus.call(void 0,{target:n,syntheticEvent:t,nativeEvent:t.nativeEvent}))},n.blurHandler=function(t){n.state.focused&&(n.setState({focused:!1}),n.props.onBlur&&n.props.onBlur.call(void 0,{target:n,syntheticEvent:t,nativeEvent:t.nativeEvent}))},n.setValidity=function(){n.element&&n.element.setCustomValidity(n.validity.valid?"":n.props.validationMessage||"")},Object(i.D)(a),n}return vt(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._input},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return void 0!==this._valueDuringOnChange?this._valueDuringOnChange:void 0!==this.props.value?this.props.value:void 0!==this.state.value?this.state.value:void 0!==this.props.defaultValue?this.props.defaultValue:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rawValue",{get:function(){return this._service.rawValue(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t=this.value,e=this._service.validationValue(t);return{customError:void 0!==this.props.validationMessage,valid:void 0!==this.props.valid?this.props.valid:!(this.required&&!e||this.props.maskValidation&&this.props.prompt&&-1!==t.indexOf(this.props.prompt)),valueMissing:!e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:e.defaultProps.required},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(t,e){if(this.element&&this.state.focused&&e.focused){var n=this._selection,r=n[0],o=n[1],i=t.selection,a=this.props.selection;(!i&&a||i&&a&&(i.start!==a.start||i.end!==a.end))&&(r=a.start,o=a.end),null!==r&&null!==o&&this.element.setSelectionRange(r,o)}var s,l;s=t,l=this.props,s.includeLiterals===l.includeLiterals&&s.mask===l.mask&&s.prompt===l.prompt&&s.promptPlaceholder===l.promptPlaceholder&&mt(s.rules,l.rules)||this.updateService(),this.setValidity()},e.prototype.componentDidMount=function(){this.updateService(),this.setValidity()},e.prototype.render=function(){var t=this,e=this.props.id||this._inputId,n=!this.validityStyles||this.validity.valid,o=this.props.style||{},a=r.createElement("span",{dir:this.props.dir,className:Object(i.g)("k-widget k-maskedtextbox",this.props.className,{"k-state-focused":this.state.focused,"k-state-disabled":this.props.disabled,"k-state-invalid":!n}),style:this.props.label?o:gt({width:this.props.width},o)},r.createElement("input",{type:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,className:"k-textbox",value:this.value,id:e,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,name:this.props.name,tabIndex:Object(i.p)(this.props.tabIndex,this.props.disabled,!0),accessKey:this.props.accessKey,title:this.props.title,disabled:this.props.disabled||void 0,readOnly:this.props.readonly||void 0,placeholder:this.props.placeholder,ref:function(e){return t._input=e},onChange:this.onChangeHandler,onPaste:this.pasteHandler,onFocus:this.focusHandler,onBlur:this.blurHandler,onDragStart:ft,onDrop:ft}));return this.props.label?r.createElement(J.FloatingLabel,{label:this.props.label,editorId:e,editorValue:this.value,editorValid:n,editorDisabled:this.props.disabled,editorPlaceholder:this.props.placeholder,children:a,style:{width:this.props.width},dir:this.props.dir}):a},e.prototype.triggerOnChange=function(t,e){this.setState({value:t}),this.props.onChange&&(this._valueDuringOnChange=t,this.props.onChange.call(void 0,{syntheticEvent:e,nativeEvent:e.nativeEvent,selectionStart:this._selection[0],selectionEnd:this._selection[1],target:this,value:this.value}),this._valueDuringOnChange=void 0)},e.prototype.updateService=function(t){var e=Object.assign({includeLiterals:this.props.includeLiterals,mask:this.props.mask,prompt:this.props.prompt,promptPlaceholder:this.props.promptPlaceholder,rules:this.rules},t);this._service.update(e)},Object.defineProperty(e.prototype,"rules",{get:function(){return Object.assign({},dt,this.props.rules)},enumerable:!0,configurable:!0}),e.propTypes={value:o.string,defaultValue:o.string,placeholder:o.string,title:o.string,dir:o.string,id:o.string,style:o.object,className:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string,width:o.oneOfType([o.string,o.number]),tabIndex:o.number,accessKey:o.string,disabled:o.bool,readonly:o.bool,prompt:o.string,promptPlaceholder:o.string,includeLiterals:o.bool,maskValidation:o.bool,mask:o.string,rules:function(t,e,n){var r=t.rules;if(void 0!==r)return Object.entries(r).some((function(t){return"string"!=typeof t||!(r[t]instanceof RegExp)}))?null:new Error("Invalid prop `"+e+"` supplied to `"+n+"`. Validation failed.")},selection:o.shape({start:o.number.isRequired,end:o.number.isRequired}),name:o.string,label:o.string,validationMessage:o.string,required:o.bool,valid:o.bool,validityStyles:o.bool,onChange:o.func},e.defaultProps={prompt:"_",promptPlaceholder:" ",includeLiterals:!1,maskValidation:!0,rules:dt,required:!1,validityStyles:!0},e}(r.Component),bt=function(){return(bt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xt=/\d/,wt=function(t,e){return void 0!==t?t:e},kt=function(t,e,n){return null===t&&void 0===t?"":"string"==typeof t?t:n.formatNumber(t,e)},Ot=function(t){return(String(t).split(".")[1]||"").length},Ct=function(t,e){return Math.max(Ot(t),Ot(e))},_t=function(t,e){var n=function(t){return Math.min(t,15)}(e);return parseFloat(t.toFixed(n))},St=function(t,e,n,r,o,i,a){var s=Ct(t||0,n||0),l=It(_t((t||0)+(n||0),s),r,o);e.eventValue=l,e.currentLooseValue=kt(l,i,a),e.selectionStart=e.selectionEnd=Mt(e.currentLooseValue,xt)},Et=function(t,e,n,r,o,i,a){var s=Ct(t||0,n||0),l=It(_t((t||0)-(n||0),s),r,o);e.eventValue=l,e.currentLooseValue=kt(l,i,a),e.selectionStart=e.selectionEnd=Mt(e.currentLooseValue,xt)},It=function(t,e,n){return null==t?t:t>1||t<1||1===t?void 0!==n&&void 0!==e&&n<e?null:(void 0!==n&&t>n&&(t=n),void 0!==e&&t<e&&(t=e),t):null},Tt=function(t,e,n){var r=function(t,e){var n=e.findIndex((function(e){e[0];var n=e[1];return Boolean(n)&&t.indexOf(n)===t.length-n.length}));if(-1===n)return-1;var r=e[n][1];return t.length-r.length}(t,e);if(-1!==r&&n.selectionStart>r)n.selectionStart=n.selectionEnd=r;else{n.selectionStart>t.length&&(n.selectionStart=n.selectionEnd=t.length);var o=function(t,e){var n=e.findIndex((function(e){var n=e[0];e[1];return Boolean(n)&&0===t.indexOf(n)}));return-1===n?-1:e[n][0].length}(t,e);-1!==o&&n.selectionStart<o&&(n.selectionStart=n.selectionEnd=o),-1===n.selectionStart&&(n.selectionStart=n.selectionEnd=0)}},Dt=function(t,e,n,r){t.selectionStart=t.selectionEnd=e,Tt(n,r,t)},Pt=function(t,e,n,r){t.eventValue=r.parseNumber(t.prevLooseValue,e),t.currentLooseValue=t.prevLooseValue,t.valueIsCorrected=!0,Dt(t,t.selectionStart,t.currentLooseValue,n)},At=function(t,e){var n=t.indexOf(e.decimal);return n>-1?n:Mt(t,xt)},jt=function(t){return t.split("").reverse().join("")},Mt=function(t,e){return t.length-jt(t).search(e)},Rt=function(t){return t.split(t[t.search(xt)])[0]},Nt=function(t){var e=jt(t);return jt(e.split(e[e.search(xt)])[0])},Ft=function(t,e){return t.search(e)},Lt=function(t,e){var n=t.indexOf(e);return n>-1?t.length-n-1:0},zt=function(t,e,n,r,o){var i="0"===t.replace(o,"")[0],a="0"===e.replace(o,"")[0];if(i&&!a)return n-1;if(a&&r)return n+1;for(var s=0,l=0;l<n;l++)xt.test(t.charAt(l))&&s++;for(var c=0;s>0&&e.length>c;)xt.test(e.charAt(c))&&s--,c++;return c},Bt=function(t,e,n){var r=bt({},t),o=r.prevLooseValue,i=n.numberSymbols(),a=function(t,e){var n=e.formatNumber(1111111.1111111,t),r=e.formatNumber(-1111111.1111111,t),o=e.formatNumber(0,t),i=e.formatNumber(1,t),a=e.numberSymbols(),s=new RegExp("[\\d\\"+a.decimal+a.group+"]","g");return[n,r,o,i].map((function(t){return t.replace(s,"")})).join("").split("").filter((function(t,e,n){return n.indexOf(t)===e})).join("")}(e,n),s=String(r.currentLooseValue),l=String(o),c=new RegExp("[^\\d\\"+i.decimal+"]","g"),u=new RegExp("[^\\d\\"+i.decimal+"\\"+i.group+"]","g"),p=new RegExp("[\\d\\"+i.decimal+"\\"+i.group+"]"),h=s.replace(c,""),d=Ft(s,xt),f=-1===d?-1:Mt(s,xt),m=s.indexOf(i.decimal),v=(s.substring(0,d)+s.substring(d,f).replace(u,"")+s.substring(f,s.length)).split("").filter((function(t){return-1!==a.indexOf(t)||-1!==t.search(p)})).join(""),g=n.formatNumber(.31111111111111117,e).replace(c,""),y=g.indexOf(i.decimal),b=y>-1?g.length-y-1:0,x=n.formatNumber(1,e).replace(c,""),w=x.indexOf(i.decimal),k=w>-1?x.length-w-1:0,O=function(t,e){var n=e.formatNumber(1111111.1111111,t),r=e.formatNumber(-1111111.1111111,t),o=e.formatNumber(0,t),i=e.formatNumber(1,t),a=Rt(n),s=Rt(r),l=Rt(o),c=Rt(i);return{positiveInfo:[a,Nt(n)],negativeInfo:[s,Nt(r)],zeroInfo:[l,Nt(o)],oneInfo:[c,Nt(i)]}}(e,n),C=[O.positiveInfo,O.negativeInfo,O.zeroInfo,O.oneInfo],_=1!==C.findIndex((function(t){return-1!==t.findIndex((function(t){return Boolean(t)}))})),S=s.length>0&&s.length<l.length,E=e&&"p"===e[0]&&s&&-1===s.indexOf(i.percentSign);if(!r.isPaste){if(""===s)return r.eventValue=null,r.currentLooseValue="",r;if(r.currentLooseValue===i.minusSign&&n.formatNumber(-0,e)!==l)return r.eventValue=-0,r.currentLooseValue=kt(r.eventValue,e,n),Dt(r,At(r.currentLooseValue,i),r.currentLooseValue,C),r;if(function(t,e){var n=String(t.currentLooseValue),r=String(t.prevLooseValue);return n.split(e.minusSign).length!==r.split(e.minusSign).length&&n.length===r.length+e.minusSign.length}(r,i)){var I=n.parseNumber(o,e);r.eventValue=-(null!==I?I:0),r.currentLooseValue=kt(r.eventValue,e,n);var T=Ft(r.currentLooseValue,xt),D=Ft(l,xt);return Dt(r,r.selectionEnd-1+(T-D),r.currentLooseValue,C),r}if(function(t,e){var n=String(t.currentLooseValue),r=String(t.prevLooseValue);return-1===n.indexOf(e.minusSign)&&-1!==r.indexOf(e.minusSign)}(r,i))return r.eventValue=n.parseNumber(r.currentLooseValue,e),Dt(r,r.selectionStart,r.currentLooseValue,C),r;if(r.currentLooseValue===i.decimal){r.eventValue=0;var P=kt(r.eventValue,e,n);if(0===k&&b>0){var A=Mt(P,xt);r.currentLooseValue=P.substring(0,A)+i.decimal+P.substring(A)}else r.currentLooseValue=P;return Dt(r,At(r.currentLooseValue,i)+1,r.currentLooseValue,C),r}if(function(t,e){return String(t.currentLooseValue).split(e.decimal).length>2}(r,i))return Pt(r,e,C,n),r;if(E)return r.eventValue=n.parseNumber(s,e)/100,r.currentLooseValue=kt(r.eventValue,e,n),r;if(String(r.currentLooseValue).replace(/[^\d]/g,"").length>15)return Pt(r,e,C,n),r;if(h!==s&&s&&_)if(-1===C.findIndex((function(t){var e=t[0],n=t[1],r=s.indexOf(e),o=s.indexOf(n),a=0===r,l=o===s.length-n.length,c=r+e.length!==d&&-1!==d&&s[r+e.length]!==i.decimal,u=o!==f&&-1!==f&&s[o-1]!==i.decimal;return e&&n?!c&&!u&&(a&&l):e?!c&&a:!!n&&(!u&&l)})))return Pt(r,e,C,n),r;if(h[h.length-1]===i.decimal&&b>0)return r.eventValue=n.parseNumber(s,e),r.currentLooseValue=v,r;if(r.currentLooseValue&&o)if((a+i.decimal+i.group).split("").findIndex((function(t){return s.split("").filter((function(e){return e===t})).length<l.split("").filter((function(e){return e===t})).length&&s.length+1===l.length&&(t!==i.decimal||0!==Lt(l.replace(c,""),i.decimal))}))>-1)return r.eventValue=n.parseNumber(t.prevLooseValue,e),r.currentLooseValue=t.prevLooseValue,r;var j=Lt(h,i.decimal),M="0"===h[h.length-1];if(S&&M&&j<k)return r.eventValue=n.parseNumber(r.currentLooseValue,e),r.currentLooseValue=kt(r.eventValue,e,n),r;if(j>0){var R=s.substring(0,m);if(M&&(!R||0!==l.indexOf(R))){r.eventValue=n.parseNumber(r.currentLooseValue,e);var N=kt(r.eventValue,e,n);return Dt(r,zt(s,N,r.selectionEnd,S,c),N,C),r.currentLooseValue=N,r}if(j>b){var F=s.indexOf(i.decimal),L=s.substring(0,F)+s.substring(F,F+1+b)+s.substring(f,String(r.currentLooseValue).length);return r.eventValue=n.parseNumber(L,e),r.currentLooseValue=L,Dt(r,r.selectionStart,L,C),r}if(k!==b&&j<=b&&M)return r.eventValue=n.parseNumber(r.currentLooseValue,e),r.currentLooseValue=v,r;if(j<k)return r.eventValue=n.parseNumber(r.currentLooseValue,e),r.currentLooseValue=kt(r.eventValue,e,n),r}}if(r.eventValue=n.parseNumber(r.currentLooseValue,e),E&&(r.eventValue=r.eventValue/100),"number"==typeof r.eventValue){N=kt(r.eventValue,e,n);1===s.length?Dt(r,At(N,i),N,C):Dt(r,zt(s,N,r.selectionEnd,S,c),N,C),r.currentLooseValue=N}else r.currentLooseValue=kt(n.parseNumber(h),e,n);return r},Vt=r.forwardRef((function(t,e){Object(i.D)(a);var n=r.useMemo((function(){return Object(i.r)()}),[]),o=t.id||n,s=Object(O.useInternationalization)(),l=Object(O.useLocalization)(),c=r.useRef(null),u=r.useRef(null),p=r.useRef(),h=r.useState(!1),d=h[0],f=h[1],m=r.useRef({eventValue:null,prevLooseValue:"",currentLooseValue:"",focused:!1,selectionStart:void 0,selectionEnd:void 0,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1}),v=r.useRef(!1),g=r.useRef(),y=r.useRef(t.defaultValue),b=kt(m.current.focused&&!t.disabled?m.current.currentLooseValue:wt(t.value,y.current),t.format,s);g.current=b,r.useEffect((function(){c.current&&c.current.setCustomValidity&&c.current.setCustomValidity(S().valid?"":t.validationMessage||"Please enter a valid value!")}));var x=r.useCallback((function(){c.current&&c.current.focus()}),[]),w=r.useCallback((function(){return void 0!==p.current?p.current:wt(t.value,y.current)}),[t.value]),k=r.useCallback((function(){return t.name}),[t.name]),_=r.useCallback((function(){return t.required}),[t.required]),S=r.useCallback((function(){var e=void 0!==t.validationMessage,n=w();return{customError:e,valid:void 0!==t.valid?t.valid:!(m.current.valueIsOutOfRange||_()&&null==n),valueMissing:null==n}}),[t.validationMessage,t.valid,w,_]),E=r.useCallback((function(){return t.validityStyles}),[t.validityStyles]),I=r.useCallback((function(){return t}),[t]),T=r.useCallback((function(){var t={element:c.current,focus:x};return Object.defineProperty(t,"name",{get:k}),Object.defineProperty(t,"value",{get:w}),Object.defineProperty(t,"validity",{get:S}),Object.defineProperty(t,"validityStyles",{get:E}),Object.defineProperty(t,"required",{get:_}),Object.defineProperty(t,"props",{get:I}),t}),[k,w,S,E,_,x,I]);r.useImperativeHandle(e,T);var D=r.useCallback((function(){return{eventValue:wt(t.value,y.current),prevLooseValue:g.current,currentLooseValue:c.current.value,selectionStart:c.current.selectionStart,selectionEnd:c.current.selectionEnd,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1,isPaste:v.current,focused:m.current.focused}}),[t.value]),P=r.useCallback((function(e,n){if(!t.disabled){p.current=n.eventValue,y.current=n.eventValue;var r=kt(It(n.eventValue,t.min,t.max),t.format,s),o=It(s.parseNumber(r,t.format),t.min,t.max);if(o!==n.eventValue&&(n.valueIsOutOfRange=!0,n.eventValue=o,y.current=o),n.valueIsCorrected){var a=u.current;a&&-1===a.className.indexOf("k-state-invalid")&&(a.className+=" k-state-invalid",window.setTimeout((function(){return a.className=a.className.replace(" k-state-invalid","")}),50))}t.value!==n.eventValue&&Object(i.k)(t.onChange,e,T(),{value:n.eventValue}),p.current=void 0,m.current=n,f((function(t){return!t}))}}),[t.value,t.onChange,t.disabled,f,T]),A=r.useCallback((function(e){var n=D();v.current=!1,P(e,Bt(n,t.format,s))}),[t.format,t.onChange,s,P,D]),j=r.useCallback((function(e){var n=D(),r=s.parseNumber(String(n.currentLooseValue),t.format);if(n.selectionEnd>n.selectionStart&&n.selectionEnd-n.selectionStart===String(n.currentLooseValue).length)v.current=!0;else{switch(e.keyCode){case 38:St(r,n,t.step,t.min,t.max,t.format,s);break;case 40:Et(r,n,t.step,t.min,t.max,t.format,s);break;case 13:if(!1===t.rangeOnEnter)return;var o=kt(It(r,t.min,t.max),t.format,s),i=It(s.parseNumber(o,t.format),t.min,t.max);n.eventValue=i,n.currentLooseValue=kt(i,t.format,s),n.selectionStart=n.selectionEnd=n.currentLooseValue.length;break;case 110:var a=c.current,l=s.numberSymbols();a&&(n.currentLooseValue=n.currentLooseValue.slice(0,n.selectionStart)+l.decimal+n.currentLooseValue.slice(n.selectionEnd),n.selectionStart=n.selectionEnd=n.selectionStart+1,n=Bt(n,t.format,s));break;default:return}e.preventDefault(),P(e,n)}}),[t.format,t.min,t.max,t.step,t.onChange,t.rangeOnEnter,P,D]),M=r.useCallback((function(){v.current=!0}),[]),R=r.useCallback((function(e){if(!t.readOnly&&!t.disabled){var n=D();St(s.parseNumber(String(n.currentLooseValue),t.format),n,t.step,t.min,t.max,t.format,s),P(e,n)}}),[t.format,t.min,t.max,t.step,t.onChange,t.readOnly,t.disabled,P,D]),N=r.useCallback((function(e){if(!t.readOnly&&!t.disabled){var n=D();Et(s.parseNumber(String(n.currentLooseValue),t.format),n,t.step,t.min,t.max,t.format,s),P(e,n)}}),[t.format,t.min,t.max,t.step,t.onChange,t.readOnly,t.disabled,P,D]),F=r.useCallback((function(e){document&&document.activeElement===c.current&&c.current&&!t.readOnly&&!t.disabled&&(e.nativeEvent.deltaY<0&&R(e),e.nativeEvent.deltaY>0&&N(e))}),[R,N,t.disabled,t.readOnly]),L=r.useCallback((function(e){m.current.currentLooseValue=g.current,m.current.focused=!0,Object(i.k)(t.onFocus,e,T(),{}),f((function(t){return!t}))}),[t.onFocus,f,T]),z=r.useCallback((function(e){m.current={eventValue:null,prevLooseValue:"",currentLooseValue:"",focused:!1,selectionStart:void 0,selectionEnd:void 0,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1},Object(i.k)(t.onBlur,e,T(),{}),f((function(t){return!t}))}),[t.onBlur,f,T]),B=r.useCallback((function(t){document&&c.current&&(t.preventDefault(),document.activeElement!==c.current&&c.current.focus())}),[]);r.useLayoutEffect((function(){c.current&&void 0!==m.current.selectionStart&&void 0!==m.current.selectionEnd&&(c.current.selectionStart=m.current.selectionStart,c.current.selectionEnd=m.current.selectionEnd,m.current.selectionStart=void 0,m.current.selectionEnd=void 0)}),[d]);var V=!E()||S().valid,H=r.createElement("span",{dir:t.dir,style:t.label?void 0:{width:t.width},className:"k-widget k-numerictextbox"+(t.className?" "+t.className:""),"aria-disabled":t.disabled?"true":void 0},r.createElement("span",{className:Object(i.g)("k-numeric-wrap",{"k-state-disabled":t.disabled,"k-state-invalid":!V,"k-state-focused":m.current.focused}),ref:u},r.createElement("input",{value:null===b?"":b,tabIndex:Object(i.p)(t.tabIndex,t.disabled),accessKey:t.accessKey,disabled:t.disabled,title:t.title,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-labelledby":t.ariaLabelledBy,"aria-describedby":t.ariaDescribedBy,placeholder:t.placeholder,spellCheck:!1,autoComplete:"off",autoCorrect:"off",type:t.inputType||"tel",className:"k-input k-formatted-value",id:o,name:t.name,readOnly:t.readOnly,onChange:A,onFocus:L,onBlur:z,onKeyDown:j,onPaste:M,onWheel:F,ref:c}),t.children,t.spinners&&r.createElement("span",{className:"k-select",onMouseDown:B},r.createElement("span",{className:"k-link k-link-increase","aria-label":l.toLanguageString("numerictextbox.increment",C["numerictextbox.increment"]),title:l.toLanguageString("numerictextbox.increment",C["numerictextbox.increment"]),onClick:R},r.createElement("span",{className:"k-icon k-i-arrow-n"})),r.createElement("span",{className:"k-link k-link-decrease","aria-label":l.toLanguageString("numerictextbox.decrement",C["numerictextbox.decrement"]),title:l.toLanguageString("numerictextbox.decrement",C["numerictextbox.decrement"]),onClick:N},r.createElement("span",{className:"k-icon k-i-arrow-s"})))));return t.label?r.createElement(J.FloatingLabel,{label:t.label,editorId:o,editorValue:null===b?"":b,editorValid:V,editorDisabled:t.disabled,editorPlaceholder:t.placeholder,children:H,style:{width:t.width},dir:t.dir}):H}));Vt.propTypes={value:o.number,defaultValue:o.number,step:o.number,format:o.oneOfType([o.string,o.shape({style:o.oneOf(["decimal","currency","percent","scientific","accounting"]),currency:o.string,currencyDisplay:o.oneOf(["symbol","code","name"]),useGrouping:o.bool,minimumIntegerDigits:o.number,minimumFractionDigits:o.number,maximumFractionDigits:o.number})]),width:o.oneOfType([o.string,o.number]),tabIndex:o.number,accessKey:o.string,title:o.string,placeholder:o.string,min:o.number,max:o.number,spinners:o.bool,disabled:o.bool,readOnly:o.bool,dir:o.string,name:o.string,label:o.string,validationMessage:o.string,required:o.bool,id:o.string,rangeOnEnter:o.bool,ariaLabelledBy:o.string,ariaDescribedBy:o.string,onChange:o.func,onFocus:o.func,onBlur:o.func},Vt.displayName="KendoNumericTextBox",Vt.defaultProps={step:1,spinners:!0,disabled:!1,required:!1,validityStyles:!0,rangeOnEnter:!0,onChange:function(t){},onFocus:function(t){},onBlur:function(t){}};var Ht=function(){return(Ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ut="data-slider-label",Wt=function(t){var e,n,o=r.useRef(null),a=Object(i.z)(o),s=t.vertical?{bottom:t.position+"%",height:"1px",width:"100%"}:((e={})["rtl"===a?"right":"left"]=t.position+"%",e.width="1px",e);return r.createElement("li",{ref:o,role:"presentation",className:"k-tick k-tick-large",title:t.title,style:Ht({zIndex:1,position:"absolute"},s)},r.createElement("span",Ht({},((n={})[Ut]=!0,n),{className:"k-label",onClick:t.onClick}),t.children))},qt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kt=function(){return(Kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Gt=function(t){function e(e){var n=t.call(this,e)||this;return n.state={value:void 0===n.props.defaultValue?n.props.min:n.props.defaultValue,focused:!1,dir:n.props.dir},n.buttons=function(t){return t.enabled?r.createElement(r.Fragment,null,r.createElement("a",{className:"k-button k-button-decrease",style:{position:"relative"},title:t.decrementTitle,onClick:t.decrement},r.createElement("span",{className:Object(i.g)("k-icon",{"k-i-arrow-s":n.props.vertical,"k-i-arrow-w":!n.props.vertical})})),t.children,r.createElement("a",{className:"k-button k-button-increase",style:{position:"relative"},title:t.incrementTitle,onClick:t.increment},r.createElement("span",{className:Object(i.g)("k-icon",{"k-i-arrow-n":n.props.vertical,"k-i-arrow-e":!n.props.vertical})}))):t.children},n.focus=function(){n._element&&n._element.focus()},n.isLabel=function(t){for(var e=t;e;){if(Boolean(e.getAttribute(Ut)))return!0;e=e.parentElement}return!1},n.onFocus=function(){n.setState({focused:!0})},n.onBlur=function(){n.setState({focused:!1})},n.onKeyDown=function(t){var e=void 0;t.keyCode===i.d.left||t.keyCode===i.d.down?e=n.state.value-(n.props.step||0):t.keyCode===i.d.right||t.keyCode===i.d.up?e=n.state.value+(n.props.step||0):t.keyCode===i.d.home?e=n.props.min:t.keyCode===i.d.end&&(e=n.props.max),void 0!==e&&(t.preventDefault(),n.change(t,e))},n.decrement=function(t){t.preventDefault(),n.change(t,n.state.value-(n.props.step||0))},n.increment=function(t){t.preventDefault(),n.change(t,n.state.value+(n.props.step||0))},n.dragStart=function(t){n.isLabel(t.event.originalEvent.target)||(t.event.isTouch&&t.event.originalEvent.preventDefault(),n.drag(t))},n.dragOver=function(t){t.event.originalEvent.preventDefault(),n.drag(t)},n.drag=function(t){var e=t.element.getBoundingClientRect(),r=(n.props.vertical?e.bottom-t.event.clientY:"rtl"===n.state.dir?e.right-t.event.clientX:t.event.clientX-e.left)/(n.props.vertical?e.height:e.width);n.change(t,n.props.min+r*(n.props.max-n.props.min))},Object(i.D)(a),n}return qt(e,t),e.getDerivedStateFromProps=function(t,e){var n=void 0!==t.value?t.value:e.value,r=t.min,o=t.max;return void 0===n?null:{value:Math.min(Math.max(n,r),o)}},e.prototype.componentDidMount=function(){if(!this.state.dir&&window&&this._element){var t=window.getComputedStyle(this._element).direction;t&&this.setState({dir:t})}},e.prototype.render=function(){var t,e,n=this,o=Object(O.provideLocalizationService)(this),a=(this.state.value-this.props.min)/(this.props.max-this.props.min)*100,s=this.props.vertical?{marginTop:"0.5rem",marginBottom:"0.5rem"}:{marginLeft:"0.5rem",marginRight:"0.5rem"},l=this.props.vertical?{paddingTop:0,height:"100%"}:{};return r.createElement("div",{ref:function(t){return n._element=t},"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":this.state.value,"aria-disabled":this.props.disabled?"true":void 0,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,dir:this.state.dir,role:"slider",id:this.props.id,style:this.props.style,tabIndex:Object(i.p)(this.props.tabIndex,this.props.disabled,void 0),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,className:Object(i.g)("k-slider k-widget",{"k-state-focused":this.state.focused,"k-state-disabled":this.props.disabled,"k-slider-horizontal":!this.props.vertical,"k-slider-vertical":this.props.vertical},this.props.className)},r.createElement("div",{className:Object(i.g)("k-slider-wrap",{"k-slider-buttons":this.props.buttons}),style:{display:"flex",position:"relative",flexDirection:this.props.vertical?"column-reverse":"row"}},r.createElement(this.buttons,{enabled:this.props.buttons,decrement:this.decrement,increment:this.increment,incrementTitle:o.toLanguageString("slider.increment",C["slider.increment"]),decrementTitle:o.toLanguageString("slider.decrement",C["slider.decrement"])},r.createElement(i.b,{onDrag:this.dragOver,onPress:this.dragStart},r.createElement("div",{className:"k-slider-track-wrap",style:Kt({flexGrow:1,position:"relative",touchAction:"none"},s)},this.props.children&&r.createElement("ul",{className:"k-reset k-slider-items",style:Kt({margin:0},l)},r.Children.map(this.props.children,(function(t){return t&&r.cloneElement(t,{position:100*(t.props.position-n.props.min)/(n.props.max-n.props.min),vertical:n.props.vertical},t.props.children)}))),r.createElement("div",{className:"k-slider-track",style:this.props.vertical?{bottom:0,height:"100%"}:(t={},t["rtl"===this.state.dir?"right":"left"]=0,t.width="100%",t),ref:function(t){return n._sliderTrack=t}},r.createElement("div",{className:"k-slider-selection",style:this.props.vertical?{height:a+"%"}:{width:a+"%"}}),r.createElement("a",{className:"k-draghandle",title:o.toLanguageString("slider.dragTitle",C["slider.dragTitle"]),style:this.props.vertical?{bottom:"calc("+a+"% - 8px)",zIndex:1}:(e={},e["rtl"===this.state.dir?"right":"left"]="calc("+a+"% - 8px)",e.zIndex=1,e)})))))))},Object.defineProperty(e.prototype,"sliderTrack",{get:function(){return this._sliderTrack},enumerable:!0,configurable:!0}),e.prototype.change=function(t,e){e=Math.min(Math.max(e,this.props.min),this.props.max),this.setState({value:e}),Object(i.k)(this.props.onChange,t,this,{value:e})},e.propTypes={min:o.number.isRequired,max:o.number.isRequired,value:o.number,vertical:o.bool,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string},e}(r.Component);Object(O.registerForLocalization)(Gt);var Yt,Xt=function(){return(Xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(t){t.start="start",t.end="end",t.min="min",t.max="max",t.increase="increase",t.decrease="decrease"}(Yt||(Yt={}));var $t=function(){return($t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Zt=function(t,e,n){var o=r.useState(t),i=o[0],a=o[1],s=r.useCallback((function(t){var r=function(t,e){var n,r;switch(e.type){case Yt.start:if(void 0===e.payload)return t;n={start:e.payload>t.end?t.end:Math.max(e.payload,e.min),end:t.end};break;case Yt.end:if(void 0===e.payload)return t;n={start:t.start,end:e.payload<t.start?t.start:Math.min(e.payload,e.max)};break;case Yt.min:n="start"===e.key?Xt({},t,{start:e.min}):Xt({},t,{end:Math.max(e.min,t.start)});break;case Yt.max:n="start"===e.key?Xt({},t,{start:Math.min(e.max,t.end)}):Xt({},t,{end:e.max});break;case Yt.increase:if(void 0===e.step||void 0===e.key)return t;r=t[e.key]+e.step,n="start"===e.key?r<e.min?Xt({},t,{start:e.min}):Xt({},t,{start:Math.min(r,t.end)}):r>e.max?Xt({},t,{end:e.max}):Xt({},t,{end:Math.max(r,t.start)});break;case Yt.decrease:if(void 0===e.step||void 0===e.key)return t;r=t[e.key]-e.step,n="start"===e.key?r<e.min?Xt({},t,{start:e.min}):Xt({},t,{start:Math.min(r,t.end)}):r>e.max?Xt({},t,{end:e.max}):Xt({},t,{end:Math.max(r,t.start)});break;default:n=t}return n}(e.state||i,$t({},t,e));n&&n(r,t.event),a(r)}),[e,n]);return[i,s]},Jt=r.forwardRef((function(t,e){var n,o,s,l;Object(i.D)(a);var c=r.useRef(null),u=r.useRef(null),p=r.useRef(null),h=r.useRef(null),d=r.useRef(null),f=r.useCallback((function(){h.current&&h.current.focus()}),[h]);r.useImperativeHandle(c,(function(){return{element:u.current,focus:f,props:t}})),r.useImperativeHandle(e,(function(){return c.current}));var m=r.useMemo((function(){return t.min}),[t.min]),v=r.useMemo((function(){return t.max}),[t.max]),g=r.useMemo((function(){return void 0!==t.step?t.step:te.step}),[t.step,te.step]),y=Object(i.z)(u,t.dir),b=r.useState(""),x=b[0],w=b[1],k=Zt(t.defaultValue||te.defaultValue,{min:m,max:v,step:g,state:t.value},(function(e,n){t.onChange&&c.current&&t.onChange.call(void 0,{value:e,target:c.current,syntheticEvent:n})})),_=k[0],S=k[1],E=r.useMemo((function(){return t.value||_}),[t.value,_]),I=r.useRef(null),T=r.useRef(null),D=r.useMemo((function(){return(E.start-m)/(v-m)*100}),[E.start,m,v]),P=r.useMemo((function(){return(E.end-m)/(v-m)*100}),[E.end,m,v]),A=r.useMemo((function(){return t.vertical?{paddingTop:0,height:"100%"}:{}}),[t.vertical]),j=r.useMemo((function(){return t.vertical?{marginTop:"0.5rem",marginBottom:"0.5rem"}:{marginLeft:"0.5rem",marginRight:"0.5rem"}}),[t.vertical]),M=Object(O.useLocalization)(),R=r.useCallback((function(e){if(T.current){e.originalEvent.preventDefault();var n=T.current.getBoundingClientRect(),r=t.vertical?n.bottom-e.clientY:"rtl"===y?n.right-e.clientX:e.clientX-n.left,o=t.vertical?n.height:n.width;return m+r/o*(v-m)}}),[T,t.vertical,y,m,v,_.start,_.end,t.value&&t.value.start,t.value&&t.value.end]),N=r.useCallback((function(t){return t<=E.start?"start":t>=E.end?"end":2*t<E.end+E.start?"start":"end"}),[_.start,_.end,t.value&&t.value.start,t.value&&t.value.end]),F=r.useCallback((function(t){switch(t.keyCode){case i.d.right:t.preventDefault(),S({type:"rtl"===y?Yt.decrease:Yt.increase,key:"start",event:t});break;case i.d.up:t.preventDefault(),S({type:Yt.increase,key:"start",event:t});break;case i.d.left:t.preventDefault(),S({type:"rtl"===y?Yt.increase:Yt.decrease,key:"start",event:t});break;case i.d.down:t.preventDefault(),S({type:Yt.decrease,key:"start",event:t});break;case i.d.home:t.preventDefault(),S({type:Yt.min,key:"start",event:t});break;case i.d.end:t.preventDefault(),S({type:Yt.max,key:"start",event:t})}}),[S]),L=r.useCallback((function(t){switch(t.keyCode){case i.d.right:t.preventDefault(),S({type:"rtl"===y?Yt.decrease:Yt.increase,key:"end",event:t});break;case i.d.up:t.preventDefault(),S({type:Yt.increase,key:"end",event:t});break;case i.d.left:t.preventDefault(),S({type:"rtl"===y?Yt.increase:Yt.decrease,key:"end",event:t});break;case i.d.down:t.preventDefault(),S({type:Yt.decrease,key:"end",event:t});break;case i.d.home:t.preventDefault(),S({type:Yt.min,key:"end",event:t});break;case i.d.end:t.preventDefault(),S({type:Yt.max,key:"end",event:t})}}),[S,y]),z=r.useCallback((function(t){var e=R(t),n=N(e);w(n),"end"===n?d.current.focus():h.current.focus();var r="end"===n?Yt.end:Yt.start;S({type:r,payload:e,event:t})}),[t.vertical,m,v,S]);return Object(i.A)(T,{onPress:z,onDrag:function(t){var e=R(t),n="end"===x?Yt.end:Yt.start;S({type:n,payload:e,event:t})},onRelease:function(t){var e=R(t),n="end"===x?Yt.end:Yt.start;S({type:n,payload:e,event:t}),w("")}}),r.createElement("div",{role:"slider",id:t.id,style:t.style,ref:u,dir:y,className:Object(i.g)("k-widget k-slider",{"k-rtl":"rtl"===y,"k-state-disabled":t.disabled,"k-slider-vertical":t.vertical,"k-slider-horizontal":!t.vertical},t.className),"aria-labelledby":t.ariaLabelledBy,"aria-describedby":t.ariaDescribedBy},r.createElement("div",{className:"k-slider-wrap",style:{display:"flex",position:"relative",flexDirection:t.vertical?"column-reverse":"row"}},r.createElement("div",{ref:T,className:"k-slider-track-wrap",style:$t({flexGrow:1,position:"relative",touchAction:"none"},j)},t.children&&r.createElement("ul",{className:"k-reset k-slider-items",style:$t({margin:0},A)},r.Children.map(t.children,(function(e){return e&&r.cloneElement(e,{position:100*(e.props.position-t.min)/(t.max-t.min),vertical:t.vertical},e.props.children)}))),r.createElement("div",{ref:I,className:"k-slider-track",style:t.vertical?{bottom:0,height:"100%"}:(n={},n["rtl"===y?"right":"left"]=0,n.width="100%",n)},null!==D&&null!==P&&r.createElement("div",{"data-selection":!0,ref:p,title:E.start+" - "+E.end,className:"k-slider-selection",style:t.vertical?{height:P-D+"%",bottom:D+"%"}:(o={},o["rtl"===y?"right":"left"]=D+"%",o.width=P-D+"%",o)}),r.createElement("a",{ref:h,role:"slider",tabIndex:Object(i.p)(t.startTabIndex,t.disabled,void 0),"aria-valuemin":m,"aria-valuemax":Math.max(v,E.end),"aria-valuenow":E.start,"aria-disabled":t.disabled?"true":void 0,className:"k-draghandle",title:M.toLanguageString("slider.dragTitle",C["slider.dragTitle"]),style:t.vertical?{bottom:"calc("+D+"% - 8px)",zIndex:1}:(s={},s["rtl"===y?"right":"left"]="calc("+D+"% - 8px)",s.zIndex=1,s),onKeyDown:F}),r.createElement("a",{ref:d,role:"slider",tabIndex:Object(i.p)(t.endTabIndex,t.disabled,void 0),"aria-valuemin":Math.min(m,E.start),"aria-valuemax":v,"aria-valuenow":E.end,"aria-disabled":t.disabled?"true":void 0,className:"k-draghandle",title:M.toLanguageString("slider.dragTitle",C["slider.dragTitle"]),style:t.vertical?{bottom:"calc("+P+"% - 8px)",zIndex:1}:(l={},l["rtl"===y?"right":"left"]="calc("+P+"% - 8px)",l.zIndex=1,l),onKeyDown:L})))))})),Qt={value:function(t,e,n){if(t.value){var r=t.value.start,o=t.value.end,i=t.min,a=t.max;if(r>o||r>a||r<i||o>a||o<i||o<r)return new Error("Invalid prop + "+e+" supplied to "+n+".\n                    The { start, end } value must be between the min & max value and { start, end } must be start < end.\n                    ")}return null},defaultValue:function(t,e,n){if(t.defaultValue){var r=t.defaultValue.start,o=t.defaultValue.end,i=t.min,a=t.max;if(r>o||r>a||r<i||o>a||o<i||o<r)return new Error("Invalid prop + "+e+" supplied to "+n+".\n                    The { start, end } value must be between the min & max value and { start, end } must be start < end.\n                    ")}return null},onChange:o.func,step:o.number,min:function(t,e,n){var r=t[e],o=t.min,i=t.max;return void 0===o?new Error("Invalid prop + "+e+" supplied to "+n+".\n                "+e+" value can not be undefined.\n                "):r&&o>=i?new Error("Invalid prop + "+e+" supplied to "+n+".\n                "+e+" value can not be equal to or bigger than the max value.\n                "):null},max:function(t,e,n){var r=t[e],o=t.min,i=t.max;return void 0===i?new Error("Invalid prop + "+e+" supplied to "+n+".\n                "+e+" value can not be undefined.\n                "):r&&i<=o?new Error("Invalid prop + "+e+" supplied to "+n+".\n                "+e+" value can not be equal to or smaller than the min value.\n                "):null},vertical:o.bool,disabled:o.bool,dir:o.oneOf(["ltr","rtl"])},te={step:1,defaultValue:{start:0,end:0},vertical:!1,disabled:!1};Jt.displayName="KendoReactRangeSlider",Jt.propTypes=Qt,Jt.defaultProps=te;var ee=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ne=function(){return(ne=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},re=function(t){function e(n){var o=t.call(this,n)||this;return o.setValidity=function(){o._input&&o._input.setCustomValidity&&o._input.setCustomValidity(o.validity.valid?"":o.props.validationMessage||o.defaultValidationMessage.toLanguageString("switch.validation",C["switch.validation"]))},o.limit=function(t,e,n){var r=n.offsetWidth,o=e.offsetWidth;return t<0?0:t>r-o?r-o:t},o.toggle=function(t,e){o.setState({checked:t}),o.valueDuringOnChange=t,Object(i.k)(o.props.onChange,e,o,{value:t}),o.valueDuringOnChange=void 0},o._id=Object(i.r)(),o.defaultValidationMessage=Object(O.provideLocalizationService)(o),o.focus=function(){o._element&&o._element.focus()},o.dummyInput=function(t){return r.createElement("input",{type:"checkbox",checked:o.props.checked,ref:function(t){o._input=t},tabIndex:-1,"aria-hidden":!0,value:t,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"},onChange:i.v})},o.handleClick=function(t){o.eventTimeStamp!==t.timeStamp&&(o.eventTimeStamp=t.timeStamp,o.toggle(!o.value,t))},o.handleKeyDown=function(t){if(!o.props.disabled){var e=t.keyCode;e!==i.d.space&&e!==i.d.enter||o.toggle(!o.value,t)}},o.handleWrapperFocus=function(t){if(!o.props.disabled){o.setState({focused:!0});var e=o.props.onFocus;e&&e.call(void 0,t)}},o.handleWrapperBlur=function(t){if(!o.props.disabled){o.setState({focused:!1});var e=o.props.onBlur;e&&e.call(void 0,t)}},Object(i.D)(a),o.state={checked:n.defaultChecked||e.defaultProps.defaultChecked,focused:!1},o}return ee(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.checked?this.props.checked:this.state.checked},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionElement",{get:function(){return this._wrapper},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t=void 0!==this.props.validationMessage,e=void 0!==this.props.valid?this.props.valid:!this.props.required||!!this.value;return{customError:t,valid:void 0!==this.props.valid?this.props.valid:e,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:e.defaultProps.required},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.setValidity(),this.forceUpdate()},e.prototype.componentDidUpdate=function(){this.setValidity()},e.prototype.render=function(){var t=this,e=this.state.focused,n=this.props,o=n.dir,a=n.disabled,s=n.id,l=n.offLabel,c=n.onLabel,u=n.tabIndex;this.dir=o||this._wrapper&&getComputedStyle(this._wrapper).direction||void 0;var p=!this.validityStyles||this.validity.valid,h=Object(i.g)({"k-widget":!0,"k-switch":!0,"k-switch-on":this.value,"k-switch-off":!this.value,"k-state-focused":e,"k-state-disabled":a,"k-state-invalid":!p},this.props.className),d={"aria-checked":this.value,"aria-disabled":a||void 0};return r.createElement("span",{ref:function(e){t._wrapper=e},className:h,dir:this.dir,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onBlur:this.handleWrapperBlur,onFocus:this.handleWrapperFocus},r.createElement("span",ne({className:"k-switch-container",id:s||this._id,role:"switch"},d,{"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,ref:function(e){t._element=e},tabIndex:Object(i.p)(u,a,void 0),accessKey:this.props.accessKey}),this.dummyInput(this.value),r.createElement("span",{className:"k-switch-label-on"},c),r.createElement("span",{className:"k-switch-label-off"},l),r.createElement("span",{className:"k-switch-handle"})))},e.propTypes={accessKey:o.string,checked:o.bool,className:o.string,disabled:o.bool,defaultChecked:o.bool,dir:o.string,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string,offLabel:o.string,required:o.bool,tabIndex:o.number,valid:o.bool,validate:o.bool,validationMessage:o.string,onBlur:o.any,onChange:o.any,onFocus:o.any,onLabel:o.string},e.defaultProps={disabled:!1,defaultChecked:!1,offLabel:"OFF",onBlur:i.v,onFocus:i.v,onLabel:"ON",required:!1,validityStyles:!0},e}(r.Component),oe=function(){return(oe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ie=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ae=r.forwardRef((function(t,e){Object(i.D)(a);var n=t,o=n.ariaDescribedBy,s=n.ariaLabelledBy,l=n.checked,c=n.className,u=n.children,p=n.defaultChecked,h=n.disabled,d=n.defaultValue,f=n.id,m=n.label,v=n.labelPlacement,g=n.name,y=n.labelOptional,b=n.onChange,x=n.onFocus,w=n.onBlur,k=n.tabIndex,_=n.value,S=n.required,E=n.valid,I=n.validationMessage,T=n.validityStyles,D=(n.visited,n.touched,n.modified,ie(n,["ariaDescribedBy","ariaLabelledBy","checked","className","children","defaultChecked","disabled","defaultValue","id","label","labelPlacement","name","labelOptional","onChange","onFocus","onBlur","tabIndex","value","required","valid","validationMessage","validityStyles","visited","touched","modified"])),P=r.useRef(null),A=r.useCallback((function(){P.current&&P.current.focus()}),[]),j=r.useCallback((function(){return{element:P.current,focus:A,get name(){return P.current&&P.current.name}}}),[A]);r.useImperativeHandle(e,j);var M=r.useState(p),R=M[0],N=M[1],F=r.useState(d),L=F[0],z=F[1],B="boolean"==typeof _||null===_,V=void 0!==l,H=B,U=H?_:L,W=V?l:H?void 0:R,q=void 0===W&&U,K=q?U:W,G=q||H?null===_?_:void 0:_||U,Y=null===K||null===G,X=r.useMemo((function(){return Object(i.r)()}),[]),$=Object(O.useLocalization)(),Z=function(t){return $.toLanguageString(t,C[t])},J=Z("checkbox.validation"),Q=Z("checkbox.optionalText"),tt=void 0!==E?E:!S||!!W;r.useEffect((function(){P.current&&P.current.setCustomValidity&&P.current.setCustomValidity(tt?"":I||J)}),[tt,I,J]);var et=r.useCallback((function(t,e){H||h||(z(e),V||h||N(e)),b&&!h&&Object(i.k)(b,t,oe({},j(),{value:e}),{value:e})}),[V,h,b,H,j]),nt=r.useCallback((function(t){var e=t.target.checked;et(t,e)}),[et,_]),rt=r.useCallback((function(t){if(!h){var e=t.keyCode,n=t.currentTarget.checked;e===i.d.space&&(t.preventDefault(),t.stopPropagation(),et(t,!n))}}),[h,et]),ot=r.useCallback((function(t){h||t.keyCode===i.d.space&&t.preventDefault()}),[h]),it=r.useCallback((function(t){x&&!h&&Object(i.k)(x,t,j(),void 0)}),[x,h,j]),at=r.useCallback((function(t){w&&!h&&Object(i.k)(w,t,j(),void 0)}),[w,h,j]),st=Object(i.z)(P,t.dir),lt=Object(i.g)({"k-state-disabled":h},c),ct=oe({type:"checkbox",className:Object(i.g)({"k-checkbox":!0,"k-state-indeterminate":Y,"k-state-invalid k-invalid":!(tt||void 0!==T||!0===T)}),ref:P,name:g,id:f||X,"aria-labelledby":s,"aria-describedby":o,checked:Boolean(K),disabled:h,tabIndex:Object(i.p)(k,h),role:"checkbox",required:void 0!==S&&S,"aria-checked":!(!W&&!K)||!!Y&&"mixed","aria-disabled":h||void 0},D,{onChange:nt,onKeyDown:rt,onKeyUp:ot,onFocus:it,onBlur:at}),ut=r.createElement(r.Fragment,null,void 0===G?r.createElement("input",oe({},ct)):r.createElement("input",oe({},ct,{value:B?void 0:null===G?"":G}))),pt=r.createElement(r.Fragment,null,void 0!==m?r.createElement("label",{className:"k-checkbox-label",htmlFor:f||X,style:{userSelect:"none"}},m,y&&r.createElement("span",{className:"k-label-optional"},Q)):null);return r.createElement(r.Fragment,null,"before"===v?r.createElement("span",{className:lt,dir:"rtl"},ut,pt,u):r.createElement("span",{className:lt,dir:st},ut,pt,u))}));ae.propTypes={checked:o.bool,className:o.string,defaultChecked:o.bool,defaultValue:o.any,dir:o.string,disabled:o.bool,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string,label:o.any,labelPlacement:o.string,labelOptional:o.bool,name:o.string,tabIndex:o.number,value:o.any,validationMessage:o.string,required:o.bool,validate:o.bool,valid:o.bool,onChange:o.func,onFocus:o.func,onBlur:o.func},ae.displayName="KendoCheckbox";var se=function(){return(se=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},le=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ce=r.forwardRef((function(t,e){Object(i.D)(a);var n=t.ariaDescribedBy,o=t.checked,s=t.children,l=t.className,c=t.disabled,u=t.id,p=t.label,h=t.labelPlacement,d=t.name,f=t.style,m=t.tabIndex,v=t.value,g=t.valid,y=t.onChange,b=t.onFocus,x=t.onBlur,w=le(t,["ariaDescribedBy","checked","children","className","disabled","id","label","labelPlacement","name","style","tabIndex","value","valid","onChange","onFocus","onBlur"]),k=r.useRef(null),O=r.useCallback((function(){k.current&&k.current.focus()}),[]),C=r.useCallback((function(){return{element:k.current,focus:O}}),[O]);r.useImperativeHandle(e,C);var _=r.useMemo((function(){return Object(i.r)()}),[]),S=r.useCallback((function(t){Object(i.k)(y,t,C(),{value:v})}),[y,v,c]),E=r.useCallback((function(t){b&&!c&&Object(i.k)(b,t,C(),void 0)}),[b,c]),I=r.useCallback((function(t){x&&!c&&Object(i.k)(x,t,C(),void 0)}),[x,c]),T=se({type:"radio",id:u||_,name:d,className:Object(i.g)({"k-radio":!0,"k-state-invalid":!1===g,"k-invalid":!1===g},l),ref:k,disabled:c,tabIndex:Object(i.p)(m,c),checked:o,style:f,"aria-describedby":n,value:v,onChange:S,onFocus:E,onBlur:I},w),D=r.createElement(r.Fragment,null,void 0!==p?r.createElement("label",{className:"k-radio-label",htmlFor:u||_,style:{userSelect:"none"},"aria-label":p},p):null),P=r.createElement("input",se({},T));return"before"===h?r.createElement(r.Fragment,null,D,P,s):r.createElement(r.Fragment,null,P,D,s)}));ce.propTypes={ariaDescribedBy:o.string,checked:o.bool,className:o.string,disabled:o.bool,id:o.string,label:o.string,labelPlacement:o.string,name:o.string,style:o.object,tabIndex:o.number,value:o.any,valid:o.bool,onChange:o.func,onFocus:o.func,onBlur:o.func},ce.displayName="KendoRadioButton";var ue=function(){return(ue=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},pe=r.forwardRef((function(t,e){Object(i.D)(a);var n=t.ariaLabelledBy,o=t.ariaDescribedBy,s=t.className,l=t.data,c=t.defaultValue,u=t.disabled,p=t.name,h=t.labelPlacement,d=t.layout,f=t.style,m=t.value,v=t.valid,g=t.item,y=void 0===g?he.item:g,b=t.onChange,x=t.onFocus,w=r.useRef(null),k=r.useCallback((function(){w.current&&Object(i.m)(w.current)}),[]),O=r.useCallback((function(){return{element:w.current,focus:k}}),[k]);r.useImperativeHandle(e,O);var C=r.useState(c),_=C[0],S=C[1],E=void 0!==m,I=E?m:_,T=r.useCallback((function(t){var e=t.value;E||u||S(e),b&&!u&&Object(i.k)(b,t.syntheticEvent,O(),{value:e})}),[S,b,u]),D=r.useCallback((function(t){x&&!u&&Object(i.k)(x,t.syntheticEvent,O(),void 0)}),[x,u]),P=r.useMemo((function(){return Object(i.r)()}),[]),A=Object(i.g)("k-radio-list",{"k-list-horizontal":"horizontal"===d,"k-list-vertical":"vertical"===d||void 0===d},s),j=Object(i.C)(w,t.dir),M=l&&l.map((function(t,e){var n=I===t.value,o=null==I,a=ue({},t,{valid:v,checked:n,disabled:!(!t.disabled&&!u),labelPlacement:t.labelPlacement?t.labelPlacement:h,tabIndex:t.tabIndex?t.tabIndex:o&&0===e||n?0:-1,index:e,name:p||P,onChange:T,onFocus:D});return r.createElement(y,{className:Object(i.g)("k-radio-item",{"k-state-disabled":a.disabled||u}),key:e,role:"radio"},r.createElement(ce,ue({},a)))}));return r.createElement("ul",{role:"radiogroup",className:A,ref:w,dir:j,style:f,"aria-labelledby":n,"aria-describedby":o},M)})),he={item:function(t){return r.createElement("li",ue({},t))}};pe.propTypes={ariaLabelledBy:o.string,ariaDescribedBy:o.string,className:o.string,data:o.arrayOf(o.object),defaultValue:o.any,dir:o.string,disabled:o.bool,labelPlacement:o.string,layout:o.string,name:o.string,style:o.object,value:o.any,onChange:o.func,onFocus:o.func},pe.defaultProps=he,pe.displayName="KendoRadioGroup";var de=function(){return(de=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},fe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},me=r.forwardRef((function(t,e){var n=t,o=n.ariaDescribedBy,a=n.ariaLabelledBy,s=n.autoSize,l=n.className,c=n.defaultValue,u=n.disabled,p=n.readOnly,h=n.required,d=n.rows,f=n.id,m=n.name,v=n.placeholder,g=n.style,y=n.tabIndex,b=n.value,x=n.valid,w=n.validationMessage,k=n.validityStyles,O=n.onChange,C=n.onFocus,_=n.onBlur,S=(n.visited,n.touched,n.modified,fe(n,["ariaDescribedBy","ariaLabelledBy","autoSize","className","defaultValue","disabled","readOnly","required","rows","id","name","placeholder","style","tabIndex","value","valid","validationMessage","validityStyles","onChange","onFocus","onBlur","visited","touched","modified"])),E=r.useRef(null),I=r.useCallback((function(){E.current&&E.current.focus()}),[]),T=r.useCallback((function(){return{element:E,focus:I,get name(){return E.current&&E.current.name}}}),[I]);r.useImperativeHandle(e,T);var D=r.useState(c),P=D[0],A=D[1],j=r.useState("auto"),M=j[0],R=j[1],N=r.useMemo((function(){return Object(i.r)()}),[]),F=Object(i.z)(E,t.dir),L=void 0!==b,z=L?b:P,B=void 0!==x?x:!h||!!z;r.useEffect((function(){E.current&&E.current.setCustomValidity&&E.current.setCustomValidity(B?"":w||"")}),[B,w]),r.useLayoutEffect((function(){E.current&&R(E.current.scrollHeight+"px")}),[z]);var V=r.useCallback((function(t){var e=t.target.value;L||u||(R("auto"),A(e)),O&&!u&&Object(i.k)(O,t,T(),{value:e})}),[A,O,u,L]),H=r.useCallback((function(t){C&&!u&&Object(i.k)(C,t,T(),void 0)}),[C,u]),U=r.useCallback((function(t){_&&!u&&Object(i.k)(_,t,T(),void 0)}),[_,u]),W={className:Object(i.g)("k-textarea",{"k-state-invalid":!(B||void 0!==k||!0===k),"k-state-disabled":u},l),style:g,dir:F},q=de({id:f||N,name:m,className:"k-input",ref:E,disabled:u,rows:d,placeholder:v,readOnly:p,required:h,tabIndex:Object(i.p)(y,u),style:s?{resize:"none",overflow:"hidden",height:M}:{},"aria-labelledby":a,"aria-describedby":o,"aria-multiline":!0,"aria-disabled":u||void 0,value:L?b:P},S,{onChange:V,onFocus:H,onBlur:U});return r.createElement("span",de({},W),r.createElement("textarea",de({},q)))}));me.propTypes={ariaDescribedBy:o.string,ariaLabelledBy:o.string,autoSize:o.bool,className:o.string,defaultValue:o.string,dir:o.string,disabled:o.bool,readOnly:o.bool,rows:o.number,id:o.string,name:o.string,placeholder:o.string,style:o.object,tabIndex:o.number,value:o.oneOfType([o.string,o.arrayOf(o.string),o.number]),onChange:o.func,onFocus:o.func,onBlur:o.func},me.displayName="KendoTextArea";var ve=r.forwardRef((function(t,e){var n=r.useRef(null),o=r.useRef(null),a=Object(i.z)(o,t.dir);r.useImperativeHandle(n,(function(){return{element:o.current,props:t,value:t.value}})),r.useImperativeHandle(e,(function(){return n.current}));var s=r.useCallback((function(e){t.onClick&&t.onClick.call(void 0,{value:t.value,target:n.current,syntheticEvent:e})}),[t.onClick,t.value]),l=r.useCallback((function(e){t.onKeyDown&&t.onKeyDown.call(void 0,{target:n.current,syntheticEvent:e})}),[t.onKeyDown]),c=r.useCallback((function(e){t.onFocus&&t.onFocus.call(void 0,{target:n.current,syntheticEvent:e})}),[t.onFocus]),u=r.useCallback((function(e){t.onBlur&&t.onBlur.call(void 0,{target:n.current,syntheticEvent:e})}),[t.onBlur]),p=r.useCallback((function(e){t.onMouseMove&&t.onMouseMove.call(void 0,{target:n.current,syntheticEvent:e})}),[t.onMouseMove]),h=r.useCallback((function(e){t.onMouseEnter&&t.onMouseEnter.call(void 0,{target:n.current,syntheticEvent:e})}),[t.onMouseEnter]),d=r.useCallback((function(e){t.onMouseLeave&&t.onMouseLeave.call(void 0,{target:n.current,syntheticEvent:e})}),[t.onMouseLeave]);return r.createElement("span",{id:t.id,ref:o,dir:a,"data-half":t.half,tabIndex:t.tabIndex,title:t.title,style:t.style,className:Object(i.g)("k-rating-item",{"k-rtl":"rtl"===a,"k-state-selected":t.selected,"k-state-hovered":t.hovered},t.className),onClick:s,onKeyDown:l,onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:d,onMouseMove:p},t.children)})),ge={id:o.string,icon:o.any,dir:o.oneOf(["ltr","rtl"]),title:o.string,value:o.number,half:o.bool,selected:o.bool,hovered:o.bool};ve.displayName="KendoReactRatingItem",ve.propTypes=ge,ve.defaultProps={dir:"ltr"};var ye,be=function(t,e){if(t%1){var n=Math.pow(10,(e.toString().split(".")[1]||e.toString().split(".")[0]).length);return Math.round(t*n)/n}return t},xe=function(t,e,n){return be(t-n,n)<e&&e<t},we=function(t,e,n,r){return null!==e&&("continues"===r?xe(t,e,n)?be(t-n/2,n/2)<=e:t<=e:"single"===r&&(xe(t,e,n)?be(t-n/2,n/2)===e:t===e))},ke=function(t,e,n){return"ltr"===t?n<e.x+e.width/2:n>e.x+e.width/2},Oe=function(t,e,n,r){for(var o=t;o<=e;o+=n)if(r===o)return!0;return!1};!function(t){t.select="select",t.deselect="deselect",t.increase="increase",t.decrease="decrease",t.min="min",t.max="max",t.reset="reset"}(ye||(ye={}));var Ce=function(){return(Ce=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},_e=function(t,e,n){var o=r.useState(t),i=o[0],a=o[1];return[i,function(t){var r=function(t,e){switch(e.type){case ye.select:return void 0===e.payload||void 0===e.step?t:e.payload===t?null:e.payload>=e.min?e.payload<e.max?be(e.payload,e.step):e.max:e.min;case ye.deselect:return null;case ye.increase:return void 0===e.step?t:t<e.min?e.min:t+e.step<e.max?be(t+e.step,e.step):e.max;case ye.decrease:return void 0===e.step?t:be(t-e.step,e.step)>=e.min?be(t-e.step,e.step):e.min;case ye.min:return void 0===e.step?t:e.min;case ye.max:return e.max;case ye.reset:return null;default:return t}}(e.state||i,Ce({},t,e));n&&n(r,t.event),a(r)}]},Se=r.forwardRef((function(t,e){var n,o,a,s,l=r.useRef(null),c=r.useRef(null),u=Object(i.z)(c,t.dir);r.useImperativeHandle(l,(function(){return{element:c.current,props:t}})),r.useImperativeHandle(e,(function(){return l.current}));for(var p,h,d=r.useCallback((function(e,n){t.onChange&&l.current&&t.onChange.call(void 0,{value:e,target:l.current,syntheticEvent:n})}),[t.onChange]),f=r.useMemo((function(){return void 0!==t.min?t.min:Ie.min}),[t.min]),m=r.useMemo((function(){return void 0!==t.max?t.max:Ie.max}),[t.max]),v=r.useMemo((function(){return t.precision||Ie.precision}),[t.precision]),g=r.useMemo((function(){return void 0!==t.step?t.step:Ie.step}),[t.step]),y=r.useMemo((function(){return t.readonly||Ie.readonly}),[t.readonly]),b=r.useMemo((function(){return t.disabled||Ie.disabled}),[t.disabled]),x=r.useMemo((function(){return t.item||Ie.item}),[t.item]),w=_e(t.defaultValue||Ie.defaultValue,{state:t.value,min:f,max:m,step:"half"===v?g/2:g},d),k=w[0],O=w[1],C=_e(null,{state:t.value,min:f,max:m,step:"half"===v?g/2:g,precision:v}),_=C[0],S=C[1],E=r.useMemo((function(){return t.value||k}),[t.value,k]),I=r.useMemo((function(){return _}),[_]),T=r.useMemo((function(){return t.selection||Ie.selection}),[t.selection]),D=r.useMemo((function(){return g/("half"===v?2:1)}),[g,v]),P=r.useCallback((function(e){if(e.target&&e.target.element&&!y&&!b){if("half"===v){var n=e.target.element.getBoundingClientRect(),r=ke(u||"ltr",n,e.syntheticEvent.clientX)?be(e.target.value-g/2,D):e.target.value;O({type:ye.select,payload:r,event:e.syntheticEvent})}else O({type:ye.select,payload:e.target.value,event:e.syntheticEvent});t.onClick&&t.onClick.call(void 0,{value:E,target:l.current,syntheticEvent:e.syntheticEvent})}}),[t.onClick,O,E]),A=r.useCallback((function(e){if(!y&&!b){switch(e.keyCode){case i.d.right:e.preventDefault(),O({type:"rtl"===u?ye.decrease:ye.increase,event:e});break;case i.d.left:e.preventDefault(),O({type:"rtl"===u?ye.increase:ye.decrease,event:e});break;case i.d.home:e.preventDefault(),O({type:"rtl"===u?ye.min:ye.max,event:e});break;case i.d.end:e.preventDefault(),O({type:"rtl"===u?ye.max:ye.min,event:e});break;case i.d.esc:e.preventDefault(),O({type:ye.deselect,event:e})}t.onKeyDown&&t.onKeyDown.call(void 0,{value:E,target:l.current,syntheticEvent:e})}}),[t.onKeyDown,O,E]),j=r.useCallback((function(e){t.onFocus&&t.onFocus.call(void 0,{target:l.current,syntheticEvent:e})}),[t.onFocus]),M=r.useCallback((function(e){t.onBlur&&t.onBlur.call(void 0,{target:l.current,syntheticEvent:e})}),[t.onBlur]),R=r.useCallback((function(t){if(t.target&&t.target.element)if("half"===v){var e=t.target.element.getBoundingClientRect(),n=ke(u||"ltr",e,t.syntheticEvent.clientX)?t.target.value-g/2:t.target.value;S({type:ye.select,payload:n,event:t.syntheticEvent})}else S({type:ye.select,payload:t.target.value,event:t.syntheticEvent})}),[v,g,u]),N=r.useCallback((function(t){S({type:ye.reset,event:t.syntheticEvent})}),[]),F=[],L=(p=be(m-f,D))-(h=g)*Math.floor(p/h),z=f;z<=m;z=be(z+g,D)){var B=be(z+L,D),V="half"===v&&xe(B,null!==I?I:null!==E?E:0,g),H=we(B,E,g,T),U=we(B,null!==I?I:E,g,T),W=we(B,I,g,T);F.push(r.createElement(x,{key:B,value:B,dir:u,title:String(V?be(B-g/2,D):B),icon:t.icon,half:V,selected:H||U,hovered:W,onClick:P,onMouseMove:R,onMouseLeave:N},V&&r.createElement("span",{className:"k-rating-precision-complement",style:(n={width:"12px"},n["rtl"===u?"right":"left"]="50%",n)},r.createElement("span",{className:Object(i.g)("k-icon",(o={"k-i-star-outline":!t.icon},o[t.icon+"-outline"]=t.icon,o))})),V&&r.createElement("span",{className:"k-rating-precision-part",style:{width:"12px"}},r.createElement("span",{className:Object(i.g)("k-icon",(a={"k-i-star":!t.icon},a[""+t.icon]=t.icon,a))})),V&&r.createElement("span",{style:{width:"24px",height:"24px",display:"block"}}),!V&&r.createElement("span",{className:Object(i.g)("k-icon",(s={"k-i-star":!t.icon&&(W||U&&!W),"k-i-star-outline":!t.icon&&!W},s[""+t.icon]=t.icon&&(W||U&&!W),s[t.icon+"-outline"]=t.icon&&!W,s))})))}return r.createElement("span",{id:t.id,style:t.style,ref:c,role:"slider",dir:u,tabIndex:Object(i.p)(t.tabIndex,t.disabled,void 0),className:Object(i.g)("k-rating k-widget",{"k-rtl":"rtl"===u,"k-state-readonly":y,"k-state-disabled":b},t.className),onKeyDown:A,onFocus:j,onBlur:M,"aria-valuemin":f,"aria-valuemax":m,"aria-valuenow":null!==E?E:void 0,"aria-disabled":b?"true":void 0,"aria-labelledby":t.ariaLabelledBy,"aria-describedby":t.ariaDescribedBy},r.createElement("input",{id:"rating",className:"k-hidden",readOnly:y,disabled:b}),r.createElement("span",{className:"k-rating-container"},F),t.label&&r.createElement("span",{className:"k-rating-label"},t.label))})),Ee={id:o.string,dir:o.oneOf(["ltr","rtl"]),selection:o.oneOf(["continues","single"]),precision:o.oneOf(["item","half"]),value:function(t,e,n){if(t.value&&t.min&&t.max&&t.step&&(!("half"===t.precision?Oe(t.min,t.max,t.step/2,t.value):Oe(t.min,t.max,t.step,t.value))&&"half"===t.precision))return new Error("Invalid prop + "+e+" supplied to "+n+".\n                    The value of the { value } property is not correct, please check your values.\n                    ");return null},defaultValue:o.number,min:o.number,max:o.number,step:function(t,e,n){return void 0!==t.step&&t.step<=0?new Error("Invalid prop + "+e+" supplied to "+n+'.\n                The value of the { step } property is cannot be equal or less than "0", please check your values.\n                '):null},hovered:o.number,label:o.string,readonly:o.bool,disabled:o.bool,half:o.bool,icon:o.string,ariaDescribedBy:o.string},Ie={dir:"ltr",min:1,max:5,step:1,item:ve,defaultValue:null,readonly:!1,disabled:!1,selection:"continues",precision:"item"};Se.displayName="KendoReactRating",Se.propTypes=Ee,Se.defaultProps=Ie},function(t,e){t.exports=i},function(t,e){t.exports=a},function(t,e,n){"use strict";n.r(e),n.d(e,"Popup",(function(){return lt})),n.d(e,"PopupPropsContext",(function(){return st}));var r=n(0),o=n(12),i=n(1),a=function(t){t.style.transitionDuration="",t.classList.remove("k-slide-down-appear","k-slide-down-appear-active","k-slide-down-exit","k-slide-down-exit-active","k-slide-up-appear","k-slide-up-appear-active","k-slide-up-exit","k-slide-up-exit-active")},s="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent),l=n(2),c="bottom",u="center",p="middle",h="left",d="right",f="top",m=function(t){var e=t.anchorRect,n=t.anchorAlign,r=t.elementRect,o=t.elementAlign,i=t.margin;void 0===i&&(i={});var a=n.horizontal,s=n.vertical,l=o.horizontal,h=o.vertical,f=i.horizontal||0,m=i.vertical||0,v=e.top,g=e.left;return s===c&&(v+=e.height),s!==u&&s!==p||(v+=Math.round(e.height/2)),h===c&&(v-=r.height,m*=-1),h!==u&&h!==p||(v-=Math.round(r.height/2),m*=-1),a===d&&(g+=e.width),a!==u&&a!==p||(g+=Math.round(e.width/2)),l===d&&(g-=r.width,f*=-1),l!==u&&l!==p||(g-=Math.round(r.width/2),f*=-1),{top:v+m,left:g+f}};function v(t){return t.ownerDocument||t.document||t}var g=function(t){return v(t).defaultView},y=function(t){return v(t).documentElement},b=0;function x(){if(!b&&"undefined"!=typeof document){var t=document.createElement("div");t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),b=t.offsetWidth-t.scrollWidth,document.body.removeChild(t)}return b}function w(t){var e=g(t),n=y(t),r={height:e.innerHeight,width:e.innerWidth};return n.scrollHeight-n.clientHeight>0&&(r.width-=x()),r}var k=function(t){if(!t.getBoundingClientRect){var e=w(t);return{bottom:e.height,left:0,right:e.width,top:0}}var n=t.getBoundingClientRect();return{bottom:n.bottom,left:n.left,right:n.right,top:n.top}},O=function(t){for(var e=t.offsetParent;e&&"static"===e.style.position;)e=e.offsetParent;return e||y(t)},C=function(t){return O(t)===t.ownerDocument.body},_=function(t){var e=t.getBoundingClientRect(),n=e.left,r=e.top;return e.height||e.width||(e=function(t){var e=t.style,n=e.display,r=e.left,o=e.position;t.style.display="",t.style.left="-10000px",t.style.position="absolute";var i=t.getBoundingClientRect();return t.style.display=n,t.style.left=r,t.style.position=o,i}(t)),{top:r,left:n,height:e.height,width:e.width}},S=function(t,e){for(var n=[],r=t.parentNode;r&&(n.push(r),r!==e);)r=r.parentNode;return n};function E(t){var e=y(t),n=g(t);return{x:n.pageXOffset||e.scrollLeft||0,y:n.pageYOffset||e.scrollTop||0}}var I=function(t){return t===(t.ownerDocument||{}).body?E(t):{x:t.scrollLeft,y:t.scrollTop}};var T=function(t,e){var n=g(t),r=n.getComputedStyle(t),o=_(t),i=e||O(t),a=t.ownerDocument,s=i!==a.body&&i!==a.documentElement,l={top:0,left:0};if("fixed"!==r.position&&s){var c=n.getComputedStyle(i);(l=_(i)).top+=parseInt(c.borderTopWidth,10),l.left+=parseInt(c.borderLeftWidth,10)}return{top:o.top-l.top,left:o.left-l.left,height:o.height,width:o.width}},D=function(t,e){return t?I(t):function(t){var e=O(t);return e?I(e):{x:0,y:0}}(e)};var P="fit",A="flip",j=function(t,e,n){var r=0;return t+e>n&&(r=n-(t+e)),t<0&&(r=-t),r},M=function(t){var e=t.offset,n=t.size,r=t.anchorSize,o=t.viewPortSize,i=t.anchorAlignPoint,a=t.elementAlignPoint,s=0,l=2*t.margin;if(a!==i&&!(a===u||a===p)&&!(i===u||i===p)){var c=i===f||i===h;e<0&&c?e+(s=n+r+l)+n>o&&(s=0):e>=0&&!c&&(e+n>o&&(s+=-(r+n+l)),e+s<0&&(s=0))}return s},R=function(t){var e=t.anchorRect,n=t.anchorAlign,r=t.elementRect,o=t.elementAlign,i=t.collisions,a=t.viewPort,s=t.margin;void 0===s&&(s={});var l=r.top,c=r.left,u=r.height,p=r.width,h=a.height,d=a.width,f=s.horizontal||0,m=s.vertical||0,v=0,g=0,y=i.horizontal===A,b=i.vertical===A;i.vertical===P&&(g+=j(l,u,h)),i.horizontal===P&&(v+=j(c,p,d)),b&&(g+=M({margin:m,offset:l,size:u,anchorSize:e.height,viewPortSize:h,anchorAlignPoint:n.vertical,elementAlignPoint:o.vertical})),y&&(v+=M({margin:f,offset:c,size:p,anchorSize:e.width,viewPortSize:d,anchorAlignPoint:n.horizontal,elementAlignPoint:o.horizontal}));var x=y&&0!==v,w=b&&0!==g;return{flipped:x||w,flip:{horizontal:x,vertical:w},offset:{left:v,top:g}}},N=function(t){for(var e=[],n=t.parentNode.firstElementChild;n;)n!==t&&e.push(n),n=n.nextElementSibling;return e},F=function(t,e){for(var n,r,o=S(t),i=e;i&&(n=N(i),!(r=o.reduce((function(t,e){return t.concat(n.filter((function(t){return t===e})))}),[])[0]));)i=i.parentElement;return r};var L,z=function(t,e){return t||{height:0,left:e.left,top:e.top,width:0}},B=/auto|scroll/,V=function(t){var e=window.getComputedStyle(t);return""+e.overflow+e.overflowX+e.overflowY},H=Object(l.s)(),U="fit",W="flip",q="left",K="center",G="right",Y="bottom",X="top",$=function(){function t(t){this._dom=t}return t.prototype.alignElement=function(t){var e=t.anchor,n=t.element,r=t.anchorAlign,o=t.elementAlign,i=t.offset,a=!this._dom.hasOffsetParent(n)?this.absoluteRect(e,n,i):this.relativeRect(e,n,i);return this._dom.align({anchorAlign:r,anchorRect:a,elementAlign:o,elementRect:this._dom.offset(n)})},t.prototype.absoluteRect=function(t,e,n){var r=this._dom,o=function(t,e){return e?{height:t.height,left:t.left-e.left,top:t.top-e.top,width:t.width}:t}(z(r.offset(t),n),r.stackingElementOffset(e)),i=r.stackingElementScroll(e),a=r.addScroll(o,i),s=this.elementScrollPosition(t,e),l=r.removeScroll(a,s);return l.left+=window.scrollX||window.pageXOffset,l.top+=window.scrollY||window.pageYOffset,l},t.prototype.elementScrollPosition=function(t,e){return t?{x:0,y:0}:this._dom.scrollPosition(e)},t.prototype.relativeRect=function(t,e,n){return z(this._dom.position(t,e),n)},t}(),Z=function(){function t(){}return t.prototype.addOffset=function(t,e){return{left:t.left+e.left,top:t.top+e.top}},t.prototype.align=function(t){return m(t)},t.prototype.boundingOffset=function(t){return k(t)},t.prototype.getWindow=function(){return l.e?window:null},t.prototype.isBodyOffset=function(t){return C(t)},t.prototype.hasOffsetParent=function(t){if(!t)return!1;var e=t.offsetParent;return e&&!("BODY"===e.nodeName&&"static"===window.getComputedStyle(e).position)},t.prototype.offset=function(t){return t?_(t):null},t.prototype.staticOffset=function(t){if(!t)return null;var e=t.style,n=e.left,r=e.top;t.style.left="0px",t.style.top="0px";var o=_(t);return t.style.left=n,t.style.top=r,o},t.prototype.position=function(t,e){return t&&e?function(t,e,n){void 0===n&&(n=1);var r=e?O(e):null,o=T(t,r),i=o.top,a=o.left,s=o.height,l=o.width,c=D(r,t),u=c.x,p=c.y,h=t.ownerDocument,d=r===h.body||r===h.documentElement?1:n;return{top:i+p*d,left:a+u*d,height:s,width:l}}(t,F(t,e)):null},t.prototype.relativeOffset=function(t,e){return n=this.offset(t),r=e,o=this.isBodyOffset(t),i=n.top,a=n.left,o&&(a=0,i=0),{top:i+r.top,left:a+r.left,height:n.height,width:n.width};var n,r,o,i,a},t.prototype.addScroll=function(t,e){return function(t,e){return{top:t.top+e.y,left:t.left+e.x,height:t.height,width:t.width}}(t,e)},t.prototype.removeScroll=function(t,e){return function(t,e){return{top:t.top-e.y,left:t.left-e.x,height:t.height,width:t.width}}(t,e)},t.prototype.restrictToView=function(t){return R(t)},t.prototype.scrollPosition=function(t){return E(t)},t.prototype.scrollableParents=function(t){return function(t){var e=[];if(!l.e)return e;for(var n=t.parentElement;n;)B.test(V(n))&&e.push(n),n=n.parentElement;return e.push(window),e}(t)},t.prototype.stackingElementOffset=function(t){var e=this.getRelativeContextElement(t);return e?_(e):null},t.prototype.stackingElementScroll=function(t){var e=this.getRelativeContextElement(t);return e?{x:e.scrollLeft,y:e.scrollTop}:{x:0,y:0}},t.prototype.stackingElementViewPort=function(t){var e=this.getRelativeContextElement(t);return e?{height:e.scrollHeight,width:e.scrollWidth}:null},t.prototype.getRelativeContextElement=function(t){if(!t||!H)return null;for(var e=t.parentElement;e;){if("none"!==window.getComputedStyle(e).transform)return e;e=e.parentElement}return null},t.prototype.useRelativePosition=function(t){return!!this.getRelativeContextElement(t)},t.prototype.windowViewPort=function(t){return w(t)},t.prototype.zIndex=function(t,e){return function(t,e){if(!t||!l.e)return null;var n=F(t,e);if(!n)return null;var r=[t].concat(S(t,n)).reduce((function(t,e){var n=e.style.zIndex||window.getComputedStyle(e).zIndex,r=parseInt(n,10);return r>t?r:t}),0);return r?r+1:null}(t,e)},t.prototype.zoomLevel=function(){return l.e?parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2)):1},t.prototype.isZoomed=function(){return this.zoomLevel()>1},t}(),J=function(){function t(t){this._dom=t}return t.prototype.positionElement=function(t){var e,n,r=t.anchor,o=t.currentLocation,i=t.element,a=t.anchorAlign,s=t.elementAlign,l=t.collisions,c=this._dom,u=t.viewPort||c.stackingElementViewPort(i)||c.windowViewPort(i),p=z(c.offset(r),o),h=(e=c.staticOffset(i),(n=o)?{height:e.height,left:n.left,top:n.top,width:e.width}:e),d=this.elementRect(i,h),f=c.restrictToView({anchorAlign:a,anchorRect:p,collisions:l,elementAlign:s,elementRect:d,viewPort:u});return{flipped:f.flipped,offset:c.addOffset(h,f.offset)}},t.prototype.elementRect=function(t,e){return this._dom.removeScroll(e,this._dom.scrollPosition(t))},t}(),Q={name:"@progress/kendo-react-popup",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616351,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},tt=(L=function(t,e){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}L(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),et=function(){return(et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function nt(t,e){if(t===e)return!0;if(!!t!=!!e)return!1;var n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++){var i=n[o];if(t[i]!==e[i])return!1}return!0}var rt,ot={left:-1e3,top:0};!function(t){t.hiding="hiding",t.hidden="hidden",t.showing="showing",t.shown="shown",t.reposition="reposition"}(rt||(rt={}));var it=function(t){function e(e){var n=t.call(this,e)||this;return n.state={current:rt.hidden,previous:rt.hidden,props:{}},n._popup=null,n.show=function(t){n.setPosition(t),n.animate(t.firstChild,"enter",n.onOpened),n.setState({current:rt.shown,previous:n.state.current})},n.setPosition=function(t){var e=n.props,r=e.anchorAlign,o=e.popupAlign,i=e.collision,a=e.offset,s=e.anchor,l=t.firstElementChild,c=getComputedStyle(l),u=c.width,p=c.height;l.style.position="absolute",l.style.width=u,l.style.height=p;var h=n._alignService.alignElement({anchor:s,element:l,elementAlign:o,anchorAlign:r,offset:a}),d=n._positionService.positionElement({anchor:s,anchorAlign:r,collisions:i,element:l,currentLocation:h,elementAlign:o});d.offset&&(t.style.top=d.offset.top+"px",t.style.left=d.offset.left+"px",l.style.position="",l.style.width="",l.style.height=""),n._flipped=d.flipped},n.onOpened=function(){var t=n._popup;t&&(n.props.show&&t.classList.add("k-animation-container-shown"),n.attachRepositionHandlers(t),n.props.onOpen&&n.props.onOpen.call(void 0,{target:n}))},n.animate=function(t,e,r){!function(t,e,n,r,o){if(0===n)return o();var i="k-slide-"+e+"-"+r,l=i+"-active",c=function(){t.removeEventListener("transitionend",c),a(t),o()};t.addEventListener("transitionend",c);var u=t.ownerDocument;if(u){var p=u.defaultView;if(p){var h=function(){a(t),t.classList.add(i),p.requestAnimationFrame((function(){t.style.transitionDuration=n+"ms",t.classList.add(l)}))};s?p.requestAnimationFrame(h):h()}}}(t,n._flipped?"up":"down",n.animationDuration[e],e,r)},n.onClosing=function(t){n.props.show||t.classList.remove("k-animation-container-shown"),n.detachRepositionHandlers()},n.onClosed=function(){n.state.current===rt.hiding&&n.state.previous===rt.shown&&n.setState({current:rt.hidden,previous:n.state.current}),n.props.onClose&&n.props.onClose.call(void 0,{target:n})},Object(l.D)(Q),n._domService=new Z,n._alignService=new $(n._domService),n._positionService=new J(n._domService),n.reposition=function(t,e,n){var r,o,i,a;void 0===n&&(n={});var s=0;n=n||{};var l=function(){s=!1===n.leading?0:(new Date).getTime(),r=null,a=t.apply(o,i),r||(o=i=null)};return function(){var c=(new Date).getTime();s||!1!==n.leading||(s=c);var u=e-(c-s);return o=this,i=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),s=c,a=t.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=window.setTimeout(l,u)),a}}(n.reposition.bind(n),1e3/60),n}return tt(e,t),e.getDerivedStateFromProps=function(t,e){var n=t.show,r=t.anchor,o=t.anchorAlign,i=t.appendTo,a=t.collision,s=t.popupAlign,l=t.className,c=t.popupClass,u=t.style,p=t.offset,h=t.contentKey,d=et({},e,{props:{show:n,anchor:r,anchorAlign:o,appendTo:i,collision:a,popupAlign:s,className:l,popupClass:c,style:u,offset:p,contentKey:h}});return t.show?e.current===rt.hidden||e.current===rt.hiding?et({},d,{current:rt.showing,previous:e.current}):e.current===rt.showing?et({},d,{current:rt.shown,previous:e.current}):e.current!==rt.shown||nt(p,e.props.offset)&&nt(o,e.props.anchorAlign)&&nt(i,e.props.appendTo)&&nt(a,e.props.collision)&&nt(s,e.props.popupAlign)&&nt(u,e.props.style)&&r===e.props.anchor&&c===e.props.popupClass&&l===e.props.className?d:et({},d,{current:rt.reposition,previous:e.current}):e.current===rt.hiding||e.current===rt.hidden?et({},d,{current:rt.hidden,previous:e.current}):et({},d,{current:rt.hiding,previous:e.current})},e.prototype.componentDidUpdate=function(t){this.state.current===rt.showing&&this._popup?this.show(this._popup):this.state.current===rt.hiding&&this._popup?(this.onClosing(this._popup),this.animate(this._popup.firstChild,"exit",this.onClosed)):this.state.current===rt.reposition&&this.state.previous===rt.shown?this.setState({current:rt.shown,previous:this.state.current}):this.state.current===rt.shown&&t.contentKey!==this.props.contentKey&&this._popup&&this.setPosition(this._popup)},e.prototype.componentDidMount=function(){this.state.current===rt.showing&&this._popup&&this.show(this._popup)},e.prototype.componentWillUnmount=function(){this.detachRepositionHandlers()},e.prototype.render=function(){var t=this,e=this.props,n=e.children,i=e.className,a=e.popupClass,s=e.show,c=e.id,u=this.props.appendTo?this.props.appendTo:l.e?this.props.anchor&&this.props.anchor.ownerDocument?this.props.anchor.ownerDocument.body:document.body:void 0;this.state.current===rt.reposition&&this.state.previous===rt.shown&&this._popup&&this.setPosition(this._popup);var p=Object.assign({},{position:"absolute"},this.props.style||{}),h=this.state.current===rt.hiding;if((s||h)&&u){var d=r.createElement("div",{className:Object(l.g)("k-animation-container","k-animation-container-relative",i),id:c,ref:function(e){return t._popup=e},style:p},r.createElement("div",{className:Object(l.g)(a,"k-popup","k-child-animation-container"),style:{transitionDelay:"0ms"}},n));return o.createPortal(d,u)}return null},Object.defineProperty(e.prototype,"animationDuration",{get:function(){var t=this.props.animate,e=0,n=0;return t&&(!0===t?e=n=300:(e=t.openDuration||0,n=t.closeDuration||0)),{enter:e,exit:n}},enumerable:!0,configurable:!0}),e.prototype.attachRepositionHandlers=function(t){var e=this;this.detachRepositionHandlers(),this._scrollableParents=this._domService.scrollableParents(this.props.anchor||t),this._scrollableParents.map((function(t){return t.addEventListener("scroll",e.reposition)})),window.addEventListener("resize",this.reposition)},e.prototype.detachRepositionHandlers=function(){var t=this;this._scrollableParents&&(this._scrollableParents.map((function(e){return e.removeEventListener("scroll",t.reposition)})),this._scrollableParents=void 0),window.removeEventListener("resize",this.reposition)},e.prototype.reposition=function(){this.setState({current:rt.reposition,previous:this.state.current})},e.propTypes={anchor:function(t){var e=t.anchor;return e&&"number"!=typeof e.nodeType?new Error("Invalid prop `anchor` supplied to `Kendo React Popup`. Validation failed."):null},appendTo:function(t){var e=t.appendTo;return e&&"number"!=typeof e.nodeType?new Error("Invalid prop `appendTo` supplied to `Kendo React Popup`. Validation failed."):null},className:i.string,id:i.string,popupClass:i.string,collision:i.shape({horizontal:i.oneOf([U,W]),vertical:i.oneOf([U,W])}),anchorAlign:i.shape({horizontal:i.oneOf([q,K,G]),vertical:i.oneOf([X,K,Y])}),popupAlign:i.shape({horizontal:i.oneOf([q,K,G]),vertical:i.oneOf([X,K,Y])}),offset:i.shape({left:i.number,top:i.number}),children:i.oneOfType([i.element,i.node]),show:i.bool,animate:i.oneOfType([i.bool,i.shape({openDuration:i.number,closeDuration:i.number})])},e.defaultProps={collision:{horizontal:U,vertical:W},anchorAlign:{horizontal:q,vertical:Y},popupAlign:{horizontal:q,vertical:X},offset:ot,animate:!0,show:!1},e}(r.Component),at=function(){return(at=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},st=r.createContext((function(t){return t})),lt=r.forwardRef((function(t,e){var n=r.useContext(st).call(void 0,t);return r.createElement(it,at({ref:e},n))}))},function(t,e,n){"use strict";n.r(e),n.d(e,"PickerWrap",(function(){return Le})),n.d(e,"ToggleButton",(function(){return Fe})),n.d(e,"Calendar",(function(){return ce})),n.d(e,"CalendarViewEnum",(function(){return w})),n.d(e,"CalendarCell",(function(){return T})),n.d(e,"CalendarWeekCell",(function(){return j})),n.d(e,"CalendarHeaderTitle",(function(){return Tt})),n.d(e,"CalendarNavigationItem",(function(){return ee})),n.d(e,"DateInput",(function(){return Re})),n.d(e,"DatePicker",(function(){return We})),n.d(e,"TimePicker",(function(){return Rn})),n.d(e,"MultiViewCalendar",(function(){return Wn})),n.d(e,"DateRangePicker",(function(){return Yn})),n.d(e,"DateTimePicker",(function(){return tr}));var r,o,i,a,s,l=n(0),c=n(1),u=n(2),p=n(4),h=n(5),d={name:"@progress/kendo-react-dateinputs",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616500,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},f=function(){function t(t,e,n){void 0===t&&(t=0),this.total=t,this.rowHeight=e,this.detailRowHeight=n,this.offsets=[],this.heights=[];for(var r=0,o=0;o<t;o++)this.offsets.push(r),r+=e,this.heights.push(e)}return t.prototype.height=function(t){return this.heights[t]},t.prototype.expandDetail=function(t){this.height(t)===this.rowHeight&&this.updateRowHeight(t,this.detailRowHeight)},t.prototype.collapseDetail=function(t){this.height(t)>this.rowHeight&&this.updateRowHeight(t,-1*this.detailRowHeight)},t.prototype.index=function(t){for(var e=0;e<this.offsets.length;e++){if(t===this.offsets[e])return e;if(t<this.offsets[e])return e-1}return this.total-1},t.prototype.offset=function(t){return this.offsets[t]},t.prototype.totalHeight=function(){return this.heights.reduce((function(t,e){return t+e}),0)},t.prototype.updateRowHeight=function(t,e){this.heights[t]+=e,this.offsets=function(t,e,n){return t.slice(0,e+1).concat(t.slice(e+1).map((function(t){return t+n})))}(this.offsets,t,e)},t}(),m=function(t){return Math.max(t,0)},v=function(t){this.offset=t},g=function(t){this.skip=t},y=function(){function t(t,e){this.onScrollAction=t,this.onPageAction=e,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}return t.prototype.create=function(t,e,n,r,o,i,a){void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a="vertical"),this.rowHeightService=t,this.firstLoaded=e,this.lastLoaded=e+n,this.take=n,this.total=r,this.lastScrollTop=0,this.topOffset=o,this.bottomOffset=i,this.direction=a;var s=this.rowsForHeight(o),l=m(e-s);this.onScrollAction(new v(this.rowOffset(l))),this.onPageAction(new g(l))},t.prototype.onScroll=function(t){var e=t.scrollLeft,n=t.scrollTop,r=t.offsetHeight,o=t.offsetWidth,i="vertical"===this.direction?n:e,a="vertical"===this.direction?r:o;if(this.lastScrollTop!==i){var s=this.lastScrollTop>=i;this.lastScrollTop=i;var l=this.rowHeightService.index(m(i-this.topOffset)),c=this.rowHeightService.index(m(i+a-this.bottomOffset));if(!s&&c>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=l,this.onScrollAction(new v(this.rowOffset(l))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),this.onPageAction(new g(this.firstLoaded))),s&&l<=this.firstLoaded){var u=Math.floor(.3*this.take);this.firstLoaded=m(l-u),this.onScrollAction(new v(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),this.onPageAction(new g(this.firstLoaded))}}},t.prototype.rowOffset=function(t){return this.rowHeightService.offset(t)+this.topOffset},t.prototype.rowsForHeight=function(t){return Math.ceil(t/this.rowHeightService.height(0))},t}(),b=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t[t.Backward=0]="Backward",t[t.Forward=1]="Forward"}(s||(s={}));var x,w,k=((o={})[s.Forward]=function(t){return function(e){return e+t}},o[s.Backward]=function(t){return function(e){return e-t}},o),O=((i={})[s.Forward]=function(t){return function(e){return Math.min(e,t)}},i[s.Backward]=function(t){return function(e){return Math.max(e,t)}},i),C=((a={})[s.Forward]=function(t){return function(e){return e<t}},a[s.Backward]=function(t){return function(e){return e>t}},a),_=function(t){function e(n){var r=t.call(this,n)||this;return r.animationInProgress=!1,r.scrollTo=function(t){var e="vertical"===r.direction?"scrollTop":"scrollLeft";r.scrollContainer&&(r.scrollContainer[e]=t)},r.scrollToIndex=function(t){void 0!==r.scrollToIndexTimeout&&window.cancelAnimationFrame(r.scrollToIndexTimeout),r.rowHeightService&&(r.scrollToIndexTimeout=window.requestAnimationFrame((function(){r.animationInProgress=!1,r.scrollTo(r.rowHeightService.offset(t))})))},r.animateToIndex=function(t){if(r.rowHeightService&&window){window.cancelAnimationFrame(r.cancelAnimation);var e=r.rowHeightService.offset(t),n=r.getContainerScrollDirection(e),o=r.scrollRange(e,n),i=o.start,a=o.end;if(i!==a){var s=r.scrollStep(i,a),l=k[n](s),c=O[n](a),u=C[n](l(a)),p=function(t){r.animationInProgress=!0;var e=l(t);r.scrollTo(c(e)),u(e)?r.cancelAnimation=window.requestAnimationFrame((function(){p(e)})):r.animationInProgress=!1};r.cancelAnimation=window.requestAnimationFrame((function(){p(i)}))}}},r.scrollToBottom=function(){r.rowHeightService&&r.scrollTo(r.rowHeightService.totalHeight()+r.props.bottomOffset)},r.scrollStep=function(t,n){var o=r.props.scrollDuration||e.defaultProps.scrollDuration;return Math.abs(n-t)/(o/17)},r.scrollRange=function(t,e){var n=r.containerScrollPosition;if(parseInt(""+t,10)===parseInt(""+n,10))return{start:t,end:t};var o,i,a,l=r.containerMaxScroll(),c=e===s.Backward?1:-1,u=(o=n,i=t,a=r.props.maxScrollDifference,Math.min(Math.abs(i-o),a)),p=Math.min(t,l);return{start:Math.min(Math.max(p+c*u,0),l),end:p}},r.containerMaxScroll=function(){return r.containerScrollSize-r.containerOffsetSize},r.getContainerScrollDirection=function(t){return t<r.containerScrollPosition?s.Backward:s.Forward},r.initServices=function(t){void 0===t&&(t=r.props);var e="vertical"===r.direction?t.itemHeight:t.itemWidth;void 0!==e&&(r.rowHeightService=new f(t.total,e,0),r.scrollerService.create(r.rowHeightService,t.skip,t.take,t.total,t.topOffset,r.scrollOffsetSize,r.direction))},r.getContainerProperty=function(t){return r.scrollContainer?r.scrollContainer[t]:0},r.handleScroll=function(t){if(r.scrollContainer&&r.rowHeightService){var e=t.target;r.scrollerService.onScroll({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,offsetHeight:e.offsetHeight,offsetWidth:e.offsetWidth});var n=r.rowHeightService.index(r.containerScrollPosition-r.props.topOffset),o=r.props.onScrollAction,i={index:n,target:e,scrollAction:r.scrollAction,pageAction:r.pageAction,animationInProgress:r.animationInProgress};r.props.onScroll&&r.props.onScroll.call(void 0,t),o&&o.call(void 0,i),r.scrollAction=void 0,r.pageAction=void 0}},r.handleScrollAction=function(t){r.scrollAction=t},r.handlePageAction=function(t){r.pageAction=t},r.scrollerService=new y(r.handleScrollAction,r.handlePageAction),r}return b(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this.scrollContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerOffsetSize",{get:function(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerScrollSize",{get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerScrollPosition",{get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return void 0!==this.props.direction?this.props.direction:e.defaultProps.direction},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollOffsetSize",{get:function(){return void 0!==this.props.scrollOffsetSize?this.props.scrollOffsetSize:e.defaultProps.scrollOffsetSize},enumerable:!0,configurable:!0}),e.prototype.activeIndex=function(){return this.itemIndex(Math.ceil(this.containerScrollPosition))},e.prototype.itemIndex=function(t){return this.rowHeightService?this.rowHeightService.index(t):0},e.prototype.itemOffset=function(t){return this.rowHeightService?this.rowHeightService.offset(t):0},e.prototype.isIndexVisible=function(t){if(!this.rowHeightService)return!1;var e=this.containerScrollPosition,n=e+this.containerOffsetSize,r=this.rowHeightService.offset(t),o=r+this.rowHeightService.height(t);return r>=e&&o<=n},e.prototype.isListScrolled=function(t){return!!this.rowHeightService&&this.containerScrollPosition!==this.rowHeightService.offset(t)},e.prototype.componentDidMount=function(){var t=this.props.onMount;t&&t.call(void 0,this)},e.prototype.render=function(){var t=this;this.lastTotal===this.props.total&&this.lastDirection===this.direction&&this.lastTake===this.props.take||(this.initServices(),this.lastTotal=this.props.total,this.lastDirection=this.direction,this.lastTake=this.props.take);var e=""+((this.rowHeightService?this.rowHeightService.totalHeight():0)+this.props.bottomOffset),n="vertical"===this.direction?{height:e+"px"}:{width:e+"px"},r=Object(u.g)("k-content k-calendar-content k-scrollable",{"k-scrollable-horizontal":"horizontal"===this.direction},this.props.className),o=Object(u.g)("k-scrollable-placeholder",{"k-scrollable-horizontal-placeholder":"horizontal"===this.direction});return l.createElement("div",{ref:function(e){t.scrollContainer=e},onScroll:this.handleScroll,className:r,tabIndex:this.props.tabIndex,role:this.props.role},this.props.children,l.createElement("div",{style:n,className:o}))},e.propTypes={bottomOffset:c.number.isRequired,className:c.string,direction:c.oneOf(["horizontal","vertical"]),forceScroll:c.bool,itemHeight:c.number,itemWidth:c.number,maxScrollDifference:c.number,onScroll:c.func,onScrollAction:c.func,scrollDuration:c.number,scrollOffsetSize:c.number,skip:c.number.isRequired,tabIndex:c.number,take:c.number.isRequired,topOffset:c.number.isRequired,total:c.number.isRequired,role:c.string},e.defaultProps={direction:"vertical",forceScroll:!1,scrollOffsetSize:0,maxScrollDifference:100,scrollDuration:100},e}(l.Component),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(){return(E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleClick=function(t){var n=e.props,r=n.onClick,o=n.value;r&&r.call(void 0,o,t)},e.handleMouseEnter=function(){var t=e.props,n=t.onMouseEnter,r=t.value;n&&n.call(void 0,r)},e.handleMouseLeave=function(){var t=e.props,n=t.onMouseLeave,r=t.value;n&&n.call(void 0,r)},e}return S(e,t),e.prototype.shouldComponentUpdate=function(t){var e=this.props,n=e.value,r=I(e,["value"]),o=t.value,i=I(t,["value"]);return!((!(n&&o)||n.getTime()===o.getTime())&&function(t,e){var n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++){var i=n[o];if(t[i]!==e[i])return!1}return!0}(r,i))},e.prototype.render=function(){var t=this.props,e=t.className,n=(t.formattedValue,t.isWeekend),r=t.isFocused,o=(t.isInRange,t.isSelected),i=t.isRangeStart,a=t.isRangeMid,s=t.isRangeEnd,c=t.isRangeSplitStart,p=t.isRangeSplitEnd,h=t.isToday,d=t.isDisabled,f=(t.view,t.value,I(t,["className","formattedValue","isWeekend","isFocused","isInRange","isSelected","isRangeStart","isRangeMid","isRangeEnd","isRangeSplitStart","isRangeSplitEnd","isToday","isDisabled","view","value"])),m="end"===this.props.activeRangeEnd&&s,v="start"===this.props.activeRangeEnd&&i,g=Object(u.g)("k-calendar-td",{"k-range-end":s,"k-range-mid":a,"k-range-split-end":p,"k-range-split-start":c,"k-range-start":i,"k-state-active":v||m,"k-state-pending-focus":r,"k-state-selected":o||i||s,"k-today":h,"k-weekend":n,"k-state-disabled":d},e);return l.createElement("td",E({},f,{className:g,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),l.createElement("span",{className:"k-link"},this.props.children))},e}(l.Component),D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(){return(P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},A=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(t.firstDate,A(t,["className","firstDate"]));return l.createElement("td",P({className:Object(u.g)("k-calendar-td",e)},n),this.props.children)},e}(l.Component);!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Up=2]="Up",t[t.Down=3]="Down",t[t.PrevView=4]="PrevView",t[t.NextView=5]="NextView",t[t.FirstInView=6]="FirstInView",t[t.LastInView=7]="LastInView",t[t.LowerView=8]="LowerView",t[t.UpperView=9]="UpperView"}(x||(x={})),function(t){t[t.month=0]="month",t[t.year=1]="year",t[t.decade=2]="decade",t[t.century=3]="century"}(w||(w={}));var M,R,N,F,L,z={start:null,end:null},B=function(t,e,n){return void 0===e||void 0===n||e<=t&&t<=n?t:t<e?e:n},V=new Date(1980,0,1),H=new Date(1900,0,1),U=new Date(2099,11,31),W=new Date(1980,0,1),q=new Date(1980,0,1,23,59,59),K=function(t,e){var n=Object(p.cloneDate)(t);return n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n},G=function(){return Object(p.getDate)(new Date)},Y=function(t,e,n){return!t||!(e&&e>t||n&&n<t)},X=function(t,e,n){return null===t||!(e&&Object(p.getDate)(e)>Object(p.getDate)(t)||n&&Object(p.getDate)(n)<Object(p.getDate)(t))},$=function(t,e){var n=e||z,r=n.start,o=n.end;return!(!r||!o)&&(r<t&&t<o)},Z=function(t,e,n){void 0===n&&(n=1);for(var r=[],o=t;o<e;o+=n)r.push(o);return r},J=function(t,e){return t.slice(e).concat(t.slice(0,e))},Q=function(t,e,n){return t?e&&t<e?Object(p.cloneDate)(e):n&&t>n?Object(p.cloneDate)(n):t:t},tt=function(t){return function(e,n,r){void 0===n&&(n=""),void 0===r&&(r={});var o=document.createElement(t);return o.className=n,Object.keys(r).map((function(t){return o.style[t]=r[t]})),"string"==typeof e?o.innerHTML=e||"":(e||[]).forEach((function(t){return t&&o.appendChild(t)})),o}},et=[[]],nt=((M={})[x.Left]=function(t){return Object(p.addDecades)(t,-1)},M[x.Up]=function(t){return Object(p.addDecades)(t,-5)},M[x.Right]=function(t){return Object(p.addDecades)(t,1)},M[x.Down]=function(t){return Object(p.addDecades)(t,5)},M[x.PrevView]=function(t){return Object(p.addCenturies)(t,-1)},M[x.NextView]=function(t){return Object(p.addCenturies)(t,1)},M[x.FirstInView]=function(t){return Object(p.firstDecadeOfCentury)(t)},M[x.LastInView]=function(t){return Object(p.lastDecadeOfCentury)(t)},M),rt=function(){function t(){}return t.prototype.addToDate=function(t,e){return Object(p.addCenturies)(t,e)},t.prototype.datesList=function(t,e){return Z(0,e).map((function(e){return Object(p.addCenturies)(t,e)}))},t.prototype.data=function(t){var e=this,n=t.cellUID,r=t.focusedDate,o=t.isActiveView,i=t.max,a=t.min,s=t.selectedDate,l=t.selectionRange,c=void 0===l?z:l,u=t.viewDate;if(!u)return et;var h=Z(0,5),d=Object(p.firstDecadeOfCentury)(u),f=Object(p.lastDecadeOfCentury)(u),m=G();return Z(0,2).map((function(t){var l=Object(p.addDecades)(d,5*t);return h.map((function(t){var u=e.normalize(Object(p.addDecades)(l,t),a,i),h=e.isEqual(u,c.start),v=e.isEqual(u,c.end),g=!h&&!v&&$(u,c),y=o&&(Array.isArray(s)?e.isSelectedFromArray(u,s,a,i):Y(s,a,i)&&e.isEqual(u,s));return{formattedValue:e.value(u),id:""+n+u.getTime(),isFocused:e.isEqual(u,r),isSelected:y,isWeekend:!1,isInRange:Y(u,a,i),isRangeStart:h,isRangeMid:g,isRangeEnd:v,isRangeSplitEnd:g&&e.isEqual(u,f),isRangeSplitStart:g&&e.isEqual(u,d),isToday:e.isEqual(u,m),title:e.cellTitle(u),value:u}}))}))},t.prototype.isSelectedFromArray=function(t,e,n,r){var o=this,i=!1;return e.forEach((function(e){Y(t,n,r)&&o.isEqual(t,e)&&(i=!0)})),i},t.prototype.isEqual=function(t,e){return!(!t||!e)&&Object(p.firstYearOfDecade)(t).getFullYear()===Object(p.firstYearOfDecade)(e).getFullYear()},t.prototype.isInArray=function(t,e){if(!e.length)return!1;var n=t.getFullYear();return e[0].getFullYear()<=n&&n<=e[e.length-1].getFullYear()+99},t.prototype.isInRange=function(t,e,n){var r=Object(p.firstYearOfDecade)(t).getFullYear(),o=!e||Object(p.firstYearOfDecade)(e).getFullYear()<=r,i=!n||r<=Object(p.firstYearOfDecade)(n).getFullYear();return o&&i},t.prototype.isInSameView=function(t,e){return 0===Object(p.durationInCenturies)(t,e)},t.prototype.isRangeStart=function(t){return t.getFullYear()%1e3==0},t.prototype.move=function(t,e){var n=nt[e];return n?n(t):t},t.prototype.cellTitle=function(t){return Object(p.firstYearOfDecade)(t).getFullYear().toString()},t.prototype.navigationTitle=function(t){return t?Object(p.firstDecadeOfCentury)(t).getFullYear().toString():""},t.prototype.title=function(t){return t?Object(p.firstDecadeOfCentury)(t).getFullYear()+" - "+Object(p.lastDecadeOfCentury)(t).getFullYear():""},t.prototype.rowLength=function(t){return 5},t.prototype.skip=function(t,e){return Object(p.durationInCenturies)(e,t)},t.prototype.total=function(t,e){return Object(p.durationInCenturies)(t,e)+1},t.prototype.value=function(t){return t?Object(p.firstYearOfDecade)(t).getFullYear().toString():""},t.prototype.viewDate=function(t,e,n){return void 0===n&&(n=1),Object(p.durationInCenturies)(t,e)<n?Object(p.addCenturies)(t,-1):t},t.prototype.normalize=function(t,e,n){return t<e&&this.isEqual(t,e)?Object(p.cloneDate)(e):t>n&&this.isEqual(t,n)?Object(p.cloneDate)(n):t},t}(),ot=[[]],it=((R={})[x.Left]=function(t){return Object(p.addYears)(t,-1)},R[x.Up]=function(t){return Object(p.addYears)(t,-5)},R[x.Right]=function(t){return Object(p.addYears)(t,1)},R[x.Down]=function(t){return Object(p.addYears)(t,5)},R[x.PrevView]=function(t){return Object(p.addDecades)(t,-1)},R[x.NextView]=function(t){return Object(p.addDecades)(t,1)},R[x.FirstInView]=function(t){return Object(p.firstYearOfDecade)(t)},R[x.LastInView]=function(t){return Object(p.lastYearOfDecade)(t)},R),at=function(){function t(){}return t.prototype.addToDate=function(t,e){return Object(p.addDecades)(t,e)},t.prototype.datesList=function(t,e){return Z(0,e).map((function(e){return Object(p.addDecades)(t,e)}))},t.prototype.data=function(t){var e=this,n=t.cellUID,r=t.focusedDate,o=t.isActiveView,i=t.max,a=t.min,s=t.selectedDate,l=t.selectionRange,c=void 0===l?z:l,u=t.viewDate;if(!u)return ot;var h=Z(0,5),d=Object(p.firstYearOfDecade)(u),f=Object(p.lastYearOfDecade)(u),m=G();return Z(0,2).map((function(t){var l=Object(p.addYears)(d,5*t);return h.map((function(t){var u=e.normalize(Object(p.addYears)(l,t),a,i),h=e.isEqual(u,c.start),v=e.isEqual(u,c.end),g=!h&&!v&&$(u,c),y=o&&(Array.isArray(s)?e.isSelectedFromArray(u,s,a,i):Y(s,a,i)&&e.isEqual(u,s));return{formattedValue:e.value(u),id:""+n+u.getTime(),isFocused:e.isEqual(u,r),isSelected:y,isWeekend:!1,isInRange:Y(u,a,i),isRangeStart:h,isRangeMid:g,isRangeEnd:v,isRangeSplitEnd:g&&e.isEqual(u,f),isRangeSplitStart:g&&e.isEqual(u,d),isToday:e.isEqual(u,m),title:e.cellTitle(u),value:u}}))}))},t.prototype.isSelectedFromArray=function(t,e,n,r){var o=this,i=!1;return e.forEach((function(e){Y(t,n,r)&&o.isEqual(t,e)&&(i=!0)})),i},t.prototype.isEqual=function(t,e){return!(!t||!e)&&t.getFullYear()===e.getFullYear()},t.prototype.isInArray=function(t,e){if(!e.length)return!1;var n=t.getFullYear();return e[0].getFullYear()<=n&&n<=e[e.length-1].getFullYear()+9},t.prototype.isInRange=function(t,e,n){var r=t.getFullYear(),o=!e||e.getFullYear()<=r,i=!n||r<=n.getFullYear();return o&&i},t.prototype.isRangeStart=function(t){return t.getFullYear()%100==0},t.prototype.isInSameView=function(t,e){return 0===Object(p.durationInDecades)(t,e)},t.prototype.move=function(t,e){var n=it[e];return n?n(t):t},t.prototype.cellTitle=function(t){return t.getFullYear().toString()},t.prototype.navigationTitle=function(t){return t?Object(p.firstYearOfDecade)(t).getFullYear().toString():""},t.prototype.title=function(t){return t?Object(p.firstYearOfDecade)(t).getFullYear()+" - "+Object(p.lastYearOfDecade)(t).getFullYear():""},t.prototype.rowLength=function(t){return 5},t.prototype.skip=function(t,e){return Object(p.durationInDecades)(e,t)},t.prototype.total=function(t,e){return Object(p.durationInDecades)(t,e)+1},t.prototype.value=function(t){return t?t.getFullYear().toString():""},t.prototype.viewDate=function(t,e,n){return void 0===n&&(n=1),Object(p.durationInDecades)(t,e)<n?Object(p.addDecades)(t,-1):t},t.prototype.normalize=function(t,e,n){return t<e&&this.isEqual(t,e)?Object(p.cloneDate)(e):t>n&&this.isEqual(t,n)?Object(p.cloneDate)(n):t},t}(),st=[[]],lt=((N={})[x.Left]=function(t){return Object(p.addDays)(t,-1)},N[x.Up]=function(t){return Object(p.addWeeks)(t,-1)},N[x.Right]=function(t){return Object(p.addDays)(t,1)},N[x.Down]=function(t){return Object(p.addWeeks)(t,1)},N[x.PrevView]=function(t){return Object(p.addMonths)(t,-1)},N[x.NextView]=function(t){return Object(p.addMonths)(t,1)},N[x.FirstInView]=function(t){return Object(p.firstDayOfMonth)(t)},N[x.LastInView]=function(t){return Object(p.lastDayOfMonth)(t)},N),ct=function(){function t(t){this.intl=t}return t.prototype.addToDate=function(t,e){return Object(p.addMonths)(t,e)},t.prototype.datesList=function(t,e){return Z(0,e).map((function(e){return Object(p.addMonths)(t,e)}))},t.prototype.data=function(t){var e=this,n=t.cellUID,r=t.focusedDate,o=t.isActiveView,i=t.max,a=t.min,s=t.selectedDate,l=t.selectionRange,c=void 0===l?z:l,u=t.viewDate;if(!u)return st;var h=Object(p.firstDayOfMonth)(u),d=Object(p.lastDayOfMonth)(u),f=Object(p.dayOfWeek)(h,this.intl.firstDay(),-1),m=Z(0,7),v=G();return Z(0,6).map((function(t){var l=Object(p.addDays)(f,7*t);return m.map((function(t){var u=e.normalize(Object(p.addDays)(l,t),a,i);if(u<h||u>d)return null;var f=e.isEqual(u,c.start),m=e.isEqual(u,c.end),g=!f&&!m&&$(u,c),y=o&&(Array.isArray(s)?e.isSelectedFromArray(u,s,a,i):Y(s,a,i)&&e.isEqual(u,s));return{formattedValue:e.value(u),id:""+n+u.getTime(),isFocused:e.isEqual(u,r),isSelected:y,isInRange:Y(u,a,i),isWeekend:e.isWeekend(u),isRangeStart:f,isRangeMid:g,isRangeEnd:m,isRangeSplitStart:g&&e.isEqual(u,h),isRangeSplitEnd:g&&e.isEqual(u,d),isToday:e.isEqual(u,v),title:e.cellTitle(u),value:u}}))}))},t.prototype.isEqual=function(t,e){return!(!t||!e)&&Object(p.getDate)(t).getTime()===Object(p.getDate)(e).getTime()},t.prototype.isSelectedFromArray=function(t,e,n,r){var o=this,i=!1;return e.forEach((function(e){Y(t,n,r)&&o.isEqual(t,e)&&(i=!0)})),i},t.prototype.isInArray=function(t,e){return!!e.length&&Object(p.firstDayOfMonth)(e[0])<=t&&t<=Object(p.lastDayOfMonth)(e[e.length-1])},t.prototype.isInRange=function(t,e,n){var r=Object(p.getDate)(t),o=!e||Object(p.getDate)(e)<=r,i=!n||r<=Object(p.getDate)(n);return o&&i},t.prototype.isInSameView=function(t,e){return 0===Object(p.durationInMonths)(t,e)},t.prototype.isRangeStart=function(t){return!t.getMonth()},t.prototype.move=function(t,e){var n=lt[e];return n?n(t):t},t.prototype.cellTitle=function(t){return this.intl.formatDate(t,"D")},t.prototype.navigationTitle=function(t){return t?this.isRangeStart(t)?t.getFullYear().toString():this.abbrMonthNames()[t.getMonth()]:""},t.prototype.title=function(t){return this.wideMonthNames()[t.getMonth()]+" "+t.getFullYear()},t.prototype.rowLength=function(t){return 7+(t?1:0)},t.prototype.skip=function(t,e){return Object(p.durationInMonths)(e,t)},t.prototype.total=function(t,e){return Object(p.durationInMonths)(t,e)+1},t.prototype.value=function(t){return t?t.getDate().toString():""},t.prototype.viewDate=function(t,e,n){return void 0===n&&(n=1),Object(p.durationInMonths)(t,e)<n?Object(p.addMonths)(t,-1):t},t.prototype.isWeekend=function(t){var e=t.getDay();return 6===e||0===e},t.prototype.abbrMonthNames=function(){return this.intl.dateFormatNames({nameType:"abbreviated",type:"months"})},t.prototype.normalize=function(t,e,n){return t<e&&this.isEqual(t,e)?Object(p.getDate)(e):t>n&&this.isEqual(t,n)?Object(p.getDate)(n):t},t.prototype.wideMonthNames=function(){return this.intl.dateFormatNames({nameType:"wide",type:"months"})},t}(),ut=[[]],pt=((F={})[x.Left]=function(t){return Object(p.addMonths)(t,-1)},F[x.Up]=function(t){return Object(p.addMonths)(t,(e=t.getMonth())>4?-5:e<2?-2:-7);var e},F[x.Right]=function(t){return Object(p.addMonths)(t,1)},F[x.Down]=function(t){return Object(p.addMonths)(t,(e=t.getMonth())<7?5:e<10?7:2);var e},F[x.PrevView]=function(t){return Object(p.addYears)(t,-1)},F[x.NextView]=function(t){return Object(p.addYears)(t,1)},F[x.FirstInView]=function(t){return Object(p.firstMonthOfYear)(t)},F[x.LastInView]=function(t){return Object(p.lastMonthOfYear)(t)},F),ht=function(){function t(t){this._intl=t}return t.prototype.addToDate=function(t,e){return Object(p.addYears)(t,e)},t.prototype.datesList=function(t,e){return Z(0,e).map((function(e){return Object(p.addYears)(t,e)}))},t.prototype.data=function(t){var e=this,n=t.cellUID,r=t.focusedDate,o=t.isActiveView,i=t.max,a=t.min,s=t.selectedDate,l=t.selectionRange,c=void 0===l?z:l,u=t.viewDate;if(!u)return ut;var h=this.abbrMonthNames(),d=Object(p.firstMonthOfYear)(u),f=Object(p.lastMonthOfYear)(u),m=d.getFullYear(),v=Z(0,5),g=G();return Z(0,3).map((function(t){var l=Object(p.addMonths)(d,5*t);return v.map((function(t){var u=e.normalize(Object(p.addMonths)(l,t),a,i);if(m<u.getFullYear())return null;var v=e.isEqual(u,c.start),y=e.isEqual(u,c.end),b=!v&&!y&&$(u,c),x=o&&(Array.isArray(s)?e.isSelectedFromArray(u,s,a,i):Y(s,a,i)&&e.isEqual(u,s));return{formattedValue:h[u.getMonth()],id:""+n+u.getTime(),isFocused:e.isEqual(u,r),isSelected:x,isInRange:Y(u,a,i),isWeekend:!1,isRangeStart:v,isRangeMid:b,isRangeEnd:y,isRangeSplitEnd:b&&e.isEqual(u,f),isRangeSplitStart:b&&e.isEqual(u,d),isToday:e.isEqual(u,g),title:e.cellTitle(u),value:u}}))}))},t.prototype.isSelectedFromArray=function(t,e,n,r){var o=this,i=!1;return e.forEach((function(e){Y(t,n,r)&&o.isEqual(t,e)&&(i=!0)})),i},t.prototype.isEqual=function(t,e){return!(!t||!e)&&(t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth())},t.prototype.isInArray=function(t,e){if(!e.length)return!1;var n=t.getFullYear();return e[0].getFullYear()<=n&&n<=e[e.length-1].getFullYear()},t.prototype.isInRange=function(t,e,n){var r=Object(p.createDate)(t.getFullYear(),t.getMonth(),1),o=!e||Object(p.createDate)(e.getFullYear(),e.getMonth(),1)<=r,i=!n||r<=Object(p.createDate)(n.getFullYear(),n.getMonth(),1);return o&&i},t.prototype.isInSameView=function(t,e){return 0===Object(p.durationInYears)(t,e)},t.prototype.isRangeStart=function(t){return t.getFullYear()%10==0},t.prototype.move=function(t,e){var n=pt[e];return n?n(t):t},t.prototype.cellTitle=function(t){return t.getFullYear()+" "+this.value(t)},t.prototype.navigationTitle=function(t){return this.title(t)},t.prototype.title=function(t){return t?t.getFullYear().toString():""},t.prototype.rowLength=function(t){return 5},t.prototype.skip=function(t,e){return Object(p.durationInYears)(e,t)},t.prototype.total=function(t,e){return Object(p.durationInYears)(t,e)+1},t.prototype.value=function(t){return t?this.abbrMonthNames()[t.getMonth()]:""},t.prototype.viewDate=function(t,e,n){return void 0===n&&(n=1),Object(p.durationInYears)(t,e)<n?Object(p.addYears)(t,-1):t},t.prototype.abbrMonthNames=function(){return this._intl.dateFormatNames({nameType:"abbreviated",type:"months"})},t.prototype.normalize=function(t,e,n){return t<e&&this.isEqual(t,e)?Object(p.cloneDate)(e):t>n&&this.isEqual(t,n)?Object(p.cloneDate)(n):t},t}(),dt=((L={})[w.month]=ct,L[w.year]=ht,L[w.decade]=at,L[w.century]=rt,L),ft=function(){function t(t){this.bottom=w.month,this.top=w.century,this.onViewChanged=t}return t.prototype.configure=function(t,e){this.bottom=t,this.top=e},t.prototype.service=function(t,e){return new dt[""+t](e)},t.prototype.moveDown=function(t,e){this.move(t,-1,e)},t.prototype.moveUp=function(t,e){this.move(t,1,e)},t.prototype.moveToBottom=function(t){t!==this.bottom&&this.onViewChanged({view:this.bottom})},t.prototype.canMoveDown=function(t){return this.bottom<t},t.prototype.canMoveUp=function(t){return t<this.top},t.prototype.clamp=function(t){return t<this.bottom?this.bottom:t>this.top?this.top:t},t.prototype.move=function(t,e,n){var r=this.clamp(function(t,e){var n=w[w[t+e]];return void 0!==n?n:t}(t,e));r!==t&&this.onViewChanged({view:r},n)},t}(),mt=function(){function t(){this.didCalculate=!1}return t.prototype.ensureHeights=function(){void 0===this.calendarHeight&&this.calculateHeights()},t.prototype.calculateHeights=function(t){var e=this;if(u.e){var n,r=tt("div"),o=tt("ul"),i=tt("li"),a=tt("td"),s=tt("th"),l=tt("tr"),c=tt("tbody"),p=tt("thead"),h=tt("table"),d=function(){return r('\n            <span class="k-calendar-title">March 2017</span>\n            <span class="k-calendar-today">TODAY</span>\n        ',"k-calendar-header")},f=function(t,e){return new Array(t).fill("1").map(e)},m=function(t){return r(t,"k-content k-scrollable")},v=function(){return u.e?(n||(n=r([m([o([i("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),n):null},g=function(t,e,n){var o,i=t.cells,v=t.rows;return function(){return u.e?(o||(o=function(t,e,n){return r(n?[d(),h([p([l([s("MO")])])],"k-calendar-weekdays"),m([t,t])]:[d(),m([t,t])],e,{left:"-10000px",position:"absolute"})}(function(t,e){return void 0===e&&(e=1),h([c([l([s("1")])].concat(f(t,(function(){return l(f(e,(function(t){return a('<span class="k-link">'+t+"</span>")})))}))))])}(v,i),e,n)),o):null}},y=function(t){return t.querySelector(".k-scrollable")},b=function(t){var e=y(t);return e.className=e.className+" k-scrollable-horizontal",t},x=g({cells:7,rows:6},"k-calendar-view k-calendar-monthview",!0),w=g({cells:5,rows:3},"k-calendar-view k-calendar-yearview",!1),k=g({cells:5,rows:2},"k-calendar-view k-calendar-decadeview",!1),O=function(t){return parseFloat(window.getComputedStyle(t).height)||t.offsetHeight},C=function(t){var e=window.getComputedStyle(t);return parseFloat(e.width)+parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)||t.offsetWidth},_=function(t){return t.querySelector("tbody")};this.didCalculate=!0,t&&(this.hostContainer=t),this.batch(x(),(function(t){var n=_(t);e.calendarHeight=O(t),e.monthViewHeight=O(n),e.headerHeight=O(n.children[0]),e.scrollableContentHeight=O(y(t))})),this.batch(b(x()),(function(t){var n=_(t);e.calendarWidth=C(t),e.monthViewWidth=C(n),e.scrollableContentWidth=C(y(t))})),this.batch(w(),(function(t){e.yearViewHeight=O(_(t)),e.scrollableYearContentHeight=O(y(t))})),this.batch(b(w()),(function(t){e.yearViewWidth=C(_(t))})),this.batch(k(),(function(t){e.decadeViewHeight=O(_(t)),e.centuryViewHeight=e.decadeViewHeight})),this.batch(b(k()),(function(t){e.decadeViewWidth=C(_(t)),e.centuryViewWidth=e.decadeViewWidth})),this.batch(v(),(function(t){e.navigationItemHeight=O(t.querySelector("li"))}))}},t.prototype.viewHeight=function(t){return this.viewDimension(t,"height")},t.prototype.viewWidth=function(t){return this.viewDimension(t,"width")},t.prototype.viewDimension=function(t,e){var n="height"===e?"ViewHeight":"ViewWidth";switch(t){case w.month:return this["month"+n];case w.year:return this["year"+n];case w.decade:return this["decade"+n];case w.century:return this["century"+n];default:return 1}},t.prototype.batch=function(t,e){var n=this.hostContainer||document.body,r=n.appendChild(t);e(r),n.removeChild(r)},t}(),vt={33:x.PrevView,34:x.NextView,35:x.LastInView,36:x.FirstInView,37:x.Left,38:x.Up,39:x.Right,40:x.Down,"meta+38":x.UpperView,"meta+40":x.LowerView},gt=function(){function t(t){this.bus=t}return t.prototype.action=function(t){var e=(t.ctrlKey||t.metaKey?"meta+":"")+t.keyCode;return vt[e]},t.prototype.move=function(t,e,n,r,o){return r?e===x.UpperView&&this.bus.canMoveUp(n)?(this.bus.moveUp(n,o),t):e===x.LowerView&&this.bus.canMoveDown(n)?(this.bus.moveDown(n,o),t):r.move(t,e):t},t}(),yt=function(){function t(t){this.dom=t,this.monthScrolled=!1,this.navScrolled=!1}return t.prototype.configure=function(t){var e=Math.max(this.dom.viewHeight(t)/this.dom.navigationItemHeight,1);this.divideByMagnitude=function(t){return function(e){return Math.floor(e/t)}}(e),this.powerByMagnitude=function(t){return function(e){return e*t}}(e)},t.prototype.sync=function(t,e,n){if(t&&e){if(this.navigator=t,this.view=e,n.target===this.navigator.element){if(this.monthScrolled)return void(this.monthScrolled=!1);this.navScrolled=!0,this.scrollSiblingOf(this.navigator.element)}if(n.target===this.view.element){if(this.navScrolled)return void(this.navScrolled=!1);this.monthScrolled=!0,this.scrollSiblingOf(this.view.element)}}},t.prototype.scrollSiblingOf=function(t){var e=this.siblingComponent(t),n=this.calculateScroll(e,t.scrollTop);e.scrollTo(n)},t.prototype.siblingComponent=function(t){return this.navigator.element===t?this.view:this.navigator},t.prototype.calculateScroll=function(t,e){return(t===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(e)},t}(),bt=function(){function t(t){this.intl=t}return t.prototype.getWeekNames=function(t){void 0===t&&(t=!1);var e=J(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return t?[""].concat(e):e},t}(),xt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(){return(wt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},kt=function(t){return l.createElement("td",{key:t,className:"k-calendar-td"},"")},Ot=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildWeekNumber=function(t,n){if(!e.firstDate(t))return kt("week-cell-"+n);var r=e.firstDate(t),o=e.getWeekNumber(r),i="kendo-react-calendar-week-cell-"+o,a={className:"k-alt",value:o,firstDate:r};return e.props.weekCell?l.createElement(e.props.weekCell,wt({},a,{key:i}),o):l.createElement(j,wt({},a,{key:i}),o)},e.buildRow=function(t){return t.map((function(t,n){if(!t)return kt(n);var r={"aria-selected":t.isSelected},o="kendo-react-calendar-cell-"+t.value.getTime(),i=wt({},r,t,{isDisabled:!t.isInRange,view:e.props.activeView,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave});return e.props.cell?l.createElement(e.props.cell,wt({},i,{key:o}),t.formattedValue):l.createElement(T,wt({},i,{key:o}),t.formattedValue)}))},e.firstDate=function(t){var n=e.firstWeekDateContext(t);return n?n.value:null},e.firstWeekDateContext=function(t){if(!e.weekNumber)return null;for(var n=0,r=t[n];!r&&n<t.length;)r=t[++n];return r},e.handleClick=function(t,n){var r=e.props.onChange;if(r){var o={value:Object(p.cloneDate)(t),target:e,nativeEvent:n&&n.nativeEvent,syntheticEvent:n};r.call(void 0,o)}},e.handleMouseEnter=function(t){var n=e.props.onCellEnter;n&&n.call(void 0,Object(p.cloneDate)(t))},e.handleMouseLeave=function(t){var n=e.props.onCellLeave;n&&n.call(void 0,Object(p.cloneDate)(t))},e}return xt(e,t),Object.defineProperty(e.prototype,"min",{get:function(){return this.props.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.props.max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHorizontal",{get:function(){return"horizontal"===this.props.direction},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMonthView",{get:function(){return this.props.activeView===w.month},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weekNumber",{get:function(){return Boolean(this.props.showWeekNumbers&&this.props.activeView===w.month)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedDate",{get:function(){return void 0!==this.props.selectedDate?this.props.selectedDate:e.defaultProps.selectedDate},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this;this.intl=Object(h.provideIntlService)(this),this.weekService=new bt(this.intl);var e=this.weekService.getWeekNames(this.weekNumber),n=this.props.service.rowLength(this.weekNumber),r=this.props.service.title(this.props.viewDate),o=G(),i=K(this.props.viewDate,o),a=this.props.service.data({cellUID:this.props.cellUID,min:this.min,max:this.max,focusedDate:this.props.focusedDate,isActiveView:!this.props.bus.canMoveDown(this.props.activeView),selectedDate:this.selectedDate,selectionRange:this.props.selectionRange,viewDate:i});return l.createElement(l.Fragment,null,this.isMonthView&&this.isHorizontal&&l.createElement("thead",{role:"rowgroup",className:"k-calendar-thead"},l.createElement("tr",{role:"row",className:"k-calendar-tr"},e.map((function(t,e){return l.createElement("th",{key:e,className:"k-calendar-th"},t)})))),l.createElement("tbody",{role:"rowgroup",className:"k-calendar-tbody"},!this.isHorizontal&&l.createElement("tr",{role:"presentation",className:"k-calendar-tr"},l.createElement("th",{scope:"col",colSpan:n,className:"k-calendar-th"},r)),a.map((function(e,n){return l.createElement("tr",{role:"row",className:"k-calendar-tr",key:n},t.weekNumber&&t.buildWeekNumber(e,n),t.buildRow(e))}))))},e.prototype.getWeekNumber=function(t){return this.weekNumber?Object(p.weekInYear)(t,this.intl.firstDay()):null},e.propTypes={activeRangeEnd:c.oneOf(["start","end",null]),activeView:c.number.isRequired,cellUID:c.string.isRequired,direction:c.oneOf(["horizontal","vertical"]),focusedDate:c.instanceOf(Date).isRequired,max:c.instanceOf(Date).isRequired,min:c.instanceOf(Date).isRequired,onChange:c.func,selectedDate:c.oneOfType([c.instanceOf(Date),c.arrayOf(c.instanceOf(Date))]),showWeekNumbers:c.bool,viewDate:c.instanceOf(Date).isRequired},e.defaultProps={direction:"vertical",selectedDate:G(),showWeekNumbers:!1},e}(l.Component);Object(h.registerForIntl)(Ot);var Ct,_t=n(7),St=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Et=function(){return(Et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},It=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return St(e,t),e.prototype.render=function(){var t=this.props,e=(t.view,It(t,["view"]));return l.createElement(_t.Button,Et({type:"button",look:"flat"},e),this.props.children)},e}(l.PureComponent),Dt=new Date(1980,0,1),Pt=new Date(1900,0,1),At=new Date(2099,11,31),jt=new Date(1980,0,1),Mt=new Date(1980,0,1,23,59,59),Rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt=function(){return(Nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ft=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getTitle=function(){if(!e.props.currentDate)return"";var t=e.rangeLength-1,n=e.props.service.title(e.props.currentDate),r=e.props.service.addToDate(e.props.currentDate,t);return t<1||!e.props.service.isInRange(r,e.min,e.max)?n:n+" - "+e.props.service.title(r)},e.handleTitleClick=function(t){e.canMoveUp&&e.props.bus.moveUp(e.props.activeView,t)},e}return Rt(e,t),Object.defineProperty(e.prototype,"min",{get:function(){return void 0!==this.props.min?this.props.min:e.defaultProps.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return void 0!==this.props.max?this.props.max:e.defaultProps.max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeLength",{get:function(){return void 0!==this.props.rangeLength?this.props.rangeLength:e.defaultProps.rangeLength},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canMoveUp",{get:function(){return this.props.bus.canMoveUp(this.props.activeView)},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this.getTitle(),e=Object(u.g)("k-calendar-title"),n={children:t,value:t,view:this.props.activeView,className:e,onClick:this.handleTitleClick,disabled:!this.canMoveUp},r=this.props.headerTitle?l.createElement(this.props.headerTitle,Nt({},n),t):l.createElement(Tt,Nt({},n),t);return l.createElement("div",{className:"k-calendar-header"},r,l.createElement("span",{className:"k-spacer"}),l.createElement("span",{className:"k-calendar-nav"},this.props.commands))},e.propTypes={activeView:c.number.isRequired,currentDate:c.instanceOf(Date).isRequired,max:c.instanceOf(Date).isRequired,min:c.instanceOf(Date).isRequired,rangeLength:c.number},e.defaultProps={rangeLength:1,min:Pt,max:At},e}(l.Component);Object(h.registerForLocalization)(Ft);var Lt="multiviewcalendar.prevView",zt="multiviewcalendar.nextView",Bt="dateinput.increment",Vt="dateinput.decrement",Ht="daterangepicker.swapStartEnd",Ut="daterangepicker.separator",Wt="datetimepicker.toggleDateTimeSelector",qt="timepicker.selectNow",Kt="timepicker.toggleClock",Gt=((Ct={})["calendar.today"]="TODAY",Ct["timepicker.now"]="NOW",Ct["timepicker.set"]="Set",Ct["timepicker.cancel"]="Cancel",Ct["datetimepicker.date"]="Date",Ct["datetimepicker.time"]="Time",Ct["datetimepicker.cancel"]="Cancel",Ct["datetimepicker.set"]="Set",Ct["daterangepicker.start"]="Start",Ct["daterangepicker.end"]="End",Ct[Ut]=" ",Ct[qt]="Select Now",Ct["timepicker.toggleTimeSelector"]="Toggle TimeSelector",Ct[Kt]="Toggle Clock",Ct[Bt]="Increase value",Ct[Vt]="Decrease value",Ct["datepicker.toggleCalendar"]="Toggle calendar",Ct[Lt]="Navigate to previous view",Ct[zt]="Navigate to next view",Ct[Ht]="Swap start and end values",Ct[Wt]="Toggle date-time selector",Ct),Yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleClick=function(t){e.todayIsInRange&&e.props.onClick&&e.props.onClick.call(void 0,{syntheticEvent:t,nativeEvent:t.nativeEvent,value:Q(G(),e.min,e.max),target:e,isTodayClick:!0})},e}return Yt(e,t),Object.defineProperty(e.prototype,"min",{get:function(){return void 0!==this.props.min?this.props.min:e.defaultProps.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return void 0!==this.props.max?this.props.max:e.defaultProps.max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"todayIsInRange",{get:function(){return Y(G(),Object(p.getDate)(this.min),Object(p.getDate)(this.max))},enumerable:!0,configurable:!0}),e.prototype.render=function(){this.localization=Object(h.provideLocalizationService)(this);var t=this.localization.toLanguageString("calendar.today",Gt["calendar.today"]),e=Object(u.g)("k-nav-today",{"k-state-disabled":this.props.disabled});return l.createElement("span",{className:e,onClick:this.handleClick},t)},e.propTypes={max:c.instanceOf(Date).isRequired,min:c.instanceOf(Date).isRequired,onClick:c.func,disabled:c.bool},e.defaultProps={min:Pt,max:At},e}(l.Component);Object(h.registerForLocalization)(Xt);var $t=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zt=function(t){function e(e){var n=t.call(this,e)||this;return n.isActive=!1,n.animateToIndex=!0,n.shouldScroll=!1,n.focusActiveDate=function(){if(n._element){var t=n._element.querySelector("td.k-state-focused"),e=n._element.querySelector(".k-state-pending-focus");t&&t[0]&&t[0].classList.remove("k-state-focused"),e&&e.classList.add("k-state-focused"),n.isActive=!0}},n.blurActiveDate=function(){if(n._element){var t=n._element.querySelector("td.k-state-focused");t&&t.classList.remove("k-state-focused"),n.isActive=!1}},n.handleVirtualizationMount=function(t){if(n.virtualization=t,n.virtualization&&n.table){n.table.style.transform="translateY("+n.viewOffset+"px)";var e=Q(n.props.focusedDate,n.props.min,n.props.max),r=n.props.service.skip(e,n.props.min);n.virtualization.scrollToIndex(r)}},n.buildMonthView=function(t,e){return l.createElement("table",{key:"calendar-view-list-weekdays",className:"k-calendar-table k-calendar-weekdays"},l.createElement("colgroup",null,t.map((function(t,e){return l.createElement("col",{key:e})}))),l.createElement("thead",{className:"k-calendar-thead"},l.createElement("tr",{className:"k-calendar-tr"},e.map((function(t,e){return l.createElement("th",{key:e,className:"k-calendar-th"},t)})))))},n.buildDates=function(t,e){var r=n.props.cellUID;return l.createElement("table",{className:"k-calendar-table",ref:function(t){return n.table=t}},l.createElement("colgroup",null,t.map((function(t,e){return l.createElement("col",{key:e})}))),e.map((function(t){return l.createElement(Ot,{ref:function(t){n.calendarView||(n.calendarView=t)},key:t.getTime(),activeView:n.props.activeView,viewDate:t,min:n.props.min,max:n.props.max,cellUID:r,focusedDate:n.props.focusedDate,cell:n.props.cell,selectedDate:n.props.value,showWeekNumbers:n.weekNumber,onChange:n.handleDateChange,bus:n.props.bus,service:n.props.service,weekCell:n.props.weekCell})})))},n.calculateHeights=function(){if(n.props.dom){var t=n.props.activeView===w.month?n.props.dom.scrollableContentHeight:n.props.dom.scrollableYearContentHeight;n.bottomOffset=t-n.props.dom.viewHeight(n.props.activeView),n.viewOffset=-1*n.props.dom.headerHeight,n.viewHeight=n.props.dom.viewHeight(n.props.activeView)||1}},n.getTake=function(t,e){return Math.min(e-t,n.take)},n.handleScrollAction=function(t){var e=t.index,r=t.scrollAction,o=t.pageAction,i=o?o.skip:n.state.skip;if(n.state.index===e&&n.state.skip===i||n.setState({index:e,skip:i}),n.table&&r){var a="translateY("+r.offset+"px)";n.table.style.transform=a}},n.handleTodayClick=function(t){n.shouldScroll=!0,n.handleDateChange.call(void 0,t,!0)},n.handleDateChange=function(t,e){void 0===e&&(e=!1);var r=n.props.onChange;if(r){var o={syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,value:Object(p.cloneDate)(t.value),target:n,isTodayClick:e};r.call(void 0,o)}},n.lastView=n.props.activeView,n.lastFocus=n.props.focusedDate,n.state={skip:n.props.service.skip(n.props.focusedDate,n.props.min),index:n.props.service.skip(n.props.focusedDate,n.props.min)},n}return $t(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weekNames",{get:function(){this.intl=Object(h.provideIntlService)(this);var t=J(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weekNumber",{get:function(){return Boolean(this.props.showWeekNumbers&&this.props.activeView===w.month)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"take",{get:function(){return void 0!==this.props.take?this.props.take:e.defaultProps.take},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animate",{get:function(){return Boolean(this.props.smoothScroll&&this.animateToIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"todayIsInRange",{get:function(){return Y(G(),Object(p.getDate)(this.props.min),Object(p.getDate)(this.props.max))},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(t,e){this.shouldScroll=!1,void 0!==this.indexToScroll&&this.virtualization&&this.virtualization[this.animate?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.isActive&&this.focusActiveDate(),this.lastView=this.props.activeView,this.indexToScroll=void 0},e.prototype.render=function(){var t=this;this.calculateHeights();var e=this.lastView!==this.props.activeView,n=Q(this.props.focusedDate,this.props.min,this.props.max),r=e?this.props.service.skip(n,this.props.min):this.state.skip,o=this.props.service.total(this.props.min,this.props.max),i=this.getTake(r,o),a=this.props.service.addToDate(this.props.min,r),s=this.props.service.addToDate(this.props.min,this.state.index),c=new Array(this.props.service.rowLength(this.weekNumber)).fill(""),h=this.props.activeView!==this.lastView;this.animateToIndex=!h,(h||!Object(p.isEqualDate)(this.lastFocus,n)||this.shouldScroll||!this.props.shouldScroll||this.props.shouldScroll())&&(this.indexToScroll=this.props.service.skip(n,this.props.min)),this.lastFocus=n;var d=Object(u.g)("k-calendar-view",{"k-calendar-monthview":this.props.activeView===w.month,"k-calendar-yearview":this.props.activeView===w.year,"k-calendar-decadeview":this.props.activeView===w.decade,"k-calendar-centuryview":this.props.activeView===w.century}),f=this.buildDates(c,this.props.service.datesList(a,i)),m=l.createElement(l.Fragment,null,l.createElement(Ft,{key:"calendar-view-list-header",currentDate:s,min:this.props.min,max:this.props.max,activeView:this.props.activeView,bus:this.props.bus,service:this.props.service,headerTitle:this.props.headerTitle,commands:l.createElement(l.Fragment,null,l.createElement(Xt,{min:this.props.min,max:this.props.max,onClick:this.handleTodayClick,disabled:!this.todayIsInRange}))}),this.props.activeView===w.month&&this.buildMonthView(c,this.weekNames),l.createElement(_,{key:"calendar-view-list-content",skip:r,take:this.take,total:o,itemHeight:this.viewHeight,topOffset:this.viewOffset,bottomOffset:this.bottomOffset,scrollOffsetSize:this.viewOffset,maxScrollDifference:this.viewHeight,onScroll:this.props.onScroll,onScrollAction:this.handleScrollAction,onMount:this.handleVirtualizationMount,children:f}));return l.createElement("div",{ref:function(e){t._element=e},className:d},this.props.dom.didCalculate?m:null)},e.propTypes={activeView:c.number.isRequired,bottomOffset:c.number,cellUID:c.string.isRequired,focusedDate:c.instanceOf(Date).isRequired,max:c.instanceOf(Date).isRequired,min:c.instanceOf(Date).isRequired,onChange:c.func,showWeekNumbers:c.bool,smoothScroll:c.bool,take:c.number,value:c.instanceOf(Date),viewHeight:c.number,viewOffset:c.number},e.defaultProps={take:5,showWeekNumbers:!1,smoothScroll:!0},e}(l.Component);Object(h.registerForIntl)(Zt);var Jt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt=function(){return(Qt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},te=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ee=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleClick=function(t){var n=e.props,r=n.onClick,o=n.value;r&&r.call(void 0,o,t)},e}return Jt(e,t),e.prototype.render=function(){var t=this.props,e=t.isRangeStart,n=(t.value,t.text,te(t,["isRangeStart","value","text"]));return l.createElement("li",Qt({},n,{onClick:this.handleClick}),l.createElement("span",{className:Object(u.g)({"k-calendar-navigation-marker":e})},this.props.children))},e}(l.Component),ne=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=function(){return(re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},oe=function(t){function e(e){var n=t.call(this,e)||this;n.topOffset=0,n.handleVirtualizationMount=function(t){if(n.virtualization=t,n.virtualization&&n.list){n.list.style.transform="translateY("+n.topOffset+"px)";var e=Q(n.props.focusedDate,n.props.min,n.props.max),r=n.props.service.skip(e,n.props.min);n.virtualization.scrollToIndex(r)}},n.buildNavigationItem=function(t){var e=n.props.service.navigationTitle(t),r=n.props.service.isRangeStart(t),o="kendo-react-calendar-nav-item-"+t.getTime(),i={text:e,value:t,isRangeStart:r,view:n.props.activeView,onClick:n.handleDateChange};return n.props.navigationItem?l.createElement(n.props.navigationItem,re({},i,{key:o}),e):l.createElement(ee,re({},i,{key:o}),e)},n.calculateHeights=function(){var t=n.props.dom.calendarHeight;n.itemHeight=n.props.dom.navigationItemHeight||1,n.maxViewHeight=n.props.dom.monthViewHeight,n.topOffset=(t-n.itemHeight)/2,n.bottomOffset=t-n.itemHeight},n.handleDateChange=function(t,e){var r=n.props.onChange;if(r){var o={value:Object(p.cloneDate)(t),target:n,nativeEvent:e&&e.nativeEvent,syntheticEvent:e};r.call(void 0,o)}},n.handleScrollAction=function(t){var e=t.scrollAction,r=t.pageAction,o=r?r.skip:n.state.skip;if(n.state.skip!==o&&n.setState({skip:o}),n.list&&e){var i="translateY("+e.offset+"px)";n.list.style.transform=i}},n.lastView=n.props.activeView,n.lastFocus=n.props.focusedDate;var r=n.props.service.skip(n.props.focusedDate,n.props.min),o=n.props.service.total(n.props.min,n.props.max);return n.state={skip:r-n.getTake(r,o)>0?r:0},n}return ne(e,t),Object.defineProperty(e.prototype,"take",{get:function(){return void 0!==this.props.take?this.props.take:e.defaultProps.take},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(t,e){void 0!==this.indexToScroll&&this.virtualization&&this.virtualization.scrollToIndex(this.indexToScroll),this.lastView=this.props.activeView,this.lastFocus=this.props.focusedDate,this.indexToScroll=void 0},e.prototype.render=function(){var t=this;this.calculateHeights();var e=this.lastView!==this.props.activeView,n=Q(this.props.focusedDate,this.props.min,this.props.max),r=e?this.props.service.skip(n,this.props.min):this.state.skip,o=this.props.service.total(this.props.min,this.props.max),i=this.getTake(r,o),a=this.props.service.addToDate(this.props.min,r),s=this.props.service.datesList(a,i);this.props.activeView===this.lastView&&Object(p.isEqual)(n,this.lastFocus)||(this.indexToScroll=this.props.service.skip(n,this.props.min));var c=l.createElement(_,{skip:r,take:this.take,total:o,itemHeight:this.itemHeight,topOffset:this.topOffset,bottomOffset:this.bottomOffset,onScroll:this.props.onScroll,maxScrollDifference:this.maxViewHeight,onScrollAction:this.handleScrollAction,onMount:this.handleVirtualizationMount},l.createElement("ul",{ref:function(e){t.list=e},className:"k-reset"},s.map((function(e){return t.buildNavigationItem(e)}))));return l.createElement("div",{className:"k-calendar-navigation"},l.createElement("span",{className:"k-calendar-navigation-highlight"}),this.props.dom.didCalculate?c:null)},e.prototype.getTake=function(t,e){return Math.min(e-t,this.take)},e.propTypes={activeView:c.number.isRequired,focusedDate:c.instanceOf(Date).isRequired,max:c.instanceOf(Date).isRequired,min:c.instanceOf(Date).isRequired,onChange:c.func,take:c.number},e.defaultProps={take:30},e}(l.Component),ie=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ae=function(){return(ae=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},se=function(t){return t?t.virtualization:null},le=function(t,e,n,r){return void 0===t&&(t=ce.defaultProps.min),void 0===e&&(e=ce.defaultProps.max),void 0!==r?null!==r&&Y(Object(p.getDate)(r),t,e)?r:null:null!==n&&Y(Object(p.getDate)(n),t,e)?n:null},ce=function(t){function e(n){var r=t.call(this,n)||this;r.cellUID=Object(u.r)(),r.id=Object(u.r)(),r.isActive=!1,r.didNavigationChange=!1,r.focus=function(){r._element&&r._element.focus()},r.shouldScroll=function(){return r.didNavigationChange},r.handleScroll=function(t){r.scrollSyncService&&r.scrollSyncService.sync(se(r.Navigation),se(r.calendarViewList),t)},r.handleNavigationChange=function(t){if(!r.props.disabled){r.didNavigationChange=!0;var e=Object(p.cloneDate)(t.value);r.setState({focusedDate:e})}},r.handleViewChange=function(t){var e=t.view;r.scrollSyncService.configure(e),r.setState({activeView:e})},r.handleDateChange=function(t){var e=Object(p.cloneDate)(t.value),n=Object(p.cloneDate)(t.value),o=r.bus.canMoveDown(r.state.activeView);if(!r.props.disabled){if(o){if(!t.isTodayClick)return r.bus.moveDown(r.state.activeView,t.syntheticEvent),void r.setState({focusedDate:n});r.bus.moveToBottom(r.state.activeView)}r.setState({value:e,focusedDate:n}),r.valueDuringOnChange=e;var i=r.props.onChange;if(i){var a={syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,value:e,target:r};i.call(void 0,a)}r.valueDuringOnChange=void 0}},r.handleFocus=function(t){if(r.isActive=!0,r.calendarViewList){r.calendarViewList.focusActiveDate();var e=r.props.onFocus;e&&e.call(void 0,t)}},r.handleBlur=function(t){if(r.isActive=!1,r.calendarViewList){r.calendarViewList.blurActiveDate();var e=r.props.onBlur;e&&e.call(void 0,t)}},r.handleKeyDown=function(t){if(t.keyCode===u.d.enter){if(null!==r.value&&Object(p.isEqualDate)(r.focusedDate,r.value)){var e=Q(r.focusedDate,r.min,r.max);se(r.calendarViewList).scrollToIndex(r.service.skip(e,r.min))}var n={syntheticEvent:t,nativeEvent:t.nativeEvent,value:r.focusedDate,target:r};r.handleDateChange.call(void 0,n)}else{var o=Q(r.navigation.move(r.focusedDate,r.navigation.action(t),r.state.activeView,r.service,t),r.min,r.max);if(Object(p.isEqualDate)(r.focusedDate,o))return;r.setState({focusedDate:o})}t.preventDefault()},r.handleMouseDown=function(t){t.preventDefault()},r.handleClick=function(t){r._element&&r._element.focus({preventScroll:!0})},Object(u.D)(d);var o=le(r.min,r.max,r.props.defaultValue||e.defaultProps.defaultValue,r.props.value);return r.state={value:o,activeView:B(w[n.defaultActiveView],r.bottomView,r.topView),focusedDate:Q(n.focusedDate||o||G(),r.min,r.max)},r.dom=new mt,r.bus=new ft(r.handleViewChange),r.navigation=new gt(r.bus),r.oldValue=o,r}return ie(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return Object(p.getDate)(void 0!==this.props.min?this.props.min:e.defaultProps.min)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return Object(p.getDate)(void 0!==this.props.max?this.props.max:e.defaultProps.max)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomView",{get:function(){return w[void 0!==this.props.bottomView?this.props.bottomView:e.defaultProps.bottomView]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topView",{get:function(){return w[void 0!==this.props.topView?this.props.topView:e.defaultProps.topView]},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;Promise.resolve().then((function(){t._element&&(t.dom.calculateHeights(t._element),t.scrollSyncService=new yt(t.dom),t.scrollSyncService.configure(t.state.activeView),t.forceUpdate())}))},e.prototype.componentDidUpdate=function(t,e){e.activeView!==this.state.activeView&&this.scrollSyncService.configure(this.state.activeView),this.calendarViewList&&(this.isActive?this.calendarViewList.focusActiveDate:this.calendarViewList.blurActiveDate)(),this.didNavigationChange=!1,this.oldValue=this.value},e.prototype.render=function(){var t=this;this.props._ref&&this.props._ref(this);var n=null!==this.value&&null!==this.oldValue?!Object(p.isEqualDate)(this.value,this.oldValue):this.value!==this.oldValue,r=B(this.state.activeView,w[void 0!==this.props.bottomView?this.props.bottomView:e.defaultProps.bottomView],w[void 0!==this.props.topView?this.props.topView:e.defaultProps.topView]),o=le(this.min,this.max,this.value,this.value),i=o?Object(p.getDate)(o):null;this.focusedDate=Object(p.getDate)(Q(n&&null!==o?o:this.state.focusedDate,this.min,this.max)),this.intl=Object(h.provideIntlService)(this),this.bus.configure(this.bottomView,this.topView),this.service=this.bus.service(r,this.intl);var a=Object(u.g)("k-widget k-calendar k-calendar-infinite",{"k-state-disabled":this.props.disabled,"k-week-number":this.props.weekNumber},this.props.className),s={"aria-disabled":this.props.disabled,"aria-activedescendant":this.cellUID+this.focusedDate.getTime()},c=[this.props.navigation&&l.createElement(oe,{key:0,ref:function(e){t.Navigation=e},activeView:this.state.activeView,focusedDate:this.focusedDate,min:this.min,max:this.max,onScroll:this.handleScroll,onChange:this.handleNavigationChange,service:this.service,dom:this.dom,navigationItem:this.props.navigationItem}),l.createElement(Zt,{key:1,ref:function(e){t.calendarViewList=e},activeView:this.state.activeView,focusedDate:this.focusedDate,min:this.min,max:this.max,bus:this.bus,shouldScroll:this.shouldScroll,onScroll:this.handleScroll,service:this.service,cell:this.props.cell,weekCell:this.props.weekCell,dom:this.dom,smoothScroll:this.props.smoothScroll,showWeekNumbers:this.props.weekNumber,onChange:this.handleDateChange,value:i,cellUID:this.cellUID,headerTitle:this.props.headerTitle})];return l.createElement("div",ae({},s,{ref:function(e){t._element=e},className:a,id:this.props.id||this.id,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,role:"grid",tabIndex:this.props.disabled?void 0:this.props.tabIndex||0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onClick:this.handleClick}),c)},e.propTypes={className:c.string,defaultActiveView:c.oneOf(["month","year","decade","century"]),defaultValue:c.instanceOf(Date),disabled:c.bool,focusedDate:c.instanceOf(Date),id:c.string,ariaLabelledBy:c.string,ariaDescribedBy:c.string,max:c.instanceOf(Date),min:c.instanceOf(Date),navigation:c.bool,smoothScroll:c.bool,onBlur:c.func,onChange:c.func,onFocus:c.func,tabIndex:c.number,value:c.instanceOf(Date),weekNumber:c.bool,topView:function(t,e,n){var r=t[e],o=t.bottomView;return r&&o&&w[r]<w[o]?new Error("Invalid prop + "+e+" suplied to "+n+".\n                    "+e+" can not be smaller than bottomView.\n                    "):null},bottomView:function(t,e,n){var r=t[e],o=t.topView;return r&&o&&w[r]>w[o]?new Error("Invalid prop + "+e+" suplied to "+n+".\n                    "+e+" can not be bigger than topView.\n                    "):null}},e.defaultProps={disabled:!1,min:Pt,max:At,navigation:!0,defaultActiveView:"month",defaultValue:null,smoothScroll:!0,topView:"century",bottomView:"month"},e}(l.Component);Object(h.registerForIntl)(ce);var ue=function(){this.symbols=""},pe=function(t,e){return t[e.pattern[0]]=e.type,t},he=["k-widget","k-dateinput"],de=function(){function t(t,e,n){this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.typedMonthPart="",this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this._value=Object(p.getDate)(new Date),this.intlProvider=t,this.formatPlaceholder=e,this.format=n,this.monthNames=this.allFormatedMonths()}return Object.defineProperty(t.prototype,"intl",{get:function(){return this.intlProvider()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.setValue=function(t){t?Object(p.isEqual)(t,this._value)||(this._value=Object(p.cloneDate)(t),this.modifyExisting(!0)):(this._value=Object(p.getDate)(new Date),this.modifyExisting(!1))},t.prototype.hasValue=function(){var t=this;return this.intl.splitDateFormat(this.format).reduce((function(e,n){return e||"literal"!==n.type&&"dayperiod"!==n.type&&t.getExisting(n.pattern[0])}),!1)},t.prototype.getDateObject=function(){for(var t=0;t<this.knownParts.length;t++)if(!this.getExisting(this.knownParts[t]))return null;return Object(p.cloneDate)(this.value)},t.prototype.getTextAndFormat=function(){return this.merge(this.intl.formatDate(this.value,this.format),this.dateFormatString(this.value,this.format))},t.prototype.modifyExisting=function(t){for(var e=this.dateFormatString(this.value,this.format).symbols,n=0;n<e.length;n++)this.setExisting(e[n],t)},t.prototype.getExisting=function(t){switch(t){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}},t.prototype.setExisting=function(t,e){switch(t){case"y":this.year=e,!1===e&&this._value.setFullYear(2e3);break;case"M":this.month=e,!1===e&&this._value.setMonth(0);break;case"d":this.date=e;break;case"h":case"H":this.hours=e;break;case"m":this.minutes=e;break;case"s":this.seconds=e;break;default:return}},t.prototype.modifyPart=function(t,e){var n=Object(p.cloneDate)(this.value);switch(t){case"y":n.setFullYear(n.getFullYear()+e);break;case"M":n=Object(p.addMonths)(this.value,e);break;case"d":case"E":n.setDate(n.getDate()+e);break;case"h":case"H":n.setHours(n.getHours()+e);break;case"m":n.setMinutes(n.getMinutes()+e);break;case"s":n.setSeconds(n.getSeconds()+e);break;case"a":n.setHours(n.getHours()+12*e)}this.setExisting(t,!0),this._value=n},t.prototype.parsePart=function(t,e){var n;if(this.resetLeadingZero(),!e)return this.setExisting(t,!1),{value:null};for(var r=this.intl.formatDate(this.value,this.format),o=this.dateFormatString(this.value,this.format),i=o.symbols,a=!1,s="",l="",c="",u=0;u<r.length;u++)i[u]===t?(l+=this.getExisting(t)?r[u]:"0",a=!0):a?c+=r[u]:s+=r[u];for(var h=null,d=this.matchMonth(e);l.length>0&&"0"===l.charAt(0);)l=l.slice(1);l.length>=4&&(l="");for(u=0;u<2;u++){var f=l+e,m=parseInt(f,10);if(!(h=this.intl.parseDate(s+f+c,this.format))&&!isNaN(m)&&!isNaN(parseInt(e,10))){if("M"===t&&!d){var v=m-1;v>-1&&v<12&&((h=Object(p.cloneDate)(this.value)).setMonth(v),h.getMonth()!==v&&(h=Object(p.lastDayOfMonth)(Object(p.addMonths)(h,-1))))}"y"===t&&(h=Object(p.createDate)(parseInt(f,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&h.getDate()!==this.value.getDate()&&(h=Object(p.lastDayOfMonth)(Object(p.addMonths)(h,-1))))}if(h)return this._value=h,this.setExisting(t,!0),{value:this.value};l=""}return d&&(h=this.intl.parseDate(s+d+c,this.format))?(this._value=h,this.setExisting(t,!0),{value:this.value}):("0"===e&&(this.leadingZero=this.isAbbrMonth(o.partMap,t)?null:((n={})[t]=!0,n),this.setExisting(t,!1)),{value:null})},t.prototype.symbolMap=function(t){return this.intl.splitDateFormat(this.format).reduce(pe,{})[t]},t.prototype.resetLeadingZero=function(){var t=null!==this.leadingZero;return this.leadingZero=null,t},t.prototype.isAbbrMonth=function(t,e){var n=this.partPattern(t,e);return"month"===n.type&&n.names},t.prototype.partPattern=function(t,e){return t.filter((function(t){return-1!==t.pattern.indexOf(e)}))[0]},t.prototype.matchMonth=function(t){if(this.typedMonthPart+=t.toLowerCase(),0===this.monthNames.length)return"";for(;this.typedMonthPart.length>0;){for(var e=0;e<this.monthNames.length;e++)if(0===this.monthNames[e].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[e];var n=parseInt(this.typedMonthPart,10);if(n>=1&&n<=12&&n.toString()===this.typedMonthPart)return this.monthNames[n-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""},t.prototype.allFormatedMonths=function(){for(var t=this.intl.splitDateFormat(this.format),e=0;e<t.length;e++)if("month"===t[e].type&&t[e].names)return this.intl.dateFormatNames(t[e].names);return[]},t.prototype.dateFormatString=function(t,e){for(var n=this.intl.splitDateFormat(e),r=[],o=[],i=0;i<n.length;i++)for(var a=this.intl.formatDate(t,{pattern:n[i].pattern}).length;a>0;)r.push(this.symbols[n[i].pattern[0]]||"_"),o.push(n[i]),a--;var s=new ue;return s.symbols=r.join(""),s.partMap=o,s},t.prototype.merge=function(t,e){for(var n="",r="",o=e.symbols,i=o.length-1;i>=0;i--)if(-1===this.knownParts.indexOf(o[i])||this.getExisting(o[i]))n=t[i]+n,r=o[i]+r;else{for(var a=o[i];i>=0&&a===o[i];)i--;for(i++,n=this.leadingZero&&this.leadingZero[a]?"0"+n:this.dateFieldName(e.partMap[i])+n;r.length<n.length;)r=o[i]+r}return{text:n,format:r}},t.prototype.dateFieldName=function(t){var e=this.formatPlaceholder||"wide";return e[t.type]?e[t.type]:"formatPattern"===e?t.pattern:this.intl.dateFieldName(Object.assign(t,{nameType:e}))},t}(),fe=n(8),me="dayperiod",ve="hour",ge="minute",ye="second",be=function(t){return function(e,n){var r=Object(p.cloneDate)(e);return r[t](n),r}},xe=[{type:ve,getter:function(t){return t.getHours()}},{type:ge,getter:function(t){return t.getMinutes()}},{type:ye,getter:function(t){return t.getSeconds()}},{type:"millisecond",getter:function(t){return t.getMilliseconds()}}],we=function(t){return function(e){return t.map(function(t){return function(e){return t[e.type]?(n=e.getter,function(t,e){return n(e)}):function(t){return function(e,n){return t(e)}}(e.getter);var n}}(function(t){return t.reduce((function(t,e){return t[e.type]=e.type,t}),{})}(e)))}}(xe),ke=function(t){return function(e,n){return t.map((function(t){var r=Math.floor(e[t.type]);return r?function(t,e,n,r){return function(o){var i=t(o),a=t(n);return"hour"===r?i-(i-a)%e:o.getTime()<=n.getTime()&&0!==i&&i<=a?Math.ceil(i/e)*e:i-i%e}}(t.getter,r,n,t.type):t.getter}))}}(xe),Oe=function(t){return function(e){var n=Object(p.cloneDate)(e);return n.setHours.apply(n,t.map((function(t){return t(n)}))),n}},Ce=be("setHours"),_e=be("setMinutes"),Se=be("setSeconds"),Ee=function(){return new Date},Ie=function(t,e,n){void 0===n&&(n=1);for(var r=[],o=t;o<e;o+=n)r.push(o);return r},Te=function(t,e,n){return{candidateValue:K(V,t),maxValue:Object(p.addDays)(K(V,n),e.getHours()<n.getHours()?0:1),minValue:K(V,e)}},De=function(t,e,n){if(!t||!e||!n)return!0;var r=Te(t,e,n),o=r.candidateValue,i=r.minValue,a=r.maxValue;return i<=o&&o<=a},Pe=function(t,e){if(null===t||null===e)return!1;var n=K(V,t),r=K(V,e);return n.getTime()<r.getHours()},Ae=function(t,e){if(null===t||null===e)return!1;var n=K(V,t);return K(V,e).getTime()<n.getHours()},je=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Me=function(){return(Me=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Re=function(t){function e(n){var r=t.call(this,n)||this;return r.kendoDate=null,r.paste=!1,r._element=null,r._wrapper=null,r._inputId=Object(u.r)(),r.focus=function(){r._element&&r._element.focus()},r.setValidity=function(){r.element&&r.element.setCustomValidity&&r.element.setCustomValidity(r.validity.valid?"":r.props.validationMessage||e.defaultProps.validationMessage)},r.updateOnPaste=function(t){if(r.element&&r.kendoDate){var e=Object(h.provideIntlService)(r).parseDate(r.element.value,r.props.format)||r.value,n=r.value;r.kendoDate.setValue(e),r.triggerChange(t,n)}},r.spinnersMouseDown=function(t){t.preventDefault(),r.element&&document.activeElement!==r.element&&r.element.focus({preventScroll:!0})},r.handlePaste=function(){r.paste=!0},r.elementChange=function(t){if(r.element&&r.kendoDate){if(r.paste)return r.updateOnPaste(t),void(r.paste=!1);var e=r.kendoDate.getTextAndFormat(),n=e.text,o=e.format;r.currentFormat=o;var i=r.value,a=function(t,e,n,r){var o=t[r+t.length-n.length],i=t.substring(0,r+t.length-n.length),a=n.substring(0,r),s=[];if(i===a&&r>0)return s.push([e[r-1],a[r-1]]),s;if(0===i.indexOf(a)&&(0===a.length||e[a.length-1]!==e[a.length])){var l="";1===a.length&&s.push([e[0],a[0]]);for(var c=a.length;c<i.length;c++)e[c]!==l&&"_"!==e[c]&&(l=e[c],s.push([l,""]));return s}if(0===a.indexOf(i)||"_"===e[r-1]){var u=e[0];for(c=Math.max(0,i.length-1);c<e.length;c++)if("_"!==e[c]){u=e[c];break}return[[u,a[r-1]]]}return" "===a[a.length-1]||a[a.length-1]===o?[[e[r-1],"_"]]:[[e[r-1],a[r-1]]]}(n,r.currentFormat,r.element.value,r.selection.start),s=1===a.length&&"_"===a[0][1];if(!s)for(var l=0;l<a.length;l++)r.kendoDate.parsePart(a[l][0],a[l][1]);a.length&&"_"!==a[0][0]&&r.setSelection(r.selectionBySymbol(a[0][0])),s&&r.switchDateSegment(1),r.triggerChange(t,i)}},r.elementClick=function(t){r.setSelection(r.selectionByIndex(r.selection.start))},r.nativeWheel=function(t){t.preventDefault()},r.wheel=function(t){document.activeElement===r.element&&(t.nativeEvent.deltaY<0&&r.increasePart(t),t.nativeEvent.deltaY>0&&r.decreasePart(t))},r.increasePart=function(t){r.modifyDateSegmentValue(1,t)},r.decreasePart=function(t){r.modifyDateSegmentValue(-1,t)},r.elementKeyDown=function(t){if(!t.altKey){switch(t.keyCode){case 37:r.switchDateSegment(-1);break;case 38:r.modifyDateSegmentValue(1,t);break;case 39:r.switchDateSegment(1);break;case 40:r.modifyDateSegmentValue(-1,t);break;default:return}t.preventDefault()}},r.elementOnFocus=function(t){r.wrapper&&r.wrapper.classList.add("k-state-focused"),r.setState({focused:!0})},r.elementOnBlur=function(t){r.wrapper&&r.wrapper.classList.remove("k-state-focused"),r.setState({focused:!1})},Object(u.D)(d),r.state={focused:!1},r}return je(e,t),e.prototype.componentDidMount=function(){this.setValidity(),this.wrapper&&this.wrapper.addEventListener("wheel",this.nativeWheel,{passive:!1})},e.prototype.componentDidUpdate=function(t,e){this._lastSelectedSymbol&&e.focused===this.state.focused&&this.setSelection(this.selectionBySymbol(this._lastSelectedSymbol)),this.setValidity()},e.prototype.componentWillUnmount=function(){this.wrapper&&this.wrapper.removeEventListener("wheel",this.nativeWheel)},e.prototype.render=function(){var t=this;this.props._ref&&(this.props._ref.current=this);var n=Object(h.provideLocalizationService)(this),r=Me({},e.defaultProps,this.props),o=r.min,i=r.max,a=r.name,s=r.label,c=r.id,p=this.text,d=p===this.props.placeholder?"":p,f=p===this.props.placeholder?p:void 0,m=c||this._inputId,v=!this.validityStyles||this.validity.valid,g={"aria-valuemin":null===o?void 0:o.getTime(),"aria-valuemax":null===i?void 0:i.getTime(),"aria-valuetext":d};null!==this.value&&(g["aria-valuenow"]=this.value.getTime());var y=he.slice();this.props.className&&y.push(this.props.className);var b=l.createElement(u.a,{onFocus:this.elementOnFocus,onBlur:this.elementOnBlur},(function(e){var r=e.onFocus,o=e.onBlur;return l.createElement("span",{style:s?void 0:{width:t.props.width},dir:t.props.dir,className:y.join(" "),onFocus:r,onBlur:o},l.createElement("span",{className:Object(u.g)("k-dateinput-wrap",{"k-state-disabled":t.props.disabled,"k-state-invalid":!v}),ref:function(e){t._wrapper=e}},l.createElement("input",Me({role:"spinbutton",tabIndex:t.props.tabIndex,disabled:t.props.disabled,title:void 0!==t.props.title?t.props.title:p,type:"text",spellCheck:!1,autoComplete:"off",autoCorrect:"off",className:"k-input",id:m,"aria-labelledby":t.props.ariaLabelledBy,"aria-describedby":t.props.ariaDescribedBy,"aria-expanded":t.props.ariaExpanded,"aria-haspopup":t.props.ariaHasPopup,onWheel:t.wheel,onClick:t.elementClick,onInput:t.elementChange,onPaste:t.handlePaste,onKeyDown:t.elementKeyDown,onChange:u.v,value:d,placeholder:f,name:a},g,{ref:function(e){return t._element=e}})),t.props.children,t.props.spinners&&l.createElement("span",{className:"k-select",onMouseDown:t.spinnersMouseDown},l.createElement("span",{className:"k-link k-link-increase","aria-label":n.toLanguageString(Bt,Gt[Bt]),title:n.toLanguageString(Bt,Gt[Bt]),onClick:t.increasePart},l.createElement("span",{className:"k-icon k-i-arrow-n"})),l.createElement("span",{className:"k-link k-link-decrease","aria-label":n.toLanguageString(Vt,Gt[Vt]),title:n.toLanguageString(Vt,Gt[Vt]),onClick:t.decreasePart},l.createElement("span",{className:"k-icon k-i-arrow-s"})))))}));return s?l.createElement(fe.FloatingLabel,{label:s,editorId:m,editorValue:p,editorValid:v,editorDisabled:this.props.disabled,children:b,style:{width:this.props.width}}):b},Object.defineProperty(e.prototype,"value",{get:function(){return void 0!==this.valueDuringOnChange?this.valueDuringOnChange:this.kendoDate&&this.kendoDate.getDateObject()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return void 0!==this.props.min?this.props.min:e.defaultProps.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return void 0!==this.props.max?this.props.max:e.defaultProps.max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){var t=Me({},e.defaultProps,this.props),n=t.formatPlaceholder,r=t.format,o=t.value,i=t.defaultValue;null===this.kendoDate?(this.kendoDate=new de(this.intl.bind(this),n,r),this.kendoDate.setValue(o||i||null)):(this.kendoDate.format=r,this.kendoDate.formatPlaceholder=n),void 0!==o&&this.value!==o&&this.kendoDate.setValue(o);var a=this.kendoDate.getTextAndFormat(),s=a.text,l=a.format;return this.currentFormat=l,null===t.placeholder||this.state.focused||this.kendoDate.hasValue()?s:t.placeholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t,e,n,r=(t=this.value,e=this.min,n=this.max,(null===t||!(e&&e>t||n&&n<t))&&De(this.value,this.props.minTime,this.props.maxTime)),o=void 0!==this.props.validationMessage,i=(!this.required||null!==this.value)&&r,a=void 0!==this.props.valid?this.props.valid:i;return{customError:o,rangeOverflow:this.value&&this.max.getTime()<this.value.getTime()||!1,rangeUnderflow:this.value&&this.value.getTime()<this.min.getTime()||!1,valid:a,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:e.defaultProps.required},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapper",{get:function(){return this._wrapper},enumerable:!0,configurable:!0}),e.prototype.intl=function(){return Object(h.provideIntlService)(this)},Object.defineProperty(e.prototype,"selection",{get:function(){var t={start:0,end:0};return null!==this.element&&void 0!==this.element.selectionStart&&(t={start:this.element.selectionStart,end:this.element.selectionEnd}),t},enumerable:!0,configurable:!0}),e.prototype.setSelection=function(t){var e=this;this._lastSelectedSymbol=this.currentFormat[t.start],window.requestAnimationFrame((function(){e.element&&document.activeElement===e.element&&e.element.setSelectionRange(t.start,t.end)}))},e.prototype.triggerChange=function(t,e){this.valueDuringOnChange=this.value,this.forceUpdate(),this.props.onChange&&!Object(p.isEqual)(e,this.value)&&this.props.onChange.call(void 0,{syntheticEvent:t,nativeEvent:t.nativeEvent,value:this.value,target:this}),this.valueDuringOnChange=void 0},e.prototype.selectionBySymbol=function(t){for(var e=-1,n=0,r=0;r<this.currentFormat.length;r++)this.currentFormat[r]===t&&(n=r+1,-1===e&&(e=r));return e<0&&(e=0),{start:e,end:n}},e.prototype.selectionByIndex=function(t){for(var e={start:t,end:t},n=t,r=t-1;n<this.currentFormat.length||r>=0;n++,r--){if(n<this.currentFormat.length&&"_"!==this.currentFormat[n]){e=this.selectionBySymbol(this.currentFormat[n]);break}if(r>=0&&"_"!==this.currentFormat[r]){e=this.selectionBySymbol(this.currentFormat[r]);break}}return e},e.prototype.switchDateSegment=function(t){var e=this.selection,n=e.start,r=e.end;if(n<r&&this.currentFormat[n]!==this.currentFormat[r-1])this.setSelection(this.selectionByIndex(t>0?n:r-1));else{for(var o=this.currentFormat[n],i=n+t;i>0&&i<this.currentFormat.length&&(this.currentFormat[i]===o||"_"===this.currentFormat[i]);)i+=t;if("_"!==this.currentFormat[i]){for(var a=i;a>=0&&a<this.currentFormat.length&&this.currentFormat[a]===this.currentFormat[i];)a+=t;i>a&&(a+1!==n||i+1!==r)?this.setSelection({start:a+1,end:i+1}):i<a&&(i!==n||a!==r)&&this.setSelection({start:i,end:a})}}},e.prototype.modifyDateSegmentValue=function(t,e){if(this.kendoDate){var n=this.value,r=this.currentFormat[this.selection.start],o=this.kendoDate.symbolMap(r),i=((this.props.steps||{})[o]||1)*t;this.kendoDate.modifyPart(r,i),this.triggerChange(e,n)}},e.propTypes={value:c.instanceOf(Date),format:c.oneOfType([c.string,c.shape({skeleton:c.string,pattern:c.string,date:c.oneOf(["short","medium","long","full"]),time:c.oneOf(["short","medium","long","full"]),datetime:c.oneOf(["short","medium","long","full"]),era:c.oneOf(["narrow","short","long"]),year:c.oneOf(["numeric","2-digit"]),month:c.oneOf(["numeric","2-digit","narrow","short","long"]),day:c.oneOf(["numeric","2-digit"]),weekday:c.oneOf(["narrow","short","long"]),hour:c.oneOf(["numeric","2-digit"]),hour12:c.bool,minute:c.oneOf(["numeric","2-digit"]),second:c.oneOf(["numeric","2-digit"]),timeZoneName:c.oneOf(["short","long"])})]),formatPlaceholder:c.oneOfType([c.oneOf(["wide","narrow","short","formatPattern"]),c.shape({year:c.string,month:c.string,day:c.string,hour:c.string,minute:c.string,second:c.string})]),width:c.oneOfType([c.string,c.number]),tabIndex:c.number,title:c.string,steps:c.shape({year:c.number,month:c.number,day:c.number,hour:c.number,minute:c.number,second:c.number}),min:c.instanceOf(Date),max:c.instanceOf(Date),disabled:c.bool,spinners:c.bool,name:c.string,dir:c.string,label:c.string,id:c.string,ariaLabelledBy:c.string,ariaDescribedBy:c.string,ariaExpanded:c.oneOfType([c.bool,c.string]),onChange:c.func,validationMessage:c.string,required:c.bool,validate:c.bool,valid:c.bool},e.defaultProps={format:"d",formatPlaceholder:"wide",spinners:!1,disabled:!1,max:Object(p.cloneDate)(U),min:Object(p.cloneDate)(H),minTime:Object(p.cloneDate)(jt),maxTime:Object(p.cloneDate)(Mt),required:!1,validityStyles:!0,validationMessage:"Please enter a valid value!",placeholder:null},e}(l.Component);Object(h.registerForIntl)(Re),Object(h.registerForLocalization)(Re);var Ne=n(14),Fe=l.forwardRef((function(t,e){var n=Object(u.g)("k-select",t.className);return l.createElement("a",{ref:e,id:t.id,role:"button",style:t.style,className:n,tabIndex:t.tabIndex,title:t.title,"aria-label":t.title,onMouseDown:t.onMouseDown,onClick:t.onClick,onMouseUp:t.onMouseUp},t.children)})),Le=l.forwardRef((function(t,e){var n=t._ref,r=l.useRef(null);l.useImperativeHandle(e,(function(){return r.current})),l.useImperativeHandle(n,(function(){return r.current}));var o=l.useMemo((function(){return Object(u.g)(t.className,"k-picker-wrap")}),[t.className]);return l.createElement("span",{ref:r,id:t.id,style:t.style,className:o,tabIndex:t.tabIndex},t.children)})),ze=function(){return(ze=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Be=function(t){var e,n,r,o,i=(e=t.dateInput,n=l.useState(!1),r=n[0],o=n[1],l.useEffect((function(){e.current&&o(Boolean(e.current.text))})),{editorValue:r});return l.createElement(fe.FloatingLabel,ze({},t,i))},Ve=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),He=function(){return(He=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ue=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},We=function(t){function e(n){var r=t.call(this,n)||this;return r._popupId=Object(u.r)(),r._element=null,r._wrapper=null,r._dateInput=l.createRef(),r._calendar=null,r.shouldFocusDateInput=!1,r.focus=function(){r.dateInput&&r.dateInput.focus()},r.setCalendarRef=function(t){r._calendar=t},r.nextValue=function(t,e){return void 0!==t.value?t.value:e.value},r.nextShow=function(t,e){return void 0!==t.show?t.show:e.show},r.handleInputValueChange=function(t){r.handleValueChange(t.value,t)},r.handleCalendarValueChange=function(t){var e=r.mergeTime(t.value);r.handleValueChange(e,t)},r.handleValueChange=function(t,e){r.setState({value:Object(p.cloneDate)(t||void 0),show:!1}),r.valueDuringOnChange=t,r.showDuringOnChange=!1,r.shouldFocusDateInput=!0;var n=r.props.onChange;n&&n.call(void 0,{syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,value:r.value,show:r.show,target:r}),r.valueDuringOnChange=void 0,r.showDuringOnChange=void 0},r.handleFocus=function(){r.setState({focused:!0})},r.handleBlur=function(){r.setState({focused:!1}),r.setShow(!1)},r.handleIconClick=function(){r.props.disabled||(r.shouldFocusDateInput=!0,r.setShow(!r.show))},r.handleIconMouseDown=function(t){t.preventDefault()},r.handleKeyDown=function(t){var e=t.altKey,n=t.keyCode;if(n===u.d.esc)return r.shouldFocusDateInput=!0,void r.setShow(!1);!e||n!==u.d.up&&n!==u.d.down||(t.preventDefault(),t.stopPropagation(),r.shouldFocusDateInput=n===u.d.up,r.setShow(n===u.d.down))},Object(u.D)(d),r.state={value:r.props.defaultValue||e.defaultProps.defaultValue,show:r.props.defaultShow||e.defaultProps.defaultShow,focused:!1},r}return Ve(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateInput",{get:function(){return this._dateInput.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var t=void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value;return null!==t?Object(p.cloneDate)(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"show",{get:function(){return void 0!==this.showDuringOnChange?this.showDuringOnChange:void 0!==this.props.show?this.props.show:this.state.show},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return void 0!==this.props.min?this.props.min:e.defaultProps.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return void 0!==this.props.max?this.props.max:e.defaultProps.max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateInputComp",{get:function(){return this.props.dateInput||e.defaultProps.dateInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toggleButtonComp",{get:function(){return this.props.toggleButton||e.defaultProps.toggleButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calendarComp",{get:function(){return this.props.calendar||e.defaultProps.calendar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupComp",{get:function(){return this.props.popup||e.defaultProps.popup},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pickerWrapComp",{get:function(){return this.props.pickerWrap||e.defaultProps.pickerWrap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t=X(this.value,this.min,this.max),e=void 0!==this.props.validationMessage,n=(!this.required||null!==this.value)&&t,r=void 0!==this.props.valid?this.props.valid:n;return{customError:e,rangeOverflow:this.value&&this.max.getTime()<this.value.getTime()||!1,rangeUnderflow:this.value&&this.value.getTime()<this.min.getTime()||!1,valid:r,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:e.defaultProps.required},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.show&&this.forceUpdate()},e.prototype.componentDidUpdate=function(){this._calendar&&this._calendar.element&&this.show&&!this.prevShow&&this._calendar.element.focus({preventScroll:!0}),this.dateInput&&this.dateInput.element&&!this.show&&this.shouldFocusDateInput&&this.dateInput.element.focus({preventScroll:!0}),this.prevShow=this.show,this.shouldFocusDateInput=!1},e.prototype.componentWillUnmount=function(){clearTimeout(this.nextTickId)},e.prototype.render=function(){var t=this,e=this.props,n=e.disabled,r=e.tabIndex,o=e.title,i=e.id,a=e.format,s=e.formatPlaceholder,c=e.min,d=e.max,f=e.weekNumber,m=e.focusedDate,v=e.className,g=e.width,y=e.name,b=e.validationMessage,x=e.required,w=e.validityStyles,k=e.ariaLabelledBy,O=e.ariaDescribedBy,C=this.props.popupSettings,_=C.popupClass,S=Ue(C,["popupClass"]),E=this.show,I=this.value,T=I&&Object(p.getDate)(I),D=!this.validityStyles||this.validity.valid,P=Object(u.g)("k-widget k-datepicker",v),A=Object(u.g)("k-picker-wrap",{"k-state-invalid":!D,"k-state-disabled":n,"k-state-focused":this.state.focused}),j=Object(u.g)("k-calendar-container k-group k-reset",_),M={disabled:n,format:a,formatPlaceholder:s,id:i,ariaLabelledBy:k,ariaDescribedBy:O,max:d,min:c,name:y,onChange:this.handleInputValueChange,required:x,tabIndex:E?-1:r,title:o,valid:this.validity.valid,validationMessage:b,validityStyles:w,value:I,label:void 0,placeholder:this.state.focused?null:this.props.placeholder,ariaHasPopup:!0,ariaExpanded:this.show},R=He({show:E,anchor:this._wrapper||this._element,className:j,id:this._popupId,anchorAlign:{horizontal:"left",vertical:"bottom"},popupAlign:{horizontal:"left",vertical:"top"}},S),N={disabled:n,value:T,min:c,max:d,weekNumber:f,focusedDate:m,onChange:this.handleCalendarValueChange},F=l.createElement(u.a,{onFocus:this.handleFocus,onBlur:this.handleBlur,onSyncBlur:this.props.onBlur,onSyncFocus:this.props.onFocus},(function(e){var n=e.onFocus,r=e.onBlur;return l.createElement("span",{role:"group","aria-expanded":t.show,ref:function(e){t._element=e},className:P,onKeyDown:t.handleKeyDown,style:{width:g},onFocus:n,onBlur:r},l.createElement(t.pickerWrapComp,{_ref:function(e){t._wrapper=e},className:A},l.createElement(t.dateInputComp,He({_ref:t._dateInput},M)),l.createElement(t.toggleButtonComp,{onMouseDown:t.handleIconMouseDown,onClick:t.handleIconClick,title:Object(h.provideLocalizationService)(t).toLanguageString("datepicker.toggleCalendar",Gt["datepicker.toggleCalendar"]),className:"k-select"},l.createElement("span",{className:"k-icon k-i-calendar"}))),l.createElement(t.popupComp,He({},R),l.createElement(t.calendarComp,He({_ref:t.setCalendarRef},N))))}));return this.props.label?l.createElement(Be,{dateInput:this._dateInput,label:this.props.label,editorId:i,editorValid:D,editorDisabled:this.props.disabled,children:F,style:{width:this.props.width}}):F},e.prototype.setShow=function(t){this.show!==t&&this.setState({show:t})},e.prototype.mergeTime=function(t){return this.value&&t?K(t,this.value):t},e.prototype.nextTick=function(t){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((function(){return t()}))},e.propTypes={className:c.string,defaultShow:c.bool,defaultValue:c.instanceOf(Date),disabled:c.bool,focusedDate:c.instanceOf(Date),format:c.oneOfType([c.string,c.shape({skeleton:c.string,pattern:c.string,date:c.oneOf(["short","medium","long","full"]),time:c.oneOf(["short","medium","long","full"]),datetime:c.oneOf(["short","medium","long","full"]),era:c.oneOf(["narrow","short","long"]),year:c.oneOf(["numeric","2-digit"]),month:c.oneOf(["numeric","2-digit","narrow","short","long"]),day:c.oneOf(["numeric","2-digit"]),weekday:c.oneOf(["narrow","short","long"]),hour:c.oneOf(["numeric","2-digit"]),hour12:c.bool,minute:c.oneOf(["numeric","2-digit"]),second:c.oneOf(["numeric","2-digit"]),timeZoneName:c.oneOf(["short","long"])})]),formatPlaceholder:c.oneOfType([c.oneOf(["wide","narrow","short","formatPattern"]),c.shape({year:c.string,month:c.string,day:c.string,hour:c.string,minute:c.string,second:c.string})]),id:c.string,ariaLabelledBy:c.string,ariaDescribedBy:c.string,min:c.instanceOf(Date),max:c.instanceOf(Date),name:c.string,popupSettings:c.shape({animate:c.bool,appendTo:c.any,popupClass:c.string}),show:c.bool,tabIndex:c.number,title:c.string,value:c.instanceOf(Date),weekNumber:c.bool,width:c.oneOfType([c.number,c.string]),validationMessage:c.string,required:c.bool,validate:c.bool,valid:c.bool},e.defaultProps={defaultShow:!1,defaultValue:null,dateInput:Re,calendar:ce,toggleButton:Fe,popup:Ne.Popup,pickerWrap:Le,disabled:!1,format:"d",max:U,min:H,popupSettings:{},tabIndex:0,weekNumber:!1,required:!1,validityStyles:!0},e}(l.Component);Object(h.registerForLocalization)(We);var qe,Ke,Ge,Ye=function(t,e){var n=Object(p.cloneDate)(t);return n.setHours(e),n},Xe=function(t){return null!==t&&t<12},$e=function(t,e,n){return!e&&!n||t>=e&&t<=n},Ze=function(t,e,n){return!e&&!n||t>=e||t<=n},Je=function(){function t(t){this.intl=t}return t.prototype.apply=function(t,e){var n=t.getHours(),r=Xe(n),o=Xe(e.getHours());if(r&&o||!r&&!o)return t;var i=this.normalizedRange(),a=i[0],s=i[1],l=void 0===s?24:s,c=n+(o?-12:12);return Ye(t,Math.min(Math.max(a,c),l||24))},t.prototype.configure=function(t){var e=t.min,n=void 0===e?this.min:e,r=t.max,o=void 0===r?this.max:r,i=t.part,a=void 0===i?this.part:i;this.min=n,this.max=o,this.part=a},t.prototype.data=function(t){var e=this.part.names;if(!e)return[];var n,r=[],o=this.normalizedRange(),i=o[0],a=o[1],s=this.intl.dateFormatNames(e);return Xe(i)&&r.push({text:s.am,value:Ye(this.min,i)}),null!==(n=a)&&(!n||n>11)&&r.push({text:s.pm,value:Ye(this.min,Math.max(12,a))}),this.min.getHours()!==i?r.reverse():r},t.prototype.isRangeChanged=function(t,e){return!1},t.prototype.limitRange=function(t,e,n){return[t,e]},t.prototype.total=function(){var t=this.normalizedRange(),e=t[0],n=t[1];return(e||n)&&(e>11||n<12)?1:2},t.prototype.selectedIndex=function(t){if(!this.valueInList(t))return-1;var e=Math.floor(t.getHours()/12);return this.min.getHours()===this.normalizedRange()[0]?e:0===e?1:0},t.prototype.valueInList=function(t){return(this.min.getHours()!==this.normalizedRange()[0]?Ze:$e)(t.getHours(),this.min.getHours(),this.max.getHours())},t.prototype.normalizedRange=function(){var t=this.min.getHours(),e=this.max.getHours();return[Math.min(t,e),Math.max(t,e)]},t}(),Qe=function(){function t(){this.didCalculate=!1}return t.prototype.ensureHeights=function(){void 0===this.timeListHeight&&this.calculateHeights()},t.prototype.calculateHeights=function(t){if(u.e){var e=tt("div"),n=tt("ul"),r=tt("li"),o=e([e([e([n([r("<span>02</span>","k-item")],"k-reset")],"k-time-container k-content k-scrollable")],"k-time-list")],"k-time-list-wrapper",{left:"-10000px",position:"absolute"}),i=t&&t.querySelector(".k-time-container")||document.body,a=i.appendChild(o);this.timeListHeight=a.querySelector(".k-scrollable").offsetHeight,this.itemHeight=a.querySelector("li").offsetHeight,i.removeChild(a),this.didCalculate=!0}},t}(),tn=(qe=24,function(t){return t%qe}),en=function(t,e){return tn(24+t-e)},nn=function(t){return function(e,n){return!n||Object(p.getDate)(e).getTime()===Object(p.getDate)(n).getTime()?e:Ce(e,t)}},rn=nn(0),on=nn(23),an=function(){function t(t){this.intl=t,this.boundRange=!1,this.insertUndividedMax=!1}return t.prototype.apply=function(t,e){return Ce(t,e.getHours())},t.prototype.configure=function(t){var e=this,n=t.boundRange,r=void 0===n?this.boundRange:n,o=t.insertUndividedMax,i=void 0===o?this.insertUndividedMax:o,a=t.min,s=void 0===a?this.min:a,l=t.max,c=void 0===l?this.max:l,u=t.part,p=t.step,h=void 0===p?this.step:p;this.boundRange=r,this.insertUndividedMax=i,this.toListItem=function(t){var n=Ce(V,t);return{text:e.intl.formatDate(n,u.pattern),value:n}},this.min=s,this.max=c,this.step=h},t.prototype.data=function(t){var e,n,r=this,o=this.range(t)[0],i=(e=o,n=this.step,function(t){return tn(e+t*n)}),a=Ie(0,this.countFromMin(t)).map((function(t){return r.toListItem(i(t))}));return this.addLast(a),t&&this.addMissing(a,t),a},t.prototype.isRangeChanged=function(t,e){return!Object(p.isEqual)(this.min,t)||!Object(p.isEqual)(this.max,e)},t.prototype.limitRange=function(t,e,n){return this.boundRange?[rn(t,n),on(e,n)]:[t,e]},t.prototype.total=function(t){var e=this.insertUndividedMax&&this.isLastMissing(t)?1:0,n=this.isMissing(t)?1:0;return this.countFromMin(t)+n+e},t.prototype.selectedIndex=function(t){return Math.ceil(this.divideByStep(t))},t.prototype.valueInList=function(t){return!t||(this.insertUndividedMax&&this.lastHour(t)===t.getHours()||!this.isMissing(t))},t.prototype.addLast=function(t,e){return this.insertUndividedMax&&this.isLastMissing(e)&&t.push(this.toListItem(this.lastHour(e))),t},t.prototype.addMissing=function(t,e){if(this.valueInList(e))return t;var n=this.toListItem(e.getHours());return t.splice(this.selectedIndex(e),0,n),t},t.prototype.countFromMin=function(t){var e=this.range(t),n=e[0],r=e[1];return Math.floor(en(r,n)/this.step)+1},t.prototype.isMissing=function(t){return!!t&&this.selectedIndex(t)!==this.divideByStep(t)},t.prototype.isLastMissing=function(t){return this.isMissing(Ce(this.max,this.lastHour(t)))},t.prototype.divideByStep=function(t){return en(t.getHours(),this.min.getHours())/this.step},t.prototype.lastHour=function(t){return this.range(t)[1]},t.prototype.range=function(t){var e=this.limitRange(this.min,this.max,t),n=e[0],r=e[1];return[n.getHours(),r.getHours()]},t}(),sn=function(t){return function(e){return e%t}}(60),ln=function(t,e){return sn(60+t-e)},cn=function(t){return function(e,n){return!n||e.getHours()===n.getHours()?e:_e(e,t)}},un=cn(0),pn=cn(59),hn=function(){function t(t){this.intl=t,this.insertUndividedMax=!1}return t.prototype.apply=function(t,e){return _e(t,e.getMinutes())},t.prototype.configure=function(t){var e=this,n=t.insertUndividedMax,r=void 0===n?this.insertUndividedMax:n,o=t.min,i=void 0===o?this.min:o,a=t.max,s=void 0===a?this.max:a,l=t.part,c=t.step,u=void 0===c?this.step:c;this.insertUndividedMax=r,this.toListItem=function(t){var n=_e(V,t);return{text:e.intl.formatDate(n,l.pattern),value:n}},this.min=i,this.max=s,this.step=u},t.prototype.data=function(t){var e,n,r=this,o=this.range(t)[0],i=(e=o,n=this.step,function(t){return sn(e+t*n)}),a=Ie(0,this.countFromMin(t)).map((function(t){return r.toListItem(i(t))}));return this.addLast(a),t&&this.addMissing(a,t),a},t.prototype.isRangeChanged=function(t,e){return!Object(p.isEqual)(this.min,t)||!Object(p.isEqual)(this.max,e)},t.prototype.limitRange=function(t,e,n){return[un(t,n),pn(e,n)]},t.prototype.total=function(t){var e=this.insertUndividedMax&&this.isLastMissing(t)?1:0,n=this.isMissing(t)?1:0;return this.countFromMin(t)+n+e},t.prototype.selectedIndex=function(t){return Math.ceil(this.divideByStep(t))},t.prototype.valueInList=function(t){return!t||(this.insertUndividedMax&&this.lastMinute(t)===t.getMinutes()||!this.isMissing(t))},t.prototype.addLast=function(t,e){return this.insertUndividedMax&&this.isLastMissing(e)&&t.push(this.toListItem(this.lastMinute(e))),t},t.prototype.addMissing=function(t,e){if(this.valueInList(e))return t;var n=this.toListItem(e.getMinutes());return t.splice(this.selectedIndex(e),0,n),t},t.prototype.countFromMin=function(t){var e=this.range(t),n=e[0],r=e[1];return Math.floor(ln(r,n)/this.step)+1},t.prototype.isMissing=function(t){return!!t&&this.selectedIndex(t)!==this.divideByStep(t)},t.prototype.isLastMissing=function(t){return this.isMissing(_e(this.max,this.lastMinute(t)))},t.prototype.divideByStep=function(t){return ln(t.getMinutes(),this.min.getMinutes())/this.step},t.prototype.lastMinute=function(t){return this.range(t)[1]},t.prototype.range=function(t){var e=this.limitRange(this.min,this.max,t),n=e[0],r=e[1];return[n.getMinutes(),r.getMinutes()]},t}(),dn=function(t){return function(e){return e%t}}(60),fn=function(t,e){return dn(60+t-e)},mn=function(t){return function(e,n){return!n||e.getMinutes()===n.getMinutes()&&e.getHours()===n.getHours()?e:Se(e,t)}},vn=mn(0),gn=mn(59),yn=function(){function t(t){this.intl=t,this.insertUndividedMax=!1}return t.prototype.apply=function(t,e){return Se(t,e.getSeconds())},t.prototype.configure=function(t){var e=this,n=t.insertUndividedMax,r=void 0===n?this.insertUndividedMax:n,o=t.min,i=void 0===o?this.min:o,a=t.max,s=void 0===a?this.max:a,l=t.part,c=t.step,u=void 0===c?this.step:c;this.insertUndividedMax=r,this.toListItem=function(t){var n=Se(V,t);return{text:e.intl.formatDate(n,l.pattern),value:n}},this.min=i,this.max=s,this.step=u},t.prototype.data=function(t){var e,n,r=this,o=this.range(t)[0],i=(e=o,n=this.step,function(t){return dn(e+t*n)}),a=Ie(0,this.countFromMin(t)).map((function(t){return r.toListItem(i(t))}));return this.addLast(a),t&&this.addMissing(a,t),a},t.prototype.isRangeChanged=function(t,e){return!Object(p.isEqual)(this.min,t)||!Object(p.isEqual)(this.max,e)},t.prototype.limitRange=function(t,e,n){return[vn(t,n),gn(e,n)]},t.prototype.total=function(t){var e=this.insertUndividedMax&&this.isLastMissing(t)?1:0,n=this.isMissing(t)?1:0;return this.countFromMin(t)+n+e},t.prototype.selectedIndex=function(t){return Math.ceil(this.divideByStep(t))},t.prototype.valueInList=function(t){return!t||(this.insertUndividedMax&&this.lastSecond(t)===t.getSeconds()||!this.isMissing(t))},t.prototype.divideByStep=function(t){return fn(t.getSeconds(),this.min.getSeconds())/this.step},t.prototype.addLast=function(t,e){return this.insertUndividedMax&&this.isLastMissing(e)&&t.push(this.toListItem(this.lastSecond(e))),t},t.prototype.addMissing=function(t,e){if(this.valueInList(e))return t;var n=this.toListItem(e.getSeconds());return t.splice(this.selectedIndex(e),0,n),t},t.prototype.countFromMin=function(t){var e=this.range(t),n=e[0],r=e[1];return Math.floor(fn(r,n)/this.step)+1},t.prototype.isMissing=function(t){return!!t&&this.selectedIndex(t)!==this.divideByStep(t)},t.prototype.isLastMissing=function(t){return this.isMissing(Se(this.max,this.lastSecond(t)))},t.prototype.lastSecond=function(t){return this.range(t)[1]},t.prototype.range=function(t){var e=this.limitRange(this.min,this.max,t),n=e[0],r=e[1];return[n.getSeconds(),r.getSeconds()]},t}(),bn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xn=((Ke={})[u.d.end]=function(t,e){return t[t.length-1]},Ke[u.d.home]=function(t,e){return t[0]},Ke[u.d.up]=function(t,e){return t[e-1]},Ke[u.d.down]=function(t,e){return t[e+1]},Ke),wn=((Ge={})[me]=Je,Ge[ve]=an,Ge[ge]=hn,Ge[ye]=yn,Ge),kn=function(t){function e(n){var r=t.call(this,n)||this;return r.animateToIndex=!1,r.focus=function(t){Promise.resolve().then((function(){r.element&&r.element.focus(t)}))},r.itemOffset=function(t){if(!r.virtualization)return-1;var e=r.service.selectedIndex(r.props.value),n=r.virtualization.activeIndex(),o=r.virtualization.itemOffset(n),i=Math.abs(Math.ceil(t)-o);if(e===n&&i<2)return o;var a=e>n;return a&&i>=r.bottomThreshold||!a&&i>r.topThreshold?r.virtualization.itemOffset(n+1):o},r.calculateHeights=function(){r.dom.didCalculate&&(r.itemHeight=r.dom.itemHeight,r.listHeight=r.dom.timeListHeight,r.topOffset=(r.listHeight-r.itemHeight)/2,r.bottomOffset=r.listHeight-r.itemHeight,r.topThreshold=.05*r.itemHeight,r.bottomThreshold=.95*r.itemHeight)},r.configureServices=function(t){var e=void 0===t?r.props:t,n=e.min,o=e.max,i=e.value,a=r.service.limitRange(n||r.min,o||r.max,i||r.props.value),s=a[0],l=a[1];r.service.configure(r.serviceSettings({min:s,max:l}))},r.serviceSettings=function(t){var n={boundRange:r.props.boundRange||e.defaultProps.boundRange,insertUndividedMax:!1,min:Object(p.cloneDate)(r.min),max:Object(p.cloneDate)(r.max),part:r.props.part,step:r.step},o=Object.assign({},n,t);return o.boundRange="hour"!==o.part.type||r.props.boundRange||e.defaultProps.boundRange,o},r.handleScrollAction=function(t){var e=t.target,n=t.animationInProgress;if(r.virtualization&&e&&!n){r.animateToIndex=!1;var o=r.virtualization.itemIndex(r.itemOffset(e.scrollTop)),i=r.service.data(r.props.value)[o];r.handleChange(i)}},r.handleFocus=function(t){var e=r.props.onFocus;e&&e.call(void 0,t)},r.handleBlur=function(t){var e=r.props.onBlur;e&&e.call(void 0,t)},r.handleMouseOver=function(){r._element&&document&&document.activeElement!==r._element&&r._element.focus({preventScroll:!0})},r.handleKeyDown=function(t){var e=t.keyCode;e!==u.d.down&&e!==u.d.up&&e!==u.d.end&&e!==u.d.home||t.preventDefault();var n=(xn[t.keyCode]||u.v)(r.service.data(r.props.value),r.service.selectedIndex(r.props.value));n&&r.handleChange(n)},r.handleChange=function(t){var e=r.service.apply(r.props.value,t.value);if(r.props.value.getTime()!==e.getTime()){r.setState({value:e});var n=r.props.onChange;n&&n.call(void 0,e)}},r.dom=new Qe,r}return bn(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animate",{get:function(){return Boolean(this.props.smoothScroll&&this.animateToIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.props.min||e.defaultProps.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.props.max||e.defaultProps.max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return void 0!==this.props.step&&0!==this.props.step?Math.floor(this.props.step):e.defaultProps.step},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;Promise.resolve().then((function(){t._element&&(t.dom.calculateHeights(t._element),t.forceUpdate())}))},e.prototype.componentDidUpdate=function(){if(this.virtualization){var t=this.service.selectedIndex(this.props.value);this.virtualization[this.animate?"animateToIndex":"scrollToIndex"](t),this.animateToIndex=!0}},e.prototype.render=function(){var t=this;if(this.props.part.type&&wn[this.props.part.type]){this.calculateHeights(),this.intl=Object(h.provideIntlService)(this),this.service=new wn[this.props.part.type](this.intl),this.configureServices();var e=this.service.data(this.props.value),n="translateY("+this.topOffset+"px)",r=this.service.total(this.props.value),o=l.createElement("ul",{style:{transform:n,msTransform:n},className:"k-reset"},e.map((function(e,n){return l.createElement("li",{key:n,className:"k-item",onClick:function(){t.handleChange(e)}},l.createElement("span",null,e.text))})));return l.createElement("div",{className:"k-time-list",id:String(this.props.id||""),tabIndex:this.props.disabled?-1:0,ref:function(e){t._element=e},onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseOver:this.handleMouseOver},this.dom.didCalculate?l.createElement(_,{bottomOffset:this.bottomOffset,children:o,className:"k-time-container",itemHeight:this.itemHeight,maxScrollDifference:this.listHeight,onScrollAction:this.handleScrollAction,ref:function(e){t.virtualization=e},role:"presentation",skip:0,tabIndex:-1,take:r,topOffset:this.topOffset,total:r}):l.createElement("div",{className:"k-time-container"},o))}},e.propTypes={id:c.number,max:c.instanceOf(Date),min:c.instanceOf(Date),part:function(t,e,n){var r=t[e];if(!r||!wn[r.type])throw new Error("\n                    Invalid prop '"+e+"' supplied to "+n+".\n                    Supported part types are hour|minute|second|dayperiod.\n                ");return null},step:function(t,e,n){var r=t[e];if(void 0!==r&&r<=0)throw new Error("\n                    Invalid prop '"+e+"' supplied to "+n+".\n                    "+e+" cannot be less than 1.\n                ");return null},value:c.instanceOf(Date),smoothScroll:c.bool},e.defaultProps={boundRange:!1,max:q,min:V,step:1,smoothScroll:!0},e}(l.Component);Object(h.registerForIntl)(kn);var On,Cn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_n=function(){return(_n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Sn=new RegExp(ve+"|"+ge+"|"+ye+"|"+me+"|literal");!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(On||(On={}));var En=function(t){function e(n){var r=t.call(this,n)||this;return r.timeLists=[],r.focus=function(t){Promise.resolve().then((function(){var e=r.timeLists[0];-1===r.state.activeListIndex&&!r.hasActiveButton()&&e&&e.element&&e.focus(t)}))},r.timeFormatReducer=function(t,e){return t+e.pattern},r.timeFormatFilter=function(t,e,n){var r=e>=1&&n[e-1];return r&&r&&"literal"===t.type?Sn.test(r.type||""):Sn.test(t.type||"")},r.focusList=function(t){r.timeLists.length&&r.timeLists.reduce(r.listReducer,[]).map((function(e){return t===On.Right?e.next:e.prev})).map((function(t){return t&&t.element&&t.element.focus({preventScroll:!0})}))},r.listReducer=function(t,e,n,o){return t.length||e.props.id!==r.state.activeListIndex?t:[{next:o[n+1]||e,prev:o[n-1]||e}]},r.showNowButton=function(){return!r.hasSteps()&&r.props.nowButton&&De(Ee(),r.min,r.max)},r.handleKeyDown=function(t){switch(t.keyCode){case u.d.left:return t.preventDefault(),void r.focusList(On.Left);case u.d.right:return t.preventDefault(),void r.focusList(On.Right);default:return}},r.handleListBlur=function(){r.nextTick((function(){r.setState({activeListIndex:-1})}))},r.handleListFocus=function(t){clearTimeout(r.nextTickId),r.setState({activeListIndex:t})},r.handleChange=function(t){var e=r.props.onChange;e&&e.call(void 0,t)},r.snapTime=Oe(ke(r.props.steps,r.props.min||e.defaultProps.min)),r.state={activeListIndex:-1},r.hasActiveButton=r.hasActiveButton.bind(r),r}return Cn(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return function(t,e,n){if(!t||!e||!n)return t;var r=Te(t,e,n),o=r.candidateValue,i=r.minValue,a=r.maxValue;return o<i?K(t,e):o>a?K(t,n):t}(this.snapTime(Object(p.cloneDate)(this.props.value||V)),this.min,this.max)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intl",{get:function(){return Object(h.provideIntlService)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.snapTime(this.props.min||e.defaultProps.min)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.snapTime(this.props.max||e.defaultProps.max)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"steps",{get:function(){return this.props.steps||e.defaultProps.steps},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boundRange",{get:function(){return void 0!==this.props.boundRange?this.props.boundRange:e.defaultProps.boundRange},enumerable:!0,configurable:!0}),e.prototype.componentWillUnmount=function(){clearTimeout(this.nextTickId)},e.prototype.componentDidMount=function(){var t=this.props.onMount;t&&t.call(void 0,this.value)},e.prototype.render=function(){var t=this,n=this.props,r=n.format,o=n.smoothScroll,i=n.onNowClick,a=n.className,s=n.disabled;this.snapTime=Oe(ke(this.steps,this.min)),this.dateFormatParts=this.intl.splitDateFormat(r||e.defaultProps.format).filter(this.timeFormatFilter);var c=Object(u.g)({"k-state-disabled":s},a,"k-time-part");this.timeLists=[];var p=Object(h.provideLocalizationService)(this),d=p.toLanguageString(qt,Gt[qt]);return l.createElement("div",{className:c},l.createElement("div",{className:"k-time-header"},l.createElement("span",{className:"k-title"},this.intl.formatDate(this.value,this.dateFormatParts.reduce(this.timeFormatReducer,""))),this.showNowButton()&&l.createElement("button",_n({type:"button",ref:function(e){t._nowButton=e},className:"k-button k-flat k-time-now",title:d},{"aria-label":d},{onClick:i,tabIndex:s?-1:0}),p.toLanguageString("timepicker.now",Gt["timepicker.now"]))),l.createElement("div",{className:"k-time-list-container",onKeyDown:this.handleKeyDown},l.createElement("span",{className:"k-time-highlight"}),this.dateFormatParts.map((function(e,n){return"literal"!==e.type?l.createElement("div",{key:n,className:Object(u.g)("k-time-list-wrapper",{"k-state-focused":n===t.state.activeListIndex}),role:"presentation",tabIndex:-1},l.createElement("span",{className:"k-title",onMouseDown:function(t){t.preventDefault()}},t.intl.dateFieldName(e)),l.createElement(kn,{min:t.min,max:t.max,boundRange:t.boundRange,part:e,step:e.type?t.steps[e.type]:1,smoothScroll:o,ref:function(e){e&&t.timeLists.push(e)},id:n,onFocus:function(){t.handleListFocus(n)},onBlur:t.handleListBlur,onChange:t.handleChange,value:t.value,disabled:s})):l.createElement("div",{key:n,className:"k-time-separator"},e.pattern)}))))},e.prototype.nextTick=function(t){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((function(){return t()}))},e.prototype.hasActiveButton=function(){return document.activeElement===this._nowButton},e.prototype.hasSteps=function(){var t=this,e=Object.keys(this.steps);return e.length!==e.reduce((function(e,n){return e+t.steps[n]}),0)},e.propTypes={cancelButton:c.bool,disabled:c.bool,format:c.oneOfType([c.string,c.shape({skeleton:c.string,pattern:c.string,date:c.oneOf(["short","medium","long","full"]),time:c.oneOf(["short","medium","long","full"]),datetime:c.oneOf(["short","medium","long","full"]),era:c.oneOf(["narrow","short","long"]),year:c.oneOf(["numeric","2-digit"]),month:c.oneOf(["numeric","2-digit","narrow","short","long"]),day:c.oneOf(["numeric","2-digit"]),weekday:c.oneOf(["narrow","short","long"]),hour:c.oneOf(["numeric","2-digit"]),hour12:c.bool,minute:c.oneOf(["numeric","2-digit"]),second:c.oneOf(["numeric","2-digit"]),timeZoneName:c.oneOf(["short","long"])})]),max:c.instanceOf(Date),min:c.instanceOf(Date),nowButton:c.bool,steps:c.shape({hour:c.number,minute:c.number,second:c.number}),smoothScroll:c.bool,tabIndex:c.number,value:c.instanceOf(Date)},e.defaultProps={value:null,disabled:!1,nowButton:!0,cancelButton:!0,format:"hh:mm a",min:W,max:q,steps:{},boundRange:!1},e}(l.Component);Object(h.registerForIntl)(En),Object(h.registerForLocalization)(En);var In,Tn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dn=function(){return(Dn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(In||(In={}));var Pn=function(t){function e(n){var r=t.call(this,n)||this;return r.focusActiveList=function(){r.timePart&&r.timePart.focus({preventScroll:!0})},r.handleKeyDown=function(t){switch(t.keyCode){case u.d.enter:return void(r.hasActiveButton()||r.handleAccept(t));default:return}},r.handleAccept=function(t){var e=r.mergeValue(Object(p.cloneDate)(r.value||Ee()),r.timePart?r.timePart.value:r.current);r.setState({value:e}),r.valueDuringOnChange=e;var n=r.props.onChange;n&&n.call(void 0,{syntheticEvent:t,nativeEvent:t.nativeEvent,value:r.value,target:r}),r.valueDuringOnChange=void 0},r.handleReject=function(t){r.setState({current:r.value});var e=r.props.onReject;e&&e.call(void 0,t)},r.handleNowClick=function(t){var e=r.mergeValue(Object(p.cloneDate)(r.value||Ee()),Ee());r.setState({current:e,value:e}),r.valueDuringOnChange=e;var n=r.props.onChange;n&&n.call(void 0,{syntheticEvent:t,nativeEvent:t.nativeEvent,value:r.value,target:r}),r.valueDuringOnChange=void 0},r.handleChange=function(t){r.setState({current:t})},r.dateFormatParts=r.intl.splitDateFormat(r.props.format||e.defaultProps.format),r.mergeValue=function(t){return function(e,n){return e.setHours.apply(e,t.map((function(t){return t(e,n)}))),e}}(we(r.dateFormatParts)),r.hasActiveButton=r.hasActiveButton.bind(r),r.state={current:r.props.value||V,value:r.props.value||e.defaultProps.value},r}return Tn(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var t=void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value;return null!==t?Object(p.cloneDate)(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intl",{get:function(){return Object(h.provideIntlService)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return null!==this.state.current?Object(p.cloneDate)(this.state.current):null},enumerable:!0,configurable:!0}),e.prototype.componentWillUnmount=function(){clearTimeout(this.nextTickId)},e.prototype.render=function(){var t=this,e=this.props,n=e.format,r=e.cancelButton,o=e.disabled,i=e.tabIndex,a=e.className,s=e.smoothScroll,c=e.min,p=e.max,d=e.boundRange,f=e.nowButton,m=e.steps,v=Object(h.provideLocalizationService)(this),g=v.toLanguageString("timepicker.cancel",Gt["timepicker.cancel"]),y=v.toLanguageString("timepicker.set",Gt["timepicker.set"]);return l.createElement("div",{ref:function(e){t._element=e},tabIndex:o?void 0:i||0,className:Object(u.g)("k-timeselector k-reset",a,{"k-state-disabled":o}),onKeyDown:this.handleKeyDown},l.createElement(En,{ref:function(e){t.timePart=e},value:this.current,onChange:this.handleChange,onNowClick:this.handleNowClick,format:n,smoothScroll:s,min:c,max:p,boundRange:d,disabled:o,nowButton:f,steps:m}),l.createElement("div",{className:"k-time-footer k-actions k-hstack k-justify-content-stretch"},r&&l.createElement("button",Dn({type:"button",ref:function(e){t._cancelButton=e},className:"k-button k-time-cancel",onClick:this.handleReject,title:g},{"aria-label":g}),g),l.createElement("button",Dn({type:"button",ref:function(e){t._acceptButton=e},className:"k-time-accept k-button k-primary",onClick:this.handleAccept,title:y},{"aria-label":y}),y)))},e.prototype.nextTick=function(t){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((function(){return t()}))},e.prototype.hasActiveButton=function(){return!!this._acceptButton&&(document.activeElement===this._acceptButton||document.activeElement===this._cancelButton)},e.propTypes={cancelButton:c.bool,className:c.string,disabled:c.bool,format:c.oneOfType([c.string,c.shape({skeleton:c.string,pattern:c.string,date:c.oneOf(["short","medium","long","full"]),time:c.oneOf(["short","medium","long","full"]),datetime:c.oneOf(["short","medium","long","full"]),era:c.oneOf(["narrow","short","long"]),year:c.oneOf(["numeric","2-digit"]),month:c.oneOf(["numeric","2-digit","narrow","short","long"]),day:c.oneOf(["numeric","2-digit"]),weekday:c.oneOf(["narrow","short","long"]),hour:c.oneOf(["numeric","2-digit"]),hour12:c.bool,minute:c.oneOf(["numeric","2-digit"]),second:c.oneOf(["numeric","2-digit"]),timeZoneName:c.oneOf(["short","long"])})]),max:c.instanceOf(Date),min:c.instanceOf(Date),nowButton:c.bool,steps:c.shape({hour:c.number,minute:c.number,second:c.number}),smoothScroll:c.bool,tabIndex:c.number,value:c.instanceOf(Date)},e.defaultProps={value:null,disabled:!1,cancelButton:!0,format:"t",min:W,max:q,boundRange:!1},e}(l.Component);Object(h.registerForIntl)(Pn),Object(h.registerForLocalization)(Pn);var An=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jn=function(){return(jn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Mn=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Rn=function(t){function e(n){var r=t.call(this,n)||this;return r._popupId=Object(u.r)(),r._element=null,r._wrapper=null,r._dateInput=l.createRef(),r._timeSelector=null,r.shouldFocusDateInput=!1,r.focus=function(){r.dateInput&&r.dateInput.focus()},r.setTimeSelectorRef=function(t){r._timeSelector=t},r.nextValue=function(t,e){return void 0!==t.value?t.value:e.value},r.nextShow=function(t,e){return void 0!==t.show?t.show:e.show},r.handleInputValueChange=function(t){var e=r.mergeTime(t.value);r.handleValueChange(jn({},t,{value:e}))},r.handleValueChange=function(t){r.setState({value:Object(p.cloneDate)(t.value),show:!1}),r.valueDuringOnChange=t.value,r.showDuringOnChange=!1,r.shouldFocusDateInput=!0;var e=r.props.onChange;e&&e.call(void 0,{syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,value:r.value,show:r.show,target:r}),r.valueDuringOnChange=void 0,r.showDuringOnChange=void 0},r.handleFocus=function(){r.setState({focused:!0})},r.handleBlur=function(){r.setState({focused:!1}),r.setShow(!1)},r.handleValueReject=function(t){r.setShow(!1)},r.handleIconClick=function(t){r.props.disabled||(r.shouldFocusDateInput=!0,r.setShow(!r.show))},r.handleIconMouseDown=function(t){t.preventDefault()},r.handleKeyDown=function(t){var e=t.altKey,n=t.keyCode;if(n===u.d.esc)return r.shouldFocusDateInput=!0,void r.setShow(!1);!e||n!==u.d.up&&n!==u.d.down||(t.preventDefault(),t.stopPropagation(),r.shouldFocusDateInput=n===u.d.up,r.setShow(n===u.d.down))},Object(u.D)(d),r.state={value:r.props.defaultValue||e.defaultProps.defaultValue,show:r.props.defaultShow||e.defaultProps.defaultShow,focused:!1},r.normalizeTime=r.normalizeTime.bind(r),r.setShow=r.setShow.bind(r),r.nextTick=r.nextTick.bind(r),r.mergeTime=r.mergeTime.bind(r),r}return An(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateInput",{get:function(){return this._dateInput.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeSelector",{get:function(){return this._timeSelector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var t=void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value;return null!==t?Object(p.cloneDate)(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"show",{get:function(){return void 0!==this.showDuringOnChange?this.showDuringOnChange:void 0!==this.props.show?this.props.show:this.state.show},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t=this.value&&this.normalizeTime(this.value),e=this.normalizeTime(this.min),n=this.normalizeTime(this.max),r=function(t,e,n){if(null===t)return!0;var r=Te(t,e,n),o=r.candidateValue,i=r.minValue,a=r.maxValue;return i<=o&&o<=a}(t,e,n),o=void 0!==this.props.validationMessage,i=(!this.required||null!==this.value)&&r,a=void 0!==this.props.valid?this.props.valid:i;return{customError:o,rangeOverflow:Ae(t,n),rangeUnderflow:Pe(t,e),valid:a,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:e.defaultProps.required},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"popupSettings",{get:function(){return this.props.popupSettings||e.defaultProps.popupSettings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return void 0!==this.props.min?this.props.min:e.defaultProps.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return void 0!==this.props.max?this.props.max:e.defaultProps.max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateInputComp",{get:function(){return this.props.dateInput||e.defaultProps.dateInput},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.show&&this.forceUpdate()},e.prototype.componentWillUnmount=function(){clearTimeout(this.nextTickId)},e.prototype.componentDidUpdate=function(){this._timeSelector&&this.show&&!this.prevShow?this._timeSelector.focusActiveList():this.dateInput&&this.dateInput.element&&!this.show&&this.shouldFocusDateInput&&this.dateInput.element.focus({preventScroll:!0}),this.prevShow=this.show,this.shouldFocusDateInput=!1},e.prototype.render=function(){var t=this,e=this.props,n=e.disabled,r=e.tabIndex,o=e.title,i=e.id,a=e.className,s=e.format,c=e.formatPlaceholder,p=e.smoothScroll,d=e.width,f=e.name,m=e.steps,v=e.cancelButton,g=e.nowButton,y=e.validationMessage,b=e.required,x=e.validityStyles,w=e.ariaLabelledBy,k=e.ariaDescribedBy,O=this.popupSettings,C=O.popupClass,_=Mn(O,["popupClass"]),S=!this.validityStyles||this.validity.valid,E=Object(u.g)("k-widget k-timepicker",a),I=Object(u.g)("k-picker-wrap",{"k-state-invalid":!S,"k-state-disabled":n,"k-state-focused":this.state.focused}),T=Object(u.g)("k-group k-reset",C),D={disabled:n,format:s,formatPlaceholder:c,id:i,ariaLabelledBy:w,ariaDescribedBy:k,max:this.normalizeTime(this.max),min:this.normalizeTime(this.min),name:f,onChange:this.handleInputValueChange,required:b,steps:m,tabIndex:this.show?-1:r,title:o,valid:this.validity.valid,validationMessage:y,validityStyles:x,value:this.value&&this.normalizeTime(this.value),label:void 0,placeholder:this.state.focused?null:this.props.placeholder,ariaHasPopup:!0,ariaExpanded:this.show},P=jn({show:this.show,animate:null!==this._wrapper,anchor:this._wrapper,className:T,id:this._popupId,anchorAlign:{horizontal:"left",vertical:"bottom"},popupAlign:{horizontal:"left",vertical:"top"}},_),A=l.createElement(Pn,{ref:this.setTimeSelectorRef,cancelButton:v,disabled:n,nowButton:g,format:s,min:this.min,max:this.max,steps:m,smoothScroll:p,value:this.value,onChange:this.handleValueChange,onReject:this.handleValueReject}),j=Object(h.provideLocalizationService)(this),M=j.toLanguageString(Kt,Gt[Kt]),R=j.toLanguageString("timepicker.toggleTimeSelector",Gt["timepicker.toggleTimeSelector"]),N=l.createElement(u.a,{onFocus:this.handleFocus,onBlur:this.handleBlur,onSyncBlur:this.props.onBlur,onSyncFocus:this.props.onFocus},(function(e){var n=e.onFocus,r=e.onBlur;return l.createElement("div",{ref:function(e){t._element=e},className:E,onKeyDown:t.handleKeyDown,style:{width:d},onFocus:n,onBlur:r},l.createElement("span",{ref:function(e){t._wrapper=e},className:I},l.createElement(t.dateInputComp,jn({_ref:t._dateInput},D)),l.createElement("span",jn({role:"button",onMouseDown:t.handleIconMouseDown,onClick:t.handleIconClick,title:R,className:"k-select"},{"aria-controls":t._popupId,"aria-label":M}),l.createElement("span",{className:"k-icon k-i-clock"}))),t.props.popup?l.createElement(t.props.popup,jn({},P),A):l.createElement(Ne.Popup,jn({},P),A))}));return this.props.label?l.createElement(Be,{dateInput:this._dateInput,label:this.props.label,editorId:i,editorValid:S,editorDisabled:this.props.disabled,children:N,style:{width:this.props.width}}):N},e.prototype.normalizeTime=function(t){return K(V,t)},e.prototype.setShow=function(t){this.show!==t&&this.setState({show:t})},e.prototype.nextTick=function(t){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((function(){return t()}))},e.prototype.mergeTime=function(t){return this.value&&t?K(this.value,t):t},e.propTypes={className:c.string,cancelButton:c.bool,nowButton:c.bool,defaultShow:c.bool,defaultValue:c.instanceOf(Date),disabled:c.bool,format:c.oneOfType([c.string,c.shape({skeleton:c.string,pattern:c.string,date:c.oneOf(["short","medium","long","full"]),time:c.oneOf(["short","medium","long","full"]),datetime:c.oneOf(["short","medium","long","full"]),era:c.oneOf(["narrow","short","long"]),year:c.oneOf(["numeric","2-digit"]),month:c.oneOf(["numeric","2-digit","narrow","short","long"]),day:c.oneOf(["numeric","2-digit"]),weekday:c.oneOf(["narrow","short","long"]),hour:c.oneOf(["numeric","2-digit"]),hour12:c.bool,minute:c.oneOf(["numeric","2-digit"]),second:c.oneOf(["numeric","2-digit"]),timeZoneName:c.oneOf(["short","long"])})]),formatPlaceholder:c.oneOfType([c.oneOf(["wide","narrow","short","formatPattern"]),c.shape({year:c.string,month:c.string,day:c.string,hour:c.string,minute:c.string,second:c.string})]),id:c.string,ariaLabelledBy:c.string,ariaDescribedBy:c.string,min:c.instanceOf(Date),max:c.instanceOf(Date),name:c.string,popupSettings:c.shape({animate:c.bool,appendTo:c.any,popupClass:c.string}),show:c.bool,steps:c.shape({hour:c.number,minute:c.number,second:c.number}),smoothScroll:c.bool,tabIndex:c.number,title:c.string,value:c.instanceOf(Date),width:c.oneOfType([c.number,c.string]),validationMessage:c.string,required:c.bool,validate:c.bool,valid:c.bool},e.defaultProps={defaultShow:!1,defaultValue:null,disabled:!1,format:"t",max:q,min:W,popupSettings:{},tabIndex:0,steps:{},required:!1,validityStyles:!0,dateInput:Re},e}(l.Component);Object(h.registerForLocalization)(Rn);var Nn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fn=function(t){function e(e){var n=t.call(this,e)||this;return n.isActive=!1,n.focusActiveDate=function(){if(n._element){var t=n._element.querySelector("td.k-state-focused"),e=n._element.querySelector(".k-state-pending-focus");t&&t[0]&&t[0].classList.remove("k-state-focused"),e&&e.classList.add("k-state-focused"),n.isActive=!0}},n.blurActiveDate=function(){if(n._element){var t=n._element.querySelector("td.k-state-focused");t&&t.classList.remove("k-state-focused"),n.isActive=!1}},n.rotateSelectionRange=function(t){if(null===t.start||null===t.end)return t;var e=t.end<t.start;return{start:e?t.end:t.start,end:e?t.start:t.end}},n.handleDateChange=function(t,e){void 0===e&&(e=!1);var r=n.props.onChange;if(r){var o={syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,value:Object(p.cloneDate)(t.value),target:n,isTodayClick:e};r.call(void 0,o)}},n}return Nn(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weekNumber",{get:function(){return Boolean(this.props.showWeekNumbers&&this.props.activeView===w.month)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return void 0!==this.props.min?this.props.min:e.defaultProps.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return void 0!==this.props.max?this.props.max:e.defaultProps.max},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(){this.isActive&&this.focusActiveDate()},e.prototype.render=function(){var t=this,e=this.props.allowReverse?this.rotateSelectionRange(this.props.selectionRange):this.props.selectionRange,n=Object(u.g)("k-calendar-view",{"k-calendar-monthview":this.props.activeView===w.month,"k-calendar-yearview":this.props.activeView===w.year,"k-calendar-decadeview":this.props.activeView===w.decade,"k-calendar-centuryview":this.props.activeView===w.century});return l.createElement("div",{ref:function(e){t._element=e},className:n},this.props.dates.map((function(n){return l.createElement("table",{className:"k-calendar-table k-content",key:n.getTime()},l.createElement(Ot,{bus:t.props.bus,service:t.props.service,key:n.getTime(),direction:"horizontal",activeView:t.props.activeView,cellUID:t.props.cellUID,viewDate:n,min:t.min,max:t.max,focusedDate:t.props.focusedDate,selectionRange:e,selectedDate:t.props.value,showWeekNumbers:t.weekNumber,onChange:t.handleDateChange,onCellEnter:t.props.onCellEnter,cell:t.props.cell,weekCell:t.props.weekCell}))})))},e.defaultProps={showWeekNumbers:!1,views:2,take:2,allowReverse:!0,min:Pt,max:At},e}(l.Component),Ln=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zn=function(){return(zn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Bn=function(t,e,n){return void 0===t&&(t=Wn.defaultProps.min),void 0===e&&(e=Wn.defaultProps.max),n instanceof Date&&!Array.isArray(n)&&Y(Object(p.getDate)(n),t,e)?Object(p.getDate)(n):null},Vn=function(t,e,n){return void 0===t&&(t=Wn.defaultProps.min),void 0===e&&(e=Wn.defaultProps.max),Array.isArray(n)?n.filter((function(n){return Y(n,t,e)})).map((function(t){return Object(p.getDate)(t)})):null},Hn=function(t){return"object"!=typeof t||t instanceof Date||null===t||Array.isArray(t)?z:t},Un=function(t,e,n){return t||e&&e[0]||n&&n.start},Wn=function(t){function e(n){var r=t.call(this,n)||this;r.selectedDate=null,r.selectedMultiple=null,r.selectedRange=z,r.cellUID=Object(u.r)(),r.activeRangeEnd="start",r.wrapperID=Object(u.r)(),r.isActive=!1,r.calculateFocusFromValue=!0,r.focus=function(){r._element&&r._element.focus()},r.clampRange=function(t){return{start:t,end:null}},r.rangeWithFocused=function(t,e){return{start:t.start,end:null===t.end&&null!==t.start&&r.isActive?e:t.end}},r.generateRange=function(t,e){var n=e.end,o=e.start,i=null!==e.start&&t.getTime()<=e.start.getTime();return!r.props.allowReverse&&i?{start:t,end:r.selectedRange.start}:"end"!==r.activeRange?{start:t,end:n}:{start:o||r.selectedDate,end:t}},r.canNavigate=function(t){if(!r.service)return!1;var e=r.service.move(r.focusedDate,t);return r.min<=e&&e<=r.max||r.service.isInSameView(e,r.min)||r.service.isInSameView(e,r.max)},r.isListInRange=function(t){return r.min<t[0]&&r.max>t[Math.max(0,(r.props.views||e.defaultProps.views)-1)]},r.navigate=function(t){r.calculateFocusFromValue=!1;var e=r.move(t);r.setState({focusedDate:e})},r.move=function(t){return r.clampDate(r.service.move(r.focusedDate,t))},r.clampDate=function(t){return Q(t,r.min,r.max)},r.shouldAutoCorrect=function(t,e){var n=e.end,o=e.start;return"end"!==r.activeRange?null!==n&&t>n:null!==o&&t<o},r.handleCellEnter=function(t){"range"===r.props.mode&&(r.calculateFocusFromValue=!1,r.setState({focusedDate:t}))},r.handleMouseDown=function(t){t.preventDefault()},r.handleClick=function(t){r._element&&r._element.focus({preventScroll:!0})},r.handleFocus=function(t){if(r.isActive=!0,r.calendarViewList){r.calendarViewList.focusActiveDate();var e=r.props.onFocus;e&&e.call(void 0,t)}},r.handleBlur=function(t){if(r.isActive=!1,r.calendarViewList){r.calendarViewList.blurActiveDate();var e=r.props.onBlur;e&&e.call(void 0,t)}},r.handleTodayClick=function(t){r.todayIsInRange&&r.handleDateChange.call(void 0,t,!0)},r.handlePrevButtonClick=function(){r.navigate(x.PrevView)},r.handleNextButtonClick=function(){r.navigate(x.NextView)},r.handleKeyDown=function(t){if(t.keyCode===u.d.enter){var e={syntheticEvent:t,nativeEvent:t.nativeEvent,value:r.focusedDate,target:r};r.handleDateChange.call(void 0,e)}else{var n=Q(r.navigation.move(r.focusedDate,r.navigation.action(t),r.state.activeView,r.service,t),r.min,r.max);if(Object(p.isEqualDate)(r.focusedDate,n))return;r.calculateFocusFromValue=!1,r.setState({focusedDate:n})}t.preventDefault()},r.handleViewChange=function(t){var e=t.view;r.setState({activeView:e})},r.handleDateChange=function(t){var e=Object(p.cloneDate)(t.value),n=r.bus.canMoveDown(r.state.activeView);if(!r.props.disabled){if(n){if(!t.isTodayClick)return r.bus.moveDown(r.state.activeView,t.syntheticEvent),void r.setState({focusedDate:e});r.bus.moveToBottom(r.state.activeView)}var o;switch(r.calculateFocusFromValue=!0,r.props.mode){case"single":o=Object(p.cloneDate)(t.value);break;case"multiple":if(Array.isArray(r.selectedMultiple)){var i=r.selectedMultiple.slice(),a=-1;i.forEach((function(e,n){Object(p.isEqualDate)(e,t.value)&&(a=n)})),-1!==a?i.splice(a,1):i.push(Object(p.cloneDate)(t.value)),o=i.slice()}else o=r.selectedDate?[Object(p.cloneDate)(r.selectedDate),Object(p.cloneDate)(t.value)]:[Object(p.cloneDate)(t.value)];break;case"range":o=null!==r.selectedRange.start&&null!==r.selectedRange.end&&"start"===r.activeRange?r.clampRange(t.value):r.generateRange(t.value,r.selectedRange),r.activeRangeEnd="end"!==r.activeRange?"end":"start";break;default:o=Object(p.cloneDate)(t.value)}r.valueDuringOnChange=o,r.setState({value:o,focusedDate:e}),r.valueDuringOnChange=o;var s=r.props.onChange;if(s){var l={syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,value:o,target:r};s.call(void 0,l)}r.valueDuringOnChange=void 0}};var o=void 0!==n.value?n.value:n.defaultValue||e.defaultProps.defaultValue,i=Bn(r.min,r.max,o),a=Vn(r.min,r.max,o),s=Hn(o),l=Un(i,a,s),c=B(w[n.defaultActiveView],r.bottomView,r.topView),h=Q(n.focusedDate||l||G(),r.min,r.max);return r.state={value:o,activeView:c,focusedDate:h},r.activeRangeEnd=function(t,e){return null===t.start&&null===e?"start":null===t.end?"end":"start"}(s,i),r.bus=new ft(r.handleViewChange),r.navigation=new gt(r.bus),r.calculateFocusFromValue=!1,r.lastView=c,r.lastViewsCount=r.props.views||Fn.defaultProps.views,r}return Ln(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusedDate",{get:function(){return Object(p.cloneDate)(this._focusedDate)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return Object(p.getDate)(void 0!==this.props.min?this.props.min:e.defaultProps.min)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return Object(p.getDate)(void 0!==this.props.max?this.props.max:e.defaultProps.max)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomView",{get:function(){return w[void 0!==this.props.bottomView?this.props.bottomView:e.defaultProps.bottomView]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topView",{get:function(){return w[void 0!==this.props.topView?this.props.topView:e.defaultProps.topView]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeRange",{get:function(){return void 0!==this.props.activeRangeEnd?this.props.activeRangeEnd:this.activeRangeEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"todayIsInRange",{get:function(){return Y(G(),Object(p.getDate)(this.min),Object(p.getDate)(this.max))},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.calculateFocusFromValue=!0},e.prototype.componentDidUpdate=function(){this.calendarViewList&&(this.isActive?this.calendarViewList.focusActiveDate:this.calendarViewList.blurActiveDate)();var t=Bn(this.min,this.max,this.value);this.calculateFocusFromValue=Boolean(this.selectedDate&&t&&this.selectedDate.getTime()&&t.getTime()),this.lastView=this.state.activeView,this.lastViewsCount=this.props.views||Fn.defaultProps.views},e.prototype.render=function(){var t=this;this.props._ref&&this.props._ref(this),this.intl=Object(h.provideIntlService)(this),this.localization=Object(h.provideLocalizationService)(this),this.bus.configure(this.bottomView,this.topView);var e=B(this.state.activeView,this.bottomView,this.topView);this.service=this.bus.service(e,this.intl),this.selectedDate=Bn(this.min,this.max,this.value),this.selectedMultiple=Vn(this.min,this.max,this.value),this.selectedRange=Hn(this.value);var n=Un(this.selectedDate,this.selectedMultiple,this.selectedRange);this._focusedDate=Q(this.calculateFocusFromValue&&null!==n?n:this.state.focusedDate,this.min,this.max);var r=Object(u.g)("k-widget k-calendar k-calendar-range",{"k-state-disabled":this.props.disabled},this.props.className),o=this.rangeWithFocused(this.selectedRange,this.focusedDate),i={"aria-disabled":this.props.disabled,"aria-activedescendant":this.cellUID+this.focusedDate.getTime()},a=this.localization.toLanguageString(Lt,Gt[Lt]),s=this.localization.toLanguageString(zt,Gt[zt]),c=!this.canNavigate(x.PrevView),d=!this.canNavigate(x.NextView),f={"aria-disabled":c},m={"aria-disabled":d},v=this.lastView!==e,g=this.dates&&this.service.isInArray(this.focusedDate,this.dates),y=this.lastViewsCount!==this.props.views;(!g||v||y)&&(this.dates=this.service.datesList(this.focusedDate,this.props.views||Fn.defaultProps.views));var b=Object(p.cloneDate)(this.dates&&this.dates[0]?this.dates[0]:G());return l.createElement("div",zn({ref:function(e){t._element=e},className:r,id:this.props.id||this.wrapperID,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,role:"grid",tabIndex:this.props.disabled?void 0:this.props.tabIndex,onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseDown:this.handleMouseDown,onClick:this.handleClick,onKeyDown:this.handleKeyDown},i),l.createElement(Ft,{key:".kendo.calendar.header."+b.getTime(),activeView:e,currentDate:b,min:this.min,max:this.max,rangeLength:this.props.views,bus:this.bus,service:this.service,headerTitle:this.props.headerTitle,commands:l.createElement(l.Fragment,null,l.createElement(_t.Button,zn({type:"button",className:"k-nav-prev",icon:"arrow-chevron-left",look:"flat",title:a,disabled:c,onClick:this.handlePrevButtonClick},f)),l.createElement(Xt,{min:this.min,max:this.max,onClick:this.handleTodayClick,disabled:!this.todayIsInRange}),l.createElement(_t.Button,zn({type:"button",className:"k-nav-next",icon:"arrow-chevron-right",look:"flat",title:s,disabled:d,onClick:this.handleNextButtonClick},m)))}),l.createElement(Fn,{ref:function(e){t.calendarViewList=e},dates:this.dates,activeView:e,focusedDate:this.focusedDate,min:this.min,max:this.max,bus:this.bus,service:this.service,selectionRange:o,value:this.selectedMultiple||this.selectedDate,cellUID:this.cellUID,views:this.props.views,onChange:this.handleDateChange,showWeekNumbers:this.props.weekNumber,onCellEnter:this.handleCellEnter,cell:this.props.cell,weekCell:this.props.weekCell,headerTitle:this.props.headerTitle}))},e.propTypes={activeRangeEnd:c.oneOf(["start","end"]),allowReverse:c.bool,bottomView:c.oneOf(["month","year","decade","century"]),className:c.string,defaultActiveView:c.oneOf(["month","year","decade","century"]),defaultValue:c.oneOfType([c.instanceOf(Date),c.arrayOf(c.instanceOf(Date)),c.shape({start:c.instanceOf(Date),end:c.instanceOf(Date)})]),disabled:c.bool,focusedDate:c.instanceOf(Date),id:c.string,ariaLabelledBy:c.string,ariaDescribedBy:c.string,max:c.instanceOf(Date),min:c.instanceOf(Date),mode:c.oneOf(["single","multiple","range"]),onBlur:c.func,onChange:c.func,onFocus:c.func,tabIndex:c.number,topView:c.oneOf(["month","year","decade","century"]),value:c.oneOfType([c.instanceOf(Date),c.arrayOf(c.instanceOf(Date)),c.shape({start:c.instanceOf(Date),end:c.instanceOf(Date)})]),views:function(t,e,n){var r=t[e];return void 0!==r&&r<1?new Error("Invalid prop '"+e+"' supplied to'"+n+"'. The '"+e+"' property cannot be less than 1'"):null},weekNumber:c.bool},e.defaultProps={disabled:!1,min:Pt,max:At,navigation:!0,defaultActiveView:"month",defaultValue:null,topView:"century",tabIndex:0,bottomView:"month",views:2,allowReverse:!1},e}(l.Component);Object(h.registerForIntl)(Wn),Object(h.registerForLocalization)(Wn);var qn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kn=function(){return(Kn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Gn={display:"inline-block"},Yn=function(t){function e(n){var r=t.call(this,n)||this;return r._element=null,r._wrapper=null,r._calendar=null,r._startDateInput=l.createRef(),r._endDateInput=l.createRef(),r._popupId=Object(u.r)(),r._startInputId=Object(u.r)(),r._endInputId=Object(u.r)(),r.shouldFocusDateInput=!1,r.shouldFocusCalendar=!1,r.focus=function(){r.startDateInput&&r.startDateInput.focus()},r.setCalendarRef=function(t){r._calendar=t},r.focusCalendarElement=function(){r._calendar&&r._calendar.element&&r._calendar.element.focus({preventScroll:!0})},r.calculateValue=function(t,e){return(void 0!==t.value?t.value:e.value)||z},r.calculateShow=function(t,e){return void 0!==t.show?t.show:e.show},r.handleReverseClick=function(t){var e={start:r.value.end,end:r.value.start},n={syntheticEvent:t,nativeEvent:t.nativeEvent};r.handleChange(e,n)},r.handleReverseMouseDown=function(t){t.preventDefault()},r.handleFocus=function(t){clearTimeout(r.nextTickId),r.shouldFocusDateInput||r.setShow(!0),r.startDateInput&&r.startDateInput.element&&r.startDateInput.element.classList.add("k-state-focused"),r.endDateInput&&r.endDateInput.element&&r.endDateInput.element.classList.add("k-state-focused");var e=r.props.onFocus;e&&e.call(void 0,t)},r.handleBlur=function(t){r.nextTick((function(){r.startDateInput&&r.startDateInput.element&&r.startDateInput.element.classList.remove("k-state-focused"),r.endDateInput&&r.endDateInput.element&&r.endDateInput.element.classList.remove("k-state-focused"),r.setShow(!1)}));var e=r.props.onBlur;e&&e.call(void 0,t)},r.handleEndChange=function(t){var e={start:r.value.start,end:Object(p.cloneDate)(t.value||void 0)};r.handleChange(e,t)},r.handleStartChange=function(t){var e={start:Object(p.cloneDate)(t.value||void 0),end:r.value.end};r.handleChange(e,t)},r.extractRangeFromValue=function(t){if(!(Array.isArray(t.value)||t.value instanceof Date))return t.value||z;var e=Array.isArray(t.value)?t.value[0]:t.value;return{start:null!==r.value.end?e:r.value.start,end:null!==r.value.start?e:r.value.end}},r.handleCalendarChange=function(t){var e=r.extractRangeFromValue(t);r.handleChange(e,t)},r.handleKeyDown=function(t){var e=t.keyCode,n=t.altKey;e===u.d.esc?(t.preventDefault(),r.shouldFocusDateInput=!0,r.setShow(!1)):n&&e===u.d.down?(t.preventDefault(),r.shouldFocusCalendar=!0,r.setShow(!0)):e===u.d.tab&&r.show&&r._calendar&&r._calendar.element&&r.endDateInput&&r.endDateInput.element&&document&&document.activeElement===r.endDateInput.element&&(t.preventDefault(),r.focusCalendarElement())},r.handleChange=function(t,e){r.setState({value:t}),r.valueDuringOnChange=t;var n=r.props.onChange;if(n){var o={syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,value:r.value,show:r.show,target:r};n.call(void 0,o)}r.valueDuringOnChange=void 0},Object(u.D)(d),r.state={show:r.props.show||r.props.defaultShow||e.defaultProps.defaultShow,value:r.props.value||r.props.defaultValue||e.defaultProps.defaultValue},r.nextTick=r.nextTick.bind(r),r.setShow=r.setShow.bind(r),r.focusCalendarElement=r.focusCalendarElement.bind(r),r.focusDateInputElement=r.focusDateInputElement.bind(r),r}return qn(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startDateInput",{get:function(){return this._startDateInput.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endDateInput",{get:function(){return this._endDateInput.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return(void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value)||z},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"show",{get:function(){return void 0!==this.showDuringOnChange?this.showDuringOnChange:void 0!==this.props.show?this.props.show:this.state.show},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return void 0!==this.props.min?this.props.min:e.defaultProps.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return void 0!==this.props.max?this.props.max:e.defaultProps.max},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.show&&this.forceUpdate()},e.prototype.componentDidUpdate=function(){this.shouldFocusCalendar&&this.focusCalendarElement(),this.shouldFocusDateInput&&this.focusDateInputElement(),this.shouldFocusCalendar=!1,this.shouldFocusDateInput=!1},e.prototype.componentWillUnmount=function(){clearTimeout(this.nextTickId)},e.prototype.render=function(){var t=this,e=this.value||z,n=(this.props.startDateInputSettings||{}).id||this._startInputId,r=(this.props.endDateInputSettings||{}).id||this._endInputId,o=Object(u.g)("k-daterangepicker",{"k-state-disabled":this.props.disabled},this.props.className),i=Object(h.provideLocalizationService)(this),a=i.toLanguageString("daterangepicker.start",Gt["daterangepicker.start"]),s=i.toLanguageString("daterangepicker.end",Gt["daterangepicker.end"]),c=i.toLanguageString(Ut,Gt[Ut]),p=Kn({label:a,format:this.props.format,min:this.min,max:this.max,id:this._startInputId,disabled:this.props.disabled,valid:this.props.valid,ariaHasPopup:!0,ariaExpanded:this.show},this.props.startDateInputSettings,{value:e.start,onChange:this.handleStartChange}),d=Kn({label:s,format:this.props.format,min:this.min,max:this.max,id:this._endInputId,disabled:this.props.disabled,valid:this.props.valid,ariaHasPopup:!0,ariaExpanded:this.show},this.props.endDateInputSettings,{value:e.end,onChange:this.handleEndChange}),f=Kn({animate:null!==this._wrapper,anchor:this._wrapper,id:this._popupId,anchorAlign:{horizontal:"left",vertical:"bottom"},popupAlign:{horizontal:"left",vertical:"top"}},this.props.popupSettings,{show:this.show}),m=Kn({min:this.min,max:this.max,allowReverse:this.props.allowReverse,mode:"range",focusedDate:this.props.focusedDate,disabled:this.props.disabled},this.props.calendarSettings,{value:e,onChange:this.handleCalendarChange}),v=this.props.calendar?l.createElement(this.props.calendar,Kn({},m)):l.createElement(Wn,Kn({},m,{ref:this.setCalendarRef})),g=l.createElement("span",Kn({role:"button",className:"k-select k-button k-flat",title:Object(h.provideLocalizationService)(this).toLanguageString(Ht,Gt[Ht]),onMouseDown:this.handleReverseMouseDown,onClick:this.handleReverseClick},{"aria-controls":n+" "+r,"aria-label":Object(h.provideLocalizationService)(this).toLanguageString(Ht,Gt[Ht])}),l.createElement("span",{style:{transform:"rotate(90deg)"},className:"k-icon k-i-arrows-swap"}));return l.createElement("span",{ref:function(e){t._element=e},className:o,style:this.props.style,id:this.props.id,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,tabIndex:this.props.tabIndex,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown},l.createElement("span",{ref:function(e){t._wrapper=e},className:"k-daterangepicker-wrap",style:Gn},this.props.startDateInput?l.createElement(this.props.startDateInput,Kn({},p)):l.createElement(Re,Kn({},p,{ref:this._startDateInput})),(this.props.allowReverse||this.props.calendarSettings&&this.props.calendarSettings.allowReverse)&&this.props.swapButton?g:c,this.props.endDateInput?l.createElement(this.props.endDateInput,Kn({},d)):l.createElement(Re,Kn({},d,{ref:this._endDateInput}))),this.props.popup?l.createElement(this.props.popup,Kn({},f),v):l.createElement(Ne.Popup,Kn({},f),v))},e.prototype.focusDateInputElement=function(){document&&this.startDateInput&&this.startDateInput.element&&this.endDateInput&&this.endDateInput.element&&(null!==this.value.start&&null===this.value.end||document.activeElement===this.endDateInput.element?document.activeElement!==this.startDateInput.element&&this.endDateInput.element.focus({preventScroll:!0}):this.startDateInput.element.focus({preventScroll:!0}))},e.prototype.nextTick=function(t){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((function(){return t()}))},e.prototype.setShow=function(t){this.show!==t&&this.setState({show:t})},e.propTypes={allowReverse:c.bool,calendarSettings:c.any,className:c.string,defaultShow:c.bool,defaultValue:c.shape({start:c.instanceOf(Date),end:c.instanceOf(Date)}),disabled:c.bool,endDateInputSettings:c.shape(Re.propTypes),focusedDate:c.instanceOf(Date),format:c.oneOfType([c.string,c.shape({skeleton:c.string,pattern:c.string,date:c.oneOf(["short","medium","long","full"]),time:c.oneOf(["short","medium","long","full"]),datetime:c.oneOf(["short","medium","long","full"]),era:c.oneOf(["narrow","short","long"]),year:c.oneOf(["numeric","2-digit"]),month:c.oneOf(["numeric","2-digit","narrow","short","long"]),day:c.oneOf(["numeric","2-digit"]),weekday:c.oneOf(["narrow","short","long"]),hour:c.oneOf(["numeric","2-digit"]),hour12:c.bool,minute:c.oneOf(["numeric","2-digit"]),second:c.oneOf(["numeric","2-digit"]),timeZoneName:c.oneOf(["short","long"])})]),id:c.string,ariaLabelledBy:c.string,ariaDescribedBy:c.string,max:c.instanceOf(Date),min:c.instanceOf(Date),onBlur:c.func,onChange:c.func,onFocus:c.func,popupSettings:c.any,show:c.bool,startDateInputSettings:c.any,style:c.any,swapButton:c.any,tabIndex:c.number,value:c.shape({start:c.instanceOf(Date),end:c.instanceOf(Date)})},e.defaultProps={allowReverse:!1,defaultShow:!1,defaultValue:z,disabled:!1,format:"d",max:At,min:Pt,swapButton:!1},e}(l.Component);Object(h.registerForLocalization)(Yn);var Xn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$n=function(){return($n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Zn=function(t){function e(e){var n=t.call(this,e)||this;return n._calendarWrap=null,n.focus=function(t){Promise.resolve().then((function(){"time"===n.state.tab&&n._timePart&&n._timePart.focus(t);var e=n.calendarElement();"date"===n.state.tab&&e&&e.focus(t)}))},n.calendarElement=function(){return n._calendar&&n._calendar.element||n._calendarWrap&&n._calendarWrap.querySelector(".k-widget.k-calendar")},n.move=function(t){if(!("right"===t&&"time"===n.state.tab||"left"===t&&"date"===n.state.tab)){var e="left"===t?"date":"time";n.shouldFocusPart=!0,n.setState({tab:e})}},n.handleReject=function(t){n.setState({dateValue:n.props.value,timeValue:n.props.value||Dt});var e=n.mergeDate(n.props.value,n.props.value||Dt);if(n.props.onReject){var r={nativeEvent:t.nativeEvent,syntheticEvent:t,target:n,value:e};n.props.onReject.call(void 0,r)}},n.handleAccept=function(t,e){if(n.state.dateValue&&n.state.timeValue&&n.hasDateValue){var r=n.mergeDate(n.state.dateValue,e||n.state.timeValue);n.props.onChange.call(void 0,{syntheticEvent:t,nativeEvent:t.nativeEvent,value:r,target:n})}},n.handleNowClick=function(t){n.setState({timeValue:Ee()}),n.handleAccept(t,Ee())},n.handleCalendarValueChange=function(t){t.syntheticEvent.stopPropagation(),n.setState({dateValue:t.value,tab:"time"}),n.shouldFocusPart=!0},n.handleTimeListContainerChange=function(t){n.setState({timeValue:t})},n.handleDateClick=function(t){t.stopPropagation(),n.move("left")},n.handleTimeClick=function(t){t.stopPropagation(),n.move("right")},n.handleKeyDown=function(t){var e=t.keyCode,r=t.altKey;switch(e){case u.d.enter:return void(!n.hasActiveButton()&&n.hasDateValue&&n.handleAccept(t));case u.d.left:if(!r)return;return void n.move("left");case u.d.right:if(!r)return;return void n.move("right");default:return}},n.handleTimePartMount=function(t){n.setState({timeValue:t})},n.state={tab:"date",dateValue:n.props.value,timeValue:n.props.value||Dt},n}return Xn(e,t),Object.defineProperty(e.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timePart",{get:function(){return this._timePart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasDateValue",{get:function(){return null!==this.state.dateValue},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(){this.shouldFocusPart&&this.focus({preventScroll:!0}),this.shouldFocusPart=!1},e.prototype.render=function(){var t=this,e=this.props,n=e.disabled,r=e.cancelButton,o=e.min,i=e.max,a=e.weekNumber,s=e.focusedDate,c=e.format,p=Object(u.g)({"k-date-tab":"date"===this.state.tab,"k-time-tab":"time"===this.state.tab,"k-state-disabled":n},"k-datetime-wrap"),d=Object(u.g)({"k-state-disabled":!this.hasDateValue},"k-time-accept k-button k-primary"),f=Object(h.provideLocalizationService)(this),m=f.toLanguageString("datetimepicker.date",Gt["datetimepicker.date"]),v=f.toLanguageString("datetimepicker.time",Gt["datetimepicker.time"]),g=f.toLanguageString("datetimepicker.cancel",Gt["datetimepicker.cancel"]),y=f.toLanguageString("datetimepicker.set",Gt["datetimepicker.set"]),b={min:o,max:i,weekNumber:a,focusedDate:s,disabled:n||"date"!==this.state.tab,value:this.state.dateValue,onChange:this.handleCalendarValueChange,navigation:!1};return l.createElement("div",{onKeyDown:this.handleKeyDown,className:p,tabIndex:-1},l.createElement("div",{className:"k-datetime-buttongroup"},l.createElement(_t.ButtonGroup,{width:"100%"},l.createElement(_t.Button,{type:"button",selected:"date"===this.state.tab,togglable:!0,onClick:this.handleDateClick},m),l.createElement(_t.Button,{type:"button",selected:"time"===this.state.tab,togglable:!0,onClick:this.handleTimeClick},v))),l.createElement("div",{className:"k-datetime-selector"},l.createElement("div",{className:"k-datetime-calendar-wrap",ref:function(e){return t._calendarWrap=e}},this.props.calendar?l.createElement(this.props.calendar,$n({},b)):l.createElement(ce,$n({ref:function(e){t._calendar=e}},b))),l.createElement("div",{className:"k-datetime-time-wrap"},l.createElement(En,{key:1,onNowClick:this.handleNowClick,disabled:n||"time"!==this.state.tab,ref:function(e){t._timePart=e},min:this.minTime||W,max:this.maxTime||q,steps:this.props.steps,value:this.state.timeValue,format:c,onChange:this.handleTimeListContainerChange,onMount:this.handleTimePartMount}))),l.createElement("div",{className:"k-datetime-footer k-actions k-hstack k-justify-content-stretch"},r&&l.createElement("button",$n({type:"button",ref:function(e){t._cancelButton=e},className:"k-button k-time-cancel",onClick:this.handleReject,title:g},{"aria-label":g}),g),l.createElement("button",$n({type:"button",ref:function(e){t._acceptButton=e},className:d,onClick:this.handleAccept,title:y},{"aria-label":y}),y)))},Object.defineProperty(e.prototype,"minTime",{get:function(){return void 0!==this.props.minTime?this.props.minTime:this.normalizeRange(this.props.min,this.state.dateValue)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxTime",{get:function(){return void 0!==this.props.maxTime?this.props.maxTime:this.normalizeRange(this.props.max,this.state.dateValue)},enumerable:!0,configurable:!0}),e.prototype.normalizeRange=function(t,e){return Object(p.isEqualDate)(t,e||G())?t:null},e.prototype.hasActiveButton=function(){return!!this._acceptButton&&(document.activeElement===this._acceptButton||document.activeElement===this._cancelButton)},e.prototype.mergeTime=function(t,e){return t&&e?K(e,t):e},e.prototype.mergeDate=function(t,e){return t?K(t||G(),e):e},e}(l.Component);Object(h.registerForLocalization)(Zn);var Jn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qn=function(){return(Qn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},tr=function(t){function e(n){var r=t.call(this,n)||this;return r._popupId=Object(u.r)(),r._element=null,r._wrapper=null,r._dateInput=l.createRef(),r._dateTimeSelector=null,r.shouldFocusDateInput=!1,r.prevShow=!1,r.focus=function(){var t=r.dateInputElement();t&&t.focus()},r.handleReject=function(){r.shouldFocusDateInput=!0,r.setShow(!1)},r.handleValueChange=function(t){r.setState({value:Object(p.cloneDate)(t.value||void 0),show:!1}),r.valueDuringOnChange=t.value,r.showDuringOnChange=!1,r.shouldFocusDateInput=!0;var e=r.props.onChange;e&&e.call(void 0,{syntheticEvent:t.syntheticEvent,nativeEvent:t.nativeEvent,value:r.value,show:r.show,target:r}),r.valueDuringOnChange=void 0,r.showDuringOnChange=void 0},r.handleFocus=function(){r.setState({focused:!0})},r.handleBlur=function(){r.setState({focused:!1}),r.setShow(!1)},r.handleDateIconClick=function(){r.props.disabled||(r.shouldFocusDateInput=!0,r.setShow(!r.show))},r.handleIconMouseDown=function(t){t.preventDefault()},r.handleKeyDown=function(t){var e=t.altKey,n=t.keyCode;if(n===u.d.esc)return r.shouldFocusDateInput=!0,void r.setShow(!1);!e||n!==u.d.up&&n!==u.d.down||(t.preventDefault(),t.stopPropagation(),r.shouldFocusDateInput=n===u.d.up,r.setShow(n===u.d.down))},r.dateInputElement=function(){return r.dateInput&&r.dateInput.element||r._wrapper&&r._wrapper.querySelector(".k-dateinput-wrap > input.k-input")},Object(u.D)(d),r.state={value:r.props.defaultValue||e.defaultProps.defaultValue,show:r.props.defaultShow||e.defaultProps.defaultShow,focused:!1},r}return Jn(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateInput",{get:function(){return this._dateInput.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var t=void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value;return null!==t?Object(p.cloneDate)(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"show",{get:function(){return void 0!==this.showDuringOnChange?this.showDuringOnChange:void 0!==this.props.show?this.props.show:this.state.show},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return void 0!==this.props.min?this.props.min:e.defaultProps.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return void 0!==this.props.max?this.props.max:e.defaultProps.max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validity",{get:function(){var t=X(this.value,this.min,this.max)&&De(this.value,this.props.minTime||jt,this.props.maxTime||q),e=void 0!==this.props.validationMessage,n=(!this.required||null!==this.value)&&t,r=void 0!==this.props.valid?this.props.valid:n;return{customError:e,rangeOverflow:this.value&&this.max.getTime()<this.value.getTime()||!1,rangeUnderflow:this.value&&this.value.getTime()<this.min.getTime()||!1,valid:r,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:e.defaultProps.required},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateInputComp",{get:function(){return this.props.dateInput||e.defaultProps.dateInput},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.show&&this.forceUpdate()},e.prototype.componentDidUpdate=function(){var t=this.dateInputElement();this._dateTimeSelector&&this.show&&!this.prevShow&&this._dateTimeSelector.focus({preventScroll:!0}),t&&!this.show&&this.shouldFocusDateInput&&t.focus({preventScroll:!0}),this.prevShow=this.show,this.shouldFocusDateInput=!1},e.prototype.componentWillUnmount=function(){clearTimeout(this.nextTickId)},e.prototype.render=function(){var t=this,e=this.props,n=e.disabled,r=e.tabIndex,o=e.title,i=e.id,a=e.format,s=e.formatPlaceholder,c=e.min,p=e.max,d=e.weekNumber,f=e.focusedDate,m=e.className,v=e.width,g=e.name,y=e.validationMessage,b=e.required,x=e.validityStyles,w=e.cancelButton,k=e.minTime,O=e.maxTime,C=e.ariaLabelledBy,_=e.ariaDescribedBy,S=e.popup,E=void 0===S?Ne.Popup:S,I=e.calendar,T=!this.validityStyles||this.validity.valid,D=Object(u.g)("k-widget k-datetimepicker",{"k-state-invalid":!T},m),P=Object(u.g)("k-picker-wrap",{"k-state-disabled":n,"k-state-focused":this.state.focused}),A={id:i,ariaLabelledBy:C,ariaDescribedBy:_,format:a,formatPlaceholder:s,disabled:n,title:o,validityStyles:x,validationMessage:y,required:b,min:c,max:p,minTime:k,maxTime:O,name:g,tabIndex:this.show?-1:r,valid:this.validity.valid,value:this.value,onChange:this.handleValueChange,steps:this.props.steps,label:void 0,placeholder:this.state.focused?null:this.props.placeholder,ariaHasPopup:!0,ariaExpanded:this.show},j=l.createElement(u.a,{onFocus:this.handleFocus,onBlur:this.handleBlur,onSyncFocus:this.props.onFocus,onSyncBlur:this.props.onBlur},(function(e){var r=e.onFocus,o=e.onBlur;return l.createElement("div",{ref:function(e){t._element=e},className:D,onKeyDown:t.handleKeyDown,style:{width:v},onFocus:r,onBlur:o},l.createElement("div",{ref:function(e){t._wrapper=e},className:P},l.createElement(t.dateInputComp,Qn({_ref:t._dateInput},A)),l.createElement("span",Qn({role:"button",onMouseDown:t.handleIconMouseDown,onClick:t.handleDateIconClick,title:Object(h.provideLocalizationService)(t).toLanguageString(Wt,Gt[Wt]),className:"k-select"},{"aria-controls":t._popupId,"aria-label":Object(h.provideLocalizationService)(t).toLanguageString(Wt,Gt[Wt])}),l.createElement("span",{className:"k-link k-link-date"},l.createElement("span",{className:"k-icon k-i-calendar"})))),l.createElement(E,{show:t.show,animate:null!==t._wrapper,anchor:t._wrapper,className:"k-datetime-container k-group k-reset",id:t._popupId,anchorAlign:{horizontal:"left",vertical:"bottom"},popupAlign:{horizontal:"left",vertical:"top"}},l.createElement(Zn,{ref:function(e){t._dateTimeSelector=e},cancelButton:w,steps:t.props.steps,value:t.value,onChange:t.handleValueChange,onReject:t.handleReject,disabled:n,weekNumber:d,min:t.min,max:t.max,minTime:k,maxTime:O,focusedDate:f,format:a,calendar:I})))}));return this.props.label?l.createElement(Be,{dateInput:this._dateInput,label:this.props.label,editorId:i,editorValid:T,editorDisabled:this.props.disabled,children:j,style:{width:this.props.width}}):j},e.prototype.setShow=function(t){this.show!==t&&this.setState({show:t})},e.prototype.nextTick=function(t){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((function(){return t()}))},e.propTypes={className:c.string,defaultShow:c.bool,defaultValue:c.instanceOf(Date),disabled:c.bool,focusedDate:c.instanceOf(Date),format:c.oneOfType([c.string,c.shape({skeleton:c.string,pattern:c.string,date:c.oneOf(["short","medium","long","full"]),time:c.oneOf(["short","medium","long","full"]),datetime:c.oneOf(["short","medium","long","full"]),era:c.oneOf(["narrow","short","long"]),year:c.oneOf(["numeric","2-digit"]),month:c.oneOf(["numeric","2-digit","narrow","short","long"]),day:c.oneOf(["numeric","2-digit"]),weekday:c.oneOf(["narrow","short","long"]),hour:c.oneOf(["numeric","2-digit"]),hour12:c.bool,minute:c.oneOf(["numeric","2-digit"]),second:c.oneOf(["numeric","2-digit"]),timeZoneName:c.oneOf(["short","long"])})]),formatPlaceholder:c.oneOfType([c.oneOf(["wide","narrow","short","formatPattern"]),c.shape({year:c.string,month:c.string,day:c.string,hour:c.string,minute:c.string,second:c.string})]),id:c.string,ariaLabelledBy:c.string,ariaDescribedBy:c.string,min:c.instanceOf(Date),max:c.instanceOf(Date),name:c.string,popupSettings:c.shape({animate:c.bool,appendTo:c.any,popupClass:c.string}),show:c.bool,tabIndex:c.number,title:c.string,value:c.instanceOf(Date),weekNumber:c.bool,width:c.oneOfType([c.number,c.string]),validationMessage:c.string,required:c.bool,validate:c.bool,valid:c.bool,cancelButton:c.bool},e.defaultProps={defaultShow:!1,defaultValue:null,disabled:!1,format:"g",max:U,min:H,popupSettings:{},tabIndex:0,weekNumber:!1,required:!1,validityStyles:!0,cancelButton:!0,dateInput:Re},e}(l.Component);Object(h.registerForLocalization)(tr)},function(t,e,n){"use strict";n.r(e),n.d(e,"Dialog",(function(){return m})),n.d(e,"DialogActionsBar",(function(){return l})),n.d(e,"Window",(function(){return I})),n.d(e,"WindowActionsBar",(function(){return C}));var r=n(0),o=n(12),i=n(1),a=function(t){var e=t.children,n=t.onCloseButtonClick,o=t.id,i=t.closeIcon;return r.createElement("div",{className:"k-window-titlebar k-dialog-titlebar k-header",id:o},r.createElement("div",{className:"k-window-title k-dialog-title"},e),r.createElement("div",{className:"k-window-actions k-dialog-actions"},i&&r.createElement("a",{href:"#",role:"button","aria-label":"Close",onClick:n,className:"k-button k-flat k-button-icon k-window-action k-dialog-action k-dialog-close"},r.createElement("span",{className:"k-icon k-i-x"}))))},s=n(2),l=function(t){var e=t.layout,n=void 0===e?p.layout:e,o=t.children,i=Object(s.g)("k-dialog-buttongroup","k-actions","k-hstack",{"k-justify-content-start":"start"===n,"k-justify-content-center":"center"===n,"k-justify-content-end":"end"===n,"k-justify-content-stretch":"stretched"===n});return r.createElement("div",{className:i},o)};l.propTypes={children:i.any,layout:i.oneOf(["start","center","end","stretched"])};var c,u,p={layout:"stretched"},h={name:"@progress/kendo-react-dialogs",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616667,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},d=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},m=function(t){function e(e){var n=t.call(this,e)||this;return n.DialogRef=r.createRef(),n.titleId=n.generateTitleId(),n.handleCloseDialog=function(t){t.preventDefault(),Object(s.k)(n.props.onClose,t,n,void 0)},n.handleKeyDown=function(t){t.keyCode===s.d.esc&&n.props.onClose&&(t.preventDefault(),n.handleCloseDialog(t));var e=n.DialogRef.current;if(e&&t.keyCode===s.d.tab){var r=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),o=r[0],i=r[r.length-1];t.shiftKey?document.activeElement===o&&(i.focus(),t.preventDefault()):document.activeElement===i&&(o.focus(),t.preventDefault())}},Object(s.D)(h),n}return d(e,t),e.prototype.componentDidMount=function(){this.DialogRef.current&&this.props.autoFocus&&this.DialogRef.current.focus()},e.prototype.render=function(){var t=void 0!==this.props.id?this.props.id:this.titleId,e=this.props,n=e.title,i=e.width,s=e.height,l=e.children,c=e.minWidth,u=e.dir,p=e.style,h=e.contentStyle,d=r.Children.toArray(l),m=this.getContent(d),v=this.getActionBar(d),g=n?{"aria-labelledby":t}:null,y=void 0===this.props.closeIcon||this.props.closeIcon,b=r.createElement("div",{className:"k-dialog-wrapper"+(this.props.className?" "+this.props.className:""),onKeyDown:this.handleKeyDown,tabIndex:0,dir:u,style:p,ref:this.DialogRef},r.createElement("div",{className:"k-overlay"}),r.createElement("div",f({},g,{className:"k-widget k-window k-dialog",role:"dialog",style:{width:i,height:s,minWidth:c}}),this.props.title&&r.createElement(a,{closeIcon:y,onCloseButtonClick:this.handleCloseDialog,id:t},n),r.createElement("div",{className:"k-window-content k-dialog-content",style:h},m),v));return this.props.appendTo?Object(o.createPortal)(b,this.props.appendTo):b},e.prototype.getActionBar=function(t){return t.filter((function(t){return t&&t.type===l}))},e.prototype.getContent=function(t){return t.filter((function(t){return t&&t.type!==l}))},e.prototype.generateTitleId=function(){return"dialog-title"+Object(s.r)()},e.propTypes={title:i.any,id:i.string,dir:i.string,style:i.object,closeIcon:i.bool,width:i.oneOfType([i.number,i.string]),height:i.oneOfType([i.number,i.string]),minWidth:i.oneOfType([i.number,i.string]),autoFocus:i.bool},e.defaultProps={autoFocus:!1},e}(r.Component);!function(t){t.DEFAULT="DEFAULT",t.FULLSCREEN="FULLSCREEN",t.MINIMIZED="MINIMIZED"}(u||(u={}));var v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},g=function(t){var e=t.children,n=t.onCloseButtonClick,o=t.onMinimizeButtonClick,i=t.onFullScreenButtonClick,a=t.onRestoreButtonClick,s=t.onDoubleClick,l=t.stage,c=t.forwardedRef,p=t.minimizeButton?r.createElement(t.minimizeButton,{onClick:o,stage:l}):r.createElement("button",{className:"k-button-icon k-button k-flat",onClick:o},r.createElement("span",{className:"k-icon k-i-window-minimize",role:"presentation"})),h=t.maximizeButton?r.createElement(t.maximizeButton,{onClick:i,stage:l}):r.createElement("button",{className:"k-button-icon k-button k-flat",onClick:i},r.createElement("span",{className:"k-icon k-i-window-maximize",role:"presentation"})),d=t.restoreButton?r.createElement(t.restoreButton,{onClick:a,stage:l}):r.createElement("button",{className:"k-button-icon k-button k-flat",onClick:a},r.createElement("span",{className:"k-icon k-i-window-restore",role:"presentation"})),f=t.closeButton?r.createElement(t.closeButton,{onClick:n,stage:l}):r.createElement("button",{className:"k-button-icon k-button k-flat",onClick:n},r.createElement("span",{className:"k-icon k-i-close",role:"presentation"}));return r.createElement("div",{className:"k-window-titlebar k-dialog-titlebar",style:{touchAction:"none"},ref:c,onDoubleClick:s},r.createElement("div",{className:"k-window-title"},e||""),r.createElement("div",{className:"k-window-actions"},l===u.DEFAULT&&p,l===u.DEFAULT&&h,l!==u.DEFAULT&&d,f))},y=r.forwardRef((function(t,e){return r.createElement(g,v({},t,{forwardedRef:e}))})),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=["n","e","s","w","se","sw","ne","nw"],w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),e.prototype.render=function(){var t=this;return r.createElement("div",null," ",x.map((function(e,n){return r.createElement(s.b,{key:n,onDrag:function(n){var r=n.event;r.originalEvent.preventDefault(),t.props.onResize(r,{end:!1,direction:e})},onRelease:function(n){var r=n.event;r.originalEvent.preventDefault(),t.props.onResize(r,{end:!0,direction:e})}},r.createElement("div",{className:"k-resize-handle k-resize-"+e,style:{display:"block",touchAction:"none"}}))})))},e}(r.Component),k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e.prototype.shouldComponentUpdate=function(t){return t.shouldUpdateOnDrag||!t.isDragging},e.prototype.render=function(){return this.props.children},e}(r.Component),C=function(t){var e=t.layout,n=void 0===e?_.layout:e,o=t.children,i=Object(s.g)("k-window-buttongroup","k-actions","k-hstack",{"k-justify-content-start":"start"===n,"k-justify-content-center":"center"===n,"k-justify-content-end":"end"===n,"k-justify-content-stretch":"stretched"===n});return r.createElement("div",{className:i},o)};C.propTypes={children:i.any,layout:i.oneOf(["start","center","end","stretched"])};var _={layout:"end"},S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(){return(E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=function(t){function e(e){var n=t.call(this,e)||this;return n.offSetCoordinates={x:0,y:0},n.onPress=function(t){var e=t.event;n.windowCoordinatesState.differenceLeft=e.pageX-n.left,n.windowCoordinatesState.differenceTop=e.pageY-n.top},n.onDrag=function(t){var e=t.event;e.originalEvent.preventDefault(),n.windowStage!==u.FULLSCREEN&&n.props.draggable&&(n.setState({top:Math.max(e.pageY-n.windowCoordinatesState.differenceTop,0),left:e.pageX-n.windowCoordinatesState.differenceLeft,isDragging:!0}),n.props.onMove&&n.dispatchMoveEvent(n.props.onMove,e,!0,!1))},n.onRelease=function(t){var e=t.event;n.windowStage!==u.FULLSCREEN&&n.props.draggable&&n.props.onMove&&n.dispatchMoveEvent(n.props.onMove,e,!0,!0),n.setState({isDragging:!1})},n.handleKeyDown=function(t){if(t.target===t.currentTarget){var e=n.props.minWidth||120,r=n.props.minHeight||100;if(t.ctrlKey&&n.props.resizable){switch(t.keyCode){case s.d.up:t.preventDefault(),r<=n.height-5&&n.setState({height:n.height-5});break;case s.d.down:t.preventDefault(),n.setState({height:n.height+5});break;case s.d.left:e<=n.width-5&&n.setState({width:n.width-5});break;case s.d.right:n.setState({width:n.width+5});break;default:return}n.dispatchMoveEvent(n.props.onResize,t,!1,void 0)}else if(t.altKey)switch(t.keyCode){case s.d.up:n.windowStage===u.MINIMIZED?(n.handleRestore(t),Object(s.k)(n.props.onStageChange,t,n,{state:u.DEFAULT})):n.windowStage===u.DEFAULT&&(n.handleFullscreen(t),Object(s.k)(n.props.onStageChange,t,n,{state:u.FULLSCREEN}));break;case s.d.down:n.windowStage===u.FULLSCREEN?(n.handleRestore(t),Object(s.k)(n.props.onStageChange,t,n,{state:u.DEFAULT})):n.windowStage===u.DEFAULT&&(n.handleMinimize(t),Object(s.k)(n.props.onStageChange,t,n,{state:u.MINIMIZED}))}else{if(!t.ctrlKey)switch(t.keyCode){case s.d.esc:return void(n.props.onClose&&n.handleCloseWindow(t));case s.d.up:n.setState({top:n.state.top-5});break;case s.d.down:n.setState({top:n.state.top+5});break;case s.d.left:n.setState({left:n.state.left-5});break;case s.d.right:n.setState({left:n.state.left+5});break;default:return}n.dispatchMoveEvent(n.props.onMove,t,!1,void 0)}}},n.getInitialTop=function(){if(void 0!==n.props.top)return n.props.top;if(void 0!==n.props.initialTop)return n.props.initialTop;var t=300;return void 0!==n.props.height?t=n.props.height:void 0!==n.props.initialHeight&&(t=n.props.initialHeight),n.props.appendTo?n.props.appendTo.offsetHeight/2-t/2:window.innerHeight/2-t/2},n.getInitialLeft=function(){if(void 0!==n.props.left)return n.props.left;if(void 0!==n.props.initialLeft)return n.props.initialLeft;var t=300;return void 0!==n.props.width?t=n.props.width:void 0!==n.props.initialWidth&&(t=n.props.initialWidth),n.props.appendTo?n.props.appendTo.offsetWidth/2-t/2:window.innerWidth/2-t/2},n.getInitialWidth=function(){var t=300;return void 0!==n.props.width?t=n.props.width:void 0!==n.props.initialWidth&&(t=n.props.initialWidth),t},n.getInitialHeight=function(){var t=300;return void 0!==n.props.height?t=n.props.height:void 0!==n.props.initialHeight&&(t=n.props.initialHeight),t},n.handleMinimize=function(t){t.preventDefault(),n.windowCoordinatesState.leftBeforeAction=n.left,n.windowCoordinatesState.topBeforeAction=n.top,n.windowCoordinatesState.widthBeforeAction=n.width,n.windowCoordinatesState.heightBeforeAction=n.height,n.setState({stage:u.MINIMIZED,height:0}),Object(s.k)(n.props.onStageChange,t,n,{state:u.MINIMIZED})},n.handleFullscreen=function(t){t.preventDefault(),n.windowCoordinatesState.leftBeforeAction=n.left,n.windowCoordinatesState.topBeforeAction=n.top,n.windowCoordinatesState.widthBeforeAction=n.width,n.windowCoordinatesState.heightBeforeAction=n.height,n.setState({left:0,top:0,width:n.props.appendTo?n.props.appendTo.offsetWidth:window.innerWidth,height:n.props.appendTo?n.props.appendTo.offsetHeight:window.innerHeight,stage:u.FULLSCREEN}),Object(s.k)(n.props.onStageChange,t,n,{state:u.FULLSCREEN})},n.handleRestore=function(t){t.preventDefault(),n.windowStage===u.FULLSCREEN?n.setState({stage:u.DEFAULT,left:n.windowCoordinatesState.leftBeforeAction,top:n.windowCoordinatesState.topBeforeAction,width:n.windowCoordinatesState.widthBeforeAction,height:n.windowCoordinatesState.heightBeforeAction}):n.windowStage===u.MINIMIZED&&n.setState({stage:u.DEFAULT,height:n.windowCoordinatesState.heightBeforeAction}),Object(s.k)(n.props.onStageChange,t,n,{state:u.DEFAULT})},n.handleCloseWindow=function(t){t.preventDefault(),Object(s.k)(n.props.onClose,t,n,{state:void 0})},n.handleDoubleClick=function(t){n.windowStage===u.FULLSCREEN||n.windowStage===u.MINIMIZED?n.handleRestore(t):n.handleFullscreen(t)},n.handleResize=function(t,e){var r=n.props.appendTo?t.pageX-n.offSetCoordinates.x:t.pageX,o=n.props.appendTo?t.pageY-n.offSetCoordinates.y:t.pageY,i=n.width,a=n.height,s=n.props.minWidth||120,l=n.props.minHeight||100,c=n.top-o,u=n.left-r,p=r-n.left,h=o-n.top,d=Object.assign({},n.state,{isDragging:!e.end});e.direction.indexOf("n")>=0&&l-(a+c)<0&&(n.top>0&&(d.height=a+c),d.top=o),e.direction.indexOf("s")>=0&&l-h<0&&(d.height=h),e.direction.indexOf("w")>=0&&s-(i+u)<0&&(n.left>0&&(d.width=i+u),d.left=r),e.direction.indexOf("e")>=0&&s-p<0&&(d.width=p),n.setState(d),n.dispatchMoveEvent(n.props.onResize,t,!0,e.end)},n.dispatchMoveEvent=function(t,e,r,o){t&&t.call(void 0,{nativeEvent:e.nativeEvent?e.nativeEvent:e.originalEvent,drag:r,end:o,target:n,left:n.state.left,top:n.state.top,width:n.state.width,hight:n.state.height,height:n.state.height})},n.handleBrowserWindowResize=function(){n.windowStage===u.FULLSCREEN&&n.setState({width:n.props.appendTo?n.props.appendTo.offsetWidth:window.innerWidth,height:n.props.appendTo?n.props.appendTo.offsetHeight:window.innerHeight})},n.setZindex=function(){if(n.state.focused){var t=document&&document.querySelectorAll(".k-window"),e=10002;return t.forEach((function(t){var n=window.getComputedStyle(t,null),r=parseInt(null!==n.zIndex?n.zIndex:"10002",10);r>e&&(e=r)})),n.windowElement&&e.toString()===n.windowElement.style.zIndex?n.windowElement.style.zIndex:(e+1).toString()}return n.windowElement.style.zIndex},Object(s.D)(h),n.state={stage:n.props.stage||u.DEFAULT,isDragging:!1,top:n.getInitialTop(),left:n.getInitialLeft(),width:n.getInitialWidth(),height:n.getInitialHeight(),focused:!0},n.windowCoordinatesState={leftBeforeAction:n.getInitialLeft(),topBeforeAction:n.getInitialTop(),widthBeforeAction:n.getInitialWidth(),heightBeforeAction:n.getInitialHeight()},n}return S(e,t),e.prototype.componentDidMount=function(){if(window&&window.addEventListener("resize",this.handleBrowserWindowResize),this.props.appendTo){var t=this.props.appendTo.getBoundingClientRect(),e=document.body.getBoundingClientRect();this.offSetCoordinates.x=t.left-e.left,this.offSetCoordinates.y=t.top-e.top}},e.prototype.componentWillUnmount=function(){window&&window.removeEventListener("resize",this.handleBrowserWindowResize)},e.prototype.componentDidUpdate=function(){if(this.props.appendTo){var t=this.props.appendTo.getBoundingClientRect(),e=document.body.getBoundingClientRect();this.offSetCoordinates.x=t.left-e.left,this.offSetCoordinates.y=t.top-e.top}},e.prototype.render=function(){var t=this,e=r.Children.toArray(this.props.children),n=this.getContent(e),i=this.getActionBar(e),a=Object(s.g)("k-widget","k-window",this.props.className,{"k-window-minimized":"MINIMIZED"===this.state.stage},{"k-window-focused":this.state.focused}),l=r.createElement(r.Fragment,null,this.props.modal&&r.createElement("div",{className:"k-overlay"}),r.createElement("div",{tabIndex:0,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},onKeyDown:this.handleKeyDown,ref:function(e){return t.windowElement=e},className:a,style:E({top:this.top,left:this.left,width:this.width,height:this.height||"",zIndex:this.setZindex()},this.props.style)},r.createElement(O,{shouldUpdateOnDrag:this.props.shouldUpdateOnDrag||!1,isDragging:this.state.isDragging},r.createElement(s.b,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease,ref:function(e){return t.draggable=e}},r.createElement(y,{stage:this.windowStage,onDoubleClick:this.props.doubleClickStageChange?this.handleDoubleClick:void 0,onMinimizeButtonClick:this.handleMinimize,onFullScreenButtonClick:this.handleFullscreen,onRestoreButtonClick:this.handleRestore,onCloseButtonClick:this.handleCloseWindow,closeButton:this.props.closeButton,minimizeButton:this.props.minimizeButton,maximizeButton:this.props.maximizeButton,restoreButton:this.props.restoreButton},this.props.title)),this.windowStage!==u.MINIMIZED?r.createElement(r.Fragment,null,r.createElement("div",{className:"k-window-content"},n),i):null,this.windowStage===u.DEFAULT&&this.props.resizable?r.createElement(w,{onResize:this.handleResize}):null)));return this.props.appendTo?o.createPortal(l,this.props.appendTo):l},Object.defineProperty(e.prototype,"top",{get:function(){return this.windowStage!==u.FULLSCREEN?Math.max(this.props.top||this.state.top,0):0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.windowStage!==u.FULLSCREEN?Math.max(this.props.left||this.state.left,0):0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var t=this.props.width||this.state.width;if(this.windowStage===u.FULLSCREEN){if(this.props.appendTo)return t=this.props.appendTo.offsetWidth;t=window.innerWidth}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var t=this.props.height||this.state.height;if(this.windowStage===u.FULLSCREEN){if(this.props.appendTo)return t=this.props.appendTo.offsetHeight;t=window.innerHeight}else this.windowStage===u.MINIMIZED&&(t=0);return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"windowStage",{get:function(){return this.props.stage||this.state.stage},enumerable:!0,configurable:!0}),e.prototype.getActionBar=function(t){return t.filter((function(t){return t&&t.type===C}))},e.prototype.getContent=function(t){return t.filter((function(t){return t&&t.type!==C}))},e.propTypes={id:i.string,width:i.oneOfType([i.number,i.string]),height:i.oneOfType([i.number,i.string]),left:i.oneOfType([i.number,i.string]),top:i.oneOfType([i.number,i.string]),initialwidth:i.oneOfType([i.number,i.string]),initialHeight:i.oneOfType([i.number,i.string]),initialLeft:i.oneOfType([i.number,i.string]),initialTop:i.oneOfType([i.number,i.string]),minWidth:i.oneOfType([i.number,i.string]),minHeight:i.oneOfType([i.number,i.string]),resizable:i.bool,draggable:i.bool,title:i.any,shouldUpdateOnDrag:i.bool,stage:i.oneOf(["DEFAULT","MINIMIZED","FULLSCREEN"]),className:i.string,style:i.object},e.defaultProps={minWidth:120,minHeight:100,resizable:!0,draggable:!0,modal:!1,doubleClickStageChange:!0},e}(r.Component)},function(t,e,n){"use strict";var r=n(27),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function l(t){if("[object Object]"!==o.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===o.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:l,isUndefined:a,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:c,isStream:function(t){return s(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function n(n,r){l(e[r])&&l(n)?e[r]=t(e[r],n):l(n)?e[r]=t({},n):i(n)?e[r]=n.slice():e[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return e},extend:function(t,e,n){return u(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Animation",(function(){return w})),n.d(e,"AnimationChild",(function(){return m})),n.d(e,"Fade",(function(){return _})),n.d(e,"Expand",(function(){return T})),n.d(e,"Push",(function(){return M})),n.d(e,"Slide",(function(){return L})),n.d(e,"Zoom",(function(){return U})),n.d(e,"Reveal",(function(){return G})),n.d(e,"useAnimation",(function(){return Y}));var r,o=n(0),i=n(1),a=n(2),s=n(22),l=function(t){if(!t)return 0;var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop),r=parseFloat(e.marginBottom);return t.offsetHeight+n+r},c=function(t){if(!t)return 0;var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginLeft),r=parseFloat(e.marginRight);return t.offsetWidth+n+r},u={"animation-container":"k-animation-container","animation-container-relative":"k-animation-container-relative","animation-container-fixed":"k-animation-container-fixed","push-right-enter":"k-push-right-enter","push-right-appear":"k-push-right-appear","push-right-enter-active":"k-push-right-enter-active","push-right-appear-active":"k-push-right-appear-active","push-right-exit":"k-push-right-exit","push-right-exit-active":"k-push-right-exit-active","push-left-enter":"k-push-left-enter","push-left-appear":"k-push-left-appear","push-left-enter-active":"k-push-left-enter-active","push-left-appear-active":"k-push-left-appear-active","push-left-exit":"k-push-left-exit","push-left-exit-active":"k-push-left-exit-active","push-down-enter":"k-push-down-enter","push-down-appear":"k-push-down-appear","push-down-enter-active":"k-push-down-enter-active","push-down-appear-active":"k-push-down-appear-active","push-down-exit":"k-push-down-exit","push-down-exit-active":"k-push-down-exit-active","push-up-enter":"k-push-up-enter","push-up-appear":"k-push-up-appear","push-up-enter-active":"k-push-up-enter-active","push-up-appear-active":"k-push-up-appear-active","push-up-exit":"k-push-up-exit","push-up-exit-active":"k-push-up-exit-active",expand:"k-expand","expand-vertical-enter":"k-expand-vertical-enter","expand-vertical-appear":"k-expand-vertical-appear","expand-vertical-enter-active":"k-expand-vertical-enter-active","expand-vertical-appear-active":"k-expand-vertical-appear-active","expand-vertical-exit":"k-expand-vertical-exit","expand-vertical-exit-active":"k-expand-vertical-exit-active","expand-horizontal-enter":"k-expand-horizontal-enter","expand-horizontal-appear":"k-expand-horizontal-appear","expand-horizontal-enter-active":"k-expand-horizontal-enter-active","expand-horizontal-appear-active":"k-expand-horizontal-appear-active","expand-horizontal-exit":"k-expand-horizontal-exit","expand-horizontal-exit-active":"k-expand-horizontal-exit-active","child-animation-container":"k-child-animation-container","fade-enter":"k-fade-enter","fade-appear":"k-fade-appear","fade-enter-active":"k-fade-enter-active","fade-appear-active":"k-fade-appear-active","fade-exit":"k-fade-exit","fade-exit-active":"k-fade-exit-active","zoom-in-enter":"k-zoom-in-enter","zoom-in-appear":"k-zoom-in-appear","zoom-in-enter-active":"k-zoom-in-enter-active","zoom-in-appear-active":"k-zoom-in-appear-active","zoom-in-exit":"k-zoom-in-exit","zoom-in-exit-active":"k-zoom-in-exit-active","zoom-out-enter":"k-zoom-out-enter","zoom-out-appear":"k-zoom-out-appear","zoom-out-enter-active":"k-zoom-out-enter-active","zoom-out-appear-active":"k-zoom-out-appear-active","zoom-out-exit":"k-zoom-out-exit","zoom-out-exit-active":"k-zoom-out-exit-active","slide-in-appear":"k-slide-in-appear",centered:"k-centered","slide-in-appear-active":"k-slide-in-appear-active","slide-down-enter":"k-slide-down-enter","slide-down-appear":"k-slide-down-appear","slide-down-enter-active":"k-slide-down-enter-active","slide-down-appear-active":"k-slide-down-appear-active","slide-down-exit":"k-slide-down-exit","slide-down-exit-active":"k-slide-down-exit-active","slide-up-enter":"k-slide-up-enter","slide-up-appear":"k-slide-up-appear","slide-up-enter-active":"k-slide-up-enter-active","slide-up-appear-active":"k-slide-up-appear-active","slide-up-exit":"k-slide-up-exit","slide-up-exit-active":"k-slide-up-exit-active","slide-right-enter":"k-slide-right-enter","slide-right-appear":"k-slide-right-appear","slide-right-enter-active":"k-slide-right-enter-active","slide-right-appear-active":"k-slide-right-appear-active","slide-right-exit":"k-slide-right-exit","slide-right-exit-active":"k-slide-right-exit-active","slide-left-enter":"k-slide-left-enter","slide-left-appear":"k-slide-left-appear","slide-left-enter-active":"k-slide-left-enter-active","slide-left-appear-active":"k-slide-left-appear-active","slide-left-exit":"k-slide-left-exit","slide-left-exit-active":"k-slide-left-exit-active","reveal-vertical-enter":"k-reveal-vertical-enter","reveal-vertical-appear":"k-reveal-vertical-appear","reveal-vertical-enter-active":"k-reveal-vertical-enter-active","reveal-vertical-appear-active":"k-reveal-vertical-appear-active","reveal-vertical-exit":"k-reveal-vertical-exit","reveal-vertical-exit-active":"k-reveal-vertical-exit-active","reveal-horizontal-enter":"k-reveal-horizontal-enter","reveal-horizontal-appear":"k-reveal-horizontal-appear","reveal-horizontal-enter-active":"k-reveal-horizontal-enter-active","reveal-horizontal-appear-active":"k-reveal-horizontal-appear-active","reveal-horizontal-exit":"k-reveal-horizontal-exit","reveal-horizontal-exit-active":"k-reveal-horizontal-exit-active"},p=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},f=u,m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this,e=this.props,n=e.children,r=e.style,i=e.appear,l=e.enter,c=e.exit,u=e.transitionName,p=e.transitionEnterDuration,m=e.transitionExitDuration,v=e.className,g=e.onEnter,y=e.onEntering,b=e.onEntered,x=e.onExit,w=e.onExiting,k=e.onExited,O=e.mountOnEnter,C=e.unmountOnExit,_=e.animationEnteringStyle,S=e.animationEnteredStyle,E=e.animationExitingStyle,I=e.animationExitedStyle,T=d(e,["children","style","appear","enter","exit","transitionName","transitionEnterDuration","transitionExitDuration","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","animationEnteringStyle","animationEnteredStyle","animationExitingStyle","animationExitedStyle"]),D=Object(a.g)(v,f["child-animation-container"]),P=h({transitionDelay:"0ms"},r),A={entering:h({transitionDuration:p+"ms"},_),entered:h({},S),exiting:h({transitionDuration:m+"ms"},E),exited:h({},I)},j={in:this.props.in,appear:i,enter:l,exit:c,mountOnEnter:O,unmountOnExit:C,timeout:{enter:p,exit:m},onEnter:function(e){g&&g.call(void 0,{animatedElement:e,target:t})},onEntering:function(e){y&&y.call(void 0,{animatedElement:e,target:t})},onEntered:function(e){b&&b.call(void 0,{animatedElement:e,target:t})},onExit:function(e){x&&x.call(void 0,{animatedElement:e,target:t})},onExiting:function(e){w&&w.call(void 0,{animatedElement:e,target:t})},onExited:function(e){k&&k.call(void 0,{animatedElement:e,target:t})},classNames:{appear:f[u+"-appear"]||u+"-appear",appearActive:f[u+"-appear-active"]||u+"-appear-active",enter:f[u+"-enter"]||u+"-enter",enterActive:f[u+"-enter-active"]||u+"-enter-active",exit:f[u+"-exit"]||u+"-exit",exitActive:f[u+"-exit-active"]||u+"-exit-active"}};return o.createElement(s.CSSTransition,h({},j,T),(function(e){return o.createElement("div",{style:h({},P,A[e]),className:D,ref:function(e){t._element=e}},n)}))},e.propTypes={in:i.bool,children:i.oneOfType([i.arrayOf(i.node),i.node]),transitionName:i.string.isRequired,className:i.string,appear:i.bool,enter:i.bool,exit:i.bool,transitionEnterDuration:i.number.isRequired,transitionExitDuration:i.number.isRequired,mountOnEnter:i.bool,unmountOnExit:i.bool,animationEnteringStyle:i.object,animationEnteredStyle:i.object,animationExitingStyle:i.object,animationExitedStyle:i.object},e.defaultProps={mountOnEnter:!0,unmountOnExit:!1,onEnter:a.v,onEntering:a.v,onEntered:a.v,onExit:a.v,onExiting:a.v,onExited:a.v,animationEnteringStyle:{},animationEnteredStyle:{},animationExitingStyle:{},animationExitedStyle:{}},e}(o.Component),v={name:"@progress/kendo-react-animation",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616330,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(){return(y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},b=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},x=u,w=function(t){function e(e){var n=t.call(this,e)||this;return Object(a.D)(v),n}return g(e,t),e.prototype.render=function(){var t=this.props,e=t.id,n=t.style,r=t.children,i=t.component,l=t.className,c=t.childFactory,u=(t.stackChildren,t.componentChildStyle),p=t.componentChildClassName,h=b(t,["id","style","children","component","className","childFactory","stackChildren","componentChildStyle","componentChildClassName"]),d={id:e,style:n,component:i,childFactory:c,className:Object(a.g)(x["animation-container"],x["animation-container-relative"],l)},f=o.Children.map(r||null,(function(t){return o.createElement(m,y({},h,{style:u,className:p}),t)}));return o.createElement(s.TransitionGroup,y({},d),f)},e.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,component:i.string,id:i.string,style:i.any,transitionName:i.string.isRequired,appear:i.bool.isRequired,enter:i.bool.isRequired,exit:i.bool.isRequired,transitionEnterDuration:i.number.isRequired,transitionExitDuration:i.number.isRequired},e.defaultProps={component:"div"},e}(o.Component),k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(){return(O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},C=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=C(t,["children"]);return o.createElement(w,O({},{transitionName:"fade"},n),e)},e.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,component:i.string,id:i.string,style:i.any},e.defaultProps={appear:!1,enter:!0,exit:!1,transitionEnterDuration:500,transitionExitDuration:500},e}(o.Component),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(){return(E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype.render=function(){var t=this.props,e=t.direction,n=t.children,r=I(t,["direction","children"]),i={transitionName:"expand-"+e};return o.createElement(w,E({},i,r),n)},e.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,direction:i.oneOf(["horizontal","vertical"]),component:i.string,id:i.string,style:i.any},e.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"vertical"},e}(o.Component),D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(){return(P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},A=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},j={position:"absolute",top:"0",left:"0"},M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.direction,r=A(t,["children","direction"]);return o.createElement(w,P({},r,{transitionName:"push-"+n,animationExitingStyle:this.props.stackChildren?j:void 0}),e)},e.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,direction:i.oneOf(["up","down","left","right"]),component:i.string,id:i.string,style:i.any,stackChildren:i.bool},e.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"right",stackChildren:!1},e}(o.Component),R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(){return(N=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},F=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.render=function(){var t=this.props,e=t.direction,n=t.children,r=F(t,["direction","children"]),i={transitionName:"slide-"+e};return o.createElement(w,N({},i,r),n)},e.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,direction:i.oneOf(["up","down","left","right"]),component:i.string,id:i.string,style:i.any},e.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"down"},e}(o.Component),z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(){return(B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},V=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},H={position:"absolute",top:"0",left:"0"},U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return z(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.direction,r=V(t,["children","direction"]);return o.createElement(w,B({},r,{transitionName:"zoom-"+n,animationExitingStyle:this.props.stackChildren?H:void 0}),e)},e.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,direction:i.oneOf(["in","out"]),component:i.string,id:i.string,style:i.any,stackChildren:i.bool},e.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"out",stackChildren:!1},e}(o.Component),W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(){return(q=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},K=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={maxHeight:void 0,maxWidth:void 0},e.componentWillEnter=function(t){var n=e.props.onEnter;e.updateContainerDimensions(t.animatedElement,(function(){n&&n.call(void 0,t)}))},e.componentIsEntering=function(t){var n=e.props.onEntering;e.updateContainerDimensions(t.animatedElement,(function(){n&&n.call(void 0,t)}))},e.componentWillExit=function(t){var n=e.props.onExit;e.updateContainerDimensions(t.animatedElement,(function(){n&&n.call(void 0,t)}))},e.updateContainerDimensions=function(t,n){void 0===n&&(n=a.v);var r=t.firstChild;if(r){var o=l(r),i=c(r);e.setState({maxHeight:o,maxWidth:i},n)}},e}return W(e,t),e.prototype.render=function(){var t,e=this.props,n=e.direction,r=e.children,i=e.childFactory,a=K(e,["direction","children","childFactory"]),s=this.state,l=s.maxHeight,c=s.maxWidth,u={maxHeight:(t="vertical"===n?{maxHeight:l?l+"px":null}:{maxWidth:c?c+"px":null}).maxHeight,maxWidth:t.maxWidth};return o.createElement(w,q({},a,{childFactory:i||function(e){return e.props.in?e:o.cloneElement(e,q({},e.props,{style:q({},e.props.style,{maxHeight:t.maxHeight,maxWidth:t.maxWidth})}))},onEnter:this.componentWillEnter,onEntering:this.componentIsEntering,onExit:this.componentWillExit,animationEnteringStyle:u,transitionName:"reveal-"+n}),r)},e.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,direction:i.oneOf(["horizontal","vertical"]),component:i.string,id:i.string,style:i.any},e.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"vertical"},e}(o.Component),Y=function(t,e){var n=o.useRef(0),r=o.useRef(!1),i=o.useRef();o.useEffect((function(){return function(t){var e,r=t.duration,o=n.current&&1-n.current;t.onStart&&t.onStart();var a=function(s){e||(e=s);var l=(s-e+1)/r+o;l<=1?(t.onUpdate&&t.onUpdate(l),i.current=window.requestAnimationFrame(a),n.current=l):(t.onEnd&&t.onEnd(1),n.current=0)};i.current=window.requestAnimationFrame(a)}(t),function(){i.current&&window.cancelAnimationFrame(i.current)}}),e),o.useEffect((function(){r.current=!0}),[])}},function(t,e,n){"use strict";n.r(e),n.d(e,"TreeList",(function(){return H})),n.d(e,"TreeListCell",(function(){return D})),n.d(e,"TreeListRow",(function(){return F})),n.d(e,"TreeListDraggableRow",(function(){return rt})),n.d(e,"TreeListHeaderCell",(function(){return W})),n.d(e,"TreeListSelectionCell",(function(){return K})),n.d(e,"TreeListHeaderSelectionCell",(function(){return X})),n.d(e,"TreeListToolbar",(function(){return it})),n.d(e,"TreeListNoRecords",(function(){return R})),n.d(e,"TreeListTextFilter",(function(){return dt})),n.d(e,"TreeListNumericFilter",(function(){return vt})),n.d(e,"TreeListDateFilter",(function(){return bt})),n.d(e,"TreeListBooleanFilter",(function(){return kt})),n.d(e,"TreeListTextEditor",(function(){return Ct})),n.d(e,"TreeListNumericEditor",(function(){return Et})),n.d(e,"TreeListBooleanEditor",(function(){return Tt})),n.d(e,"TreeListDateEditor",(function(){return At})),n.d(e,"orderBy",(function(){return p})),n.d(e,"filterBy",(function(){return h})),n.d(e,"mapTree",(function(){return d})),n.d(e,"createDataTree",(function(){return y})),n.d(e,"extendDataItem",(function(){return b})),n.d(e,"mapTreeItem",(function(){return f})),n.d(e,"moveTreeItem",(function(){return C})),n.d(e,"getItemPath",(function(){return O})),n.d(e,"removeItems",(function(){return x})),n.d(e,"modifySubItems",(function(){return k})),n.d(e,"treeToFlat",(function(){return g})),n.d(e,"flatData",(function(){return m})),n.d(e,"getNestedValue",(function(){return s})),n.d(e,"setHeaderRowsTop",(function(){return l})),n.d(e,"tableRowsVirtualization",(function(){return c})),n.d(e,"TREELIST_COL_INDEX_ATTRIBUTE",(function(){return E})),n.d(e,"TREELIST_ROW_INDEX_ATTRIBUTE",(function(){return S})),n.d(e,"TREELIST_PREVENT_SELECTION_ELEMENT",(function(){return I})),n.d(e,"getSelectedState",(function(){return a.getSelectedState})),n.d(e,"getSelectedStateFromKeyDown",(function(){return a.getSelectedStateFromKeyDown})),n.d(e,"setSelectedState",(function(){return a.setSelectedState}));var r=n(0),o=n(1),i=n(2),a=n(6);function s(t,e){var n=(t||"").split("."),r=e;return n.forEach((function(t){r=r?r[t]:void 0})),r}function l(t,e,n){var r,o=Array.from(t.tHead&&t.tHead.rows||[]),i=[e],a=n||function(t){return window.getComputedStyle(t).height||void 0};o.forEach((function(t){var e,n=a(t);i.push(void 0===(e=n)||"number"!=typeof e&&!/px$/i.test(String(e))?t.offsetHeight:parseFloat(String(n)))}));for(var s=0;s<o.length;s++)r=i.slice(0,s+1).reduce((function(t,e){return t+e})),Array.from(o[s].cells).forEach((function(t){return t.style.top=r+"px"}))}function c(t){var e=t.rows,n=t.tableViewPortHeight,r=t.scrollTop;if(0===e.length)return[];var o=e[0].height,i=Math.min(Math.round(r/o),e.length),a=Math.round(n/o),s=Math.max(0,i-a),l=Math.min(e.length,i+2*a),c=e.slice(s,l),u=c[c.length-1];return s>0&&c.unshift({dataItem:{},level:[1e6],offsetTop:0,height:c[0].offsetTop,levelCount:0}),l<e.length-1&&c.push({dataItem:{},level:[1e6,1e6],offsetTop:u.offsetTop+u.height,height:(e.length-l)*o,levelCount:0}),c}var u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function p(t,e,n){return Object(a.orderBy)(t,e,n)}function h(t,e,n){return Object(a.filterBy)(t,e,n)}var d=function(t,e,n){return Object(i.t)(t,e,n)},f=function(t,e,n,r){return Object(i.u)(t,e,n,r)};function m(t,e,n){for(var r=[],o=[],i=t.length-1;i>=0;i--){var a=t[i];r.push({root:a,data:e(a),level:[i],levelCount:t.length})}for(;r.length>0;){var s=r.pop();if(o.push(u({dataItem:s.root,level:s.level.slice()},n(s.root),{levelCount:s.levelCount})),s.data.length)for(i=s.data.length-1;i>=0;i--){a=s.data[i];r.push({root:a,data:e(a),level:s.level.concat([i]),levelCount:s.data.length})}}return o}var v,g=function(t,e,n){var r=function(t){var r=[];return function(t){return Boolean(s(e,t))}(t)&&function(t){return Boolean(s(n,t))}(t)&&r.push.apply(r,s(n,t)),r},o=function(t,e,n){e.push(u({},t,{level:n})),r(t).forEach((function(t){return o(t,e,n+1)}))},i=[];return t.forEach((function(t){return o(t,i,0)})),i},y=function(t,e,n,r){var o,i={},a=[];return t.forEach((function(t){return i[e(t)]=u({},t)})),t.forEach((function(t){(o=i[n(t)])?(o[r]=o[r]||[],o[r].push(i[e(t)])):a.push(i[e(t)])})),a},b=function(t,e,n){return Object(i.l)(t,e,n)},x=function(t,e,n){var r;return d([(r={},r[e]=t.slice(),r)],e,(function(t){return w(t,n,e)}))[0][e].slice()},w=function(t,e,n){var r,o=t[n]||[],i=o.findIndex(e);if(-1!==i){var a=o.slice();return a.splice(i,1),u({},t,((r={})[n]=a,r))}return t},k=function(t,e,n,r){return d(t,e,(function(t){var o;return n(t)?u({},t,((o={})[e]=r(t[e]||[]),o)):t}))},O=function(t,e,n){return Object(i.n)(t,e,n)},C=function(t,e,n,r){var o=t.slice(),i=O(o,e,r),a=i.pop(),s=i.pop(),l=e[e.length-1];if(n){var c=O(o,n,r).pop();(s?s[r]:o).splice(l,1),c[r]=c[r]||[],c[r].push(a)}else(s?s[r]:o).splice(l,1),o.push(a);return o},_=n(5),S=a.TABLE_ROW_INDEX_ATTRIBUTE,E=a.TABLE_COL_INDEX_ATTRIBUTE,I=a.TABLE_PREVENT_SELECTION_ELEMENT,T=function(){return(T=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},D=function(t){var e,n,o,l=t.hasChildren,c=t.level,u=void 0===c?[0]:c,p=t.expanded,h=t.dataItem,d=t.format,f=t.id,m=t.ariaColumnIndex,v=t.isSelected,g=s(t.field,h),y=Object(_.useInternationalization)(),b=Object(a.useTableKeyboardNavigation)(f),x="",w=r.useCallback((function(e){e.isDefaultPrevented()||e.keyCode===i.d.enter&&t.expandable&&(e.preventDefault(),t.onExpandChange(e,h,u))}),[t.expandable,h,u]);null!=g&&(x=d?y.format(d,g):g.toString());var k=[];t.expandable&&(k.push.apply(k,u.slice(1).map((function(t,e){return r.createElement("span",{className:"k-icon k-i-none",key:e})}))),l?k.push(r.createElement("span",T({className:"k-icon k-i-"+(p?"collapse":"expand"),key:"expand-collapse",onClick:function(e){return t.onExpandChange(e,h,u)}},((e={})[I]=!0,e)))):k.push(r.createElement("span",{className:"k-icon k-i-none",key:k.length})));var O=r.createElement("td",T({style:t.style,className:Object(i.g)(t.className,(n={},n["k-text-nowrap"]=t.expandable,n["k-state-selected"]=v,n)),colSpan:t.colSpan,"aria-colindex":m,"aria-expanded":l?p:void 0,"aria-selected":v,role:"gridcell",onKeyDown:w},((o={})[E]=t.colIndex,o),b),k,x);return t.render?t.render.call(void 0,O,t):O};D.displayName="KendoReactTreeListCell";var P,A="treelist.noRecords",j=((v={})["treelist.filterClearButton"]="Clear",v["treelist.filterEqOperator"]="Is equal to",v["treelist.filterNotEqOperator"]="Is not equal to",v["treelist.filterIsNullOperator"]="Is null",v["treelist.filterIsNotNullOperator"]="Is not null",v["treelist.filterIsEmptyOperator"]="Is empty",v["treelist.filterIsNotEmptyOperator"]="Is not empty",v["treelist.filterStartsWithOperator"]="Starts with",v["treelist.filterContainsOperator"]="Contains",v["treelist.filterNotContainsOperator"]="Does not contain",v["treelist.filterEndsWithOperator"]="Ends with",v["treelist.filterGteOperator"]="Is greater than or equal to",v["treelist.filterGtOperator"]="Is greater than",v["treelist.filterLteOperator"]="Is less than or equal to",v["treelist.filterLtOperator"]="Is less than",v["treelist.filterIsTrue"]="Is true",v["treelist.filterIsFalse"]="Is false",v["treelist.filterBooleanAll"]="(All)",v["treelist.filterAfterOrEqualOperator"]="Is after or equal to",v["treelist.filterAfterOperator"]="Is after",v["treelist.filterBeforeOperator"]="Is before",v["treelist.filterBeforeOrEqualOperator"]="Is before or equal to",v[A]="No records available",v),M=(P=function(t,e){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype.render=function(){return this.props.children||Object(_.provideLocalizationService)(this).toLanguageString(A,j[A])},e}(r.Component);Object(_.registerForLocalization)(R);var N=function(){return(N=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},F=r.forwardRef((function(t,e){var n,o=t.isSelected,a=t.rowHeight,s=t.isAltRow,l=t.expanded,c=t.ariaRowIndex,u=t.level,p=t.ariaSetSize,h=t.ariaPosInSet,d=Object(i.g)("k-master-row",{"k-state-selected":o,"k-alt":s}),f=r.useMemo((function(){return void 0!==a?{height:a+"px"}:void 0}),[a]),m=r.createElement("tr",N({onClick:t.onClick,onDoubleClick:t.onDoubleClick,onContextMenu:t.onContextMenu,className:d,style:f,ref:e,"aria-expanded":l,role:"row","aria-rowindex":c,"aria-level":u.length,"aria-posinset":h,"aria-setsize":p},((n={})[S]=t.rowIndex,n)),t.children);return t.render?t.render.call(void 0,m,t):m})),L={name:"@progress/kendo-react-treelist",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616851,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(){return(B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},V=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},H=function(t){function e(e){var n=t.call(this,e)||this;return n.wrapperScrollLeft=0,n.wrapperScrollTop=0,n.updateOnScroll=!1,n.tbodyOffsetTop=0,n.prevData=[],n.prevColumns=void 0,n.flattedData=[],n.extendedColumn=[],n.columnsMap=[],n.element=null,n._treeListId=Object(i.r)(),n.contextStateRef={current:void 0},n.navigationStateRef={current:void 0},n.scrollIntoView=function(t){if(n.element){var e=t.rowIndex,r=void 0===e?0:e,o=n.props,i=o.scrollable,a=o.rowHeight,s=void 0===a?0:a;if("virtual"===i||s)n.element.scroll(0,(r-1)*s);else{var l=n.element.querySelector("tbody > tr:nth-child("+r+")");if(l){var c=l.offsetTop-n.tbodyOffsetTop;n.element.scroll(0,c)}}}},n.onKeyDown=function(t){if(a.tableKeyboardNavigation.onKeyDown(t,{contextStateRef:n.contextStateRef,navigationStateRef:n.navigationStateRef}),n.props.onKeyDown){var e=Object(a.getSelectionOptions)(n.props.selectable),r=e.mode,o=e.cell;n.props.onKeyDown.call(void 0,B({dataItems:n.getLeafDataItems(),mode:r,cell:o,componentId:n._treeListId,selectedField:n.props.selectedField},n.getArguments(t)))}},n.onFocus=function(t){a.tableKeyboardNavigation.onFocus(t,{contextStateRef:n.contextStateRef})},n.onRowDrag=function(t){n.props.onRowDrag&&n.props.onRowDrag.call(void 0,B({},t,{target:n}))},n.onRowDrop=function(t){n.props.onRowDrop&&n.props.onRowDrop.call(void 0,B({},t,{target:n}))},n.columnReorder=function(t,e,r){var o,i=n.extendedColumn[t].depth,a=function(t){do{t++}while(t<n.extendedColumn.length&&n.extendedColumn[t].depth>i);return t},s=n.extendedColumn.splice(t,a(t)-t);if((o=n.extendedColumn).splice.apply(o,[t<e?a(e-s.length):e,0].concat(s)),n.extendedColumn.filter((function(t){return t.declarationIndex>=0})).forEach((function(t,e){return t.orderIndex=e})),n.props.onColumnReorder){var l={target:n,columns:n.columns,nativeEvent:r};n.props.onColumnReorder.call(void 0,l)}},n.onResize=function(t,e,r,o,i){if(n.props.onColumnResize){var a=n.extendedColumn.filter((function(t){return 0===t.children.length})).reduce((function(t,e){return t+parseFloat(String(e.width))}),0),s={columns:n.columns,totalWidth:a,index:t,nativeEvent:o,newWidth:e,oldWidth:r,end:i,target:n};i&&(n.prevColumns=void 0),n.props.onColumnResize.call(void 0,s)}},n.handleOnScroll=function(t){var e=t.currentTarget.scrollLeft,r=t.currentTarget.scrollTop,o=n.props,i=o.columnVirtualization,a=o.scrollable,s=o.rowHeight,l=void 0===s?0:s,c=!1;i&&Math.abs(n.wrapperScrollLeft-e)>0&&(n.wrapperScrollLeft=e,c=!0),"virtual"===a&&Math.abs(n.wrapperScrollTop-r)>l&&(n.wrapperScrollTop=r,c=!0),c&&(n.updateOnScroll=!0,n.forceUpdate())},n.calculateSizes=function(t){if(t&&"none"!==n.props.scrollable){var e=Array.from(t.childNodes),r=e.find((function(t){return"TABLE"===t.nodeName})),o=n.props.toolbar&&e.find((function(t){return 1===t.nodeType&&t.classList.contains("k-grid-toolbar")})),i=0;if(o){var a=o.style.boxSizing;o.style.boxSizing="border-box",i=parseFloat(String(window.getComputedStyle(o).height))||o.offsetHeight,o.style.boxSizing=a,o.getAttribute("style")||o.removeAttribute("style")}n.tbodyOffsetTop=r.tBodies[0].offsetTop,l(r,i)}},n.itemChange=function(t){var e=n.props.onItemChange;if(t.field!==n.props.expandField){if(e){var r=B({},n.getArguments(t.syntheticEvent),{dataItem:t.dataItem,level:t.level,field:t.field,value:t.value});e.call(void 0,r)}}else{var o=n.props.onExpandChange;if(o){var i=B({},n.getArguments(t.syntheticEvent),{dataItem:t.dataItem,level:t.level,value:t.value});o.call(void 0,i)}}},n.onHeaderSelectionChange=function(t){if(n.props.onHeaderSelectionChange){var e={field:t.field,nativeEvent:t.syntheticEvent&&t.syntheticEvent.nativeEvent,syntheticEvent:t.syntheticEvent,target:n,dataItems:n.getLeafDataItems()};n.props.onHeaderSelectionChange.call(void 0,e)}},n.selectionRelease=function(t){if(n.props.onSelectionChange){var e=B({syntheticEvent:void 0,target:n,selectedField:n.props.selectedField||"",componentId:n._treeListId,dataItems:n.getLeafDataItems(),dataItem:null,level:[]},t);n.props.onSelectionChange.call(void 0,e)}},n.sortChange=function(t,e,r){n.raiseDataEvent(n.props.onSortChange,{sort:e,field:r},t)},n.filterChange=function(t){var e=t.filter,r=t.field;n.raiseDataEvent(n.props.onFilterChange,{filter:e,field:r},t.syntheticEvent)},n.columnMenuFilterChange=function(t,e,r){var o=n.props.onColumnMenuFilterChange;if(o){var i={syntheticEvent:t,filter:e,field:r,target:n,nativeEvent:t.nativeEvent};o.call(void 0,i)}},n.expandChange=function(t,e,r){var o=n.props,i=o.expandField,a=o.onExpandChange;if(i&&a){var s=B({},n.getArguments(t),{dataItem:e,level:r,value:n.expanded(e)});a.call(void 0,s)}},n.rowClick=function(t,e){if(n.props.onRowClick&&"TD"===t.target.nodeName){var r=B({dataItem:e.dataItem,level:e.level},n.getArguments(t));n.props.onRowClick.call(void 0,r)}},n.rowDoubleClick=function(t,e){if(n.props.onRowDoubleClick&&"TD"===t.target.nodeName){var r=B({dataItem:e.dataItem,level:e.level},n.getArguments(t));n.props.onRowDoubleClick.call(void 0,r)}},n.rowContextMenu=function(t,e){if(n.props.onRowContextMenu&&"TD"===t.target.nodeName){var r=B({dataItem:e.dataItem,level:e.level},n.getArguments(t));n.props.onRowContextMenu.call(void 0,r)}},n.onPageChange=function(t){if(n.props.onPageChange){var e=B({},n.getArguments(t.syntheticEvent),{skip:t.skip,take:t.take});n.props.onPageChange.call(void 0,e)}},n.expandedSubItems=function(t){var e=[];return n.expanded(t)&&n.hasChildren(t)&&e.push.apply(e,s(n.props.subItemsField,t)),e},n.getLeafDataItems=function(){return n.flatData.map((function(t){return t.dataItem}))},n.expanded=function(t){return Boolean(s(n.props.expandField,t))},n.hasChildren=function(t){return Boolean(s(n.props.subItemsField,t))},Object(i.D)(L),n.dragLogic=new a.CommonDragLogic(n.columnReorder,i.v,i.v),n.columnResize=new a.ColumnResize(n.onResize.bind(n)),a.tableKeyboardNavigation.onConstructor({navigatable:Boolean(e.navigatable),contextStateRef:n.contextStateRef,navigationStateRef:n.navigationStateRef}),n}return z(e,t),Object.defineProperty(e.prototype,"document",{get:function(){if(i.e)return this.element&&this.element.ownerDocument||document},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.calculateSizes(this.element),a.tableKeyboardNavigation.onComponentDidMount({scope:this.element||void 0,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef})},e.prototype.getSnapshotBeforeUpdate=function(){return a.tableKeyboardNavigation.onGetSnapshotBeforeUpdate({document:this.document,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef}),null},e.prototype.componentDidUpdate=function(t){t.columns!==this.props.columns&&this.calculateSizes(this.element),a.tableKeyboardNavigation.onComponentDidUpdate({scope:this.element||void 0,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef})},e.prototype.componentWillUnmount=function(){this.columnResize.columns=[],this.dragLogic.columns=[],this.extendedColumn=[],this.columnsMap=[],this.prevData=[],this.flattedData=[],this.updateOnScroll=!1},e.prototype.render=function(){var t=this,e=this.props,n=e.columns,o=void 0===n?[]:n,l=e.filterRow,u=e.scrollable,p=void 0===u?"scrollable":u,h=e.resizable,d=void 0!==h&&h,f=e.reorderable,m=void 0!==f&&f,v=e.skip,g=e.take,y=o.some((function(t){return Boolean(t.filter)||Boolean(t.filterCell)}))||void 0!==l,b=l||a.FilterRow,x=a.tableKeyboardNavigationTools.getIdPrefix(this.navigationStateRef);this.prevColumns!==o&&(this.extendedColumn=Object(a.readColumns)(o,{prevId:0,idPrefix:x}),this.columnsMap=Object(a.mapColumns)(this.extendedColumn)),this.prevColumns=this.props.columns;var w=this.extendedColumn.filter((function(t){return 0===t.children.length}));this.columnResize.columns=this.extendedColumn,this.columnResize.resizable=d,this.dragLogic.columns=this.extendedColumn,this.dragLogic.reorderable=m,this.dragLogic.groupable=!1;var k=r.createElement(a.Header,{headerRow:r.createElement(a.HeaderRow,{sort:this.props.sort,sortable:this.props.sortable,sortChange:this.sortChange,selectionChange:this.onHeaderSelectionChange,columns:this.extendedColumn,columnsMap:this.columnsMap,cellRender:this.props.headerCellRender,columnResize:this.columnResize,columnMenu:this.props.columnMenu,columnMenuFilter:this.props.columnMenuFilter,columnMenuFilterChange:this.columnMenuFilterChange,pressHandler:this.dragLogic.pressHandler,dragHandler:this.dragLogic.dragHandler,releaseHandler:this.dragLogic.releaseHandler}),filterRow:y&&r.createElement(b,{columns:w,filter:this.props.filter,filterChange:this.filterChange,sort:this.props.sort,ariaRowIndex:this.columnsMap.length+1})||void 0,columnResize:this.columnResize}),O=this.props.style||{},C=Object(a.tableColumnsVirtualization)({enabled:this.props.columnVirtualization,columns:w,scrollLeft:this.wrapperScrollLeft,tableViewPortWidth:parseFloat((O.width||"").toString())}),_=C.colSpans,S=C.hiddenColumns,E=this.flatData,I=E.length;void 0!==v&&void 0!==g&&(E=E.slice(v,v+g)),"virtual"===p&&(E=c({rows:E,tableViewPortHeight:parseFloat((O.height||O.maxHeight||"").toString()),scrollTop:this.wrapperScrollTop}),this.updateOnScroll=!1);var T=E.map((function(t){return t.level})),P=this.columnsMap.length+(y?1:0)+1,A=E.length>0&&E.map((function(e,n){var o=s(t.props.editField,e.dataItem),l=t.props.dataItemKey&&Object(i.q)(t.props.dataItemKey)(e.dataItem),c=String(l||e.level.join(".")),u=t.expanded(e.dataItem),h=t.props.selectedField?s(t.props.selectedField,e.dataItem):void 0,d={key:c,level:e.level,levels:T,dataItem:e.dataItem,selectedField:t.props.selectedField,rowHeight:"virtual"===p?e.height:t.props.rowHeight,render:t.props.rowRender,onDrop:t.onRowDrop,onDrag:t.onRowDrag,onClick:function(n){return t.rowClick(n,e)},onDoubleClick:function(n){return t.rowDoubleClick(n,e)},onContextMenu:function(n){return t.rowContextMenu(n,e)},expanded:u,rowIndex:n,ariaRowIndex:P+n,ariaSetSize:e.levelCount,ariaPosInSet:e.level[e.level.length-1]+1,isSelected:"boolean"==typeof h&&h},f=t.props.editRow,m=t.props.row||F,v=function(e,n,o,i,s,l){return w.map((function(c,u){if(S[u])return null;var p=(c.className?c.className+" ":"")+(c.locked?"k-grid-content-sticky":""),h={id:a.tableKeyboardNavigationTools.generateNavigatableId(o+"-"+String(u),x),colSpan:_[u],dataItem:e.dataItem,field:c.field,format:c.format,className:p||void 0,render:t.props.cellRender,onChange:t.itemChange,selectionChange:t.props.onSelectionChange?function(n){t.selectionChange({event:n,item:e,columnIndex:u,dataIndex:s})}:void 0,level:e.level,expandable:c.expandable,expanded:i,hasChildren:t.hasChildren(e.dataItem),onExpandChange:t.expandChange,colIndex:u,ariaColumnIndex:c.ariaColumnIndex,style:void 0!==c.left&&{left:c.left,right:c.right,borderRightWidth:c.rightBorder?"1px":""}||{},isSelected:Array.isArray(l)&&l.indexOf(u)>-1};return n&&c.editCell?r.createElement(c.editCell,B({key:u},h,{onChange:t.itemChange})):c.cell?r.createElement(c.cell,B({key:u},h)):r.createElement(D,B({key:u},h))}))}(e,o,c,u,n,h);return o&&f?r.createElement(f,B({},d),v):r.createElement(m,B({},d),v)}))||r.createElement("tr",{className:"k-grid-norecords"},r.createElement("td",{colSpan:w.length},this.props.noRecords||r.createElement(R,null))),j=r.createElement("colgroup",{ref:function(e){t.columnResize.colGroupMain=e},role:"presentation"},w.map((function(e,n){return r.createElement("col",{key:n.toString(),className:(o=e.field,t.props.sort&&t.props.sort.some((function(t){return t.field===o}))?"k-sorted":void 0),style:void 0!==e.width?{width:e.width}:void 0});var o}))),M=this.props.columnVirtualization||"virtual"===this.props.scrollable,N=this.props.selectable&&this.props.selectable.drag?"none":void 0,L=this.props.tableProps||{};return r.createElement(a.TableKeyboardNavigationContext.Provider,{value:this.contextStateRef.current},r.createElement("div",B({style:this.props.style,className:Object(i.g)("k-widget k-grid",this.props.className,{"k-treelist-scrollable":"none"!==p}),ref:function(e){return t.element=e},onScroll:M?this.handleOnScroll:void 0,onKeyDown:this.onKeyDown,onFocus:this.onFocus,"aria-rowcount":I,"aria-colcount":w.length,role:"treegrid"},a.tableKeyboardNavigationScopeAttributes),this.props.toolbar,r.createElement(a.TableSelection,{selectable:this.props.selectable,onRelease:this.selectionRelease},r.createElement("table",B({},L,{style:B({},L.style||{},{userSelect:N}),role:"presentation"}),j,k,r.createElement("tbody",B({},a.tableKeyboardNavigationBodyAttributes,{role:"presentation"}),A))),this.props.pager&&r.createElement(this.props.pager,{className:"k-grid-pager",total:I,skip:v,take:g,onPageChange:this.onPageChange}),m&&r.createElement(r.Fragment,null,r.createElement(a.DropClue,{ref:this.dragLogic.refDropElementClue}),r.createElement(a.DragClue,{ref:this.dragLogic.refDragElementClue}))))},Object.defineProperty(e.prototype,"columns",{get:function(){var t=this.extendedColumn.filter((function(t){return t.declarationIndex>=0&&-1===t.parentIndex})),e=function(t){return t.sort((function(t,e){return t.declarationIndex-e.declarationIndex})),t.map((function(t){t.declarationIndex,t.parentIndex,t.depth,t.colSpan,t.rowSpan,t.index,t.kFirst,t.groupable;var n=t.children,r=V(t,["declarationIndex","parentIndex","depth","colSpan","rowSpan","index","kFirst","groupable","children"]);return n.length?B({children:e(n)},r):r}))};return e(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flatData",{get:function(){var t=this.props,e=t.data,n=void 0===e?[]:e,r=t.rowHeight,o=void 0===r?0:r,i=0,a=this.updateOnScroll&&this.prevData===n&&this.tbodyOffsetTop>0&&this.flattedData.length?this.flattedData:m(n,this.expandedSubItems,(function(t){var e={height:o,offsetTop:i};return i+=e.height,e}));return this.prevData=n,this.flattedData=a,a},enumerable:!0,configurable:!0}),e.prototype.selectionChange=function(t){if(this.props.onSelectionChange){var e=t.event,n=t.item,r=t.dataIndex,o=t.columnIndex,i=Object(a.getSelectionOptions)(this.props.selectable),s=i.mode,l=i.cell,c=B({},this.getArguments(e.syntheticEvent),{dataItem:n.dataItem,level:n.level,startColIndex:o,endColIndex:o,startRowIndex:r,endRowIndex:r,dataItems:this.getLeafDataItems(),altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,mode:s,cell:l,isDrag:!1,componentId:this._treeListId,selectedField:this.props.selectedField||""});this.props.onSelectionChange.call(void 0,c)}},e.prototype.raiseDataEvent=function(t,e,n){var r=this.props.onDataStateChange;if(t)t.call(void 0,B({},this.getArguments(n),e));else if(r){var o=B({},this.getArguments(n),{dataState:B({},this.getDataState(),e)});r.call(void 0,o)}},e.prototype.getDataState=function(){return{filter:this.props.filter,sort:this.props.sort}},e.prototype.getArguments=function(t){return{nativeEvent:t&&t.nativeEvent,syntheticEvent:t,target:this}},e.propTypes={data:o.array,resizable:o.bool,reorderable:o.bool,sortable:o.oneOfType([o.bool,o.shape({mode:o.oneOf(["single","multiple"]),allowUnsort:o.bool})]),onSortChange:o.func,sort:o.array,columns:o.arrayOf(o.object),columnVirtualization:o.bool,filter:o.array,onFilterChange:o.func,filterRow:o.any,toolbar:o.any,noRecords:o.any,onExpandChange:o.func,expandField:o.string,subItemsField:o.string,selectedField:o.string,onSelectionChange:o.func,onHeaderSelectionChange:o.func,onRowClick:o.func,onItemChange:o.func,editField:o.string,scrollable:o.oneOf(["none","scrollable","virtual"]),rowHeight:o.number,style:o.object,tableProps:o.object,pager:o.any,skip:o.number,take:o.number,onPageChange:o.func,onDataStateChange:o.func,onColumnResize:o.func,onColumnReorder:o.func,dataItemKey:o.string,navigatable:o.bool},e.contextType=a.TableKeyboardNavigationContext,e}(r.Component),U=function(){return(U=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},W=function(t){return r.createElement(a.HeaderCell,U({},t))},q=function(){return(q=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},K=function(t){var e=r.useCallback((function(e){t.selectionChange&&t.selectionChange({syntheticEvent:e})}),[t.selectionChange]),n=r.useMemo((function(){return Object(i.r)()}),[]),o=s(t.field,t.dataItem),l=Object(a.useTableKeyboardNavigation)(t.id),c=r.createElement("td",q({style:t.style,className:t.className,"aria-colindex":t.ariaColumnIndex,role:"gridcell"},l),r.createElement("input",{checked:"boolean"==typeof o&&o,id:n,type:"checkbox",className:"k-checkbox",onChange:e}),r.createElement("label",{className:"k-checkbox-label",htmlFor:n}));return t.render?t.render.call(void 0,c,t):c};K.displayName="KendoReactTreeListSelectionCell";var G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y=function(){return(Y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},X=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._inputId=Object(i.r)(),e}return G(e,t),e.prototype.render=function(){return r.createElement(a.HeaderSelectionCell,Y({inputId:this._inputId},this.props))},e}(r.Component),$=n(12),Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(){return(J=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Q=function(t){return t.visible&&i.e?$.createPortal(r.createElement("div",{className:"k-header k-drag-clue",style:{display:"block",position:"absolute",zIndex:2e4,padding:"8px 12px",top:t.top+"px",left:t.left+"px"}},r.createElement("span",{className:"k-icon k-drag-status "+(t.allowDrop?"k-i-add":"k-i-cancel")+" k-icon-with-modifier"},r.createElement("span",{className:"k-icon k-icon-modifier"})),t.text),document.body):null};function tt(t,e,n){if(!t.originalEvent)return-1;var r=et(t,"tr",n);if(r)for(var o=e?e.childNodes:[],i=0;i<o.length;i++)if(o[i]===r)return i;return-1}function et(t,e,n){var r=n?n.elementFromPoint(t.clientX,t.originalEvent.clientY):null;return e&&r?r.closest(e):null}var nt={visible:!1,top:0,left:0,text:"",allowDrop:!1},rt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={clueProps:J({},nt)},e.draggable=r.createRef(),e.dragged=null,e.draggedOver=null,e.onPress=function(){return e.dragged=e.props.level},e.onDrag=function(t){if(i.e){var n=e.draggable.current&&e.draggable.current.element,r=n?n.ownerDocument:document;if(r){var o=t.event,a=e.dragged;if(n&&a){o.isTouch||o.originalEvent.preventDefault();var s=e.props.levels[tt(o,n.parentNode,r)];e.draggedOver=s;var l=s?!a.every((function(t,e){return t===s[e]})):Boolean(et(o,".k-widget.k-grid",r));e.setState({clueProps:{visible:!0,top:o.pageY+10,left:o.pageX,text:n.innerText,allowDrop:l}}),e.props.onDrag&&e.props.onDrag.call(void 0,{nativeEvent:o.originalEvent,dragged:a,draggedOver:s,draggedItem:e.props.dataItem})}}}},e.onRelease=function(t){var n=t.event;if(e.dragged){var r=e.dragged.slice(),o=e.draggedOver&&e.draggedOver.slice(),i=e.state.clueProps.allowDrop;e.dragged=null,e.draggedOver=null,e.setState({clueProps:J({},nt)});var a=e.props.dataItem;i&&e.props.onDrop&&e.props.onDrop.call(void 0,{nativeEvent:n.originalEvent,dragged:r,draggedOver:o,draggedItem:a})}},e}return Z(e,t),e.prototype.render=function(){var t=this.state.clueProps;return r.createElement(r.Fragment,null,r.createElement(i.b,{ref:this.draggable,onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease},r.createElement(F,J({},this.props))),r.createElement(Q,J({},t)))},e}(r.Component),ot=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ot(e,t),e.prototype.render=function(){return r.createElement("div",{className:"k-toolbar k-grid-toolbar"},this.props.children)},e}(r.Component),at=[{text:"treelist.filterContainsOperator",operator:"contains"},{text:"treelist.filterNotContainsOperator",operator:"doesnotcontain"},{text:"treelist.filterEqOperator",operator:"eq"},{text:"treelist.filterNotEqOperator",operator:"neq"},{text:"treelist.filterStartsWithOperator",operator:"startswith"},{text:"treelist.filterEndsWithOperator",operator:"endswith"},{text:"treelist.filterIsNullOperator",operator:"isnull"},{text:"treelist.filterIsNotNullOperator",operator:"isnotnull"},{text:"treelist.filterIsEmptyOperator",operator:"isempty"},{text:"treelist.filterIsNotEmptyOperator",operator:"isnotempty"}],st=[{text:"treelist.filterEqOperator",operator:"eq"},{text:"treelist.filterNotEqOperator",operator:"neq"},{text:"treelist.filterGteOperator",operator:"gte"},{text:"treelist.filterGtOperator",operator:"gt"},{text:"treelist.filterLteOperator",operator:"lte"},{text:"treelist.filterLtOperator",operator:"lt"},{text:"treelist.filterIsNullOperator",operator:"isnull"},{text:"treelist.filterIsNotNullOperator",operator:"isnotnull"}],lt=[{text:"treelist.filterEqOperator",operator:"eq"},{text:"treelist.filterNotEqOperator",operator:"neq"},{text:"treelist.filterAfterOrEqualOperator",operator:"gte"},{text:"treelist.filterAfterOperator",operator:"gt"},{text:"treelist.filterBeforeOperator",operator:"lt"},{text:"treelist.filterBeforeOrEqualOperator",operator:"lte"},{text:"treelist.filterIsNullOperator",operator:"isnull"},{text:"treelist.filterIsNotNullOperator",operator:"isnotnull"}],ct=[{text:"treelist.filterBooleanAll",operator:""},{text:"treelist.filterIsTrue",operator:!0},{text:"treelist.filterIsFalse",operator:!1}];function ut(t,e){return{clearButtonTitle:t.toLanguageString("treelist.filterClearButton",j["treelist.filterClearButton"]),operators:e.map((function(e){return{text:t.toLanguageString(e.text,j[e.text]),operator:e.operator}}))}}var pt=function(){return(pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ht=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},dt=function(t){var e=t.operators,n=ht(t,["operators"]);return r.createElement(a.TextFilterCell,pt({},ut(Object(_.useLocalization)(),e||at),n))},ft=function(){return(ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},mt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},vt=function(t){var e=t.operators,n=mt(t,["operators"]);return r.createElement(a.NumericFilterCell,ft({},ut(Object(_.useLocalization)(),e||st),n))},gt=function(){return(gt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},yt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},bt=function(t){var e=t.operators,n=yt(t,["operators"]);return r.createElement(a.DateFilterCell,gt({},ut(Object(_.useLocalization)(),e||lt),n))},xt=function(){return(xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},wt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},kt=function(t){var e=t.operators,n=wt(t,["operators"]);return r.createElement(a.BooleanFilterCell,xt({},ut(Object(_.useLocalization)(),e||ct),n))},Ot=function(){return(Ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ct=function(t){var e,n,o=r.useCallback((function(e){t.onChange&&t.onChange({dataItem:t.dataItem,level:t.level,field:t.field,syntheticEvent:e,value:e.target.value})}),[t.onChange,t.dataItem,t.level,t.field]),l=Object(a.useTableKeyboardNavigation)(t.id),c=Object(i.g)(((e={})["k-state-selected"]=t.isSelected,e),t.className),u=r.createElement("td",Ot({style:t.style,className:c,"aria-colindex":t.ariaColumnIndex,"aria-selected":t.isSelected,role:"gridcell"},l,((n={})[E]=t.colIndex,n)),r.createElement("input",{style:{width:"100%"},className:"k-textbox",value:s(t.field,t.dataItem)||"",onChange:o}));return t.render?t.render.call(void 0,u,t):u};Ct.displayName="KendoReactTreeListTextEditor";var _t=n(11),St=function(){return(St=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Et=function(t){var e,n,o=r.useCallback((function(e){t.onChange&&t.onChange({dataItem:t.dataItem,level:t.level,field:t.field,syntheticEvent:e.syntheticEvent,value:e.value})}),[t.onChange,t.dataItem,t.level,t.field]),l=s(t.field,t.dataItem),c=Object(a.useTableKeyboardNavigation)(t.id),u=Object(i.g)(((e={})["k-state-selected"]=t.isSelected,e),t.className),p=r.createElement("td",St({style:t.style,className:u,"aria-colindex":t.ariaColumnIndex,"aria-selected":t.isSelected,role:"gridcell"},c,((n={})[E]=t.colIndex,n)),r.createElement(_t.NumericTextBox,{width:"100%",value:void 0===l?null:l,onChange:o}));return t.render?t.render.call(void 0,p,t):p};Et.displayName="KendoReactTreeListNumericEditor";var It=function(){return(It=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Tt=function(t){var e,n,o=r.useCallback((function(e){t.onChange&&t.onChange({dataItem:t.dataItem,level:t.level,field:t.field,syntheticEvent:e,value:e.target.checked})}),[t.onChange,t.dataItem,t.level,t.field]),l=r.useMemo((function(){return Object(i.r)()}),[]),c=Object(a.useTableKeyboardNavigation)(t.id),u=Object(i.g)(((e={})["k-state-selected"]=t.isSelected,e),t.className),p=r.createElement("td",It({style:t.style,className:u,"aria-colindex":t.ariaColumnIndex,"aria-selected":t.isSelected,role:"gridcell"},c,((n={})[E]=t.colIndex,n)),r.createElement("input",{checked:s(t.field,t.dataItem)||!1,id:l,type:"checkbox",className:"k-checkbox",onChange:o}),r.createElement("label",{className:"k-checkbox-label",htmlFor:l}));return t.render?t.render.call(void 0,p,t):p};Tt.displayName="KendoReactTreeListBooleanEditor";var Dt=n(15),Pt=function(){return(Pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},At=function(t){var e,n,o=r.useCallback((function(e){t.onChange&&t.onChange({dataItem:t.dataItem,level:t.level,field:t.field,syntheticEvent:e.syntheticEvent,value:e.value})}),[t.onChange,t.dataItem,t.level,t.field]),l=Object(a.useTableKeyboardNavigation)(t.id),c=Object(i.g)(((e={})["k-state-selected"]=t.isSelected,e),t.className),u=r.createElement("td",Pt({style:t.style,className:c,"aria-colindex":t.ariaColumnIndex,"aria-selected":t.isSelected,role:"gridcell"},l,((n={})[E]=t.colIndex,n)),r.createElement(Dt.DatePicker,{width:"100%",value:s(t.field,t.dataItem),onChange:o}));return t.render?t.render.call(void 0,u,t):u};At.displayName="KendoReactTreeListDateEditor"},function(t,e,n){"use strict";n.r(e),n.d(e,"TreeViewItemPropsContext",(function(){return A})),n.d(e,"TreeView",(function(){return L})),n.d(e,"processTreeViewItems",(function(){return B})),n.d(e,"handleTreeViewCheckChange",(function(){return G})),n.d(e,"TreeViewDragClue",(function(){return $})),n.d(e,"moveTreeViewItem",(function(){return q})),n.d(e,"TreeViewDragAnalyzer",(function(){return Z}));var r=n(0),o=n(1),i=n(2);function a(t,e,n){if(d(t))return e[Number(t)];var r=e[Number(s(t))],o=r&&r[n]||[];return o.length?a(l(t),o,n):void 0}function s(t){return h(t)?t:t.split("_")[0]}function l(t){if(h(t))return t;var e=t.indexOf("_");return t.substring(e+1)}function c(t){return u("0",t)}function u(t,e){return t=t.toString(),e?e+"_"+t:t}function p(t){var e=t.lastIndexOf("_");return e<0?"":t.substring(0,e)}function h(t){return""===t||t.indexOf("_")<0}function d(t){return""!==t&&t.indexOf("_")<0}function f(t){return t.split("_")}function m(t){var e=t.lastIndexOf("_");return e<0?t:t.substring(e+1)}var v=function(){function t(){this.objects=[]}return t.prototype.init=function(t){for(var e,n=0;n<t.length;n++)n%5e4==0&&(e={},this.objects.push(e)),e[t[n]]=!0},t.prototype.hasId=function(t){return this.objects.some((function(e){return e[t]}))},t}();function g(t,e){var n=(t||"").split("."),r=e;return n.forEach((function(t){r=r?r[t]:void 0})),r}function y(t){return void 0!==t.length}var b=function(){return(b=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function x(t,e){var n=g(e,t);return Boolean(n&&n.length)}function w(t,e){return e.expanded(t)&&x(t,e.getChildrenField())}function k(t,e,n,r){var o=[],i=new v;return i.init(t),function t(e,n,r,o,i,a){for(var s=0;s<r.length;s++){var l=r[s],c=u(s,o);e.hasId(g(n,l))&&i.push(c),x(l,a)&&t(e,n,g(a,l),c,i,a)}}(i,e,n,"",o,r),o}function O(t,e,n){for(var r=f(t),o=e,i=0;i<r.length;i++){var a=o[Number(r[i])];if(n.disabled(a))return!1;o=a[n.getChildrenField()]}return!0}function C(t,e,n,r,o){return(t[r]||[]).every((function(t,r){return o.indexOf(n?g(n,t):u(r,e))>-1}))}function _(t,e,n){var r=n.slice();if(d(t))r.splice(Number(t),1);else{var o=Number(s(t)),i=r[o]=b({},r[o]);i[e]=_(l(t),e,i[e])}return r}function S(t,e,n,r,o){var i=o.slice();if(d(r))if("child"===e){var a=i[Number(r)]=b({},i[Number(r)]);a[n]?(a[n]=a[n].slice(),a[n].push(t)):a[n]=[t]}else i.splice(Number(r)+("after"===e?1:0),0,t);else{var c=Number(s(r)),u=i[c]=b({},i[c]);u[n]=S(t,e,n,l(r),u[n])}return i}function E(t,e,n,r,o){switch(r){case i.d.left:return d(e)||o.expanded(t)&&O(e,n,o)?e:p(e);case i.d.right:return w(t,o)?c(e):e;case i.d.up:return s=Number(m(e)),l=p(e),s?function t(e,n,r){var o=a(e,n,r.getChildrenField());return w(o,r)?t(u(o[r.getChildrenField()].length-1,e),n,r):e}(u(s-1,l),n,o):d(e)?e:l;case i.d.down:return w(t,o)?c(e):function t(e,n,r){var o=p(e),i=o?a(o,n,r.getChildrenField()):void 0,s=i?i[r.getChildrenField()]:n,l=Number(m(e));return l<s.length-1?u(l+1,o):i?t(o,n,r):void 0}(e,n,o)||e;case i.d.home:return"0";case i.d.end:return function(){var t,e=(n.length-1).toString(),r=n[n.length-1];for(;w(r,o);)t=r[o.getChildrenField()],e=u(t.length-1,e),r=t[t.length-1];return e}();default:return e}var s,l}var I,T=n(18),D=(I=function(t,e){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),P=function(){return(P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},A=r.createContext((function(t){return t})),j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemGuid=Object(i.r)(),e.onCheckChange=function(t){e.props.onCheckChange(t,e.item,e.itemId)},e.onExpandChange=function(t){e.props.onExpandChange(t,e.item,e.itemId)},e.onItemClick=function(t){e.props.onItemClick(t,e.item,e.itemId)},e.onPress=function(t){e.props.onPress(t.event,e.item,e.itemId)},e.onDrag=function(t){e.props.onDrag(t.event,e.item,e.itemId)},e.onRelease=function(t){e.props.onRelease(t.event,e.item,e.itemId)},e.assignDraggableMeta=function(t){t&&(t._kendoItemId=e.props.itemId,t._kendoTreeViewGuid=e.props.treeGuid)},e}return D(e,t),e.prototype.render=function(){var t=this,e=this.renderSubitemsIfApplicable(),n=this.renderItemInPart();return r.createElement("li",{className:this.getRootClassName(),tabIndex:this.tabIndex,role:"treeitem","aria-expanded":this.ariaExpanded,"aria-selected":this.ariaSelected,"aria-checked":this.ariaChecked,"aria-disabled":!!this.fieldsSvc.disabled(this.item)||void 0,ref:function(e){return t.itemElement=e}},r.createElement("div",{className:"k-mid",ref:this.assignDraggableMeta},this.renderExpandIcon(),this.renderCheckbox(),this.props.draggable?r.createElement(i.b,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease},n):n),this.props.animate?r.createElement(T.Reveal,{transitionEnterDuration:200,transitionExitDuration:200,style:{display:"block"},children:e}):e)},e.prototype.componentDidMount=function(){var t=this.props.focusedItemId,e=this.itemId;t&&t===e&&this.props.onFocusDomElNeeded(this.itemElement),this.checkboxElement&&(this.checkboxElement.indeterminate=this.fieldsSvc.checkIndeterminate(this.item))},e.prototype.componentDidUpdate=function(t){var e=this.props.focusedItemId;if(e&&e!==t.focusedItemId&&e===this.itemId&&this.props.onFocusDomElNeeded(this.itemElement),this.checkboxElement){var n=this.fieldsSvc.checkIndeterminate(this.item);n!==t.fieldsService.checkIndeterminate(t.item)&&(this.checkboxElement.indeterminate=n)}},e.prototype.renderCheckbox=function(){var t=this;return this.props.checkboxes?r.createElement("div",{className:"k-checkbox-wrapper"},r.createElement("input",{type:"checkbox",className:"k-checkbox",checked:Boolean(this.fieldsSvc.checked(this.item)),id:this.itemGuid,tabIndex:-1,onChange:this.onCheckChange,ref:function(e){return t.checkboxElement=e}}),r.createElement("label",{className:"k-checkbox-label",htmlFor:this.itemGuid})):void 0},e.prototype.renderExpandIcon=function(){return this.props.expandIcons&&(this.fieldsSvc.hasChildren(this.item)||x(this.item,this.fieldsSvc.getChildrenField()))?r.createElement("span",{className:this.getIconClassName(),onClick:this.onExpandChange}):void 0},e.prototype.renderSubitemsIfApplicable=function(){var t=this;return w(this.item,this.fieldsSvc)?r.createElement("ul",{className:"k-content",role:"group"},this.fieldsSvc.children(this.item).map((function(e,n){return r.createElement(M,{item:e,itemId:u(n,t.itemId),treeGuid:t.props.treeGuid,animate:t.props.animate,focusedItemId:t.props.focusedItemId,tabbableItemId:t.props.tabbableItemId,fieldsService:t.props.fieldsService,itemUI:t.props.itemUI,checkboxes:t.props.checkboxes,ariaMultiSelectable:t.props.ariaMultiSelectable,onItemClick:t.props.onItemClick,onFocusDomElNeeded:t.props.onFocusDomElNeeded,draggable:t.props.draggable,onPress:t.props.onPress,onDrag:t.props.onDrag,onRelease:t.props.onRelease,expandIcons:t.props.expandIcons,onExpandChange:t.props.onExpandChange,onCheckChange:t.props.onCheckChange,key:n})}))):void 0},e.prototype.renderItemInPart=function(){return r.createElement("span",{className:this.getContentClassName(),style:{touchAction:"none"},onClick:this.onItemClick},this.props.itemUI?r.createElement(this.props.itemUI,{item:this.item,itemHierarchicalIndex:this.itemId}):this.fieldsSvc.text(this.item))},Object.defineProperty(e.prototype,"fieldsSvc",{get:function(){return this.props.fieldsService},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemId",{get:function(){return this.props.itemId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"item",{get:function(){return this.props.item},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return(this.props.focusedItemId||this.props.tabbableItemId)===this.itemId?0:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaExpanded",{get:function(){return this.fieldsSvc.hasChildren(this.item)||x(this.item,this.fieldsSvc.getChildrenField())?Boolean(this.fieldsSvc.expanded(this.item)):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaChecked",{get:function(){return this.props.checkboxes?this.fieldsSvc.checked(this.item)?"true":this.fieldsSvc.checkIndeterminate(this.item)?"mixed":"false":void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaSelected",{get:function(){return!!this.fieldsSvc.selected(this.item)||(this.props.ariaMultiSelectable?!!this.fieldsSvc.disabled(this.item)&&void 0:void 0)},enumerable:!0,configurable:!0}),e.prototype.getIconClassName=function(){return Object(i.g)("k-icon",{"k-i-expand":!this.fieldsSvc.expanded(this.item),"k-i-collapse":this.fieldsSvc.expanded(this.item),"k-i-loading":this.fieldsSvc.expanded(this.item)&&!x(this.item,this.fieldsSvc.getChildrenField())})},e.prototype.getRootClassName=function(){return Object(i.g)("k-item k-treeview-item",{"k-state-disabled":this.fieldsSvc.disabled(this.item)})},e.prototype.getContentClassName=function(){return Object(i.g)("k-in",{"k-state-focused":this.props.focusedItemId===this.itemId,"k-state-selected":this.fieldsSvc.selected(this.item)})},e}(r.Component),M=r.forwardRef((function(t,e){var n=r.useContext(A).call(void 0,t);return r.createElement(j,P({ref:e},n))}));M.displayName="TreeViewItem";var R=function(){function t(t){this.expandField=t.expandField,this.selectField=t.selectField,this.hasChildrenField=t.hasChildrenField,this.childrenField=t.childrenField,this.textField=t.textField,this.disableField=t.disableField,this.checkField=t.checkField,this.checkIndeterminateField=t.checkIndeterminateField,this.focusIdField=t.focusIdField}return t.prototype.expanded=function(t){return g(this.expandField,t)},t.prototype.selected=function(t){return g(this.selectField,t)},t.prototype.text=function(t){return g(this.textField,t)},t.prototype.disabled=function(t){return g(this.disableField,t)},t.prototype.hasChildren=function(t){return g(this.hasChildrenField,t)},t.prototype.children=function(t){var e=g(this.childrenField,t);return e||[]},t.prototype.checked=function(t){return g(this.checkField,t)},t.prototype.checkIndeterminate=function(t){return g(this.checkIndeterminateField,t)},t.prototype.focusId=function(t){return this.focusIdField&&g(this.focusIdField,t)},t.prototype.getChildrenField=function(){return this.childrenField},t}(),N={name:"@progress/kendo-react-treeview",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616538,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},F=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L=function(t){function e(e){var n=t.call(this,e)||this;return n.state={focusedItemId:void 0,focusedItemPublicId:void 0,tabbableItemId:"0"},n.allowExplicitFocus=!1,n.treeGuid=Object(i.r)(),n._element=null,n.onFocusDomElNeeded=function(t){n.allowExplicitFocus&&n.focusDomItem(t)},n.onCheckChange=function(t,e,r){n.setFocus(r),n.dispatchCheckChange(t,e,r)},n.onExpandChange=function(t,e,r){n.setFocus(r),n.dispatchExpandChange(t,e,r)},n.onPress=function(t,e,r){t.originalEvent.preventDefault(),n.props.onItemDragStart&&n.props.onItemDragStart.call(void 0,{target:n,item:e,itemHierarchicalIndex:r})},n.onDrag=function(t,e,r){t.originalEvent.preventDefault();var o=t.pageX,i=t.pageY,a=t.clientX,s=t.clientY;n.props.onItemDragOver&&n.props.onItemDragOver.call(void 0,{target:n,item:e,itemHierarchicalIndex:r,pageX:o,pageY:i,clientX:a,clientY:s})},n.onRelease=function(t,e,r){var o=t.pageX,i=t.pageY,a=t.clientX,s=t.clientY;n.props.onItemDragEnd&&n.props.onItemDragEnd.call(void 0,{target:n,item:e,itemHierarchicalIndex:r,pageX:o,pageY:i,clientX:a,clientY:s})},n.onItemClick=function(t,e,r){n.setFocus(r),n.dispatchItemClick(t,e,r)},n.onFocus=function(){clearTimeout(n.blurRequest),void 0===n.state.focusedItemId&&n.data.length&&n.setFocus(n.state.tabbableItemId)},n.onBlur=function(){clearTimeout(n.blurRequest),n.blurRequest=window.setTimeout((function(){return n.setFocus(void 0)}),0)},n.onKeyDown=function(t){var e=n.getFocusedItem();if(e){var r=E(e,n.state.focusedItemId,n.data,t.keyCode,n.fieldsSvc);r!==n.state.focusedItemId&&(t.preventDefault(),n.allowExplicitFocus=!0,n.setFocus(r)),n.dispatchEventsOnKeyDown(t,e)}},Object(i.D)(N),n}return F(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this;return this.fieldsSvc=new R(this.props),r.createElement("div",{className:"k-widget k-treeview"+(this.props.className?" "+this.props.className:""),onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,role:"tree","aria-multiselectable":!!this.ariaMultiSelectable||void 0,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],ref:function(e){return t._element=e},tabIndex:this.props.tabIndex},r.createElement("ul",{className:"k-treeview-lines k-group",role:"group"},this.data.map((function(e,n){return r.createElement(M,{item:e,itemId:n.toString(),treeGuid:t.treeGuid,animate:t.props.animate,focusedItemId:t.state.focusedItemId,tabbableItemId:t.state.tabbableItemId,fieldsService:t.fieldsSvc,itemUI:t.props.item,checkboxes:t.props.checkboxes,ariaMultiSelectable:t.ariaMultiSelectable,onItemClick:t.onItemClick,onFocusDomElNeeded:t.onFocusDomElNeeded,draggable:t.props.draggable,onPress:t.onPress,onDrag:t.onDrag,onRelease:t.onRelease,expandIcons:t.props.expandIcons,onExpandChange:t.onExpandChange,onCheckChange:t.onCheckChange,key:n})}))))},e.prototype.componentDidUpdate=function(){this.allowExplicitFocus=!1,this.refocusDueToFocusIdField()},e.prototype.dispatchEventsOnKeyDown=function(t,e){var n=this,r=function(){return O(n.state.focusedItemId,n.data,n.fieldsSvc)};t.keyCode===i.d.left&&this.fieldsSvc.expanded(e)&&r()||t.keyCode===i.d.right&&!this.fieldsSvc.expanded(e)&&(this.fieldsSvc.hasChildren(e)||x(e,this.props.childrenField))&&r()?this.dispatchExpandChange(t,e,this.state.focusedItemId):t.keyCode===i.d.enter&&r()?this.dispatchItemClick(t,e,this.state.focusedItemId):t.keyCode===i.d.space&&r()&&(t.preventDefault(),this.dispatchCheckChange(t,e,this.state.focusedItemId))},e.prototype.setFocus=function(t){if(t)if(this.fieldsSvc.focusIdField){var e=this.getItemById(t);this.setState({focusedItemId:t,focusedItemPublicId:this.fieldsSvc.focusId(e)})}else this.setState({focusedItemId:t});else this.setState((function(t){return{focusedItemId:void 0,focusedItemPublicId:void 0,tabbableItemId:t.focusedItemId}}))},e.prototype.getFocusedItem=function(){return this.state.focusedItemId?this.getItemById(this.state.focusedItemId):void 0},e.prototype.getItemById=function(t){return a(t,this.data,this.props.childrenField||"items")},e.prototype.dispatchCheckChange=function(t,e,n){Object(i.k)(this.props.onCheckChange,t,this,{item:e,itemHierarchicalIndex:n})},e.prototype.dispatchExpandChange=function(t,e,n){Object(i.k)(this.props.onExpandChange,t,this,{item:e,itemHierarchicalIndex:n})},e.prototype.dispatchItemClick=function(t,e,n){Object(i.k)(this.props.onItemClick,t,this,{item:e,itemHierarchicalIndex:n})},e.prototype.refocusDueToFocusIdField=function(){if(this.fieldsSvc.focusIdField){var t=this.state.focusedItemPublicId;if(t){var e=this.props.getFocusHierarchicalIndex?this.props.getFocusHierarchicalIndex(t):(n=t,r=this.fieldsSvc.focusIdField,o=this.data,i=this.props.childrenField,(a=k([n],r,o,i)).length?a[0]:void 0);e!==this.state.focusedItemId&&(this.allowExplicitFocus=!0,this.setState({focusedItemId:e}))}}var n,r,o,i,a},Object.defineProperty(e.prototype,"ariaMultiSelectable",{get:function(){return!0===this.props["aria-multiselectable"]||"true"===this.props["aria-multiselectable"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.props.data||[]},enumerable:!0,configurable:!0}),e.prototype.focusDomItem=function(t){t.focus()},Object.defineProperty(e.prototype,"guid",{get:function(){return this.treeGuid},enumerable:!0,configurable:!0}),e.propTypes={data:o.arrayOf(o.any),animate:o.bool,tabIndex:o.number,focusIdField:o.string,getHierarchicalIndexById:o.func,onExpandChange:o.func,onItemClick:o.func,expandField:o.string,selectField:o.string,childrenField:o.string,hasChildrenField:o.string,textField:o.string,disableField:o.string,item:o.any,"aria-multiselectable":function(t,e,n){return void 0!==t[e]&&!0!==t[e]&&!1!==t[e]&&"true"!==t[e]&&"false"!==t[e]?new Error("Invalid prop `"+e+"` supplied to `"+n+"`. Validation failed."):null},"aria-label":o.string,"aria-labelledby":o.string},e.defaultProps={animate:!0,expandField:"expanded",selectField:"selected",hasChildrenField:"hasChildren",childrenField:"items",textField:"text",disableField:"disabled",checkField:"checked",checkIndeterminateField:"checkIndeterminate"},e}(r.Component),z=function(){return(z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function B(t,e){if(!t||!t.length)return[];var n=t,r=e.cloneField||"cloned",o=e.expandField||"expanded",i=e.selectField||"selected",a=e.checkField||"checked",s=e.childrenField||"items";return n=V(n,o,e.expand,r,s),n=V(n,i,e.select,r,s),function(t,e,n){if(n&&!y(n)&&n.applyCheckIndeterminate)for(var r=H(n,"checked").field,o=n.checkIndeterminateField||"checkIndeterminate",i=0;i<t.length;i++){var a=t[i],s=a[e];s&&W(s,g(r,a)?[]:[a],e,r,o)}}(n=V(n,a,e.check,r,s),s,e.check),n}function V(t,e,n,r,o){if(n){var i=H(n,e),a=i.ids,c=i.field;return function(t,e,n,r,o){var i=t;return e.forEach((function(t){i=function t(e,n,r,o,i){var a,c=Number(s(n));if(c>=e.length)return e;var u=e,p=e[c];return p[o]||(p=(u=e.slice())[c]=Object.assign({},p,((a={})[o]=!0,a))),d(n)?r(p):p[i]&&(p[i]=t(p[i],l(n),r,o,i)),u}(i,t,(function(t){return U(n,t)}),r,o)})),i}(t,!y(n)&&n.idField?k(a,n.idField,t,o):a,c,r,o)}return t}function H(t,e){var n,r;return y(t)?(n=t,r=e):(n=t.ids||[],r=t.operationField||e),{ids:n,field:r}}function U(t,e){for(var n=(t||"").split("."),r=e,o=0;o<n.length;o++){var i=n[o];if(o===n.length-1)r[i]=!0;else{if(void 0===r[i])return;r[i]=z({},r[i]),r=r[i]}}}function W(t,e,n,r,o){for(var i=!1,a=0;a<t.length;a++){var s=t[a];if(g(r,s)){if(!i)for(var l=0;l<e.length;l++)U(o,e[l]);i=!0,s[n]&&W(s[n],[],n,r,o)}else s[n]&&W(s[n],i?[s]:e.concat([s]),n,r,o)}}function q(t,e,n,r,o,i){var c=i||"items";if(!function(){if(!(e&&e.length&&t&&r))return!1;if(o&&!o.length)return!1;if(!a(r,o&&o!==e?o:e,c))return!1;return!0}())return f();var u=a(t,e,c);if(!u)return f();if(o&&o!==e)return{sourceData:_(t,c,e),targetData:S(u,n,c,r,o)};if((r+"_").startsWith(t+"_"))return f();var h=_(t,c,e),d=S(u,n,c,function(t,e){var n=e;e="r_"+e;var r=p(t="r_"+t)+"_";if(e.startsWith(r)){var o=e.substring(r.length);if(o){var i=s(o);if(Number(m(t))<Number(i))return l(r+(Number(i)-1).toString()+o.substring(i.length))}}return n}(t,r),h);return o?{sourceData:d,targetData:d}:d;function f(){return o?{sourceData:e,targetData:o}:e}}var K=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function G(t,e,n,r,o){if(void 0===r&&(r={}),!n||!n.length)return[];var i,s=function(t){var e,n=void 0;y(t)?e=t:(e=t.ids||[],n=t.idField);return{ids:e,idField:n}}(e),l=s.ids,c=s.idField,h=c?g(c,t.item):t.itemHierarchicalIndex,d=l.indexOf(h),m=-1===d,v=o||"items";return r.singleMode?i=m?[h]:[]:(i=l.slice(),m?i.push(h):i.splice(d,1),r.checkChildren&&function(t,e,n,r,o,i){(function(t,e,n,r){return r?function t(e){for(var o=[],i=e[n]||[],a=0;a<i.length;a++)o.push(g(r,i[a])),o=o.concat(t(i[a]));return o}(t):function t(e,r){for(var o=[],i=e[n]||[],a=0;a<i.length;a++){var s=u(a,r);o.push(s),o=o.concat(t(i[a],s))}return o}(t,e)})(t,e,o,r).forEach((function(t){n&&-1===i.indexOf(t)?i.push(t):!n&&i.indexOf(t)>-1&&i.splice(i.indexOf(t),1)}))}(t.item,t.itemHierarchicalIndex,m,c,v,i),r.checkParents&&function(t,e,n,r,o,i){var s=function(){var o,s,l;return K(this,(function(c){switch(c.label){case 0:if(!n)return[3,5];o=function(t,e,n){for(var r=[],o=f(t),i=n,a=0;a<o.length-1&&i;a++){var s=i[Number(o[a])];r.push(s),i=s[e]}return r}(t,r,i),s=o.length-1,c.label=1;case 1:return s>-1?[4,{id:g(n,o[s]),item:e?o[s]:void 0}]:[3,4];case 2:c.sent(),c.label=3;case 3:return s--,[3,1];case 4:return[3,8];case 5:l=p(t),c.label=6;case 6:return l?[4,{id:l,item:e?a(l,i,r):void 0}]:[3,8];case 7:return c.sent(),l=p(l),[3,6];case 8:return[2]}}))}(),l=s.next();e?function(){for(;!l.done;){var t=l.value,e=t.id,i=t.item;if(-1!==o.indexOf(e)||!C(i,e,n,r,o))break;o.push(e),l=s.next()}}():function(){for(;!l.done;){var t=l.value.id,e=o.indexOf(t);if(!(e>-1))break;o.splice(e,1),l=s.next()}}()}(t.itemHierarchicalIndex,m,c,v,i,n)),y(e)?i:Object.assign({},e,{ids:i})}var Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X=function(){return(X=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={visible:!1,top:0,left:0,text:"",operationClassName:"k-i-cancel"},e}return Y(e,t),e.prototype.render=function(){var t={top:this.state.top+"px",left:this.state.left+"px"};return this.state.visible&&r.createElement("div",{className:"k-header k-drag-clue",style:X({},this.props.style,t)},r.createElement("span",{className:Object(i.g)("k-icon k-drag-status k-icon-with-modifier",this.state.operationClassName)},r.createElement("span",{className:"k-icon k-icon-modifier"})),this.state.text)},e.prototype.show=function(t,e,n,r){this.setState({visible:!0,top:t,left:e,text:n,operationClassName:r})},e.prototype.hide=function(){this.setState({visible:!1})},e.defaultProps={style:{display:"block",position:"absolute",zIndex:2e4,padding:"4px 6px"}},e}(r.PureComponent),Z=function(){function t(t){this.event=t,this.initialized=!1,this.itemId=t.itemHierarchicalIndex,this.treeViewGuid=t.target.guid}return t.prototype.init=function(){return this.initialized||(this.setDestimationMeta(document.elementFromPoint(this.event.clientX,this.event.clientY)),this.initialized=!0),this},Object.defineProperty(t.prototype,"isDropAllowed",{get:function(){return!!(this.initialized&&this.destItemId&&this.destTreeViewGuid)&&!(this.destTreeViewGuid+"_"+this.destItemId+"_").startsWith(this.treeViewGuid+"_"+this.itemId+"_")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destinationMeta",{get:function(){return{itemHierarchicalIndex:this.destItemId,treeViewGuid:this.destTreeViewGuid}},enumerable:!0,configurable:!0}),t.prototype.getDropOperation=function(){if(this.initialized&&this.isDropAllowed){var t=this.destDomNodeWithMeta.getBoundingClientRect(),e=t.top;return e+t.height-this.event.clientY<6?"after":this.event.clientY-e<6?"before":"child"}},t.prototype.setDestimationMeta=function(t){for(var e=t;e&&!e._kendoItemId;)e=e.parentNode;e&&e._kendoItemId&&(this.destDomNodeWithMeta=e,this.destItemId=e._kendoItemId,this.destTreeViewGuid=e._kendoTreeViewGuid)},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"TabStrip",(function(){return x})),n.d(e,"TabStripContent",(function(){return v})),n.d(e,"TabStripNavigation",(function(){return h})),n.d(e,"TabStripNavigationItem",(function(){return c})),n.d(e,"TabStripTab",(function(){return k})),n.d(e,"PanelBar",(function(){return L})),n.d(e,"PanelBarItem",(function(){return _})),n.d(e,"renderChildren",(function(){return E})),n.d(e,"getInitialState",(function(){return I})),n.d(e,"flatVisibleItems",(function(){return T})),n.d(e,"isPresent",(function(){return P})),n.d(e,"PanelBarUtils",(function(){return D})),n.d(e,"isArrayEqual",(function(){return j})),n.d(e,"Menu",(function(){return Ft})),n.d(e,"MenuItemLink",(function(){return Ot})),n.d(e,"MenuItem",(function(){return $})),n.d(e,"downArrowClass",(function(){return _t})),n.d(e,"rightArrowClass",(function(){return St})),n.d(e,"leftArrowClass",(function(){return Et})),n.d(e,"MenuItemArrow",(function(){return It})),n.d(e,"Splitter",(function(){return Kt})),n.d(e,"SplitterPane",(function(){return zt})),n.d(e,"Card",(function(){return Gt})),n.d(e,"CardHeader",(function(){return Yt})),n.d(e,"CardTitle",(function(){return Xt})),n.d(e,"CardBody",(function(){return $t})),n.d(e,"CardActions",(function(){return Zt})),n.d(e,"CardImage",(function(){return Jt})),n.d(e,"CardSubtitle",(function(){return Qt})),n.d(e,"CardFooter",(function(){return te})),n.d(e,"Avatar",(function(){return ee})),n.d(e,"Drawer",(function(){return ue})),n.d(e,"DrawerNavigation",(function(){return ce})),n.d(e,"DrawerContent",(function(){return pe})),n.d(e,"DrawerItem",(function(){return ie})),n.d(e,"Stepper",(function(){return Te})),n.d(e,"Step",(function(){return ye})),n.d(e,"AppBar",(function(){return Pe})),n.d(e,"AppBarSection",(function(){return je})),n.d(e,"AppBarSpacer",(function(){return Me})),n.d(e,"TileLayout",(function(){return qe})),n.d(e,"BottomNavigation",(function(){return Je})),n.d(e,"BottomNavigationItem",(function(){return $e})),n.d(e,"StackLayout",(function(){return nn})),n.d(e,"GridLayout",(function(){return an})),n.d(e,"GridLayoutItem",(function(){return cn})),n.d(e,"Breadcrumb",(function(){return bn})),n.d(e,"BreadcrumbOrderedList",(function(){return vn})),n.d(e,"BreadcrumbListItem",(function(){return un})),n.d(e,"BreadcrumbDelimiter",(function(){return hn})),n.d(e,"BreadcrumbLink",(function(){return fn}));var r,o=n(0),i=n(1),a=n(2),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClick=function(){e.props.onSelect&&e.props.onSelect(e.props.index)},e}return s(e,t),e.prototype.render=function(){var t,e=this.props,n=e.active,r=e.disabled,i=e.title,s=void 0===i?"Untitled":i,c=e.first,u=e.last,p={"aria-selected":n,role:"tab",onClick:r?void 0:this.onClick},h=Object(a.g)("k-item",((t={})["k-first"]=c,t["k-last"]=u,t["k-state-disabled"]=r,t["k-state-active"]=n,t));return o.createElement("li",l({},p,{className:h}),o.createElement("span",{className:"k-link"},s))},e.propTypes={active:i.bool,disabled:i.bool,index:i.number,onSelect:i.func,title:i.oneOfType([i.string,i.element]),first:i.bool,last:i.bool},e}(o.Component),u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.render=function(){var t,e,n=this.props,r=n.selected,i=n.tabPosition,s=n.children,l=n.onSelect,u=n.onKeyDown,h=o.Children.count(s),d=o.Children.toArray(s);s&&(t=(e=h,Array.apply(null,Array(e))).map((function(t,e,n){var i={active:r===e,disabled:d[e].props.disabled,index:e,title:d[e].props.title,first:0===e,last:e===n.length-1,onSelect:l};return o.createElement(c,p({key:e},i))})));var f=Object(a.g)("k-tabstrip-items-wrapper",{"k-hstack":"top"===i||"bottom"===i,"k-vstack":"left"===i||"right"===i}),m=Object(a.g)("k-tabstrip-items","k-reset");return o.createElement("div",{className:f},o.createElement("ul",{className:m,role:"tablist",tabIndex:this.props.tabIndex,onKeyDown:u},t))},e.propTypes={children:i.oneOfType([i.element,i.arrayOf(i.element)]),onSelect:i.func,onKeyDown:i.func,selected:i.number,tabIndex:i.number},e}(o.Component),d=n(18),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(){return(m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentId=Object(a.r)(),e.childFactory=function(t){return o.cloneElement(t,m({},t.props,{in:t.props.children.props.id===String(e.contentId+e.props.selected)}))},e}return f(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.selected,r=e&&"number"==typeof n&&o.Children.toArray(e)[n],i=Object(a.g)("k-content","k-state-active",r&&r.props.contentClassName);return o.createElement("div",{className:i,style:this.props.style},this.renderContent(e))},e.prototype.renderContent=function(t){var e=this;return this.props.keepTabsMounted?o.Children.map(this.props.children,(function(t,n){return e.renderChild(t,n)})):this.renderChild(o.Children.toArray(t)[this.props.selected],this.props.selected)},e.prototype.renderChild=function(t,e){var n=e===this.props.selected,r={role:"tabpanel","aria-expanded":!0,style:{display:n?void 0:"none"}},i={position:"initial",display:n?void 0:"none"};return t.props.disabled?null:this.props.animation?o.createElement(d.Fade,{appear:!0,exit:this.props.keepTabsMounted,style:i,childFactory:this.props.keepTabsMounted?this.childFactory:void 0},o.createElement("div",m({},r,{id:String(this.contentId+e),key:e}),t.props.children)):o.createElement("div",m({},r,{key:e}),t.props.children)},e.propTypes={animation:i.bool,children:i.oneOfType([i.element,i.arrayOf(i.element)]),selected:i.number,style:i.object},e}(o.Component),g={name:"@progress/kendo-react-layout",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616709,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(){return(b=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},x=function(t){function e(e){var n,r=t.call(this,e)||this;return r._element=null,r.keyBinding=((n={})[a.d.left]=function(){return r.prevNavigatableTab()},n[a.d.right]=function(){return r.nextNavigatableTab()},n[a.d.down]=function(){return r.nextNavigatableTab()},n[a.d.up]=function(){return r.prevNavigatableTab()},n[a.d.home]=function(){return 0},n[a.d.end]=function(){return o.Children.count(r.props.children)-1},n),r.onSelect=function(t){r.props.selected!==t&&r.props.onSelect&&r.props.onSelect({selected:t})},r.onKeyDown=function(t){var e;switch(t.keyCode){case a.d.left:e=r.keyBinding[r.invertKeys(a.d.left,a.d.right)];break;case a.d.right:e=r.keyBinding[r.invertKeys(a.d.right,a.d.left)];break;case a.d.up:e=r.keyBinding[a.d.up];break;case a.d.down:e=r.keyBinding[a.d.down];break;case a.d.home:e=r.keyBinding[a.d.home];break;case a.d.end:e=r.keyBinding[a.d.end]}e&&(t.preventDefault(),r.onSelect(e()))},r.renderContent=function(t){var e=t.selected,n=t.children,r=t.tabContentStyle;return e<o.Children.count(n)&&e>-1?o.createElement(v,b({index:e},t,{style:r})):null},r.firstNavigatableTab=function(){var t=r.children(),e=o.Children.count(t);if(t)for(var n=0;n<e;n++)if(!t[n].props.disabled)return n},r.lastNavigatableTab=function(){var t=r.children(),e=o.Children.count(t);if(t)for(var n=e-1;n>0;n--)if(!t[n].props.disabled)return n},r.prevNavigatableTab=function(){var t=r.children(),e=r.props.selected,n=e?e-1:-1;if(n<0)return r.lastNavigatableTab();if(t)for(var o=n;o>-1;o--){if(!t[o].props.disabled)return o;if(0===o)return r.lastNavigatableTab()}},r.nextNavigatableTab=function(){var t=r.children(),e=r.props.selected,n=e?e+1:1,i=o.Children.count(t);if(n>=i)return r.firstNavigatableTab();if(t)for(var a=n;a<i;a++){if(!t[a].props.disabled)return a;if(a+1===i)return r.firstNavigatableTab()}},Object(a.D)(g),r}return y(e,t),e.prototype.render=function(){var t=this,e=b({},this.props,{children:this.children(),onKeyDown:this.onKeyDown,onSelect:this.onSelect}),n=e.tabPosition,r=e.tabIndex,i=void 0===r?0:r,s="bottom"===n,l=Object(a.g)("k-tabstrip","k-floatwrap",{"k-tabstrip-left":"left"===n,"k-tabstrip-right":"right"===n,"k-tabstrip-bottom":"bottom"===n,"k-tabstrip-top":"top"===n},this.props.className);return o.createElement("div",{ref:function(e){return t._element=e},dir:this.props.dir,className:l,style:this.props.style},!s&&o.createElement(h,b({},e,{tabIndex:i})),this.renderContent(e),s&&o.createElement(h,b({},e,{tabIndex:i})))},e.prototype.invertKeys=function(t,e){return this._element&&"rtl"===getComputedStyle(this._element).direction||!1?e:t},e.prototype.children=function(){return o.Children.toArray(this.props.children).filter((function(t){return t}))},e.propTypes={animation:i.bool,children:i.node,onSelect:i.func,selected:i.number,style:i.object,tabContentStyle:i.object,tabPosition:i.string,tabIndex:i.number,className:i.string,dir:i.string},e.defaultProps={animation:!0,tabPosition:"top",keepTabsMounted:!1},e}(o.Component),w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.propTypes={disabled:i.bool,contentClassName:i.string,children:i.oneOfType([i.element,i.node]),title:i.oneOfType([i.string,i.element,i.node])},e}(o.Component),O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(){return(C=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleItemClick=function(){var t=e.props,n=t.onSelect,r=t.disabled,o=t.id;n&&!r&&n.call(void 0,{uniquePrivateKey:e.props.uniquePrivateKey,id:o,target:e})},e}return O(e,t),e.prototype.render=function(){var t,e=this.props,n=e.id,r=e.children,i=e.title,s=e.uniquePrivateKey,l=e.disabled,c=e.selected,u=e.focused,p=e.expanded,h=e.className,f=e.level,m=e.headerClassName,v=e.animation,g={role:"treeitem","aria-disabled":l,"aria-hidden":!l&&!p,"aria-selected":!l&&c,"aria-expanded":!l&&p&&!!r},y=Object(a.g)("k-item",{"k-panelbar-header":0===f,"k-panelbar-item":0!==f,"k-state-expanded":p&&!!r},"k-level-"+f,h),b=Object(a.g)("k-link",{"k-state-selected":!l&&c,"k-state-focus":!l&&u,"k-state-disabled":l},m),x=Object(a.g)("k-panelbar-toggle","k-icon",((t={})["k-i-arrow-chevron-up"]=p&&!!r,t["k-panelbar-collapse"]=p&&!!r,t["k-i-arrow-chevron-down"]=!p&&!!r,t["k-panelbar-expand"]=!p&&!!r,t)),w=function(t){var e=t.imageUrl,n=t.icon,r=t.iconClass;if(e)return o.createElement("img",{role:"presentation",className:"k-panelbar-item-icon k-image",src:e});if(n){var i=Object(a.g)("k-panelbar-item-icon","k-icon","k-i-"+n);return o.createElement("span",{role:"presentation",className:i})}return r?o.createElement("span",{role:"presentation",className:"k-panelbar-item-icon "+r}):null}(this.props),k=!l&&r?o.createElement("span",{className:x}):null,O=!l&&p?o.createElement("ul",{role:"group",className:"k-panelbar-group k-panel k-group"},r):null,_=void 0!==v&&!v||l||!r?O:o.createElement(d.Reveal,{transitionEnterDuration:200,transitionExitDuration:200,key:s+"_animation",style:{display:"block"},children:O});return o.createElement("li",C({id:n,className:y},g),o.createElement("span",{className:b,onClick:this.handleItemClick},w,o.createElement("span",{className:"k-panelbar-item-text"},i),k),_)},e.propTypes={animation:i.bool,children:i.any,className:i.string,expanded:i.bool,disabled:i.bool,onSelect:i.func,selected:i.bool,level:i.number,title:i.oneOfType([i.string,i.element]),id:i.oneOfType([i.string,i.number]),focused:i.bool},e.defaultProps={title:"Untitled"},e}(o.PureComponent),S=function(){return(S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},E=function(t,e,n,r,i,a,s){return void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===a&&(a=0),void 0===s&&(s=[]),o.Children.map(r,(function(r,l){if(r&&r.type===_){var c=void 0,u=s.length?s[s.length-1]+"."+l:"."+l;return r.props.children&&(c=E(t,e,n,r.props.children,(e.expanded||[]).indexOf(u)>-1&&i,a+1,s.concat([u]))),o.cloneElement(r,S({},r.props,{animation:void 0!==r.props.animation?r.props.animation:t,id:r.props.id||"k-panelbar-item-default-"+u,uniquePrivateKey:u,parentUniquePrivateKey:s,parentExpanded:i,level:a,expanded:(e.expanded||[]).indexOf(u)>-1&&i,focused:e.focused===u&&e.wrapperFocused,selected:e.selected===u,children:c,onSelect:n}))}return o.createElement("div",{className:"k-panelbar-content k-content"},r)}))},I=function(t,e,n,r,i,a){return void 0===n&&(n={expanded:t.expanded||[],selected:t.selected||"",focused:t.focused||".0",wrapperFocused:!1}),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===a&&(a=[]),o.Children.map(t.children,(function(t,r){if(t&&t.type===_){var o=a.length?a[a.length-1]+"."+r:"."+r;!t.props.disabled&&i&&(t.props.selected&&(n.selected=o),t.props.focused&&(n.focused=o),t.props.expanded&&("multiple"===e?n.expanded.push(o):"single"===e&&(n.expanded=[o])),t.props.children&&(n=I(t.props,e,n,!1,!!t.props.expanded,a.concat([o]))))}})),n};function T(t,e,n){return void 0===e&&(e=[]),void 0===n&&(n=null),(t||[]).forEach((function(t){t.disabled||(e.push(t),t.expanded&&t.children&&T(t.children,e))})),e}var D,P=function(t){return null!=t};(D||(D={})).mapItemsToComponents=function t(e){return e.map((function(e,n){var r;return e.content&&(r=e.content),e.children&&(r=t(e.children)),o.createElement(_,S({},e,{children:r,key:e.id||n}))}))};var A,j=function(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))},M=function(){function t(t,e,n){var r=this;this.flatChildren=function(t,e){return void 0===e&&(e=[]),o.Children.forEach(t,(function(t){t&&t.props&&!t.props.disabled&&(e.push(t),t.props.children&&r.flatChildren(t.props.children,e))})),e},this.flatVisibleChildren=function(t,e){return void 0===e&&(e=[]),o.Children.forEach(t,(function(t){t&&t.props&&!t.props.disabled&&(t.props.expanded||t.props.parentExpanded)&&(e.push(t),t.props.children&&r.flatVisibleChildren(t.props.children,e))})),e},this.onSelect=t,this.onFocus=e,this.expandMode=n}return t.prototype.select=function(t,e,n){var r,i;switch(this.flatChildren(o.Children.toArray(e)).forEach((function(e){e.props.uniquePrivateKey===t&&(r=e)})),this.expandMode){case"single":i=r.props.parentUniquePrivateKey.concat([r.props.uniquePrivateKey]),j(n,i)&&(i=r.props.parentUniquePrivateKey?r.props.parentUniquePrivateKey.slice():[]);break;case"multiple":var a=(i=n.slice()).indexOf(r.props.uniquePrivateKey);-1===a?i.push(r.props.uniquePrivateKey):i.splice(a,1);break;default:i=n.slice()}this.onSelect(r,i)},t.prototype.focus=function(t,e,n){var r,i=this.flatVisibleChildren(o.Children.toArray(n));i.forEach((function(n,o){if(n.props.uniquePrivateKey===t){var a=o+e<0?0:o+e>=i.length?i.length-1:o+e;r=i[a]}})),this.onFocus(r)},t.prototype.setExpandMode=function(t){this.expandMode=t},t}();!function(t){t[t.Toggle=0]="Toggle",t[t.Next=1]="Next",t[t.Previous=2]="Previous"}(A||(A={}));var R=function(){function t(t){this.onNavigate=t}return t.prototype.navigate=function(t,e){var n;switch(t.keyCode){case a.d.left:n=e?A.Next:A.Previous;break;case a.d.up:n=A.Previous;break;case a.d.right:n=e?A.Previous:A.Next;break;case a.d.down:n=A.Next;break;case a.d.space:case a.d.enter:n=A.Toggle;break;default:n=null}null!==n&&(t.preventDefault(),this.onNavigate(n))},t}(),N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(){return(F=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},L=function(t){function e(e){var n=t.call(this,e)||this;return n._element=null,n.handleSelect=function(t){var e=F({},n.state,{selected:n.selected});n._selectionService.select(t.uniquePrivateKey,E(n.props.animation,e,n.handleSelect,n.props.children),e.expanded),n._selectionService.focus(t.uniquePrivateKey,0,E(n.props.animation,e,n.handleSelect,n.props.children))},n.onSelect=function(t,e){n.setState({selected:t.props.uniquePrivateKey,expanded:e},(function(){n.props.onSelect&&n.props.onSelect.call(void 0,{target:t,action:"select"})}))},n.onFocus=function(t){n.activeDescendant=t.props.id,n.setState({focused:t.props.uniquePrivateKey})},n.onNavigate=function(t){var e=F({},n.state,{selected:n.selected});switch(t){case A.Previous:n._selectionService.focus(e.focused,-1,E(n.props.animation,e,n.handleSelect,n.props.children));break;case A.Next:n._selectionService.focus(e.focused,1,E(n.props.animation,e,n.handleSelect,n.props.children));break;case A.Toggle:n._selectionService.select(e.focused,E(n.props.animation,e,n.handleSelect,n.props.children),e.expanded)}},n.handleWrapperFocus=function(){clearTimeout(n.nextTickId),n.state.wrapperFocused||n.setState({wrapperFocused:!0})},n.handleWrapperBlur=function(){n.nextTick((function(){n.setState({wrapperFocused:!1})}))},n.handleKeyDown=function(t){var e=n._element&&"rtl"===getComputedStyle(n._element).direction||!1;t.target===t.currentTarget&&n._navigationService.navigate(t,e)},Object(a.D)(g),n.state=I(e,e.expandMode||"multiple"),n._selectionService=new M(n.onSelect,n.onFocus,n.props.expandMode||"multiple"),n._navigationService=new R(n.onNavigate),n}return N(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){var t=this.props.selected;return void 0===t?this.state.selected:t},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(t){var e=this.props;e.expandMode!==t.expandMode&&this._selectionService.setExpandMode(e.expandMode)},e.prototype.render=function(){var t=this,e={"aria-activedescendant":this.activeDescendant},n=F({},this.state,{selected:this.selected}),r=E(this.props.animation,n,this.handleSelect,this.props.children),i=Object(a.g)("k-panelbar",this.props.className);return o.createElement("ul",F({ref:function(e){t._element=e},dir:this.props.dir,role:"tree",tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,className:i,style:this.props.style},e),r)},e.prototype.nextTick=function(t){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((function(){return t()}))},e.propTypes={animation:i.bool,children:function(t,e){var n=t[e];if(n){if(Array.isArray(n))for(var r=0,o=n;r<o.length;r++){var i=o[r];if(!i.type||i.type!==_)return new Error("PanelBar children should be either PanelBarItem or Array of PanelBarItem.")}else if(n.type!==_)return new Error("PanelBar child should be either PanelBarItem or Array of PanelBarItem.");return null}},dir:i.string,selected:i.string,expanded:i.arrayOf(i.string),focused:i.string,expandMode:i.oneOf(["single","multiple"]),className:i.string,onSelect:i.func,style:i.object},e.defaultProps={expandMode:"multiple",animation:!0},e}(o.Component);function z(t,e){if(q(t))return e[Number(t)];var n=e[Number(B(t))];return n.items?z(function(t){if(W(t))return t;var e=t.indexOf("_");return t.substring(e+1)}(t),n.items):void 0}function B(t){return W(t)?t:t.split("_")[0]}function V(t){return H("0",t)}function H(t,e){return e?e+"_"+t:t}function U(t){var e=t.lastIndexOf("_");return e<0?"":t.substring(0,e)}function W(t){return""===t||t.indexOf("_")<0}function q(t){return""!==t&&t.indexOf("_")<0}function K(t){return 1===function(t){return t.split("_").length-1}(t)}function G(t){var e=t.lastIndexOf("_");return e<0?t:t.substring(e+1)}function Y(t,e,n){return q(e)?t?Number(e)<n-1?(Number(e)+1).toString():"0":Number(e)>0?(Number(e)-1).toString():(n-1).toString():e}var X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return X(e,t),e.prototype.render=function(){return null},e.propTypes={text:i.string,url:i.string,icon:i.string,disabled:i.bool,cssClass:i.string,cssStyle:i.object,render:i.any,linkRender:i.any,contentRender:i.any,data:i.any},e}(o.Component);function Z(t,e){if(t&&t.length>0)return{items:tt(t),inputItems:t};if(Q(e).length>0){var n=function t(e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=J(void 0,o),a=t(Q(o.props.children));a.length>0&&(i.items=a),n.push(i)}return n}(Q(e));return{items:tt(n),inputItems:n}}return{items:[],inputItems:[]}}function J(t,e){var n={},r=t||e.props,o=r.text,i=r.url,a=r.icon,s=r.disabled,l=r.cssClass,c=r.cssStyle,u=r.render,p=r.linkRender,h=r.contentRender,d=r.data;return void 0!==o&&(n.text=o),void 0!==i&&(n.url=i),void 0!==a&&(n.icon=a),void 0!==s&&(n.disabled=s),void 0!==l&&(n.cssClass=l),void 0!==c&&(n.cssStyle=c),void 0!==u&&(n.render=u),void 0!==p&&(n.linkRender=p),void 0!==h&&(n.contentRender=h),void 0!==d&&(n.data=d),n}function Q(t){return o.Children.toArray(t).filter((function(t){return t&&t.type===$}))}function tt(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=J(o);i.id=H(r.toString(),e),i.isLastFromSiblings=r===t.length-1,i.items=et(o,i),n.push(i)}return n}function et(t,e){return t.contentRender?[{contentParentItemId:e.id,id:H("0",e.id),isLastFromSiblings:!0,contentRender:t.contentRender,items:[]}]:t.items?tt(t.items,e.id):[]}var nt=/\S/;function rt(t,e,n,r,o,i){var s,l=m();switch(n){case a.d.left:return o?i?h():u():i?p():c();case a.d.right:return o?i?u():h():i?c():p();case a.d.up:return o?g():q(e)?f():g();case a.d.down:return o?y():q(e)?d():y();case a.d.enter:case a.d.space:return l.disabled?e:v()?V(e):B(e);case a.d.home:return b()[0].id;case a.d.end:return(s=b())[s.length-1].id;case a.d.esc:return q(e)?e:U(e);default:return 1===r.length&&nt.test(r)?function(){var t=r.toLowerCase(),n=b(),o=Number(G(e)),i=n.slice(o+1).concat(n.slice(0,o+1)).find((function(e){return(e.text||"").toLowerCase().startsWith(t)}));return i?i.id:e}():e}function c(){return q(e)?g():K(e)?d(g(B(e))):U(e)}function u(){return q(e)?f():U(e)}function p(){return q(e)?y():d(v()?e:y(B(e)))}function h(){return d(q(e)||v()?e:y(B(e)))}function d(t){return x(!0,t)}function f(t){return x(!1,t)}function m(n,r){return void 0===n&&(n=e),void 0===r&&(r=t),z(n,r)}function v(t){return m(t).items.length>0}function g(t){return w(!1,t)}function y(t){return w(!0,t)}function b(){return q(e)?t:m(U(e),t).items}function x(t,n){void 0===n&&(n=e);var r=m(n);return v(n)&&!r.disabled?t?V(n):function(t){var e=m(t).items;return e[e.length-1].id}(n):n}function w(n,r){if(void 0===r&&(r=e),q(r))return Y(n,r,t.length);var o=U(r);return H(Y(n,G(r),m(o).items.length),o)}}var ot=n(14),it={vertical:"top",horizontal:"left"},at={vertical:"top",horizontal:"right"},st={vertical:"flip",horizontal:"fit"},lt={vertical:"fit",horizontal:"flip"},ct={downward:{anchorAlign:{vertical:"bottom",horizontal:"right"},popupAlign:at,collision:st},leftward:{anchorAlign:{vertical:"top",horizontal:"left"},popupAlign:at,collision:lt}},ut={downward:{anchorAlign:{vertical:"bottom",horizontal:"left"},popupAlign:it,collision:st},rightward:{anchorAlign:{vertical:"top",horizontal:"right"},popupAlign:it,collision:lt}};function pt(t,e,n){return q(t)?e?n?"leftward":"rightward":"downward":n?"leftward":"rightward"}function ht(t){return t?"rtl":"ltr"}function dt(t,e){return t+"_"+e}var ft,mt,vt,gt,yt,bt,xt,wt,kt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kt(e,t),e.prototype.render=function(){return this.props.url?o.createElement("a",{className:this.getMenuItemClassName(),role:"presentation",href:this.props.url,tabIndex:-1},this.props.children):o.createElement("span",{className:this.getMenuItemClassName(),role:"presentation"},this.props.children)},e.prototype.getMenuItemClassName=function(){return Object(a.g)("k-link","k-menu-link",{"k-state-active":this.props.opened})},e.propTypes={opened:i.bool,url:i.string},e}(o.Component),Ct=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t="k-i-arrow-60-down",St="k-i-arrow-60-right",Et="k-i-arrow-60-left",It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ct(e,t),e.prototype.render=function(){return o.createElement("span",{className:this.getArrowClassName(),role:"presentation"})},e.prototype.getArrowClassName=function(){var t,e=pt(this.props.itemId,!0===this.props.verticalMenu,"rtl"===this.props.dir);return Object(a.g)("k-icon","k-menu-expand-arrow",((t={})[_t]="downward"===e,t[St]="rightward"===e,t[Et]="leftward"===e,t))},e.propTypes={itemId:i.string,dir:i.string,verticalMenu:i.bool},e}(o.Component),Tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dt=function(t){function e(e){var n=t.call(this,e)||this;return n.isFirstRender=!0,n.onMouseOver=function(t){n.props.onMouseOver(n.props.item.id),t.stopPropagation()},n.onMouseLeave=function(t){n.props.onMouseLeave(n.props.item.id),t.stopPropagation()},n.state={opened:!1},n}return Tt(e,t),e.prototype.componentDidMount=function(){var t=this.props.focusedItemId,e=this.props.item.id;t&&t===e&&this.itemElement.focus(),this.isFirstRender=!1},e.prototype.componentDidUpdate=function(t){var e=this.props.focusedItemId,n=this.props.item.id;e?t.focusedItemId===e||e!==n||this.itemElement.contains(document.activeElement)||this.itemElement.focus():document.activeElement===this.itemElement&&this.itemElement.blur()},e.prototype.render=function(){var t=this,e=this.props.item,n=e.id;return[o.createElement("li",{className:this.getMenuItemClassName(e),style:e.cssStyle,tabIndex:n===this.props.tabbableItemId?0:-1,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onMouseDown:function(e){return t.props.onMouseDown(e)},onBlur:function(){return t.props.onBlur(n)},onFocus:function(){return t.props.onFocus(n)},onClick:function(e){return t.props.onClick(e,n)},role:"menuitem","aria-disabled":!!e.disabled||void 0,"aria-haspopup":e.items.length>0||void 0,"aria-expanded":e.items.length>0?this.Opened:void 0,"aria-label":e.text,"aria-owns":this.Opened?dt(this.props.menuGuid,n):void 0,ref:function(e){return t.itemElement=e},key:"0"},this.contentRender?this.renderContent():this.renderMenuItemLink()),this.renderPopupIfOpened()]},e.prototype.renderContent=function(){var t=this.props.item.contentParentItemId;return o.createElement("div",{className:"k-content",role:"presentation"},o.createElement(this.contentRender,{item:this.props.onOriginalItemNeeded(t),itemId:t}))},e.prototype.renderMenuItemLink=function(){var t=this.props.item;if(this.linkRender)return o.createElement(this.linkRender,{item:this.props.onOriginalItemNeeded(t.id),itemId:t.id,opened:this.Opened,dir:ht(this.props.isDirectionRightToLeft)});var e=this.itemRender?o.createElement(this.itemRender,{item:this.props.onOriginalItemNeeded(t.id),itemId:t.id,key:"1"}):t.text;return o.createElement(Ot,{url:t.url,opened:this.Opened},[this.renderMenuIconIfApplicable(),e,this.renderArrowIfApplicable()])},e.prototype.renderPopupIfOpened=function(){if(this.Opened){var t=this.props.item.id,e=function(t,e,n){var r=pt(t,e,n);return n?"downward"===r?ct.downward:ct.leftward:"downward"===r?ut.downward:ut.rightward}(t,this.props.isMenuVertical,this.props.isDirectionRightToLeft),n=e.anchorAlign,r=e.popupAlign,i=e.collision;return o.createElement(ot.Popup,{anchor:this.itemElement,show:!0,popupClass:this.getPopupClassName(),anchorAlign:n,popupAlign:r,collision:i,animate:!1,key:"1"},o.createElement(At,{parentItemId:t,items:this.props.item.items,menuGuid:this.props.menuGuid,focusedItemId:this.props.focusedItemId,lastItemIdToBeOpened:this.props.lastItemIdToBeOpened,tabbableItemId:this.props.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,isMenuVertical:this.props.isMenuVertical,isDirectionRightToLeft:this.props.isDirectionRightToLeft,className:"k-group k-menu-group k-reset",onMouseOver:this.props.onMouseOver,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onClick:this.props.onClick,onOriginalItemNeeded:this.props.onOriginalItemNeeded}))}return null},e.prototype.renderMenuIconIfApplicable=function(){return this.props.item.icon?o.createElement("span",{className:"k-icon k-i-"+this.props.item.icon,role:"presentation",key:"0"}):null},e.prototype.renderArrowIfApplicable=function(){return this.props.item.items.length>0?o.createElement(It,{itemId:this.props.item.id,verticalMenu:this.props.isMenuVertical,dir:ht(this.props.isDirectionRightToLeft),key:"2"}):null},Object.defineProperty(e.prototype,"itemRender",{get:function(){return this.props.item.render||this.props.itemRender},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"linkRender",{get:function(){return this.props.item.linkRender||this.props.linkRender},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentRender",{get:function(){return this.props.item.contentParentItemId?this.props.item.contentRender:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Opened",{get:function(){var t,e,n=this.props;return n.item.items.length>0&&(t=n.item.id,0===(e=n.lastItemIdToBeOpened).indexOf(t)&&(e.length===t.length||"_"===e.charAt(t.length)))&&!this.isFirstRender},enumerable:!0,configurable:!0}),e.prototype.getPopupClassName=function(){return Object(a.g)("k-menu-popup",{"k-rtl":this.props.isDirectionRightToLeft})},e.prototype.getMenuItemClassName=function(t){return Object(a.g)("k-item","k-menu-item",{"k-first":(e=t.id,"0"===G(e)),"k-last":t.isLastFromSiblings,"k-state-disabled":t.disabled},t.cssClass);var e},e}(o.Component),Pt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),At=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseOver=function(t){e.props.onMouseOver(e.props.parentItemId),t.stopPropagation()},e.onMouseLeave=function(t){e.props.onMouseLeave(e.props.parentItemId),t.stopPropagation()},e}return Pt(e,t),e.prototype.render=function(){var t=this.props.parentItemId;return o.createElement("ul",{className:this.props.className,role:void 0!==t?"menu":"menubar",id:void 0!==t?dt(this.props.menuGuid,t):void 0,onMouseOver:void 0!==t?this.onMouseOver:void 0,onMouseLeave:void 0!==t?this.onMouseLeave:void 0,"aria-orientation":this.props["aria-orientation"]},this.renderChildItems())},e.prototype.renderChildItems=function(){var t=this;return this.props.items.length>0?this.props.items.map((function(e,n){return o.createElement(Dt,{item:e,isMenuVertical:t.props.isMenuVertical,isDirectionRightToLeft:t.props.isDirectionRightToLeft,focusedItemId:t.props.focusedItemId,lastItemIdToBeOpened:t.props.lastItemIdToBeOpened,tabbableItemId:t.props.tabbableItemId,itemRender:t.props.itemRender,linkRender:t.props.linkRender,menuGuid:t.props.menuGuid,onMouseOver:t.props.onMouseOver,onMouseLeave:t.props.onMouseLeave,onMouseDown:t.props.onMouseDown,onBlur:t.props.onBlur,onFocus:t.props.onFocus,onClick:t.props.onClick,onOriginalItemNeeded:t.props.onOriginalItemNeeded,key:n})})):null},e}(o.Component),jt=function(){function t(){this.phase="Initialized"}return t.prototype.getIsDirectionRightToLeft=function(){return this.isDirectionRightToLeft},t.prototype.setIsDirectionRightToLeft=function(t){this.phase="NotInitialized"===this.phase?"Initialized":"NewValueReceived",this.previousIsDirectionRightToLeft=this.isDirectionRightToLeft,this.isDirectionRightToLeft=t},t.prototype.hasDirectionChanged=function(){return"NewValueReceived"===this.phase&&this.previousIsDirectionRightToLeft!==this.isDirectionRightToLeft},t}(),Mt=function(){function t(t,e,n){this.openOnClick=t,this.resetMenu=e,this.openItem=n,this.openOnClick=t,this.isMouseOverEnabled=!t}return Object.defineProperty(t.prototype,"OpenOnClick",{set:function(t){Boolean(t)!==Boolean(this.openOnClick)&&(this.mouseDown=!1,this.isMouseOverEnabled=!t),this.openOnClick=t},enumerable:!0,configurable:!0}),t.prototype.handleItemSelectedViaKeyboard=function(){this.openOnClick&&(this.isMouseOverEnabled=!1,this.resetMenu())},Object.defineProperty(t.prototype,"IsMouseOverEnabled",{get:function(){return this.isMouseOverEnabled},enumerable:!0,configurable:!0}),t.prototype.handleItemMouseDown=function(){this.mouseDown=!0},t.prototype.handleItemFocus=function(){this.openOnClick&&!this.mouseDown&&(this.isMouseOverEnabled=!0),this.mouseDown=!1},t.prototype.handleItemClick=function(t,e){this.openOnClick&&(this.isMouseOverEnabled?e&&(this.isMouseOverEnabled=!1,this.resetMenu()):(this.isMouseOverEnabled=!0,this.openItem(t)))},t}(),Rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt={focusedItemId:"",hoveredItemId:"",tabbableItemId:"0"},Ft=function(t){function e(e){var n=t.call(this,e)||this;return n.guid=Object(a.r)(),n.directionHolder=new jt,n.reset=function(){n.clearItemHoverAndLeaveRequestsIfApplicable(),n.setState(Nt)},n.onKeyDown=function(t){if(""!==n.state.focusedItemId){var e=z(n.state.focusedItemId,n.items),r=rt(n.items,e.id,t.keyCode,t.key,n.props.vertical,n.directionHolder.getIsDirectionRightToLeft());e.id!==r&&(t.preventDefault(),n.setFocusedItemId(r)),t.keyCode!==a.d.enter&&t.keyCode!==a.d.space||e.disabled||(n.mouseOverHandler.handleItemSelectedViaKeyboard(),n.dispatchSelectEventIfWired(t,e.id),!t.isDefaultPrevented()&&0===e.items.length&&e.url&&window.location.assign(e.url))}},n.onItemMouseOver=function(t){n.mouseOverHandler.IsMouseOverEnabled&&(n.clearItemHoverAndLeaveRequestsIfApplicable(),n.itemHoverRequest=window.setTimeout((function(){n.setHoveredItemId(t),n.itemHoverRequest=null}),function(t){return void 0!==t.hoverOpenDelay?t.hoverOpenDelay:t.openOnClick?0:100}(n.props)))},n.onItemMouseLeave=function(t){n.mouseOverHandler.IsMouseOverEnabled&&n.isItemWithDefaultClose(t)&&(n.clearItemHoverAndLeaveRequestsIfApplicable(),n.itemLeaveRequest=window.setTimeout((function(){n.setHoveredItemId(""),n.itemLeaveRequest=null}),function(t){return void 0!==t.hoverCloseDelay?t.hoverCloseDelay:100}(n.props)))},n.onItemMouseDown=function(){n.mouseOverHandler.handleItemMouseDown()},n.onItemFocus=function(t){n.setFocusedItemId(t),n.mouseOverHandler.handleItemFocus()},n.onItemClick=function(t,e){var r=z(e,n.items);r.disabled||(n.setFocusedItemId(e),n.mouseOverHandler.handleItemClick(e,n.isItemWithDefaultClose(e)),n.dispatchSelectEventIfWired(t,e),!t.isDefaultPrevented()&&r.url&&window.location.assign(r.url))},n.onItemBlur=function(t){n.isItemWithDefaultClose(t)&&n.setFocusedItemId("")},n.getInputItem=function(t){return z(t,n.inputItems)},Object(a.D)(g),n.mouseOverHandler=new Mt(n.props.openOnClick,n.reset,n.onItemMouseOver),n.state=Object.assign({},Nt,{isFirstRender:!0}),n}return Rt(e,t),e.prototype.render=function(){var t=this;this.prepareItems(),this.state.isFirstRender||this.directionHolder.setIsDirectionRightToLeft(this.checkIsDirectionRightToLeft());var e=this.state.hoveredItemId?this.state.hoveredItemId:this.state.focusedItemId?U(this.state.focusedItemId):"";return o.createElement("div",{onKeyDown:this.onKeyDown,style:this.props.style,className:this.getMenuWrapperClassName(),ref:function(e){return t.menuWrapperEl=e}},o.createElement(At,{className:this.getMenuClassName(),"aria-orientation":this.props.vertical?"vertical":void 0,items:this.items,isMenuVertical:this.props.vertical,isDirectionRightToLeft:this.directionHolder.getIsDirectionRightToLeft(),focusedItemId:this.state.focusedItemId,lastItemIdToBeOpened:e,tabbableItemId:this.state.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,menuGuid:this.guid,onMouseLeave:this.onItemMouseLeave,onMouseOver:this.onItemMouseOver,onMouseDown:this.onItemMouseDown,onFocus:this.onItemFocus,onClick:this.onItemClick,onBlur:this.onItemBlur,onOriginalItemNeeded:this.getInputItem}))},e.prototype.componentDidMount=function(){this.setState({isFirstRender:!1})},e.prototype.componentDidUpdate=function(t){(Boolean(t.vertical)!==Boolean(this.props.vertical)||this.directionHolder.hasDirectionChanged())&&this.reset(),this.mouseOverHandler.OpenOnClick=this.props.openOnClick},e.prototype.componentWillUnmount=function(){this.clearItemHoverAndLeaveRequestsIfApplicable()},e.prototype.setFocusedItemId=function(t){this.setState((function(e){var n=""===t?e.tabbableItemId:B(t);return{hoveredItemId:""===t||W(e.hoveredItemId)&&W(t)?e.hoveredItemId:"",focusedItemId:t,tabbableItemId:n}}))},e.prototype.setHoveredItemId=function(t){this.setState((function(e){return W(t)&&W(e.focusedItemId)?{hoveredItemId:t,focusedItemId:e.focusedItemId,tabbableItemId:e.tabbableItemId}:{hoveredItemId:t,focusedItemId:"",tabbableItemId:"0"}}))},e.prototype.getMenuWrapperClassName=function(){return Object(a.g)({"k-rtl":this.directionHolder.getIsDirectionRightToLeft()},this.props.className)},e.prototype.getMenuClassName=function(){return Object(a.g)("k-widget","k-reset","k-header","k-menu",{"k-menu-horizontal":!this.props.vertical},{"k-menu-vertical":this.props.vertical})},e.prototype.clearItemHoverAndLeaveRequestsIfApplicable=function(){this.itemHoverRequest&&(clearTimeout(this.itemHoverRequest),this.itemHoverRequest=null),this.itemLeaveRequest&&(clearTimeout(this.itemLeaveRequest),this.itemLeaveRequest=null)},e.prototype.isItemWithDefaultClose=function(t){return!this.props.customCloseItemIds||-1===this.props.customCloseItemIds.indexOf(t)},e.prototype.checkIsDirectionRightToLeft=function(){return void 0!==this.props.dir?"rtl"===this.props.dir:this.menuWrapperEl&&"rtl"===getComputedStyle(this.menuWrapperEl).direction},e.prototype.prepareItems=function(){var t=Z(this.props.items,this.props.children),e=t.items,n=t.inputItems;this.items=e,this.inputItems=n},e.prototype.dispatchSelectEventIfWired=function(t,e){Object(a.k)(this.props.onSelect,t,this,{item:this.getInputItem(e),itemId:e})},e.propTypes={vertical:i.bool,items:i.arrayOf(i.object),style:i.object,dir:i.string,hoverOpenDelay:i.number,hoverCloseDelay:i.number,openOnClick:i.bool,itemRender:i.any,linkRender:i.any,customCloseItemIds:i.arrayOf(i.string),onSelect:i.func},e.defaultProps={vertical:!1},e}(o.Component),Lt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lt(e,t),e.prototype.render=function(){var t,e=this.props,n=e.size,r=e.collapsed,i=e.overlay,s=e.containsSplitter,l=e.collapsible,c=e.resizable,u=e.scrollable,p=e.keepMounted,h=n&&n.length>0,d={flexBasis:n},f=Object(a.g)("k-pane",((t={})["k-state-hidden"]=r,t.hidden=r,t["k-pane-flex"]=s,t["k-pane-static"]=!c&&!l||h,t["k-scrollable"]=u,t));return o.createElement("div",{style:d,className:f},!r||p?this.props.children:void 0,i?o.createElement("div",{className:"k-splitter-overlay k-overlay"}):void 0)},e}(o.Component),Bt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vt=function(t){function e(e){var n=t.call(this,e)||this;return n.onDrag=function(t,e,r){var o=t.event,i=n.props,a=i.onDrag,s=i.index,l=n.draggable&&n.draggable.element;!r&&o&&o.originalEvent.preventDefault(),l&&!n.isStatic&&n.isDraggable&&a(o,l,s,e,r)},n.onFocus=function(){n.setState({focused:!0})},n.onBlur=function(){n.setState({focused:!1})},n.onToggle=function(t){var e=n.props,r=e.onToggle,o=e.index,i=e.prev,a=e.next;(i.collapsible||a.collapsible)&&r(i.collapsible?o:o+1,t)},n.onPrevToggle=function(t){var e=n.props,r=e.onToggle,o=e.index;e.prev.collapsible&&r(o,t)},n.onNextToggle=function(t){var e=n.props,r=e.onToggle,o=e.index;e.next.collapsible&&r(o+1,t)},n.onKeyDown=function(t){var e=t&&t.keyCode,r=n.isHorizontal,o=n.props.index,i=n.draggable&&n.draggable.element,s=function(e,r,o){t.preventDefault(),n.props.onKeyboardResize(e,r,o,t)};i&&(e===a.d.enter?(t.preventDefault(),n.onToggle(t)):n.isDraggable&&(r&&e===a.d.left?s(i,o,-10):r&&e===a.d.right?s(i,o,10):r||e!==a.d.up?r||e!==a.d.down||s(i,o,10):s(i,o,-10)))},n.previousArrowClass=function(t){var e,r=n.props.prev,o=r.collapsible,i=r.collapsed;return Object(a.g)("k-icon",((e={})["k-hidden"]=!o,e["k-collapse-prev"]=o,e["k-i-arrow-60-left"]=o&&t&&!i,e["k-i-arrow-60-right"]=o&&t&&i,e["k-i-arrow-60-up"]=o&&!t&&!i,e["k-i-arrow-60-down"]=o&&!t&&i,e))},n.nextArrowClass=function(t){var e,r=n.props.next,o=r.collapsible,i=r.collapsed;return Object(a.g)("k-icon",((e={})["k-hidden"]=!o,e["k-collapse-next"]=o,e["k-i-arrow-60-right"]=o&&t&&!i,e["k-i-arrow-60-left"]=o&&t&&i,e["k-i-arrow-60-down"]=o&&!t&&!i,e["k-i-arrow-60-up"]=o&&!t&&i,e))},n.state={focused:!1},n}return Bt(e,t),Object.defineProperty(e.prototype,"isStatic",{get:function(){var t=this.props,e=t.prev,n=t.next,r=e.resizable&&n.resizable,o=e.collapsible||n.collapsible;return!r&&!o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDraggable",{get:function(){var t=this.props,e=t.prev,n=t.next,r=e.resizable&&n.resizable,o=e.collapsed||n.collapsed;return!!r&&!o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHorizontal",{get:function(){return"horizontal"===this.props.orientation},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t,e=this,n=this.isDraggable,r=this.isStatic,i=this.isHorizontal,s=Object(a.g)("k-splitbar",((t={})["k-state-focused"]=this.state.focused,t["k-splitbar-horizontal"]=i,t["k-splitbar-vertical"]=!i,t["k-splitbar-draggable-horizontal"]=i&&n,t["k-splitbar-draggable-vertical"]=!i&&n,t["k-splitbar-static-horizontal"]=i&&r,t["k-splitbar-static-vertical"]=!i&&r,t)),l=this.previousArrowClass(i),c=this.nextArrowClass(i);return o.createElement(a.b,{onPress:function(t){return e.onDrag(t,!0,!1)},onDrag:function(t){return e.onDrag(t,!1,!1)},onRelease:function(t){return e.onDrag(t,!1,!0)},ref:function(t){e.draggable=t}},o.createElement("div",{tabIndex:r?-1:0,role:"separator",className:s,style:{touchAction:"none"},onFocus:this.onFocus,onBlur:this.onBlur,onDoubleClick:this.onToggle,onKeyDown:this.onKeyDown},o.createElement("div",{className:l,onClick:this.onPrevToggle}),o.createElement("div",{className:"k-resize-handle"}),o.createElement("div",{className:c,onClick:this.onNextToggle})))},e}(o.Component),Ht=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ut=function(){return(Ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Wt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},qt={collapsible:!1,collapsed:!1,resizable:!0,scrollable:!0},Kt=function(t){function e(e){var n=t.call(this,e)||this;return n.validatePanes=function(t){if(!t.filter((function(t){return void 0===t.size})).length)throw new Error("The Splitter should have at least one pane without a set size.")},n.mapPaneOptions=function(t,e){for(var r=n.orientation,i=n.state,a=i.dragIndex,s=i.isDragging,l=[],c=0;c<e.length;c++){var u=!1,p=e[c];o.isValidElement(p)&&(u="Splitter"===p.type.displayName);var h=!1;s&&void 0!==a&&(h=a===c||a+1===c),l.push(Ut({},qt,{orientation:r,containsSplitter:u,overlay:h},(t||[])[c]))}return l},n.mapSplitterPanes=function(t,e){return t.map((function(r,i){var a,s=2*i,l=s+1;if(i+1<t.length){var c=t[i+1];a=o.createElement(Vt,{key:l,index:i,orientation:r.orientation,prev:r,next:c,onDrag:n.onBarDragResize,onToggle:n.onBarToggle,onKeyboardResize:n.onBarKeyboardResize})}return[o.createElement(zt,Ut({key:s},r),e[i]),a]}))},n.onBarToggle=function(t,e){var r=n.panesOptions(n.panesContent).map((function(e,r){var o=n.getPaneProps(e);return r===t?Ut({},o,{collapsed:!e.collapsed}):Ut({},o)}));n.props.onChange&&n.props.onChange({newState:r,isLast:!0,nativeEvent:e})},n.onBarDragResize=function(t,e,r,o,i){var a=(new Date).getTime(),s=t.pageX,l=t.pageY,c=n.surroudingPanes(e),u=c.prevElement,p=c.nextElement;if(u&&p)if(o)n.setState({isDragging:!0,dragIndex:r,startTime:a,originalX:s,originalY:l,originalPrevSize:n.elementSize(u),originalNextSize:n.elementSize(p)});else{var h,d=n.state,f=d.originalPrevSize,m=d.originalNextSize,v=d.startTime,g=d.originalX,y=d.originalY;if(!o&&a-v<150)i&&n.resetDragState();else h="vertical"===n.orientation?l-y:n.isRtl?g-s:s-g,n.resize(r,r+1,f,m,h,i,t),i&&n.resetDragState()}},n.onBarKeyboardResize=function(t,e,r,o){var i=n.surroudingPanes(t),a=i.prevElement,s=i.nextElement,l=n.elementSize(a),c=n.elementSize(s);n.resize(e,e+1,l,c,r,!0,o)},n.containerSize=function(){return n._container?n.elementSize(n._container,!0):0},n.panesOptions=function(t){return n.mapPaneOptions(n.panes,t)},n.elementSize=function(t,e){var r=e?"client":"offset";return"vertical"===n.orientation?t[r+"Height"]:t[r+"Width"]},n.clamp=function(t,e,n){return Math.min(e,Math.max(t,n))},n.fixedSize=function(t){return t&&t.length>0},Object(a.D)(g),n.state={isDragging:!1,dragIndex:void 0,startTime:0,originalX:0,originalY:0,originalPrevSize:0,originalNextSize:0,panes:e.defaultPanes||[]},n}return Ht(e,t),Object.defineProperty(e.prototype,"isControlledState",{get:function(){return void 0!==this.props.panes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panes",{get:function(){return void 0!==this.panesDuringOnChange?this.panesDuringOnChange:this.isControlledState?this.props.panes:this.state.panes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.props.orientation||"horizontal"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRtl",{get:function(){return this._container&&"rtl"===getComputedStyle(this._container).direction||!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panesContent",{get:function(){return o.Children.toArray(this.props.children).filter((function(t){return t}))},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this,e=this.panesContent,n=this.panesOptions(e),r=Object(a.g)("k-widget","k-splitter","k-splitter-flex","k-splitter-"+this.orientation,this.props.className);return this.validatePanes(n),o.createElement("div",{style:this.props.style,ref:function(e){return t._container=e},className:r},this.mapSplitterPanes(n,e))},e.prototype.surroudingPanes=function(t){return{prevElement:t.previousElementSibling,nextElement:t.nextElementSibling}},e.prototype.isPercent=function(t){return/%$/.test(t)},e.prototype.toPixels=function(t,e){var n=parseInt(t,10);return this.isPercent(t)&&(n=e*n/100),n},e.prototype.resetDragState=function(){this.setState({isDragging:!1,dragIndex:void 0,startTime:0,originalX:0,originalY:0,originalPrevSize:0,originalNextSize:0})},e.prototype.resize=function(t,e,n,r,o,i,a){var s,l,c=this,u=this.panesOptions(this.panesContent),p=u[t],h=u[e],d=n+r,f=this.containerSize(),m=function(t){return c.toPixels(t,f)},v={index:t,initialSize:n,min:m(p.min)||d-m(h.max)||0,max:m(p.max)||d-m(h.min)||d},g={index:e,initialSize:r,min:m(h.min)||d-m(p.max)||0,max:m(h.max)||d-m(p.min)||d},y=function(t,e){var n=u[t.index],r=c.clamp(t.min,t.max,t.initialSize+e);return c.isPercent(n.size||"")?100*r/f+"%":r+"px"};this.fixedSize(p.size)&&this.fixedSize(h.size)?(s=y(v,o),l=y(g,-o)):h.collapsible||this.fixedSize(h.size)?l=y(g,-o):s=y(v,o);var b=u.map((function(n,r){var o=c.getPaneProps(n);return r===t?Ut({},o,{size:s}):r===e?Ut({},o,{size:l}):Ut({},o)}));this.panesDuringOnChange=b,this.isControlledState||this.setState({panes:b}),this.props.onChange&&this.props.onChange({newState:b,isLast:i,nativeEvent:a}),this.panesDuringOnChange=void 0},e.prototype.getPaneProps=function(t){t.orientation,t.overlay,t.containsSplitter;return Wt(t,["orientation","overlay","containsSplitter"])},e.displayName="Splitter",e}(o.Component);!function(t){t.CIRCLE="circle",t.SQUARE="square",t.ROUNDED="rounded",t.RECTANGLE="rectangle"}(ft||(ft={})),function(t){t.TEXT="text",t.IMAGE="image",t.ICON="icon"}(mt||(mt={})),function(t){t.SMALL="small",t.MEDIUM="medium",t.LARGE="large"}(vt||(vt={})),function(t){t.SOLID="solid",t.OUTLINE="outline"}(gt||(gt={})),function(t){t.PRIMARY="primary",t.SECONDARY="secondary",t.TERTIARY="tertiary",t.INFO="info",t.SUCCESS="success",t.WARNING="warning",t.ERROR="error",t.DARK="dark",t.LIGHT="light",t.INVERSE="inverse",t.INHERIT="inherit"}(yt||(yt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(bt||(bt={})),function(t){t.DEFAULT="default",t.primary="primary",t.INFO="info",t.SUCCESS="success",t.WARNING="warning",t.ERROR="error"}(xt||(xt={})),function(t){t.START="start",t.CENTER="center",t.END="end",t.STRETCHED="stretched"}(wt||(wt={}));var Gt=function(t){var e;return Object(a.D)(g),o.createElement("div",{dir:t.dir,style:t.style,className:Object(a.g)("k-card",t.className,(e={},e["k-card-"+t.type]=t.type!==xt.DEFAULT,e),t.orientation!==bt.HORIZONTAL?"k-card-vertical":"k-card-horizontal")},t.children)};Gt.propTypes={className:i.string,type:i.oneOf(["default","primary","info","success","warning","error"]),orientation:i.oneOf(["horizontal","vertical"])},Gt.defaultProps={type:xt.DEFAULT,orientation:bt.VERTICAL,dir:"ltr"};var Yt=function(t){return o.createElement("div",{style:t.style,className:Object(a.g)("k-card-header",t.className)},t.children)};Yt.propTypes={className:i.string};var Xt=function(t){return o.createElement("div",{style:t.style,className:Object(a.g)("k-card-title",t.className)},t.children)};Xt.propTypes={className:i.string};var $t=function(t){return o.createElement("div",{style:t.style,className:Object(a.g)("k-card-body",t.className)},t.children)};$t.propTypes={className:i.string};var Zt=function(t){return o.createElement("div",{style:t.style,className:Object(a.g)("k-card-actions",t.className,"k-card-actions-"+t.layout,t.orientation!==bt.VERTICAL?"k-card-actions-horizontal":"k-card-actions-vertical")},t.children)};Zt.propTypes={layout:i.oneOf(["stretched","start","center","end"]),orientation:i.oneOf(["horizontal","vertical"])},Zt.defaultProps={layout:wt.START,orientation:bt.HORIZONTAL};var Jt=function(t){return o.createElement("img",{style:t.style,className:Object(a.g)("k-card-image",t.className),src:t.src})};Jt.propTypes={className:i.string,src:i.string},Jt.defaultProps={src:""};var Qt=function(t){return o.createElement("div",{style:t.style,className:Object(a.g)("k-card-subtitle",t.className)},t.children)};Qt.propTypes={className:i.string};var te=function(t){return o.createElement("div",{style:t.style,className:Object(a.g)("k-card-footer",t.className)},t.children)};te.propTypes={className:i.string};var ee=function(t){return Object(a.D)(g),o.createElement("div",{style:t.style,className:Object(a.g)("k-avatar","k-avatar-"+t.fill,"k-avatar-"+t.shape,"k-avatar-"+t.themeColor,{"k-avatar-bordered":t.border,"k-avatar-sm":"small"===t.size,"k-avatar-md":"medium"===t.size,"k-avatar-lg":"large"===t.size},t.className)},o.createElement("span",{className:"k-avatar-"+t.type},t.children))};ee.propTypes={className:i.string,shape:i.oneOf(["circle","square","rounded","rectangle"]),type:i.oneOf(["text","image","icon"]),fill:i.oneOf(["solid","outline"]),size:i.oneOf(["small","medium","large"]),themeColor:i.oneOf(["primary","secondary","tertiary","info","success","warning","error","dark","light","inverse","inherit"])},ee.defaultProps={type:mt.TEXT,shape:ft.SQUARE,size:vt.MEDIUM,fill:gt.SOLID,themeColor:yt.PRIMARY};var ne=o.createContext({animation:!0,expanded:!1,mode:"overlay",position:"start",mini:!1,dir:"ltr",width:240,miniWidth:50}),re=function(){return(re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},oe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ie=o.forwardRef((function(t,e){var n=t.className,r=t.style,i=t.text,s=t.icon,l=t.separator,c=t.disabled,u=t.selected,p=t.onSelect,h=t.index,d=t.tabIndex,f=t.children,m=oe(t,["className","style","text","icon","separator","disabled","selected","onSelect","index","tabIndex","children"]),v=o.useContext(ne),g=v.expanded,y=v.mini,b=v.item,x=o.useRef(null),w=o.useCallback((function(){x.current&&x.current.focus()}),[]);o.useImperativeHandle(e,(function(){return{element:x.current,focus:w,props:t}}));var k=Object(a.g)("k-drawer-item",{"k-state-selected":u,"k-state-disabled":c},n),O=o.useCallback((function(){if(p&&!c){var e={element:x.current,focus:w,props:t};p(e,h)}}),[p,h,c]),C=o.createElement(o.Fragment,null,s&&o.createElement("span",{className:"k-icon "+s}),!g&&y?null:o.createElement("span",{className:"k-item-text"},i));return l?o.createElement("li",{className:"k-drawer-item k-drawer-separator",role:"presentation"}):o.createElement("li",re({ref:x,className:k,style:r,role:"option","aria-selected":u,"aria-disabled":c,onClick:O,tabIndex:Object(a.p)(d,c)},m),b?f:C)}));ie.propTypes={className:i.string,style:i.object,text:i.string,icon:i.string,separator:i.bool,selected:i.bool,disabled:i.bool,targetItem:i.any},ie.displayName="KendoDrawerItem";var ae=function(){return(ae=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},se={type:"slide",duration:200},le={type:"slide",duration:0},ce=o.forwardRef((function(t,e){var n=t.children,r=t.className,i=t.style,s=o.useContext(ne),l=s.animation,c=s.expanded,u=s.mode,p=s.position,h=s.onOverlayClick,d=s.mini,f=s.dir,m=s.width,v=s.miniWidth,g=s.items,y=s.item,b=s.onSelect,x=o.useRef(null),w=o.useCallback((function(){x.current&&x.current.focus()}),[]),k="boolean"!=typeof l?l:!1===l?le:se,O=m||240,C=v||50;o.useImperativeHandle(e,(function(){return{element:x.current,focus:w}}));var _=o.useMemo((function(){return"k-widget k-drawer "+Object(a.g)({"k-drawer-start":"start"===p,"k-drawer-end":"end"===p},r)}),[p]),S={opacity:1,flexBasis:O,WebkitTransition:"all "+(k&&k.duration)+"ms",transition:"all "+(k&&k.duration)+"ms"},E={opacity:1,transform:"translateX(0px)",WebkitTransition:"all "+(k&&k.duration)+"ms",transition:"all "+(k&&k.duration)+"ms"},I={opacity:d?1:0,flexBasis:d?C:0,WebkitTransition:"all "+(k&&k.duration)+"ms",transition:"all "+(k&&k.duration)+"ms"},T={opacity:0,transform:"translateX(-100%)",WebkitTransition:"all "+(k&&k.duration)+"ms",transition:"all "+(k&&k.duration)+"ms"},D={opacity:0,transform:"translateX(100%)",WebkitTransition:"all "+(k&&k.duration)+"ms",transition:"all "+(k&&k.duration)+"ms"},P={transform:"translateX(0%)",WebkitTransitionDuration:(k&&k.duration)+"ms",transitionDuration:(k&&k.duration)+"ms"},A=c?"push"===u?S:E:"push"===u?I:"ltr"===f&&"start"===p||"rtl"===f&&"end"===p?d?P:T:d?P:D,j=g&&o.createElement("ul",{className:"k-drawer-items",role:"listbox",title:"drawer-list","aria-expanded":c},g.map((function(t,e){var n=ae({index:e},t,{onSelect:b}),r=y||ie;return o.createElement(r,ae({key:e},n))}))),M=o.createElement("div",{style:k?ae({},A,i):i,className:_,ref:x},o.createElement("div",{className:"k-drawer-wrapper",style:!c&&d&&"overlay"===u?{width:C}:{width:O}},j||n));return"overlay"===u?o.createElement(o.Fragment,null,c&&o.createElement("div",{className:"k-overlay",onClick:h}),M):M}));ce.propTypes={children:i.any,className:i.string,style:i.object,item:i.any,tabIndex:i.number},ce.displayName="KendoDrawerNavigation";var ue=o.forwardRef((function(t,e){Object(a.D)(g);var n=t.expanded,r=t.mode,i=t.position,s=t.className,l=t.children,c=t.style,u=t.animation,p=t.mini,h=t.width,d=t.miniWidth,f=t.items,m=t.item,v=t.tabIndex,y=t.onOverlayClick,b=t.onSelect,x=o.useRef(null),w=o.useCallback((function(){x.current&&x.current.focus()}),[]);o.useImperativeHandle(e,(function(){return{element:x.current,focus:w}}));var k=o.useCallback((function(t,e){f&&b&&b.call(void 0,{itemTarget:t,itemIndex:e})}),[f,b]),O=Object(a.z)(x,t.dir),C=Object(a.g)({"k-drawer-container":!0,"k-drawer-expanded":n,"k-drawer-overlay":"overlay"===r,"k-drawer-push":"push"===r,"k-drawer-mini":p},s);return o.createElement(ne.Provider,{value:{animation:u,expanded:n,mode:r,position:i,mini:p,dir:O,items:f,item:m,width:h,miniWidth:d,onOverlayClick:y,onSelect:k}},o.createElement("div",{className:C,ref:x,dir:O,style:c,tabIndex:v},f&&o.createElement(ce,null),l))}));ue.propTypes={animation:i.any,expanded:i.bool,children:i.any,className:i.string,dir:i.string,mode:i.string,position:i.string,mini:i.bool,style:i.object,tabIndex:i.number,width:i.number,miniWidth:i.number,selected:i.number,onSelect:i.func,onOverlayClick:i.func};ue.defaultProps={animation:!0,expanded:!1,mode:"overlay",position:"start",mini:!1,dir:"ltr",width:240,miniWidth:50},ue.displayName="KendoDrawer";var pe=o.forwardRef((function(t,e){var n=t.children,r=t.className,i=t.style,s=o.useRef(null);o.useImperativeHandle(e,(function(){return{element:s.current}}));var l=Object(a.g)({"k-drawer-content":!0},r);return o.createElement("div",{className:l,style:i,ref:s},n)}));pe.propTypes={children:i.any,className:i.string,style:i.object},pe.displayName="KendoDrawerContent";var he,de=o.createContext({linear:!1,mode:"steps",value:0}),fe=n(5),me=((he={})["stepper.optionalText"]="(Optional)",he),ve=function(){return(ve=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ge=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ye=o.forwardRef((function(t,e){var n=t.children,r=t.className,i=t.current,s=t.disabled,l=t.focused,c=t.icon,u=t.index,p=t.isValid,h=t.label,d=t.optional,f=t.style,m=t.tabIndex,v=t.text,g=ge(t,["children","className","current","disabled","focused","icon","index","isValid","label","optional","style","tabIndex","text"]),y=o.useContext(de),b=y.animationDuration,x=y.isVertical,w=y.item,k=y.linear,O=y.mode,C=y.numOfSteps,_=y.value,S=y.successIcon,E=y.errorIcon,I=y.onChange,T=y.onFocus,D=o.useRef(null),P=o.useCallback((function(){D.current&&Object(a.m)(D.current)}),[]),A=o.useCallback((function(){return{element:D.current,focus:P}}),[P]);o.useImperativeHandle(e,A);var j,M=!k||u===_-1||u===_||u===_+1,R="labels"===O||Boolean(c)&&Boolean(h),N=Object(fe.useLocalization)(),F=(j="stepper.optionalText",N.toLanguageString(j,me[j])),L="number"==typeof b?b:!1!==b?400:0,z=o.useCallback((function(t){I&&!s&&Object(a.k)(I,t,A(),{value:u})}),[I,_,s]),B=o.useCallback((function(t){T&&!s&&Object(a.k)(T,t,A(),void 0)}),[T,s]),V=o.useMemo((function(){return Object(a.g)("k-step",{"k-step-first":0===u,"k-step-last":C&&u===C-1,"k-step-done":u<_,"k-step-current":i,"k-step-optional":d,"k-step-disabled":s,"k-step-focus":l,"k-step-error":void 0!==p&&!p,"k-step-success":p},r)}),[u,C,_,i,d,s,l,p,r]),H=o.useMemo((function(){return ve({maxWidth:x?void 0:"calc(100% / "+C+")",pointerEvents:M?void 0:"none"},f)}),[x,C,f,M]),U=p?S?""+S:"k-icon k-i-check":E?""+E:"k-icon k-i-warning",W=o.createElement("span",{className:"k-step-indicator-icon "+U,"aria-hidden":"true"}),q=o.createElement(o.Fragment,null,"labels"!==O?o.createElement("span",{className:"k-step-indicator","aria-hidden":!0,style:{transitionDuration:L+"ms"}},c?R||void 0===p?o.createElement("span",{className:"k-step-indicator-icon k-icon "+c}):W:void 0!==p?W:o.createElement("span",{className:"k-step-indicator-text"},v||u+1)):null),K=o.createElement("span",{className:"k-step-label"},h&&o.createElement("span",{className:"k-step-text"},h),R&&void 0!==p&&W,d&&o.createElement("span",{className:"k-step-label-optional"},F)),G=o.createElement(o.Fragment,null,q,K);return o.createElement("li",ve({ref:D,className:V,style:H},g),o.createElement("a",{className:"k-step-link",title:h||void 0,onClick:z,onFocus:B,tabIndex:m||(l?0:-1),"aria-current":i?"step":void 0,"aria-disabled":s||!M||void 0,"aria-invalid":void 0!==p&&!p||void 0},w?n:G))}));ye.propTypes={children:i.any,className:i.string,current:i.bool,disabled:i.bool,icon:i.string,index:i.number,isValid:i.bool,label:i.string,optional:i.bool,style:i.object,tabIndex:i.number,text:i.string};ye.defaultProps={tabIndex:0},ye.displayName="KendoStep";var be=function(t,e,n){var r=Math.abs((e-t)/100);return Math.abs((n-t)/r)},xe=function(t,e,n,r){var o=Math.max(n,.01),i=100/o*100;t.current&&e.current&&(t.current.style.width=r?"100%":o+"%",e.current.style.width=r?"100%":i+"%",t.current.style.height=r?o+"%":"100%",e.current.style.height=r?i+"%":"100%")},we={name:"@progress/kendo-react-progressbars",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616689,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},ke=function(){return(ke=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Oe=o.forwardRef((function(t,e){Object(a.D)(we);var n=t.chunkCount,r=void 0===n?Ce.chunkCount:n,i=t.className,s=t.disabled,l=t.orientation,c=t.min,u=void 0===c?Ce.min:c,p=t.max,h=void 0===p?Ce.max:p,d=t.reverse,f=void 0===d?Ce.reverse:d,m=t.style,v=t.tabIndex,g=t.emptyStyle,y=t.emptyClassName,b=t.progressStyle,x=t.progressClassName,w=o.useRef(null),k=o.useCallback((function(){w.current&&w.current.focus()}),[]);o.useImperativeHandle(e,(function(){return{element:w.current,focus:k}}));var O=t.value||Ce.value,C=null===t.value,_=Object(a.C)(w,t.dir),S="vertical"===l,E={className:Object(a.g)("k-widget k-progressbar",{"k-progressbar-horizontal":!S,"k-progressbar-vertical":S,"k-progressbar-reverse":f,"k-progressbar-indeterminate":C,"k-state-disabled":s},i),ref:w,dir:_,tabIndex:Object(a.p)(v,s),role:"progressbar","aria-valuemin":u,"aria-valuemax":h,"aria-valuenow":C?void 0:O,"aria-disabled":s,style:m};return o.createElement("div",ke({},E),o.createElement("ul",{className:"k-reset"},o.createElement((function(t){for(var e=t.count,n=[],r=100/e+"%",i=function(t,e,n){return Math.max((n-t)/(e-t),1e-5)}(u,h,O),s=Math.floor(i*e),l=Array(e).fill(!1),c=S&&!f||!S&&f,p=0;p<s;p++)l[p]=!0;c&&l.reverse();for(p=0;p<e;++p){var d=l[p],m=d?x:y,v=ke({},{width:S?void 0:r,height:S?r:void 0},d?b:g);n.push(o.createElement("li",{key:p,className:Object(a.g)("k-item",{"k-first":0===p,"k-last":p===e-1,"k-state-selected":d},m),style:v}))}return o.createElement(o.Fragment,null,n)}),{count:r||Ce.chunkCount})))}));Oe.propTypes={chunkCount:i.number,disabled:i.bool,reverse:i.bool,max:i.number,min:i.number,value:i.number,tabIndex:i.number,emptyStyle:i.object,emptyClassName:i.string,progressStyle:i.object,progressClassName:i.string};var Ce={chunkCount:5,min:0,max:100,value:0,disabled:!1,reverse:!1};Oe.defaultProps=Ce,Oe.displayName="KendoChunkProgressBar";var _e=function(){return(_e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Se=o.forwardRef((function(t,e){Object(a.D)(we);var n=t.animation,r=t.disabled,i=t.reverse,s=void 0===i?Ee.reverse:i,l=t.orientation,c=t.labelVisible,u=t.labelPlacement,p=t.max,h=void 0===p?Ee.max:p,f=t.min,m=void 0===f?Ee.min:f,v=t.tabIndex,g=t.className,y=t.style,b=t.emptyStyle,x=t.emptyClassName,w=t.progressStyle,k=t.progressClassName,O=o.useRef(null),C=o.useRef(null),_=o.useRef(null),S=o.useCallback((function(){O.current&&O.current.focus()}),[]);o.useImperativeHandle(e,(function(){return{element:O.current,progressStatusElement:C.current,progressStatusWrapElement:_.current,focus:S}}));var E=t.value||Ee.value,I=function(t){var e=o.useRef();return o.useEffect((function(){e.current=t})),e.current}(E),T=null===t.value,D=Object(a.C)(O,t.dir),P="vertical"===l,A=function(t){var e=t.toString().split(".");return 1===e.length?""+e[0]:e[0]+"."+e[1].substr(0,3)}(E),j={value:E},M=c?t.label?o.createElement("span",{className:"k-progress-status"},o.createElement(t.label,_e({},j))):o.createElement("span",{className:"k-progress-status"},A):void 0,R={className:Object(a.g)("k-widget k-progressbar",{"k-progressbar-horizontal":!P,"k-progressbar-vertical":P,"k-progressbar-reverse":s,"k-progressbar-indeterminate":T,"k-state-disabled":r},g),ref:O,dir:D,tabIndex:Object(a.p)(v,r),role:"progressbar","aria-valuemin":m,"aria-valuemax":h,"aria-valuenow":T?void 0:E,"aria-disabled":r,style:y},N=Object(a.g)("k-progress-status-wrap",{"k-progress-start":"start"===u,"k-progress-center":"center"===u,"k-progress-end":"end"===u||void 0===u}),F="boolean"!=typeof n&&void 0!==n?n.duration:n?400:0,L=o.useCallback((function(){var t=be(m,h,I);xe(C,_,t,P)}),[P,h,m,I]),z=o.useCallback((function(t){var e=be(m,h,I+(E-I)*t);xe(C,_,e,P)}),[m,h,I,E,P]),B=o.useCallback((function(){var t=be(m,h,E);xe(C,_,t,P)}),[P,h,m,E]);return Object(d.useAnimation)({duration:F,onStart:L,onUpdate:z,onEnd:B},[E,F]),o.createElement("div",_e({},R),o.createElement("span",{className:N+(x?" "+x:""),style:b},M),o.createElement("div",{className:"k-state-selected",style:w,ref:C},o.createElement("span",{className:N+(k?" "+k:""),ref:_},M)))}));Se.propTypes={animation:i.any,disabled:i.bool,reverse:i.bool,label:i.any,labelVisible:i.bool,labelPlacement:i.oneOf(["start","center","end"]),max:i.number,min:i.number,value:i.number,tabIndex:i.number,emptyStyle:i.object,emptyClassName:i.string,progressStyle:i.object,progressClassName:i.string};var Ee={animation:!1,min:0,max:100,value:0,disabled:!1,reverse:!1,labelVisible:!0};Se.defaultProps=Ee,Se.displayName="KendoProgressBar";var Ie=function(){return(Ie=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Te=o.forwardRef((function(t,e){Object(a.D)(g);var n=t.animationDuration,r=t.children,i=t.className,s=t.disabled,l=t.errorIcon,c=t.item,u=t.items,p=t.linear,h=t.mode,d=t.orientation,f=t.style,m=t.successIcon,v=t.onChange,y=t.onFocus,b=o.useRef(null),x=o.useCallback((function(){b.current&&Object(a.m)(b.current)}),[]),w=o.useCallback((function(){return{element:b.current,focus:x}}),[x]);o.useImperativeHandle(e,w);var k=t.value||De.value,O=o.useState(k),C=O[0],_=O[1],S=u?u.length:0,E="vertical"===d,I=Object(a.C)(b,t.dir),T="number"==typeof n?n:!1!==n?400:0,D=o.useCallback((function(t,e){k!==e&&v&&!s&&(!p||e===k-1||e===k||e===k+1)&&(Object(a.k)(v,t,w(),{value:e}),_(e))}),[k,p,v,s,_]),P=o.useCallback((function(t){var e=t.value,n=t.syntheticEvent;D(n,e)}),[D]),A=o.useCallback((function(t){y&&!s&&Object(a.k)(y,t.syntheticEvent,w(),void 0)}),[y,s]),j=o.useCallback((function(t){D(t,C)}),[D,C]),M=o.useCallback((function(t){var e="rtl"===I,n=C,r=u.length-1;switch(t.keyCode){case a.d.left:t.preventDefault(),!e&&n>0&&_(n-1),e&&n<r&&_(n+1);break;case a.d.right:t.preventDefault(),!e&&n<r&&_(n+1),e&&n>0&&_(n-1);break;case a.d.up:t.preventDefault(),!e&&n>0&&_(n-1),e&&n>0&&_(n-1);break;case a.d.down:t.preventDefault(),!e&&n<r&&_(n+1),e&&n<r&&_(n+1);break;case a.d.home:t.preventDefault(),_(0);break;case a.d.end:t.preventDefault(),_(r);break;case a.d.space:case a.d.enter:t.preventDefault(),u[n].disabled||j(t)}}),[u,_,C,I,j]),R=o.useMemo((function(){return Object(a.g)("k-stepper",{"k-stepper-linear":p},i)}),[p,i]),N=o.useMemo((function(){return Ie({display:"grid",gridTemplateColumns:E?void 0:"repeat("+2*S+", 1fr)",gridTemplateRows:E?"repeat("+4*S+", 1fr)":void 0},f)}),[E,S,f]),F=o.useMemo((function(){return Object(a.g)("k-step-list",{"k-step-list-horizontal":!E,"k-step-list-vertical":E})}),[E]),L=o.useMemo((function(){return{gridColumnStart:E?void 0:1,gridColumnEnd:E?void 0:-1,gridRowStart:E?1:void 0,gridRowEnd:E?-1:void 0}}),[E]),z=o.useMemo((function(){return{gridColumnStart:E?void 0:2,gridColumnEnd:E?void 0:2*S,gridRowStart:E?2:void 0,gridRowEnd:E?4*S-2:void 0}}),[E,S]),B=u&&u.map((function(t,e){var n=Ie({index:e,disabled:s||t.disabled,focused:e===C,current:e===k},t),r=c||ye;return o.createElement(r,Ie({key:e},n))}));return o.createElement(de.Provider,{value:{animationDuration:n,isVertical:E,item:c,linear:p,mode:h,numOfSteps:S,value:k,successIcon:m,errorIcon:l,onChange:P,onFocus:A}},o.createElement("nav",{className:R,style:N,dir:I,onKeyDown:M},o.createElement("ol",{className:F,style:L},B||r),o.createElement(Se,{style:z,animation:{duration:T},"aria-hidden":!0,max:S-1,labelVisible:!1,orientation:d,reverse:"vertical"===d,value:k,disabled:s,tabIndex:-1})))}));Te.propTypes={animationDuration:i.oneOfType([i.bool,i.number]),className:i.string,dir:i.string,disabled:i.bool,item:i.any,items:i.arrayOf(i.any),linear:i.bool,mode:i.oneOf(["steps","labels"]),orientation:i.oneOf(["horizontal","vertical"]),style:i.object,value:i.number.isRequired,onChange:i.func,onFocus:i.func};var De={value:0};Te.defaultProps=De,Te.displayName="KendoStepper";var Pe=o.forwardRef((function(t,e){Object(a.D)(g);var n=t.children,r=t.className,i=t.style,s=t.id,l=o.useRef(null),c=o.useCallback((function(){l.current&&Object(a.m)(l.current)}),[]),u=o.useCallback((function(){return{element:l.current,focus:c}}),[c]);o.useImperativeHandle(e,u);var p=o.useMemo((function(){return Object(a.r)()}),[]),h=o.useMemo((function(){return t.themeColor||Ae.themeColor}),[t.themeColor]),d=o.useMemo((function(){return t.position||Ae.position}),[t.position]),f=o.useMemo((function(){return t.positionMode||Ae.positionMode}),[t.positionMode]),m=o.useMemo((function(){return Object(a.g)("k-appbar",{"k-appbar-top":"top"===d,"k-appbar-bottom":"bottom"===d,"k-appbar-static":"static"===f,"k-appbar-sticky":"sticky"===f,"k-appbar-fixed":"fixed"===f,"k-appbar-light":"light"===h,"k-appbar-dark":"dark"===h,"k-appbar-inherit":"inherit"===h},r)}),[d,f,h,r]);return o.createElement("div",{className:m,style:i,id:s||p},n)}));Pe.propTypes={children:i.any,className:i.string,style:i.object,id:i.string,themeColor:i.string,position:i.oneOf(["top","bottom"]),positionMode:i.oneOf(["static","sticky","fixed"])};var Ae={themeColor:"light",position:"top",positionMode:"static"};Pe.displayName="KendoAppBar";var je=o.forwardRef((function(t,e){var n=t.children,r=t.className,i=t.style,s=o.useRef(null),l=o.useCallback((function(){s.current&&Object(a.m)(s.current)}),[]),c=o.useCallback((function(){return{element:s.current,focus:l}}),[l]);o.useImperativeHandle(e,c);var u=o.useMemo((function(){return Object(a.g)("k-appbar-section",r)}),[r]);return o.createElement("div",{className:u,style:i},n)}));je.propTypes={children:i.any,className:i.string,style:i.object},je.displayName="KendoAppBarSection";var Me=o.forwardRef((function(t,e){var n=t.children,r=t.className,i=t.style,s=o.useRef(null),l=o.useCallback((function(){s.current&&Object(a.m)(s.current)}),[]),c=o.useCallback((function(){return{element:s.current,focus:l}}),[l]);o.useImperativeHandle(e,c);var u=o.useMemo((function(){return Object(a.g)("k-appbar-spacer",{"k-appbar-spacer-sized":i&&i.width&&null!==i.width},r)}),[r,i]),p=o.useMemo((function(){return{flexBasis:i&&i.width?i.width:void 0}}),[i]);return o.createElement("span",{className:u,style:p},n)}));Me.propTypes={children:i.any,className:i.string,style:i.object},Me.displayName="KendoAppBarSpacer";var Re=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ne=function(){return(Ne=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Fe=function(t){return o.createElement(a.b,{onPress:t.onPress,onDrag:function(e){t.onResize(e.event,!1,t.d)},onRelease:function(e){t.onResize(e.event,!0,t.d)}},o.createElement("div",{className:"k-resize-handle k-cursor-"+t.d+"-resize",style:Ne({bottom:0,right:0},t.style)}))},Le=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleResize=function(t,n,r){t.originalEvent.preventDefault(),e.props.onResize(t,{end:n,direction:r})},e}return Re(e,t),e.prototype.render=function(){var t=this.props,e=t.resizable,n=t.onPress,r=t.rtl;return e?o.createElement(o.Fragment,null,"vertical"!==e&&o.createElement(Fe,{onPress:n,onResize:this.handleResize,d:"ew",style:r?{top:0,width:9,left:0,right:""}:{top:0,width:9,right:0,left:""}}),"horizontal"!==e&&o.createElement(Fe,{onPress:n,onResize:this.handleResize,d:"ns",style:{left:0,height:9}}),!0===e&&o.createElement(Fe,{onPress:n,onResize:this.handleResize,d:r?"nesw":"nwse",style:r?{width:9,height:9,right:"",left:0}:{width:9,height:9,right:0,left:""}})):null},e}(o.Component),ze=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Be=function(){return(Be=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={rtl:!1},e.oldSize={},e.draggable=null,e.dragging=!1,e.resizing=!1,e.element=null,e.ignoreDrag=!1,e.pressOffset={x:0,y:0},e.pressXY={x:0,y:0},e.currentTranslate={x:0,y:0},e.preventDataOps=void 0,e.handleResize=function(t,n){if(n.end)e.handleRelease();else if(e.element){var r=t.clientX,o=t.clientY;e.resizing=!0;var i=("ns"!==n.direction?r-e.pressXY.x:0)*(e.state.rtl?-1:1),a="ew"!==n.direction?o-e.pressXY.y:0;if(e.dragElement&&(e.state.rtl?e.dragElement.style.marginLeft=-i+"px":e.dragElement.style.marginRight=-i+"px",e.dragElement.style.height="calc(100% + "+a+"px)"),e.element.classList.add("k-layout-item-hint","k-layout-item-hint-resize"),!e.preventDataOps){var s=0,l=0,c=e.element.getBoundingClientRect();i>c.width/e.props.defaultPosition.colSpan/3&&(s=1),i<-c.width/e.props.defaultPosition.colSpan/1.25&&(s=-1),a>c.height/e.props.defaultPosition.rowSpan/3&&(l=1),a<-c.height/e.props.defaultPosition.rowSpan/1.25&&(l=-1),0===s&&0===l||e.props.update(e.props.index,0,0,l,s)}}},e.handlePress=function(t){if(e.reorderable&&e.dragElement)if(e.ignoreDrag=!1,e.props.ignoreDrag&&e.props.ignoreDrag(t.event.originalEvent))e.ignoreDrag=!0;else{e.element&&(e.element.style.zIndex="10",e.element.classList.add("k-layout-item-hint")),e.dragElement.classList.remove("k-cursor-grab"),e.dragElement.classList.add("k-cursor-grabbing");var n=e.dragElement.getBoundingClientRect();e.pressXY={x:t.event.clientX,y:t.event.clientY},e.pressOffset={x:t.event.clientX-n.x,y:t.event.clientY-n.y}}},e.handleDrag=function(t){if(e.reorderable&&!e.ignoreDrag){var n=e.dragElement;if(!t.event.originalEvent.defaultPrevented&&n){e.dragging=!0,t.event.originalEvent.preventDefault();var r=n.getBoundingClientRect();if(e.currentTranslate={x:t.event.clientX-r.x-e.pressOffset.x+e.currentTranslate.x,y:t.event.clientY-r.y-e.pressOffset.y+e.currentTranslate.y},n.style.transform="translate("+e.currentTranslate.x+"px, "+e.currentTranslate.y+"px)",n.style.transition="transform 0s",!e.preventDataOps){var o=0,i=0;e.currentTranslate.y>.7*r.height/e.props.defaultPosition.rowSpan&&(i=1),e.currentTranslate.y<.7*-r.height/e.props.defaultPosition.rowSpan&&(i=-1),e.currentTranslate.x>.7*r.width/e.props.defaultPosition.colSpan&&(o=1),e.currentTranslate.x<.7*-r.width/e.props.defaultPosition.colSpan&&(o=-1),e.props.update(e.props.index,i,e.state.rtl?-o:o,0,0)}}}},e.handleRelease=function(){if(e.reorderable){e.dragging=e.resizing=!1,e.currentTranslate={x:0,y:0},e.element&&(e.element.style.zIndex="1",e.element.classList.remove("k-layout-item-hint","k-layout-item-hint-resize"));var t=e.dragElement;t&&(t.style.transform="translate(0px, 0px)",t.style.transition="transform 200ms cubic-bezier(0.2, 0, 0, 1) 0s",t.style.marginRight="0px",t.style.marginLeft="0px",t.style.height="100%",t.classList.remove("k-cursor-grabbing"),t.classList.add("k-cursor-grab"))}},e}return ze(e,t),Object.defineProperty(e.prototype,"reorderable",{get:function(){return void 0!==this.props.reorderable?this.props.reorderable:e.defaultProps.reorderable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragElement",{get:function(){return this.draggable?this.draggable.element:void 0},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.element&&"rtl"===getComputedStyle(this.element).direction&&this.setState({rtl:!0})},e.prototype.render=function(){var t=this;clearTimeout&&"function"==typeof clearTimeout&&(clearTimeout(this.preventDataOps),this.preventDataOps=window.setTimeout((function(){t.preventDataOps=void 0}),200));var n=this.props.defaultPosition,r=void 0!==this.props.resizable?this.props.resizable:e.defaultProps.resizable,i=Be({gridColumnStart:n.col,gridColumnEnd:"span "+n.colSpan,gridRowStart:n.row,gridRowEnd:"span "+n.rowSpan,outline:"none",order:n.order},this.props.hintStyle),s=o.createElement("div",{ref:function(e){t.draggable=e?{element:e}:null},className:Object(a.g)("k-tilelayout-item k-card",{"k-cursor-grab":this.reorderable},this.props.className),style:Be({height:"100%"},this.props.style)},this.props.children,o.createElement(Le,{onPress:this.handlePress,onResize:this.handleResize,resizable:r,rtl:this.state.rtl}));return o.createElement("div",{ref:function(e){t.element=e},style:i,className:this.props.hintClassName},o.createElement(a.b,{ref:function(e){t.draggable=e},onDrag:this.handleDrag,onRelease:this.handleRelease,onPress:this.handlePress},s))},e.prototype.getSnapshotBeforeUpdate=function(t){return this.oldSize={},this.dragElement&&(this.oldSize=this.dragElement.getBoundingClientRect()),null},e.prototype.componentDidUpdate=function(t){var e=this,n=this.dragElement;if(n){var r=n.getBoundingClientRect(),o=this.oldSize;if(this.resizing){var i=r.width-o.width;if(this.state.rtl){var a=parseFloat(n.style.marginLeft||"0");n.style.marginLeft=a-i+"px"}else{a=parseFloat(n.style.marginRight||"0");n.style.marginRight=a+i+"px"}this.pressXY.x+=this.state.rtl?-i:i;var s=r.height-o.height,l=parseFloat(n.style.height.substring(12));n.style.height="calc(100% + "+(l+s)+"px)",this.pressXY.y+=s}var c=o.left-r.left,u=o.top-r.top;0===c&&0===u||(this.dragging?t.defaultPosition.order===this.props.defaultPosition.order&&t.defaultPosition.col===this.props.defaultPosition.col||(this.currentTranslate.x=0,this.currentTranslate.y=0,n.style.transform=""):Math.abs(u)<15&&Math.abs(c)<15||requestAnimationFrame((function(){var t=e.element;t&&(t.style.transform="translate("+c+"px, "+u+"px)",t.style.transition="transform 0s",requestAnimationFrame((function(){t.style.transform="",t.style.transition="transform 200ms cubic-bezier(0.2, 0, 0, 1) 0s"})))})))}},e.propTypes={defaultPosition:i.object.isRequired,style:i.object,className:i.string,hintStyle:i.object,hintClassName:i.string,header:i.any,body:i.any,item:i.any,resizable:i.oneOf(["horizontal","vertical",!0,!1]),reorderable:i.bool},e.displayName="KendoTileLayoutItem",e.defaultProps={resizable:!0,reorderable:!0},e}(o.Component),He=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ue=function(){return(Ue=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},We={column:"k-grid-flow-col",row:"k-grid-flow-row","column dense":"k-grid-flow-col-dense","row dense":"k-grid-flow-row-dense",unset:"k-grid-flow-unset"},qe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._element=null,e.state={positions:(e.props.items||[]).map((function(t,e){return Object.assign({order:e,rowSpan:1,colSpan:1},t.defaultPosition)}))},e.focus=function(){e._element&&e._element.focus()},e.update=function(t,n,r,o,i){if(void 0===o&&(o=0),void 0===i&&(i=0),0!==n||0!==r||i||o){var s=!1,l=e.state.positions.map((function(t){return Object.assign({},t)})),c=l[t],u=l.find((function(t){return t.order===c.order+n}));u&&u!==c&&(c.order+=n,u.order+=-n,s=!0);var p=c.col+r;0!==r&&p>=1&&p+c.colSpan<=(e.props.columns||3)+1&&(c.col=p,s=!0);var h=c.colSpan+i;i&&h>=1&&h+c.col<=(e.props.columns||3)+1&&(c.colSpan=h,s=!0);var d=c.rowSpan+o;o&&d>=1&&(c.rowSpan=d,s=!0),s&&(e.setState({positions:l}),Object(a.k)(e.props.onReposition,{},e,{value:l}))}},e}return He(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),e.getDerivedStateFromProps=function(t,e){return t.positions?{positions:t.positions.map((function(t,e){return Object.assign({order:e,rowSpan:1,colSpan:1},t)}))}:!t.items||e.positions&&t.items.length===e.positions.length?null:{positions:t.items.map((function(t,e){return Object.assign({order:e,rowSpan:1,colSpan:1},t.defaultPosition)}))}},e.prototype.render=function(){var t=this,e=this.props,n=e.className,r=e.columns,i=void 0===r?3:r,s=e.columnWidth,l=void 0===s?"1fr":s,c=e.gap,u=e.rowHeight,p=void 0===u?"1fr":u,h=e.style,d=e.autoFlow,f=void 0===d?"column":d,m=e.items,v=void 0===m?[]:m,g=c?("number"==typeof c.rows?c.rows+"px":c.rows)+" "+("number"==typeof c.columns?c.columns+"px":c.columns):16,y=Ue({gridTemplateColumns:"repeat("+i+", minmax(0px, "+("number"==typeof l?l+"px":l)+"))",gridAutoRows:"minmax(0px, "+("number"==typeof p?p+"px":p)+")",gap:g,padding:g},h);return o.createElement("div",{ref:function(e){t._element=e},dir:this.props.dir,className:Object(a.g)("k-tilelayout",We[f],n),style:y,id:this.props.id,children:v.map((function(e,n){return o.createElement(Ve,{key:n,update:t.update,defaultPosition:t.state.positions[n],index:n,resizable:e.resizable,reorderable:e.reorderable,style:e.style,className:e.className,hintClassName:e.hintClassName,hintStyle:e.hintStyle,ignoreDrag:t.props.ignoreDrag},e.item?e.item:o.createElement(o.Fragment,null,o.createElement("div",{className:"k-tilelayout-item-header k-card-header"},o.isValidElement(e.header)?e.header:o.createElement("h5",{className:"k-card-title"},e.header)),o.createElement("div",{className:"k-tilelayout-item-body k-card-body"},e.body)))}))})},e.propTypes={id:i.string,style:i.object,className:i.string,dir:i.string,gap:i.object,columns:i.number,columnWidth:i.oneOfType([i.number,i.string]),rowHeight:i.oneOfType([i.number,i.string]),items:i.array,positions:i.array,autoFlow:i.oneOf(["column","row","column dense","row dense","unset"]),onReposition:i.func,ignoreDrag:i.func},e.displayName="KendoTileLayout",e}(o.Component),Ke={primary:"k-bottom-nav-primary",secondary:"k-bottom-nav-secondary",tertiary:"k-bottom-nav-tertiary",info:"k-bottom-nav-info",success:"k-bottom-nav-success",warning:"k-bottom-nav-warning",error:"k-bottom-nav-error",dark:"k-bottom-nav-dark",light:"k-bottom-nav-light",inverse:"k-bottom-nav-inverse"},Ge={flat:"k-bottom-nav-flat",solid:"k-bottom-nav-solid"},Ye={vertical:"k-bottom-nav-item-flow-vertical",horizontal:"k-bottom-nav-item-flow-horizontal"},Xe={fixed:"k-pos-fixed",sticky:"k-pos-sticky"},$e=o.forwardRef((function(t,e){Object(a.D)(g);var n=o.useRef(null);o.useImperativeHandle(e,(function(){return{element:n.current}}));var r=t.className,i=t.style,s=t.selected,l=t.disabled,c=t.item,u=t.render,p=t.dataItem,h=t.icon,d=t.text,f=t.id,m=t.onSelect,v=t.onKeyDown,y=t.index,b=t.tabIndex,x=o.useMemo((function(){return Object(a.g)("k-bottom-nav-item",{"k-state-selected":s,"k-state-disabled":l},r)}),[s,l,r]),w=o.useCallback((function(t){m&&void 0!==y&&!l&&m(t,y)}),[m,y,l]),k=o.useCallback((function(t){v&&void 0!==y&&!l&&v(t,y)}),[v,y,l]),O=u,C=c,_=o.createElement("span",{ref:n,className:x,style:i,role:"link",id:f,tabIndex:b,onClick:w,onKeyDown:k,"aria-selected":s,"aria-disabled":l},C?o.createElement(C,{itemIndex:y,item:p}):o.createElement(o.Fragment,null,h&&o.createElement("span",{className:"k-bottom-nav-item-icon k-icon k-i-"+h}),d&&o.createElement("span",{className:"k-bottom-nav-item-text",style:{userSelect:"none"}},d)));return void 0!==O?O.call(void 0,_,t):_}));$e.propTypes={className:i.string,style:i.object,id:i.string,disabled:i.bool,selected:i.bool,icon:i.string,text:i.string,tabIndex:i.number},$e.defaultProps={tabIndex:0},$e.displayName="KendoReactBottomNavigationItem";var Ze=function(){return(Ze=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Je=o.forwardRef((function(t,e){Object(a.D)(g);var n=o.useRef(null),r=o.useCallback((function(){n.current&&Object(a.m)(n.current)}),[]),i=o.useCallback((function(){return{element:n.current,focus:r}}),[r]);o.useImperativeHandle(e,i);var s=t.themeColor,l=void 0===s?Qe.themeColor:s,c=t.fill,u=void 0===c?Qe.fill:c,p=t.positionMode,h=void 0===p?Qe.positionMode:p,d=t.itemFlow,f=void 0===d?Qe.itemFlow:d,m=t.border,v=void 0===m?Qe.border:m,y=t.className,b=t.items,x=t.item,w=t.itemRender,k=t.disabled,O=t.style,C=t.id,_=t.onSelect,S=t.onKeyDown,E=o.useMemo((function(){return Object(a.r)()}),[]),I=Object(a.z)(n,t.dir),T=o.useMemo((function(){return Object(a.g)("k-bottom-nav",Xe[h],Ke[l],Ge[u],Ye[f],{"k-bottom-nav-border":v,"k-state-disabled":k},y)}),[h,l,u,f,v,k,y]),D=o.useCallback((function(t,e){b&&!b[e].disabled&&_&&Object(a.k)(_,t,i(),{itemTarget:b[e],itemIndex:e})}),[b,_]),P=o.useCallback((function(t,e){D(t,e)}),[D]),A=o.useCallback((function(t,e){switch(t.keyCode){case a.d.enter:case a.d.space:D(t,e),t.preventDefault()}Object(a.k)(S,t,i(),void 0)}),[D,S]);return o.createElement("nav",{ref:n,className:T,style:O,id:C||E,dir:I},b&&b.map((function(t,e){return o.createElement($e,Ze({},t,{key:e,index:e,id:(C||E)+"-"+e,disabled:k||t.disabled,selected:t.selected,dataItem:t,item:x,render:w,onSelect:P,onKeyDown:A}))})))})),Qe={themeColor:"primary",fill:"flat",itemFlow:"vertical",positionMode:"fixed",border:!0};Je.propTypes={className:i.string,style:i.object,id:i.string,dir:i.string,themeColor:i.oneOf(["primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"]),fill:i.oneOf(["solid","flat"]),itemFlow:i.oneOf(["vertical","horizontal"]),border:i.bool,disabled:i.bool,selected:i.number,onSelect:i.func},Je.defaultProps=Qe,Je.displayName="KendoReactBottomNavigation";var tn=n(13),en=function(){return(en=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},nn=o.forwardRef((function(t,e){Object(tn.validatePackage)(g);var n=o.useRef(null),r=o.useCallback((function(){return{element:n.current}}),[]);o.useImperativeHandle(e,r);var i=t.className,s=t.style,l=t.id,c=t.children,u=o.useMemo((function(){return Object(a.r)()}),[]),p=o.useMemo((function(){return t.orientation||rn.orientation}),[t.orientation]),h="horizontal"===p,d=o.useMemo((function(){return t.align&&t.align.horizontal?t.align.horizontal:rn.hAlign}),[t.align]),f=o.useMemo((function(){return t.align&&t.align.vertical?t.align.vertical:rn.vAlign}),[t.align]),m=o.useMemo((function(){return Object(a.g)("k-stack-layout",{"k-hstack":"horizontal"===p,"k-vstack":"vertical"===p,"k-justify-content-start":h&&"start"===d||!h&&"top"===f,"k-justify-content-center":h&&"center"===d||!h&&"middle"===f,"k-justify-content-end":h&&"end"===d||!h&&"bottom"===f,"k-justify-content-stretch":h&&"stretch"===d||!h&&"stretch"===f,"k-align-items-start":!h&&"start"===d||h&&"top"===f,"k-align-items-center":!h&&"center"===d||h&&"middle"===f,"k-align-items-end":!h&&"end"===d||h&&"bottom"===f,"k-align-items-stretch":!h&&"stretch"===d||h&&"stretch"===f},i)}),[p,h,d,f,i]),v=en({gap:""+("number"==typeof t.gap?t.gap+"px":t.gap)},s);return o.createElement("div",{ref:n,className:m,style:v,id:l||u},c)})),rn={orientation:"horizontal",hAlign:"stretch",vAlign:"stretch"};nn.propTypes={className:i.string,style:i.object,children:i.any,id:i.string,orientation:i.oneOf(["horizontal","vertical"]),gap:i.oneOfType([i.string,i.number]),align:i.shape({vertical:i.oneOf(["top","middle","bottom","stretch"]),horizontal:i.oneOf(["start","center","end","stretch"])})},nn.defaultProps=rn,nn.displayName="KendoReactStackLayout";var on=function(){return(on=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},an=o.forwardRef((function(t,e){Object(tn.validatePackage)(g);var n=o.useRef(null),r=o.useCallback((function(){return{element:n.current}}),[]);o.useImperativeHandle(e,r);var i=t.className,s=t.style,l=t.id,c=t.children,u=t.gap,p=o.useMemo((function(){return Object(a.r)()}),[]),h=o.useMemo((function(){return t.align&&t.align.horizontal?t.align.horizontal:sn.hAlign}),[t.align]),d=o.useMemo((function(){return t.align&&t.align.vertical?t.align.vertical:sn.vAlign}),[t.align]),f=o.useMemo((function(){return Object(a.g)("k-grid-layout",{"k-justify-items-start":"start"===h,"k-justify-items-center":"center"===h,"k-justify-items-end":"end"===h,"k-justify-items-stretch":"stretch"===h,"k-align-items-start":"top"===d,"k-align-items-center":"middle"===d,"k-align-items-end":"bottom"===d,"k-align-items-stretch":"stretch"===d},i)}),[h,d,i]),m=u?("number"==typeof u.rows?u.rows+"px":u.rows)+" "+("number"==typeof u.cols?u.cols+"px":u.cols):void 0,v=t.rows&&t.rows.map((function(t){return""+("number"==typeof t.height?t.height+"px":t.height)})).join(" "),y=t.cols&&t.cols.map((function(t){return""+("number"==typeof t.width?t.width+"px":t.width)})).join(" "),b=on({gap:m,gridTemplateColumns:y,gridTemplateRows:v},s);return o.createElement("div",{ref:n,className:f,style:b,id:l||p},c)})),sn={hAlign:"stretch",vAlign:"stretch",gap:void 0};an.propTypes={className:i.string,style:i.object,children:i.any,id:i.string,gap:i.shape({rows:i.oneOfType([i.string,i.number]),columns:i.oneOfType([i.string,i.number])}),align:i.shape({vertical:i.oneOf(["top","middle","bottom","stretch"]),horizontal:i.oneOf(["start","center","end","stretch"])})},an.defaultProps=sn,an.displayName="KendoReactGridLayout";var ln=function(){return(ln=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},cn=o.forwardRef((function(t,e){Object(tn.validatePackage)(g);var n=o.useRef(null),r=o.useCallback((function(){return{element:n.current}}),[]);o.useImperativeHandle(e,r);var i=t.className,s=t.style,l=t.id,c=t.children,u=t.row,p=t.col,h=t.rowSpan,d=t.colSpan,f=o.useMemo((function(){return Object(a.r)()}),[]),m=ln({gridArea:(u||"auto")+" / "+(p||"auto")+" / "+(h?"span "+h:"auto")+" / "+(d?"span "+d:"auto")},s);return o.createElement("div",{ref:n,className:i,style:m,id:l||f},c)}));cn.propTypes={className:i.string,style:i.object,children:i.any,id:i.string},cn.displayName="KendoReactGridLayoutItem";var un=o.forwardRef((function(t,e){Object(tn.validatePackage)(g);var n=o.useRef(null),r=o.useRef(null),i=o.useCallback((function(){r.current&&r.current.focus()}),[r]);return o.useImperativeHandle(n,(function(){return{element:r.current,focus:i,props:t}})),o.useImperativeHandle(e,(function(){return n.current})),o.createElement("li",{ref:r,id:t.id,style:t.style,className:Object(a.g)("k-flex-none k-breadcrumb-item",t.className)},t.children)})),pn={id:i.string,className:i.string,children:i.any,style:i.object};un.displayName="KendoReactBreadcrumbListItem",un.propTypes=pn;var hn=o.forwardRef((function(t,e){Object(tn.validatePackage)(g);var n=o.useRef(null),r=o.useRef(null);return o.useImperativeHandle(n,(function(){return{element:r.current,props:t}})),o.useImperativeHandle(e,(function(){return n.current})),o.createElement("span",{ref:r,id:t.id,tabIndex:t.tabIndex,style:t.style,className:Object(a.g)("k-icon k-i-arrow-chevron-right k-breadcrumb-delimiter-icon",t.className)})})),dn={id:i.string,className:i.string,style:i.object,tabIndex:i.number};hn.displayName="KendoReactBreadcrumbDelimiter",hn.propTypes=dn;var fn=o.forwardRef((function(t,e){Object(tn.validatePackage)(g);var n=o.useRef(null),r=o.useRef(null),i=o.useCallback((function(){r.current&&r.current.focus()}),[r]);o.useImperativeHandle(n,(function(){return{element:r.current,focus:i,props:t}})),o.useImperativeHandle(e,(function(){return n.current}));var s=o.useCallback((function(e){n.current&&e.target.id&&Object(a.k)(t.onItemSelect,e,e.target,{id:e.target.id})}),[t.onItemSelect]),l=o.useCallback((function(e){n.current&&e.target.id&&Object(a.k)(t.onKeyDown,e,e.target,{id:e.target.id})}),[t.onKeyDown]);return o.createElement("span",{"aria-current":t.ariaCurrent?t.ariaCurrent:t.isLast,id:t.id,ref:r,style:t.style,dir:Object(a.z)(r,t.dir),tabIndex:Object(a.p)(t.tabIndex,t.disabled),className:Object(a.g)("k-cursor-pointer k-flex-none k-breadcrumb-link k-breadcrumb-icontext-link",{"k-state-disabled":t.disabled}),onClick:s,onKeyDown:l},t.iconClass?o.createElement("span",{className:Object(a.g)("k-icon",t.iconClass)}):t.icon?t.icon:"",t.text)})),mn={id:i.string,className:i.string,tabIndex:i.number,style:i.object,dir:i.string,disabled:i.bool,text:i.string,icon:i.node,iconClass:i.string,onClick:i.func,ariaCurrent:i.bool};fn.displayName="KendoReactBreadcrumbLink",fn.propTypes=mn;var vn=o.forwardRef((function(t,e){Object(tn.validatePackage)(g);var n=o.useRef(null),r=o.useRef(null);return o.useImperativeHandle(n,(function(){return{element:r.current,props:t}})),o.useImperativeHandle(e,(function(){return n.current})),o.createElement("ol",{id:t.id,ref:r,style:t.style,dir:Object(a.z)(r,t.dir),tabIndex:Object(a.p)(t.tabIndex,t.disabled),className:Object(a.g)("k-breadcrumb-container k-flex-wrap",{"k-state-disabled":t.disabled},t.className)},t.children)})),gn={id:i.string,className:i.string,children:i.element,tabIndex:i.number,style:i.object,dir:i.string,disabled:i.bool};vn.displayName="KendoReactBreadcrumbOrderedList",vn.propTypes=gn;var yn=function(){return(yn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},bn=o.forwardRef((function(t,e){Object(tn.validatePackage)(g);var n=o.useRef(null),r=o.useRef(null),i=o.useMemo((function(){return t.breadcrumbOrderedList||vn}),[t.breadcrumbOrderedList]),s=o.useMemo((function(){return t.breadcrumbListItem||un}),[t.breadcrumbListItem]),l=o.useMemo((function(){return t.breadcrumbDelimiter||hn}),[t.breadcrumbDelimiter]),c=o.useMemo((function(){return t.breadcrumbLink||fn}),[t.breadcrumbLink]),u=o.useCallback((function(){r.current&&r.current.focus()}),[r]),p=o.useMemo((function(){return t.disabled||!1}),[t.disabled]);o.useImperativeHandle(n,(function(){return{element:r.current,focus:u,props:t}})),o.useImperativeHandle(e,(function(){return n.current}));var h=Object(a.z)(r,t.dir),d=function(e){n.current&&Object(a.k)(t.onItemSelect,e,e.target,{id:e.target.id})},f=function(e){n.current&&Object(a.k)(t.onKeyDown,e,e.target,{id:e.target.id})};return o.createElement("nav",{"aria-label":t.ariaLabel,id:t.id,style:t.style,ref:r,dir:h,className:Object(a.g)("k-breadcrumb",{"k-rtl":"rtl"===h,"k-state-disabled":p},t.className)},o.createElement(i,null,o.createElement(o.Fragment,null,Object.keys(t.data).map((function(e){return o.createElement(s,{key:t.data[e][t.valueField||wn.valueField]},"0"!==e&&o.createElement(l,null),o.createElement(c,yn({isLast:t.data.length-1===Number(e),id:t.data[e][t.valueField||wn.valueField],icon:t.data[e][t.iconField||wn.iconField],iconClass:t.data[e][t.iconClassField||wn.iconClassField],text:t.data[e][t.textField||wn.textField],disabled:t.data[e].disabled||!1,onItemSelect:d,onKeyDown:f},t)))})))))})),xn={id:i.string,style:i.object,className:i.string,breadcrumbOrderedList:i.elementType,breadcrumbListItem:i.elementType,breadcrumbDelimiter:i.elementType,breadcrumbLink:i.elementType,data:i.arrayOf(i.shape({id:i.string,text:i.string,icon:i.any,iconClass:i.string})),dir:i.oneOf(["ltr","rtl"]),disabled:i.bool,valueField:i.string,textField:i.string,iconField:i.string,iconClassField:i.string,onItemSelect:i.func,ariaLabel:i.string},wn={valueField:"id",textField:"text",iconField:"icon",iconClassField:"iconClass"};bn.displayName="KendoReactBreadcrumb",bn.propTypes=xn,bn.defaultProps=wn},function(t,e){t.exports=s},function(t,e){t.exports=l},function(t,e,n){t.exports=n(36)},function(t,e,n){"use strict";n.r(e),n.d(e,"PDFExport",(function(){return k})),n.d(e,"PDFMargin",(function(){return f})),n.d(e,"savePDF",(function(){return O})),n.d(e,"getPageMargin",(function(){return v})),n.d(e,"GridPDFExport",(function(){return z})),n.d(e,"TreeListPDFExport",(function(){return W}));var r=n(0),o=n(1),i=n(3);function a(t,e,n){void 0===n&&(n={});var r=p;if(n.forceProxy&&!n.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");n.forceProxy||(l()&&(r=u),navigator.msSaveBlob&&(r=c)),r(t,e,n)}var s=function(){return document.createElement("a")},l=function(){return"download"in s()};function c(t,e){var n=t;if("string"==typeof t){for(var r=t.split(";base64,"),o=r[0],i=atob(r[1]),a=new Uint8Array(i.length),s=0;s<i.length;s++)a[s]=i.charCodeAt(s);n=new Blob([a.buffer],{type:o})}navigator.msSaveBlob(n,e)}function u(t,e){var n=t;window.Blob&&t instanceof Blob&&(n=URL.createObjectURL(t));var r=s();r.download=e,r.href=n;var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o),setTimeout((function(){return URL.revokeObjectURL(n)}))}function p(t,e,n){if(n.proxyURL){var r=document.createElement("form");r.setAttribute("action",n.proxyURL),r.setAttribute("method","POST"),r.setAttribute("target",n.proxyTarget||"_self");var o=n.proxyData||{};o.fileName=e;var i=t.split(";base64,");for(var a in o.contentType=i[0].replace("data:",""),o.base64=i[1],o)if(o.hasOwnProperty(a)){var s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name",a),s.setAttribute("value",o[a]),r.appendChild(s)}document.body.appendChild(r),r.submit(),document.body.removeChild(r)}}String.fromCharCode;var h,d=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.render=function(){return null},e.propTypes={left:o.oneOfType([o.number,o.string]),top:o.oneOfType([o.number,o.string]),right:o.oneOfType([o.number,o.string]),bottom:o.oneOfType([o.number,o.string])},e}(r.Component),m=["bottom","left","right","top"];function v(t){var e=r.Children.toArray(t.children).find((function(t){return t&&t.type===f}));return e?function(t){for(var e={},n=0;n<m.length;n++){var r=m[n],o=t.props[r];void 0!==o&&(e[r]=o)}return e}(e):t.margin}var g=n(23),y=function(){function t(t,e,n,o,i){void 0===i&&(i={});var a=this;this.drawDOM=t,this.exportPDF=e,this.saveAs=n,this.domElement=o,this.options=i,this.convertPageTemplateToHtml=function(t){return"<span>"+g.renderToStaticMarkup(r.createElement(a.options.pageTemplate,{pageNum:t.pageNum,totalPages:t.totalPages}))+"</span>"}}return t.prototype.savePDF=function(t){var e=this,n=this.drawDOM(this.domElement,this.getDrawOptions()).then((function(t){return e.exportPDF(t,e.getPDFOptions())})).then((function(t){return e.saveAs(t,e.options.fileName||"export.pdf",e.getSaveOptions())}));t&&n.then(t,t)},t.prototype.getDrawOptions=function(){return{avoidLinks:this.options.avoidLinks,forcePageBreak:this.options.forcePageBreak,keepTogether:this.options.keepTogether,margin:this.options.margin,paperSize:this.options.paperSize,landscape:this.options.landscape,repeatHeaders:this.options.repeatHeaders,scale:this.options.scale,template:this.options.pageTemplate&&this.convertPageTemplateToHtml}},t.prototype.getPDFOptions=function(){return{author:this.options.author,creator:this.options.creator||"KendoReact PDF Generator",date:this.options.date,imgDPI:this.options.imageResolution,keywords:this.options.keywords,landscape:this.options.landscape,margin:this.options.margin,multiPage:!0,paperSize:this.options.paperSize,producer:this.options.producer,subject:this.options.subject,title:this.options.title}},t.prototype.getSaveOptions=function(){return{forceProxy:this.options.forceProxy,proxyData:this.options.proxyData,proxyTarget:this.options.proxyTarget,proxyURL:this.options.proxyURL}},t}(),b=n(13),x={name:"@progress/kendo-react-pdf",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616744,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(t){function e(e){var n=t.call(this,e)||this;if(void 0!==b)b.validatePackage(x);else{var r="License activation failed for "+x.name+"\n";r+="The @progress/kendo-licensing script is not loaded.\n",r+="See "+x.licensingDocsUrl+" for more information.\n",console.warn(r)}return n}return w(e,t),e.prototype.render=function(){var t=this;return r.createElement("div",{ref:function(e){t.rootElForPDF=e}},this.props.children)},e.prototype.save=function(t){new y(i.drawDOM,i.exportPDF,a,this.rootElForPDF,this.getOptions()).savePDF(t)},e.prototype.getOptions=function(){return Object.assign({},this.props,{margin:v(this.props)})},e.propTypes={author:o.string,avoidLinks:o.oneOfType([o.bool,o.string]),forcePageBreak:o.string,keepTogether:o.string,creator:o.string,date:o.instanceOf(Date),imageResolution:o.number,fileName:o.string,forceProxy:o.bool,keywords:o.string,landscape:o.bool,margin:o.oneOfType([o.string,o.number,o.shape({left:o.oneOfType([o.number,o.string]),top:o.oneOfType([o.number,o.string]),right:o.oneOfType([o.number,o.string]),bottom:o.oneOfType([o.number,o.string])})]),pageTemplate:o.any,paperSize:o.any,repeatHeaders:o.bool,scale:o.number,proxyData:o.any,proxyURL:o.string,proxyTarget:o.string,producer:o.string,subject:o.string,title:o.string},e}(r.Component);function O(t,e,n){void 0===e&&(e={}),new y(i.drawDOM,i.exportPDF,a,t,e).savePDF(n)}var C=n(12),_={},S=function(t){return String(t).trim().split(" ")},E=function(t){return function(e){return function(t,e){var n=S(e);return Boolean(S(t.className).find((function(t){return n.indexOf(t)>=0})))}(e,t)}},I=function(t){return _[t]||(_[t]=function(e){return String(e.nodeName).toLowerCase()===t.toLowerCase()}),_[t]},T=function(t,e,n){if(void 0===n&&(n=!0),t){if(n&&e(t))return t;for(t=t.firstChild;t;){if(1===t.nodeType){var r=T(t,e);if(r)return r}t=t.nextSibling}}},D=I("TABLE"),P=function(t){return t?"locked":"wrap"},A=function(){function t(t){this.element=t,this.list=T(t,E("k-grid-container"))}return t.prototype.content=function(t){return T(this.list,E("k-grid-content"+(t?"-locked":"")))},t.prototype.header=function(t){return this.headerWrap=this.headerWrap||T(this.element,E("k-grid-header")),T(this.headerWrap,E("k-grid-header-"+P(t)))},t.prototype.footer=function(t){return this.footerWrap=this.footerWrap||T(this.element,E("k-grid-footer")),T(this.footerWrap,E("k-grid-footer-"+P(t)))},t.prototype.table=function(){return T(this.element,D)},t}(),j=function(t,e){for(var n=e.length,r=0;r<n;r++)t.appendChild(e[r].cloneNode(!0))},M=function(t){var e=document.createElement("div");return e.className="k-widget k-grid",e.appendChild(t),e},R=function(t){var e=t.length,n=t[0].cloneNode(!0),r=n.rows.length;if(e>1)for(var o=0;o<r;o++)for(var i=1;i<e;i++)j(n.rows[o],t[i].rows[o].cells);return n},N=function(t,e,n,r){for(var o=document.createElement("table"),i=t[0].cloneNode(!0),a=1;a<t.length;a++)j(i,t[a].querySelectorAll("col"));var s=R(e),l=R(n);if(s.className="k-grid-header",function(t,e){if(e.length>1&&t.rows.length>1)for(var n=1;n<t.rows.length;n++){var r=e[0].rows[n].cells.length,o=t.rows[n].cells[r];-1===String(o.className).indexOf("k-first")&&(o.className+=" k-first")}}(s,e),o.appendChild(i),o.appendChild(s),o.appendChild(l),r.length){var c=R(r);c.className="k-grid-footer",o.appendChild(c)}return M(o)};function F(t){return function(e,n,o,i,a){return void 0===n&&(n={}),function(t,e,n,o,i,a){void 0===n&&(n={});var s,l,c;function u(){t(function(){(c=document.createElement("div")).className="k-grid-pdf-export-element";var t=function(t){var e,n=new A(t),r=n.content();if(r){var o=[r.querySelector("colgroup")],i=[n.header().querySelector("thead")],a=[r.querySelector("tbody")],s=n.footer(),l=s?[s.querySelector("tfoot")]:[];e=N(o,i,a,l)}else e=M(n.table().cloneNode(!0));return e}(l);return c.appendChild(t),document.body.appendChild(c),t}(),n,p)}function p(){document.body.removeChild(s),document.body.removeChild(c),s=c=void 0,o&&o()}(s=document.createElement("div")).setAttribute("style","position:absolute; left: -5000px; top: 0px;"),l=document.createElement("div"),s.appendChild(l),document.body.appendChild(s),C.render(function(){var t=i&&{data:i,total:i.length,pageSize:i.length,skip:0},n={style:Object.assign({},e.props.style,{width:"1000px"})},o=Object.assign({},t,n);if(a&&a.length>0){var s=function(t){return r.Children.toArray(t.props.children).filter((function(t){return t&&"KendoReactGridColumn"!==t.type.displayName}))}(e);return r.cloneElement(e,o,a.concat(s))}return r.cloneElement(e,o)}(),l,u)}(t,e,n,o,i,a)}}var L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(t){function e(e){var n=t.call(this,e)||this;return n.saveGridPDF=F(n.getSavePDF()),n}return L(e,t),e.prototype.render=function(){return null},e.prototype.save=function(t,e){this.saveGridPDF(this.getGrid(),Object.assign({},this.props,{margin:v(this.props)}),e,t,this.getCustomColumns())},e.prototype.getSavePDF=function(){return O},e.prototype.getGrid=function(){return r.Children.toArray(this.props.children).find((function(t){return t&&"KendoReactGrid"===t.type.displayName}))},e.prototype.getCustomColumns=function(){return r.Children.toArray(this.props.children).filter((function(t){return t&&"KendoReactGridColumn"===t.type.displayName}))},e.propTypes={author:o.string,avoidLinks:o.oneOfType([o.bool,o.string]),forcePageBreak:o.string,keepTogether:o.string,creator:o.string,date:o.instanceOf(Date),imageResolution:o.number,fileName:o.string,forceProxy:o.bool,keywords:o.string,landscape:o.bool,margin:o.oneOfType([o.string,o.number,o.shape({left:o.oneOfType([o.number,o.string]),top:o.oneOfType([o.number,o.string]),right:o.oneOfType([o.number,o.string]),bottom:o.oneOfType([o.number,o.string])})]),pageTemplate:o.any,paperSize:o.any,repeatHeaders:o.bool,scale:o.number,proxyData:o.any,proxyURL:o.string,proxyTarget:o.string,producer:o.string,subject:o.string,title:o.string},e}(r.Component),B=I("TABLE"),V=function(){function t(t){this.element=t,this.list=T(t,E("k-grid"))}return t.prototype.content=function(){return T(this.list,E("k-grid"))},t.prototype.header=function(){return this.headerWrap=this.headerWrap||T(this.element,E("k-grid-header")),T(this.headerWrap,E("k-grid-header"))},t.prototype.footer=function(){return this.footerWrap=this.footerWrap||T(this.element,E("k-grid-footer")),T(this.footerWrap,E("k-grid-footer"))},t.prototype.table=function(){return T(this.element,B)},t}();function H(t){return function(e,n,o,i,a){return void 0===n&&(n={}),function(t,e,n,o,i,a){void 0===n&&(n={});var s,l,c;function u(){t(function(){(c=document.createElement("div")).className="k-treelist-pdf-export-element";var t=function(t){var e,n=new V(t),r=n.content(),o=n.header();if(o.childNodes.length>1&&o.removeChild(o.childNodes[1]),o.childNodes[0].childNodes.forEach((function(t){return t.style.top=0})),r){var i=[r.querySelector("colgroup")],a=[o],s=[r.querySelector("tbody")],l=n.footer(),c=l?[l.querySelector("tfoot")]:[];e=N(i,a,s,c)}else e=M(n.table().cloneNode(!0));return e}(l);return c.appendChild(t),document.body.appendChild(c),c}(),n,p)}function p(){document.body.removeChild(s),document.body.removeChild(c),s=c=void 0,o&&o()}(s=document.createElement("div")).setAttribute("style","position:absolute; left: -5000px; top: 0px;"),l=document.createElement("div"),s.appendChild(l),document.body.appendChild(s),C.render((h=n.allPages&&i?{data:i,take:Number.MAX_VALUE,skip:0}:{},d={style:Object.assign({},e.props.style,{width:"1000px"})},f=Object.assign({},h,d),a&&a.length>0?r.cloneElement(e,Object.assign({},f,{columns:a})):r.cloneElement(e,f)),l,u);var h,d,f}(t,e,n,o,i,a)}}var U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(t){function e(e){var n=t.call(this,e)||this;return n.saveTreeListPDF=H(n.getSavePDF()),n}return U(e,t),e.prototype.render=function(){return null},e.prototype.save=function(t,e,n){this.saveTreeListPDF(this.getTreeList(),Object.assign({},this.props,{margin:v(this.props)}),n,t,e||[])},e.prototype.getSavePDF=function(){return O},e.prototype.getTreeList=function(){var t=this.props.children;if(t&&t.props.data&&t.props.columns)return this.props.children},e.propTypes={author:o.string,avoidLinks:o.oneOfType([o.bool,o.string]),forcePageBreak:o.string,keepTogether:o.string,creator:o.string,date:o.instanceOf(Date),imageResolution:o.number,fileName:o.string,forceProxy:o.bool,keywords:o.string,landscape:o.bool,margin:o.oneOfType([o.string,o.number,o.shape({left:o.oneOfType([o.number,o.string]),top:o.oneOfType([o.number,o.string]),right:o.oneOfType([o.number,o.string]),bottom:o.oneOfType([o.number,o.string])})]),pageTemplate:o.any,paperSize:o.any,repeatHeaders:o.bool,scale:o.number,proxyData:o.any,proxyURL:o.string,proxyTarget:o.string,producer:o.string,subject:o.string,title:o.string,allPages:o.bool},e}(r.Component)},function(t,e,n){"use strict";n.r(e),n.d(e,"Badge",(function(){return s})),n.d(e,"BadgeContainer",(function(){return u})),n.d(e,"Loader",(function(){return d})),n.d(e,"Skeleton",(function(){return m}));var r=n(0),o=n(1),i=n(2),a={name:"@progress/kendo-react-indicators",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616997,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},s=r.forwardRef((function(t,e){Object(i.D)(a);var n=t.children,o=t.className,s=t.style,c=r.useRef(null),u=r.useCallback((function(){c.current&&c.current.focus()}),[]);r.useImperativeHandle(e,(function(){return{element:c.current,focus:u}}));var p=Object(i.z)(c,t.dir),h=r.useMemo((function(){return t.size||l.size}),[t.size]),d=r.useMemo((function(){return t.fill||l.fill}),[t.fill]),f=r.useMemo((function(){return t.themeColor||l.themeColor}),[t.themeColor]),m=r.useMemo((function(){return t.shape||l.shape}),[t.shape]),v=r.useMemo((function(){return t.cutoutBorder||l.cutoutBorder}),[t.cutoutBorder]),g=r.useMemo((function(){return t.position||l.position}),[t.position]),y=r.useMemo((function(){return t.align||l.align}),[t.align]),b=r.useMemo((function(){return Object(i.g)("k-badge",{"k-badge-sm":"small"===h,"k-badge-md":"medium"===h,"k-badge-lg":"large"===h,"k-badge-solid":"solid"===d,"k-badge-outline":"outline"===d,"k-badge-primary":"primary"===f,"k-badge-secondary":"secondary"===f,"k-badge-tertiary":"tertiary"===f,"k-badge-info":"info"===f,"k-badge-success":"success"===f,"k-badge-warning":"warning"===f,"k-badge-error":"error"===f,"k-badge-dark":"dark"===f,"k-badge-light":"light"===f,"k-badge-inverse":"inverse"===f,"k-badge-inherit":"inherit"===f,"k-badge-circle":"circle"===m,"k-badge-rectangle":"rectangle"===m,"k-badge-rounded":"rounded"===m,"k-badge-dot":"dot"===m,"k-badge-pill":"pill"===m,"k-badge-border-cutout":v,"k-badge-edge":"edge"===g,"k-badge-outside":"outside"===g,"k-badge-inside":"inside"===g,"k-top-start":"top"===y.vertical&&"start"===y.horizontal,"k-top-end":"top"===y.vertical&&"end"===y.horizontal,"k-bottom-start":"bottom"===y.vertical&&"start"===y.horizontal,"k-bottom-end":"bottom"===y.vertical&&"end"===y.horizontal},o)}),[h,d,f,m,v,y,g,o]);return r.createElement("span",{className:b,style:s,dir:p},n)}));s.propTypes={className:o.string,dir:o.string,style:o.object,align:o.shape({vertical:o.oneOf(["top","bottom"]),horizontal:o.oneOf(["start","end"])}),size:o.oneOf(["small","medium","large"]),fill:o.oneOf(["solid","outline"]),themeColor:o.oneOf(["primary","secondary","tertiary","info","success","warning","error","dark","light","inverse","inherit"]),shape:o.oneOf(["circle","rectangle","rounded","dot","pill"]),position:o.oneOf(["edge","outside","inside"]),cutoutBorder:o.bool};var l={size:"medium",fill:"solid",themeColor:"primary",shape:"circle",position:"edge",align:{vertical:"top",horizontal:"end"},cutoutBorder:!1};s.defaultProps=l,s.displayName="KendoBadge";var c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},u=r.forwardRef((function(t,e){var n=t.children,o=t.className,a=t.style,s=r.useRef(null),l=r.useCallback((function(){s.current&&s.current.focus()}),[]);r.useImperativeHandle(e,(function(){return{element:s.current,focus:l}}));var u=Object(i.z)(s,t.dir),p=r.useMemo((function(){return Object(i.g)("k-badge-container",o)}),[o]),h=r.useMemo((function(){return c({display:"inline-block"},a)}),[a]);return r.createElement("span",{className:p,style:h,dir:u},n)}));u.propTypes={className:o.string,dir:o.string,style:o.object},u.displayName="KendoBadgeContainer";var p={pulsing:2,"infinite-spinner":3,"converging-spinner":4},h={pulsing:"k-loader-pulsing-2","infinite-spinner":"k-loader-spinner-3","converging-spinner":"k-loader-spinner-4"},d=r.forwardRef((function(t,e){Object(i.D)(a);var n=t.className,o=t.style,s=r.useRef(null),l=r.useCallback((function(){s.current&&s.current.focus()}),[]);r.useImperativeHandle(e,(function(){return{element:s.current,focus:l}}));var c=r.useMemo((function(){return t.size||f.size}),[t.size]),u=r.useMemo((function(){return t.themeColor||f.themeColor}),[t.themeColor]),d=r.useMemo((function(){return t.type||f.type}),[t.type]),m=r.useMemo((function(){return Object(i.g)("k-loader",{"k-loader-sm":"small"===c,"k-loader-md":"medium"===c,"k-loader-lg":"large"===c,"k-loader-primary":"primary"===u,"k-loader-secondary":"secondary"===u,"k-loader-tertiary":"tertiary"===u,"k-loader-info":"info"===u,"k-loader-success":"success"===u,"k-loader-warning":"warning"===u,"k-loader-error":"error"===u,"k-loader-dark":"dark"===u,"k-loader-light":"light"===u,"k-loader-inverse":"inverse"===u},n,h[d])}),[c,u,n,d]),v=new Array(p[d]);return v.fill(0,0,p[d]),r.createElement("div",{className:m,style:o},r.createElement("div",{className:"k-loader-canvas"},v.map((function(t,e){return r.createElement("span",{key:e,className:"k-loader-segment"})}))))}));d.propTypes={className:o.string,style:o.object,type:o.oneOf(["pulsing","infinite-spinner","converging-spinner"]),size:o.oneOf(["small","medium","large"]),themeColor:o.oneOf(["primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"])};var f={size:"medium",themeColor:"primary",type:"pulsing"};d.defaultProps=f,d.displayName="KendoLoader";var m=r.forwardRef((function(t,e){Object(i.D)(a);var n=t.className,o=t.style,s=r.useRef(null),l=r.useCallback((function(){s.current&&s.current.focus()}),[]);r.useImperativeHandle(e,(function(){return{element:s.current,focus:l}}));var c=r.useMemo((function(){return t.shape||v.shape}),[t.shape]),u=r.useMemo((function(){return!1!==t.animation&&(t.animation||v.animation)}),[t.animation]),p=r.useMemo((function(){return Object(i.g)("k-skeleton",{"k-skeleton-circle":"circle"===c,"k-skeleton-rectangle":"rectangle"===c,"k-skeleton-text":"text"===c,"k-skeleton-pulse":"object"==typeof u&&"pulse"===u.type,"k-skeleton-wave":"object"==typeof u&&"wave"===u.type||!0===u},n)}),[c,u,n]);return r.createElement("span",{ref:s,className:p,style:o})}));m.propTypes={className:o.string,style:o.object,animation:o.shape({type:o.oneOf(["wave","pulse"])}),shape:o.oneOf(["circle","rectangle","text"])};var v={shape:"text",animation:{type:"pulse"}};m.defaultProps=v,m.displayName="KendoSkeleton"},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(17);function o(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),i=a.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(17),o=n(42),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,l={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(s=n(31)),s),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){l.headers[t]=r.merge(i)})),t.exports=l}).call(this,n(41))},function(t,e,n){"use strict";var r=n(17),o=n(43),i=n(45),a=n(28),s=n(46),l=n(49),c=n(50),u=n(32);t.exports=function(t){return new Promise((function(e,n){var p=t.data,h=t.headers;r.isFormData(p)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.Authorization="Basic "+btoa(f+":"+m)}var v=s(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),a(v,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?l(d.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:t,request:d};o(e,n,i),d=null}},d.onabort=function(){d&&(n(u("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(u(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var g=(t.withCredentials||c(v))&&t.xsrfCookieName?i.read(t.xsrfCookieName):void 0;g&&(h[t.xsrfHeaderName]=g)}if("setRequestHeader"in d&&r.forEach(h,(function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),n(t),d=null)})),p||(p=null),d.send(p)}))}},function(t,e,n){"use strict";var r=n(44);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},function(t,e,n){"use strict";var r=n(17);t.exports=function(t,e){e=e||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function c(o){r.isUndefined(e[o])?r.isUndefined(t[o])||(n[o]=l(void 0,t[o])):n[o]=l(t[o],e[o])}r.forEach(o,(function(t){r.isUndefined(e[t])||(n[t]=l(void 0,e[t]))})),r.forEach(i,c),r.forEach(a,(function(o){r.isUndefined(e[o])?r.isUndefined(t[o])||(n[o]=l(void 0,t[o])):n[o]=l(void 0,e[o])})),r.forEach(s,(function(r){r in e?n[r]=l(t[r],e[r]):r in t&&(n[r]=l(void 0,t[r]))}));var u=o.concat(i).concat(a).concat(s),p=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return r.forEach(p,c),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(18)),r(n(7));var o=n(54);e.Chart=o.Chart,e.Sparkline=o.Sparkline,e.StockChart=o.StockChart,r(n(63)),r(n(6));var i=n(15);e.Calendar=i.Calendar,e.CalendarViewEnum=i.CalendarViewEnum,e.CalendarCell=i.CalendarCell,e.CalendarWeekCell=i.CalendarWeekCell,e.CalendarHeaderTitle=i.CalendarHeaderTitle,e.CalendarNavigationItem=i.CalendarNavigationItem,e.DateInput=i.DateInput,e.DatePicker=i.DatePicker,e.DateTimePicker=i.DateTimePicker,e.TimePicker=i.TimePicker,e.MultiViewCalendar=i.MultiViewCalendar,e.DateRangePicker=i.DateRangePicker,r(n(16)),r(n(10)),r(n(57)),r(n(61));var a=n(55);e.ArcGauge=a.ArcGauge,e.CircularGauge=a.CircularGauge,e.LinearGauge=a.LinearGauge,e.RadialGauge=a.RadialGauge,r(n(58));var s=n(60);e.Gantt=s.Gantt,e.GanttDayView=s.GanttDayView,e.GanttWeekView=s.GanttWeekView,e.GanttMonthView=s.GanttMonthView,e.GanttTextFilter=s.GanttTextFilter,e.GanttNumericFilter=s.GanttNumericFilter,e.GanttBooleanFilter=s.GanttBooleanFilter,e.GanttDateFilter=s.GanttDateFilter,r(n(26));var l=n(11);e.NumericTextBox=l.NumericTextBox,e.Input=l.Input,e.Switch=l.Switch,e.MaskedTextBox=l.MaskedTextBox,e.Slider=l.Slider,e.SliderLabel=l.SliderLabel,e.ColorGradient=l.ColorGradient,e.ColorPicker=l.ColorPicker,e.ColorPalette=l.ColorPalette,e.RangeSlider=l.RangeSlider,r(n(5)),r(n(21)),r(n(25)),r(n(14)),r(n(66)),r(n(56)),r(n(64)),r(n(69));var c=n(19);e.TreeList=c.TreeList,e.TreeListCell=c.TreeListCell,e.TreeListRow=c.TreeListRow,e.TreeListDraggableRow=c.TreeListDraggableRow,e.TreeListHeaderCell=c.TreeListHeaderCell,e.TreeListSelectionCell=c.TreeListSelectionCell,e.TreeListHeaderSelectionCell=c.TreeListHeaderSelectionCell,e.TreeListToolbar=c.TreeListToolbar,e.TreeListNoRecords=c.TreeListNoRecords,e.TreeListTextFilter=c.TreeListTextFilter,e.TreeListNumericFilter=c.TreeListNumericFilter,e.TreeListDateFilter=c.TreeListDateFilter,e.TreeListBooleanFilter=c.TreeListBooleanFilter,e.TreeListTextEditor=c.TreeListTextEditor,e.TreeListNumericEditor=c.TreeListNumericEditor,e.TreeListBooleanEditor=c.TreeListBooleanEditor,e.TreeListDateEditor=c.TreeListDateEditor,e.createDataTree=c.createDataTree,e.mapTreeItem=c.mapTreeItem,e.moveTreeItem=c.moveTreeItem,e.removeItems=c.removeItems,e.modifySubItems=c.modifySubItems,e.treeToFlat=c.treeToFlat,r(n(20)),r(n(62)),r(n(68)),r(n(9)),r(n(65)),r(n(67)),r(n(8)),r(n(59))},function(t,e,n){"use strict";var r=n(17),o=n(27),i=n(37),a=n(33);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var l=s(n(30));l.Axios=i,l.create=function(t){return s(a(l.defaults,t))},l.Cancel=n(34),l.CancelToken=n(51),l.isCancel=n(29),l.all=function(t){return Promise.all(t)},l.spread=n(52),l.isAxiosError=n(53),t.exports=l,t.exports.default=l},function(t,e,n){"use strict";var r=n(17),o=n(28),i=n(38),a=n(39),s=n(33);function l(t){this.defaults=t,this.interceptors={request:new i,response:new i}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},l.prototype.getUri=function(t){return t=s(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,r){return this.request(s(r||{},{method:t,url:e,data:n}))}})),t.exports=l},function(t,e,n){"use strict";var r=n(17);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},function(t,e,n){"use strict";var r=n(17),o=n(40),i=n(29),a=n(30);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(s(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(17);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,c=[],u=!1,p=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):p=-1,c.length&&d())}function d(){if(!u){var t=s(h);u=!0;for(var e=c.length;e;){for(l=c,c=[];++p<e;)l&&l[p].run();p=-1,e=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(17);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(32);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(17);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(47),o=n(48);t.exports=function(t,e){return t&&!r(e)?o(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(17),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var r=n(17);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(34);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},function(t,e,n){"use strict";n.r(e),n.d(e,"TooltipPoint",(function(){return Lu})),n.d(e,"ChartAxisDefaultsTitle",(function(){return Vh})),n.d(e,"ChartAxisDefaultsLabels",(function(){return Wh})),n.d(e,"ChartAxisDefaultsCrosshair",(function(){return Gh})),n.d(e,"ChartAxisDefaultsCrosshairTooltip",(function(){return $h})),n.d(e,"ChartCategoryAxisCrosshair",(function(){return Qh})),n.d(e,"ChartCategoryAxisCrosshairTooltip",(function(){return nd})),n.d(e,"ChartCategoryAxisTitle",(function(){return id})),n.d(e,"ChartCategoryAxisLabels",(function(){return ld})),n.d(e,"ChartCategoryAxisNotes",(function(){return ud})),n.d(e,"ChartCategoryAxisNotesIcon",(function(){return hd})),n.d(e,"ChartCategoryAxisNotesLabel",(function(){return fd})),n.d(e,"ChartCategoryAxisRangeLabels",(function(){return gd})),n.d(e,"ChartPaneTitle",(function(){return xd})),n.d(e,"ChartPaneDefaultsTitle",(function(){return Od})),n.d(e,"ChartLegendItem",(function(){return Sd})),n.d(e,"ChartLegendTitle",(function(){return Td})),n.d(e,"ChartLegendInactiveItems",(function(){return Ad})),n.d(e,"ChartSeriesDefaultsItemTooltip",(function(){return Md})),n.d(e,"ChartSeriesDefaultsLabels",(function(){return Fd})),n.d(e,"ChartSeriesDefaultsLabelsFrom",(function(){return zd})),n.d(e,"ChartSeriesDefaultsLabelsTo",(function(){return Vd})),n.d(e,"ChartSeriesDefaultsNotes",(function(){return Ud})),n.d(e,"ChartSeriesDefaultsNotesIcon",(function(){return qd})),n.d(e,"ChartSeriesDefaultsNotesLabel",(function(){return Gd})),n.d(e,"ChartSeriesItemTooltip",(function(){return Xd})),n.d(e,"ChartSeriesItemOutliers",(function(){return Zd})),n.d(e,"ChartSeriesNotes",(function(){return Qd})),n.d(e,"ChartSeriesMarkers",(function(){return ef})),n.d(e,"ChartSeriesLabels",(function(){return of})),n.d(e,"ChartSeriesHighlight",(function(){return sf})),n.d(e,"ChartSeriesExtremes",(function(){return cf})),n.d(e,"ChartSeriesErrorBars",(function(){return pf})),n.d(e,"ChartSeriesLabelsFrom",(function(){return df})),n.d(e,"ChartSeriesLabelsTo",(function(){return mf})),n.d(e,"ChartSeriesNotesLabel",(function(){return gf})),n.d(e,"ChartSeriesNotesIcon",(function(){return bf})),n.d(e,"ChartValueAxisCrosshair",(function(){return kf})),n.d(e,"ChartValueAxisCrosshairTooltip",(function(){return _f})),n.d(e,"ChartValueAxisTitle",(function(){return Ff})),n.d(e,"ChartValueAxisLabels",(function(){return If})),n.d(e,"ChartValueAxisNotes",(function(){return Df})),n.d(e,"ChartValueAxisNotesIcon",(function(){return Af})),n.d(e,"ChartValueAxisNotesLabel",(function(){return Mf})),n.d(e,"ChartXAxisCrosshair",(function(){return Bf})),n.d(e,"ChartXAxisCrosshairTooltip",(function(){return Uf})),n.d(e,"ChartXAxisTitle",(function(){return em})),n.d(e,"ChartXAxisLabels",(function(){return Kf})),n.d(e,"ChartXAxisNotes",(function(){return Yf})),n.d(e,"ChartXAxisNotesIcon",(function(){return $f})),n.d(e,"ChartXAxisNotesLabel",(function(){return Jf})),n.d(e,"ChartYAxisCrosshair",(function(){return om})),n.d(e,"ChartYAxisCrosshairTooltip",(function(){return sm})),n.d(e,"ChartYAxisTitle",(function(){return bm})),n.d(e,"ChartYAxisLabels",(function(){return um})),n.d(e,"ChartYAxisNotes",(function(){return hm})),n.d(e,"ChartYAxisNotesIcon",(function(){return fm})),n.d(e,"ChartYAxisNotesLabel",(function(){return vm})),n.d(e,"ChartNavigatorCategoryAxisCrosshair",(function(){return Lm})),n.d(e,"ChartNavigatorCategoryAxisCrosshairTooltip",(function(){return Vm})),n.d(e,"ChartNavigatorCategoryAxisTitle",(function(){return Wm})),n.d(e,"ChartNavigatorCategoryAxisLabels",(function(){return Gm})),n.d(e,"ChartNavigatorCategoryAxisNotes",(function(){return Xm})),n.d(e,"ChartNavigatorCategoryAxisNotesIcon",(function(){return Zm})),n.d(e,"ChartNavigatorCategoryAxisNotesLabel",(function(){return Qm})),n.d(e,"ChartNavigatorPaneTitle",(function(){return nv})),n.d(e,"ChartNavigatorSeriesItemTooltip",(function(){return ov})),n.d(e,"ChartNavigatorSeriesItemOutliers",(function(){return av})),n.d(e,"ChartNavigatorSeriesNotes",(function(){return lv})),n.d(e,"ChartNavigatorSeriesMarkers",(function(){return uv})),n.d(e,"ChartNavigatorSeriesLabels",(function(){return fv})),n.d(e,"ChartNavigatorSeriesHighlight",(function(){return vv})),n.d(e,"ChartNavigatorSeriesExtremes",(function(){return yv})),n.d(e,"ChartNavigatorSeriesErrorBars",(function(){return xv})),n.d(e,"ChartNavigatorSeriesLabelsFrom",(function(){return kv})),n.d(e,"ChartNavigatorSeriesLabelsTo",(function(){return Cv})),n.d(e,"ChartNavigatorSeriesNotesLabel",(function(){return Sv})),n.d(e,"ChartNavigatorSeriesNotesIcon",(function(){return Iv})),n.d(e,"ChartNavigatorCategoryAxis",(function(){return km})),n.d(e,"ChartNavigatorHint",(function(){return Cm})),n.d(e,"ChartNavigatorPane",(function(){return Em})),n.d(e,"ChartNavigatorSelect",(function(){return Tm})),n.d(e,"ChartNavigatorSeries",(function(){return Rm})),n.d(e,"ChartNavigatorSeriesItem",(function(){return Am})),n.d(e,"ChartArea",(function(){return Pp})),n.d(e,"ChartAxisDefaults",(function(){return jp})),n.d(e,"ChartCategoryAxis",(function(){return Hp})),n.d(e,"ChartCategoryAxisItem",(function(){return zp})),n.d(e,"ChartLegend",(function(){return qp})),n.d(e,"ChartNavigator",(function(){return Yp})),n.d(e,"ChartPane",(function(){return Zp})),n.d(e,"ChartPaneDefaults",(function(){return th})),n.d(e,"ChartPanes",(function(){return rh})),n.d(e,"ChartPlotArea",(function(){return ih})),n.d(e,"ChartSeries",(function(){return ph})),n.d(e,"ChartSeriesDefaults",(function(){return dh})),n.d(e,"ChartSeriesItem",(function(){return lh})),n.d(e,"ChartTitle",(function(){return mh})),n.d(e,"ChartTooltip",(function(){return yh})),n.d(e,"ChartValueAxis",(function(){return Ch})),n.d(e,"ChartValueAxisItem",(function(){return wh})),n.d(e,"ChartXAxis",(function(){return Dh})),n.d(e,"ChartXAxisItem",(function(){return Eh})),n.d(e,"ChartYAxis",(function(){return Nh})),n.d(e,"ChartYAxisItem",(function(){return jh})),n.d(e,"ChartZoomable",(function(){return Lh})),n.d(e,"WeekStartDay",(function(){return dv})),n.d(e,"AxisLabelClickEvent",(function(){return Mc})),n.d(e,"DragEndEvent",(function(){return Bc})),n.d(e,"DragEvent",(function(){return Lc})),n.d(e,"DragStartEvent",(function(){return Hc})),n.d(e,"LegendItemClickEvent",(function(){return Kc})),n.d(e,"LegendItemHoverEvent",(function(){return Wc})),n.d(e,"NavigatorFilterEvent",(function(){return $c})),n.d(e,"NoteClickEvent",(function(){return Jc})),n.d(e,"NoteHoverEvent",(function(){return tu})),n.d(e,"PlotAreaClickEvent",(function(){return nu})),n.d(e,"PlotAreaHoverEvent",(function(){return ou})),n.d(e,"RenderEvent",(function(){return au})),n.d(e,"SelectEndEvent",(function(){return uu})),n.d(e,"SelectEvent",(function(){return lu})),n.d(e,"SelectStartEvent",(function(){return hu})),n.d(e,"SeriesClickEvent",(function(){return fu})),n.d(e,"SeriesHoverEvent",(function(){return vu})),n.d(e,"ZoomEndEvent",(function(){return xu})),n.d(e,"ZoomEvent",(function(){return yu})),n.d(e,"ZoomStartEvent",(function(){return ku})),n.d(e,"findAxisByName",(function(){return Tv})),n.d(e,"findPaneByIndex",(function(){return Dv})),n.d(e,"findPaneByName",(function(){return Pv})),n.d(e,"exportVisual",(function(){return Av})),n.d(e,"Chart",(function(){return vp})),n.d(e,"Sparkline",(function(){return xp})),n.d(e,"StockChart",(function(){return _p}));var r=n(0),o=n(1),i=n(5),a="arc",s="#000",l="bottom",c="center",u="circle",p="date",h=/\{\d+:?/,d="left",f=Number.MAX_VALUE,m=-Number.MAX_VALUE,v="right",g="top",y="value",b="#fff",x="x",w="y";function k(t){return Array.isArray(t)}function O(t,e){for(var n=k(e)?e:[e],r=0;r<n.length;r++){var o=n[r];-1===t.className.indexOf(o)&&(t.className+=" "+o)}}var C=/\s+/g;var _=n(3);function S(t){var e=.5;t.options.stroke&&_.drawing.util.defined(t.options.stroke.width)&&t.options.stroke.width%2==0&&(e=0);for(var n=0;n<t.segments.length;n++)t.segments[n].anchor().round(0).translate(e,e);return t}function E(t,e){return-t.x*e.y+t.y*e.x<0}function I(t){return"number"==typeof t&&!isNaN(t)}function T(t){return"string"==typeof t}function D(t){return I(t)||T(t)&&isFinite(t)}function P(t){return"function"==typeof t}function A(t,e){for(var n in e){var r=e[n],o=typeof r,i=void 0;if((i="object"===o&&null!==r?r.constructor:null)&&i!==Array)if(r instanceof Date)t[n]=new Date(r.getTime());else if(P(r.clone))t[n]=r.clone();else{var a=t[n];t[n]="object"==typeof a&&a||{},A(t[n],r)}else"undefined"!==o&&(t[n]=r)}return t}function j(t){for(var e=arguments,n=arguments.length,r=1;r<n;r++)A(t,e[r]);return t}function M(t){return"object"==typeof t}function R(t){return I(t)?t+"px":t}var N=/width|height|top|left|bottom|right/i;function F(t){return N.test(t)}function L(t,e){var n=T(e)?[e]:e;if(k(n)){for(var r={},o=window.getComputedStyle(t),i=0;i<n.length;i++){var a=n[i];r[a]=F(a)?parseFloat(o[a]):o[a]}return r}if(M(e))for(var s in e)t.style[s]=R(e[s])}function z(t,e){void 0===e&&(e=0);var n={top:0,right:0,bottom:0,left:0};return"number"==typeof t?n.top=n[v]=n[l]=n[d]=t:(n.top=t.top||e,n[v]=t[v]||e,n[l]=t[l]||e,n[d]=t[d]||e),n}var B={format:function(t,e){return e},toString:function(t){return t},parseDate:function(t){return new Date(t)},firstDay:function(){return 0}},V=function(){},H={implementation:{configurable:!0}};V.register=function(t){B=t},H.implementation.get=function(){return B},Object.defineProperties(V,H);var U=V,W=/\{(\d+)(:[^\}]+)?\}/g,q=function(t){this._intlService=t},K={intl:{configurable:!0}};K.intl.get=function(){return this._intlService||U.implementation},K.intl.set=function(t){this._intlService=t},q.prototype.auto=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=this.intl;return T(t)&&t.match(h)?r.format.apply(r,[t].concat(e)):r.toString(e[0],t)},q.prototype.localeAuto=function(t,e,n){var r=this.intl;return T(t)&&t.match(h)?t.replace(W,(function(t,o,i){var a=e[parseInt(o,10)];return r.toString(a,i?i.substring(1):"",n)})):r.toString(e[0],t,n)},Object.defineProperties(q.prototype,K);var G=q,Y=function(t,e){void 0===e&&(e={}),this._intlService=e.intlService,this.sender=e.sender||t,this.format=new G(e.intlService),this.chart=t,this.rtl=Boolean(e.rtl)},X={intl:{configurable:!0}};X.intl.get=function(){return this._intlService||U.implementation},X.intl.set=function(t){this._intlService=t,this.format.intl=t},Y.prototype.notify=function(t,e){this.chart&&this.chart.trigger(t,e)},Y.prototype.isPannable=function(t){var e=((this.chart||{}).options||{}).pannable;return e&&e.lock!==t},Object.defineProperties(Y.prototype,X);var $,Z=Y,J=function(){};J.register=function(t){$=t},J.create=function(t,e){if($)return $.create(t,e)};var Q=J,tt={compile:function(t){return t}},et=function(){};et.register=function(t){tt=t},et.compile=function(t){return tt.compile(t)};var nt=et;function rt(t){var e;return void 0===t&&(t={}),t.template?t.template=e=nt.compile(t.template):P(t.content)&&(e=t.content),e}var ot=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,it={};function at(t){if(it[t])return it[t];var e=[];return t.replace(ot,(function(t,n,r,o){e.push(_.drawing.util.defined(n)?n:r||o)})),it[t]=function(t){for(var n=t,r=0;r<e.length&&n;r++)n=n[e[r]];return n},it[t]}function st(t,e){for(var n=t.length,r=[],o=0;o<n;o++)e(t[o])&&r.push(t[o]);return r}function lt(t,e){if(t.className)for(var n=e.split(" "),r=0;r<n.length;r++)if(-1!==t.className.indexOf(n[r]))return!0}it[void 0]=function(t){return t};var ct=function(){this._map={}};ct.prototype.get=function(t){return this._map[this._key(t)]},ct.prototype.set=function(t,e){this._map[this._key(t)]=e},ct.prototype._key=function(t){return t instanceof Date?t.getTime():t};var ut=ct;function pt(t,e){if(e)return-1!==e.indexOf(t)}function ht(t,e,n){return _.drawing.util.round(t+(e-t)*n,3)}var dt=function(t,e){this.observer=t,this.handlerMap=j({},this.handlerMap,e)};dt.prototype.trigger=function(t,e){var n,r=this.observer,o=this.handlerMap;return o[t]?n=this.callObserver(o[t],e):r.trigger&&(n=this.callObserver("trigger",t,e)),n},dt.prototype.callObserver=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return this.observer[t].apply(this.observer,e)},dt.prototype.requiresHandlers=function(t){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(t);for(var e=0;e<t.length;e++)if(this.handlerMap[t[e]])return!0};var ft=dt;function mt(t,e){for(var n=t.length,r=[],o=0;o<n;o++){var i=e(t[o]);_.drawing.util.defined(i)&&r.push(i)}return r}function vt(t){var e=0;return t.wheelDelta&&(e=(e=-t.wheelDelta/120)>0?Math.ceil(e):Math.floor(e)),t.detail&&(e=_.drawing.util.round(t.detail/3)),e}var gt=_.drawing.util,yt=gt.append,bt=gt.bindEvents,xt=gt.defined,wt=gt.deg,kt=gt.elementOffset,Ot=gt.elementSize,Ct=gt.eventElement,_t=gt.eventCoordinates,St=gt.last,Et=gt.limitValue,It=gt.objectKey,Tt=gt.rad,Dt=gt.round,Pt=gt.unbindEvents,At=gt.valueOrDefault,jt=function(){};jt.fetchFonts=function(t,e,n){void 0===n&&(n={depth:0});!t||n.depth>5||!document.fonts||Object.keys(t).forEach((function(r){var o=t[r];"dataSource"!==r&&"$"!==r[0]&&o&&("font"===r?e.push(o):"object"==typeof o&&(n.depth++,jt.fetchFonts(o,e,n),n.depth--))}))},jt.loadFonts=function(t,e){var n=[];if(t.length>0&&document.fonts){try{n=t.map((function(t){return document.fonts.load(t)}))}catch(t){Object(_.logToConsole)(t)}Promise.all(n).then(e,e)}else e()},jt.preloadFonts=function(t,e){var n=[];jt.fetchFonts(t,n),jt.loadFonts(n,e)};var Mt=jt;function Rt(t,e){var n=t.prototype;n.options?n.options=j({},n.options,e):n.options=e}function Nt(t){for(var e=f,n=m,r=0,o=t.length;r<o;r++){var i=t[r];null!==i&&isFinite(i)&&(e=Math.min(e,i),n=Math.max(n,i))}return{min:e===f?void 0:e,max:n===m?void 0:n}}function Ft(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e(r,n,t))return r}}var Lt=_.geometry.Matrix,zt=/matrix\((.*)\)/;function Bt(t){var e=getComputedStyle(t).transform;return"none"===e?Lt.unit():function(t){var e=t.match(zt);if(null===e||2!==e.length)return Lt.unit();var n=e[1].split(",").map((function(t){return parseFloat(t)}));return new(Function.prototype.bind.apply(Lt,[null].concat(n)))}(e)}var Vt=function(t){return new _.Color(t).isDark()?b:s},Ht={},Ut=function(t){this._index={},this._values=t?t.slice(0):[];for(var e=0;e<this._values.length;e++)this._index[this._values[e]]=e},Wt={size:{configurable:!0}};Ut.prototype.values=function(){return this._values.filter((function(t){return t!==Ht}))},Ut.prototype.has=function(t){return void 0!==this._index[t]},Ut.prototype.add=function(t){this.has(t)||(this._index[t]=this._values.length,this._values.push(t))},Ut.prototype.delete=function(t){var e=this._index[t];void 0!==e&&(this._values[e]=Ht,delete this._index[t])},Ut.prototype.clear=function(){this._index={},this._values=[]},Wt.size.get=function(){return this._values.length},Object.defineProperties(Ut.prototype,Wt);var qt=function(t){this._set=new Set(t)},Kt={size:{configurable:!0}};function Gt(t){return"function"==typeof Set?new qt(t):new Ut(t)}function Yt(t,e){var n=Dt(e-t,9);if(0===n){if(0===e)return.1;n=Math.abs(e)}var r=Math.pow(10,Math.floor(Math.log(n)/Math.log(10))),o=Dt(n/r,10);return Dt(r*(o<1.904762?.2:o<4.761904?.5:o<9.523809?1:2),10)}qt.prototype.values=function(){return Array.from(this._set)},qt.prototype.has=function(t){return this._set.has(t)},qt.prototype.add=function(t){this._set.add(t)},qt.prototype.delete=function(t){this._set.delete(t)},qt.prototype.clear=function(){this._set.clear()},Kt.size.get=function(){return this._set.size},Object.defineProperties(qt.prototype,Kt);var Xt=function(t){function e(e,n){t.call(this),this.x=e||0,this.y=n||0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y},e.prototype.rotate=function(t,e){var n=Tt(e),r=Math.cos(n),o=Math.sin(n),i=t.x,a=t.y,s=this.x,l=this.y;return this.x=Dt(i+(s-i)*r+(l-a)*o,3),this.y=Dt(a+(l-a)*r-(s-i)*o,3),this},e.prototype.multiply=function(t){return this.x*=t,this.y*=t,this},e.prototype.distanceTo=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},e.onCircle=function(t,n,r){var o=Tt(n);return new e(t.x-r*Math.cos(o),t.y-r*Math.sin(o))},e}(_.Class);function $t(t,e,n,r,o){var i=Tt(o);return new Xt(n+(t-n)*Math.cos(i)+(e-r)*Math.sin(i),r-(t-n)*Math.sin(i)+(e-r)*Math.cos(i))}var Zt=function(t){function e(e,n,r,o){t.call(this),this.x1=e||0,this.y1=n||0,this.x2=r||0,this.y2=o||0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.equals=function(t){return this.x1===t.x1&&this.x2===t.x2&&this.y1===t.y1&&this.y2===t.y2},e.prototype.width=function(){return this.x2-this.x1},e.prototype.height=function(){return this.y2-this.y1},e.prototype.translate=function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},e.prototype.move=function(t,e){var n=this.height(),r=this.width();return xt(t)&&(this.x1=t,this.x2=this.x1+r),xt(e)&&(this.y1=e,this.y2=this.y1+n),this},e.prototype.wrap=function(t){return this.x1=Math.min(this.x1,t.x1),this.y1=Math.min(this.y1,t.y1),this.x2=Math.max(this.x2,t.x2),this.y2=Math.max(this.y2,t.y2),this},e.prototype.wrapPoint=function(t){var n=k(t),r=n?t[0]:t.x,o=n?t[1]:t.y;return this.wrap(new e(r,o,r,o)),this},e.prototype.snapTo=function(t,e){return e!==x&&e||(this.x1=t.x1,this.x2=t.x2),e!==w&&e||(this.y1=t.y1,this.y2=t.y2),this},e.prototype.alignTo=function(t,e){var n=this.height(),r=this.width(),o=e===g||e===l?w:x,i=o===w?n:r;if(e===c){var a=t.center(),s=this.center();this.x1+=a.x-s.x,this.y1+=a.y-s.y}else this[o+1]=e===g||e===d?t[o+1]-i:t[o+2];return this.x2=this.x1+r,this.y2=this.y1+n,this},e.prototype.shrink=function(t,e){return this.x2-=t,this.y2-=e,this},e.prototype.expand=function(t,e){return this.shrink(-t,-e),this},e.prototype.pad=function(t){var e=z(t);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this},e.prototype.unpad=function(t){var e=z(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)},e.prototype.clone=function(){return new e(this.x1,this.y1,this.x2,this.y2)},e.prototype.center=function(){return new Xt(this.x1+this.width()/2,this.y1+this.height()/2)},e.prototype.containsPoint=function(t){return t.x>=this.x1&&t.x<=this.x2&&t.y>=this.y1&&t.y<=this.y2},e.prototype.points=function(){return[new Xt(this.x1,this.y1),new Xt(this.x2,this.y1),new Xt(this.x2,this.y2),new Xt(this.x1,this.y2)]},e.prototype.getHash=function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},e.prototype.overlaps=function(t){return!(t.y2<this.y1||this.y2<t.y1||t.x2<this.x1||this.x2<t.x1)},e.prototype.rotate=function(t){var e=this.width(),n=this.height(),r=this.center(),o=r.x,i=r.y,a=$t(0,0,o,i,t),s=$t(e,0,o,i,t),l=$t(e,n,o,i,t),c=$t(0,n,o,i,t);return e=Math.max(a.x,s.x,l.x,c.x)-Math.min(a.x,s.x,l.x,c.x),n=Math.max(a.y,s.y,l.y,c.y)-Math.min(a.y,s.y,l.y,c.y),this.x2=this.x1+e,this.y2=this.y1+n,this},e.prototype.toRect=function(){return new _.geometry.Rect([this.x1,this.y1],[this.width(),this.height()])},e.prototype.hasSize=function(){return 0!==this.width()&&0!==this.height()},e.prototype.align=function(t,e,n){var r=e+1,o=e+2,i=e===x?"width":"height",a=this[i]();pt(n,[d,g])?(this[r]=t[r],this[o]=this[r]+a):pt(n,[v,l])?(this[o]=t[o],this[r]=this[o]-a):n===c&&(this[r]=t[r]+(t[i]()-a)/2,this[o]=this[r]+a)},e}(_.Class);function Jt(t,e){return t-e}var Qt=function(t){function e(e,n,r,o,i){t.call(this),this.center=e,this.innerRadius=n,this.radius=r,this.startAngle=o,this.angle=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},e.prototype.middle=function(){return this.startAngle+this.angle/2},e.prototype.setRadius=function(t,e){return e?this.innerRadius=t:this.radius=t,this},e.prototype.point=function(t,e){var n=Tt(t),r=Math.cos(n),o=Math.sin(n),i=e?this.innerRadius:this.radius,a=Dt(this.center.x-r*i,3),s=Dt(this.center.y-o*i,3);return new Xt(a,s)},e.prototype.adjacentBox=function(t,e,n){var r=this.clone().expand(t),o=r.middle(),i=r.point(o),a=e/2,s=n/2,l=Math.sin(Tt(o)),c=Math.cos(Tt(o)),u=i.x-a,p=i.y-s;return Math.abs(l)<.9&&(u+=a*-c/Math.abs(c)),Math.abs(c)<.9&&(p+=s*-l/Math.abs(l)),new Zt(u,p,u+e,p+n)},e.prototype.containsPoint=function(t){var e=this.center,n=this.innerRadius,r=this.radius,o=this.startAngle,i=this.startAngle+this.angle,a=t.x-e.x,s=t.y-e.y,l=new Xt(a,s),c=this.point(o),u=new Xt(c.x-e.x,c.y-e.y),p=this.point(i),h=new Xt(p.x-e.x,p.y-e.y),d=Dt(a*a+s*s,3);return(u.equals(l)||E(u,l))&&!E(h,l)&&d>=n*n&&d<=r*r},e.prototype.getBBox=function(){var t,e=new Zt(f,f,m,m),n=Dt(this.startAngle%360),r=Dt((n+this.angle)%360),o=this.innerRadius,i=[0,90,180,270,n,r].sort(Jt),a=i.indexOf(n),s=i.indexOf(r);t=n===r?i:a<s?i.slice(a,s+1):[].concat(i.slice(0,s+1),i.slice(a,i.length));for(var l=0;l<t.length;l++){var c=this.point(t[l]);e.wrapPoint(c),e.wrapPoint(c,o)}return o||e.wrapPoint(this.center),e},e.prototype.expand=function(t){return this.radius+=t,this},e}(_.Class),te=(function(t){function e(e,n,r,o){t.call(this,e,0,n,r,o)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expand=function(e){return t.prototype.expand.call(this,e)},e.prototype.clone=function(){return new e(this.center,this.radius,this.startAngle,this.angle)},e.prototype.setRadius=function(t){return this.radius=t,this}}(Qt),function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRing=function(t,e){var n=t.startAngle+180,r=t.angle+n;t.angle>0&&n===r&&(r+=.001);var o=new _.geometry.Point(t.center.x,t.center.y),i=Math.max(t.radius,0),a=Math.max(t.innerRadius,0),s=new _.geometry.Arc(o,{startAngle:n,endAngle:r,radiusX:i,radiusY:i}),l=_.drawing.Path.fromArc(s,e).close();if(a){s.radiusX=s.radiusY=a;var c=s.pointAt(r);l.lineTo(c.x,c.y),l.arc(r,n,a,a,!0)}else l.lineTo(o.x,o.y);return l},e}(_.Class));te.current=new te;var ee=te,ne=function(t){function e(e){t.call(this),this.children=[],this.options=j({},this.options,this.initUserOptions(e))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){return t},e.prototype.reflow=function(t){for(var e,n=this.children,r=0;r<n.length;r++){var o=n[r];o.reflow(t),e=e?e.wrap(o.box):o.box.clone()}this.box=e||t},e.prototype.destroy=function(){var t=this.children;this.animation&&this.animation.destroy();for(var e=0;e<t.length;e++)t[e].destroy()},e.prototype.getRoot=function(){var t=this.parent;return t?t.getRoot():null},e.prototype.getSender=function(){var t=this.getService();if(t)return t.sender},e.prototype.getService=function(){for(var t=this;t;){if(t.chartService)return t.chartService;t=t.parent}},e.prototype.translateChildren=function(t,e){for(var n=this.children,r=n.length,o=0;o<r;o++)n[o].box.translate(t,e)},e.prototype.append=function(){for(var t=arguments,e=this,n=0;n<arguments.length;n++){var r=t[n];e.children.push(r),r.parent=e}},e.prototype.renderVisual=function(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},e.prototype.addVisual=function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},e.prototype.renderChildren=function(){for(var t=this.children,e=t.length,n=0;n<e;n++)t[n].renderVisual()},e.prototype.createVisual=function(){this.visual=new _.drawing.Group({zIndex:this.options.zIndex,visible:At(this.options.visible,!0)})},e.prototype.createAnimation=function(){this.visual&&this.options.animation&&(this.animation=_.drawing.Animation.create(this.visual,this.options.animation))},e.prototype.appendVisual=function(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.clipRoot().visual.append(t):xt(t.options.zIndex)?this.stackRoot().stackVisual(t):this.isStackRoot?this.stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)},e.prototype.clipRoot=function(){return this.parent?this.parent.clipRoot():this},e.prototype.stackRoot=function(){return this.parent?this.parent.stackRoot():this},e.prototype.stackVisual=function(t){var e,n=t.options.zIndex||0,r=this.visual.children,o=r.length;for(e=0;e<o;e++){var i=r[e];if(At(i.options.zIndex,0)>n)break}this.visual.insert(e,t)},e.prototype.traverse=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++){var o=e[r];t(o),o.traverse&&o.traverse(t)}},e.prototype.closest=function(t){for(var e=this,n=!1;e&&!n;)(n=t(e))||(e=e.parent);if(n)return e},e.prototype.renderComplete=function(){},e.prototype.hasHighlight=function(){var t=(this.options||{}).highlight;return!(!this.createHighlight||t&&!1===t.visible)},e.prototype.toggleHighlight=function(t,e){var n=this,r=(this.options||{}).highlight||{},o=r.visual,i=this._highlight;if(!i){var a={fill:{color:b,opacity:e||.2},stroke:{color:b,width:1,opacity:e||.2}};if(o){if(!(i=this._highlight=o(Object.assign(this.highlightVisualArgs(),{createVisual:function(){return n.createHighlight(a)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total}))))return}else i=this._highlight=this.createHighlight(a);xt(i.options.zIndex)||(i.options.zIndex=At(r.zIndex,this.options.zIndex)),this.appendVisual(i)}i.visible(t)},e.prototype.createGradientOverlay=function(t,e,n){var r=new _.drawing.Path(Object.assign({stroke:{color:"none"},fill:this.createGradient(n),closed:t.options.closed},e));return r.segments.elements(t.segments.elements()),r},e.prototype.createGradient=function(t){if(this.parent)return this.parent.createGradient(t)},e.prototype.supportsPointInactiveOpacity=function(){return!0},e}(_.Class);ne.prototype.options={};var re=ne,oe=function(t){function e(e){t.call(this,e),this.options.margin=z(this.options.margin),this.options.padding=z(this.options.padding)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(e){var n,r=this,o=this.options,i=o.width,a=o.height,s=o.shrinkToFit,l=i&&a,c=o.margin,u=o.padding,p=o.border.width,h=function(){r.align(e,x,o.align),r.align(e,w,o.vAlign),r.paddingBox=n.clone().unpad(c).unpad(p)},d=e.clone();l&&(d.x2=d.x1+i,d.y2=d.y1+a),s&&d.unpad(c).unpad(p).unpad(u),t.prototype.reflow.call(this,d),n=l?this.box=new Zt(0,0,i,a):this.box,s&&l?(h(),d=this.contentBox=this.paddingBox.clone().unpad(u)):(d=this.contentBox=n.clone(),n.pad(u).pad(p).pad(c),h()),this.translateChildren(n.x1-d.x1+c.left+p+u.left,n.y1-d.y1+c.top+p+u.top);for(var f=this.children,m=0;m<f.length;m++){var v=f[m];v.reflow(v.box)}},e.prototype.align=function(t,e,n){this.box.align(t,e,n)},e.prototype.hasBox=function(){var t=this.options;return t.border.width||t.background},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.options.visible&&this.hasBox()&&this.visual.append(_.drawing.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))},e.prototype.visualStyle=function(){var t=this.options,e=t.border||{};return{stroke:{width:e.width,color:e.color,opacity:At(e.opacity,t.opacity),dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}},e}(re);Rt(oe,{align:d,vAlign:g,margin:{},padding:{},border:{color:s,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});var ie=oe,ae=function(t){function e(e,n){t.call(this,e),this.pointData=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){var t=this.options,e=this.paddingBox,n=t.type,r=t.rotation,o=e.center(),i=e.width()/2,a=e.height()/2;if(!t.visible||!this.hasBox())return null;var s,l=this.visualStyle();if(n===u)s=new _.drawing.Circle(new _.geometry.Circle([Dt(e.x1+i,3),Dt(e.y1+a,3)],Math.min(i,a)),l);else if("triangle"===n)s=_.drawing.Path.fromPoints([[e.x1+i,e.y1],[e.x1,e.y2],[e.x2,e.y2]],l).close();else if("cross"===n)(s=new _.drawing.MultiPath(l)).moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),s.moveTo(e.x1,e.y2).lineTo(e.x2,e.y1);else{var c=e.toRect();if("roundedRect"===n){var p=At(t.borderRadius,c.width()/5);c.setCornerRadius(p)}s=_.drawing.Path.fromRect(c,l)}return r&&s.transform(_.geometry.transform().rotate(-r,[o.x,o.y])),s.options.zIndex=t.zIndex,s},e.prototype.createElement=function(){var t=this,e=this.options.visual,n=this.pointData||{};return e?e({value:n.value,dataItem:n.dataItem,sender:this.getSender(),series:n.series,category:n.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return t.getElement()}}):this.getElement()},e.prototype.visualOptions=function(){var t=this.options;return{background:t.background,border:t.border,margin:t.margin,padding:t.padding,type:t.type,size:t.width,visible:t.visible}},e.prototype.createVisual=function(){this.visual=this.createElement()},e}(ie);Rt(ae,{type:u,align:c,vAlign:c});var se=ae,le={glass:{type:"linear",rotation:0,stops:[{offset:0,color:b,opacity:0},{offset:.25,color:b,opacity:.3},{offset:1,color:b,opacity:0}]},sharpBevel:{type:"radial",stops:[{offset:0,color:b,opacity:.55},{offset:.65,color:b,opacity:0},{offset:.95,color:b,opacity:.25}]},roundedBevel:{type:"radial",stops:[{offset:.33,color:b,opacity:.06},{offset:.83,color:b,opacity:.2},{offset:.95,color:b,opacity:0}]},roundedGlass:{type:"radial",supportVML:!1,stops:[{offset:0,color:b,opacity:0},{offset:.5,color:b,opacity:.3},{offset:.99,color:b,opacity:0}]},sharpGlass:{type:"radial",supportVML:!1,stops:[{offset:0,color:b,opacity:.2},{offset:.15,color:b,opacity:.15},{offset:.17,color:b,opacity:.35},{offset:.85,color:b,opacity:.05},{offset:.87,color:b,opacity:.15},{offset:.99,color:b,opacity:0}]},bubbleShadow:{type:"radial",center:[.5,.5],radius:.5}};function ce(t,e){if(t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2)return e;var n=Math.min(t.x1,e.x1),r=Math.max(t.x1,e.x1),o=Math.min(t.x2,e.x2),i=Math.max(t.x2,e.x2),a=Math.min(t.y1,e.y1),s=Math.max(t.y1,e.y1),l=Math.min(t.y2,e.y2),c=Math.max(t.y2,e.y2),u=[];return u[0]=new Zt(r,a,o,s),u[1]=new Zt(n,s,r,l),u[2]=new Zt(o,s,i,l),u[3]=new Zt(r,l,o,c),t.x1===n&&t.y1===a||e.x1===n&&e.y1===a?(u[4]=new Zt(n,a,r,s),u[5]=new Zt(o,l,i,c)):(u[4]=new Zt(o,a,i,s),u[5]=new Zt(n,l,r,c)),st(u,(function(t){return t.height()>0&&t.width()>0}))[0]}var ue=function(t){function e(e){t.call(this,e);var n=this.options;n.width=parseInt(n.width,10),n.height=parseInt(n.height,10),this.gradients={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(){var t=this.options,e=this.children,n=new Zt(0,0,t.width,t.height);this.box=n.unpad(t.margin);for(var r=0;r<e.length;r++)e[r].reflow(n),n=ce(n,e[r].box)||new Zt},e.prototype.createVisual=function(){this.visual=new _.drawing.Group,this.createBackground()},e.prototype.createBackground=function(){var t=this.options,e=t.border||{},n=this.box.clone().pad(t.margin).unpad(e.width),r=_.drawing.Path.fromRect(n.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(r)},e.prototype.getRoot=function(){return this},e.prototype.createGradient=function(t){var e,n=this.gradients,r=It(t),o=le[t.gradient];if(n[r])e=n[r];else{var i=Object.assign({},o,t);"linear"===o.type?e=new _.drawing.LinearGradient(i):(t.innerRadius&&(i.stops=function(t){for(var e=t.stops,n=t.innerRadius/t.radius*100,r=e.length,o=[],i=0;i<r;i++){var a=Object.assign({},e[i]);a.offset=(a.offset*(100-n)+n)/100,o.push(a)}return o}(i)),(e=new _.drawing.RadialGradient(i)).supportVML=!1!==o.supportVML),n[r]=e}return e},e.prototype.cleanGradients=function(){var t=this.gradients;for(var e in t)t[e]._observers=[]},e.prototype.size=function(){var t=this.options;return new Zt(0,0,t.width,t.height)},e}(re);Rt(ue,{width:600,height:400,background:b,border:{color:s,width:0},margin:z(5),zIndex:-2});var pe=ue,he=function(t){function e(e){t.call(this,e),this._initDirection()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initDirection=function(){var t=this.options;t.vertical?(this.groupAxis=x,this.elementAxis=w,this.groupSizeField="width",this.elementSizeField="height",this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=w,this.elementAxis=x,this.groupSizeField="height",this.elementSizeField="width",this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)},e.prototype.reflow=function(t){this.box=t.clone(),this.reflowChildren()},e.prototype.reflowChildren=function(){var t=this.box,e=this.elementAxis,n=this.groupAxis,r=this.elementSizeField,o=this.groupSizeField,i=this.groupOptions(),a=i.groups,s=i.groupsSize,l=i.maxGroupElementsSize,c=a.length,u=t[n+1]+this.alignStart(s,t[o]());if(c){for(var p=u,h=0;h<c;h++){for(var d=a[h],f=d.groupElements,m=t[e+1],v=f.length,g=0;g<v;g++){var y=f[g],b=this.elementSize(y),x=p+this.alignStart(b[o],d.groupSize),w=new Zt;w[n+1]=x,w[n+2]=x+b[o],w[e+1]=m,w[e+2]=m+b[r],y.reflow(w),m+=b[r]+this.elementSpacing}p+=d.groupSize+this.groupSpacing}t[n+1]=u,t[n+2]=u+s,t[e+2]=t[e+1]+l}},e.prototype.alignStart=function(t,e){var n=0,r=this.options.align;return r===v||r===l?n=e-t:r===c&&(n=(e-t)/2),n},e.prototype.groupOptions=function(){for(var t=this.box,e=this.children,n=this.elementSizeField,r=this.groupSizeField,o=this.elementSpacing,i=this.groupSpacing,a=Dt(t[n]()),s=e.length,l=[],c=0,u=0,p=0,h=0,d=[],f=0;f<s;f++){var m=e[f];m.box||m.reflow(t);var v=this.elementSize(m);this.options.wrap&&Dt(u+o+v[n])>a&&(l.push({groupElements:d,groupSize:c,groupElementsSize:u}),h=Math.max(h,u),p+=i+c,c=0,u=0,d=[]),c=Math.max(c,v[r]),u>0&&(u+=o),u+=v[n],d.push(m)}return l.push({groupElements:d,groupSize:c,groupElementsSize:u}),{groups:l,groupsSize:p+=c,maxGroupElementsSize:h=Math.max(h,u)}},e.prototype.elementSize=function(t){return{width:t.box.width(),height:t.box.height()}},e.prototype.createVisual=function(){},e}(re);Rt(he,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});var de=he,fe=_.drawing.Text,me=function(t){function e(e,n){t.call(this,n),this.content=e,this.reflow(new Zt)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=e.size=_.drawing.util.measureText(this.content,{font:e.font});this.baseline=n.baseline,this.box=new Zt(t.x1,t.y1,t.x1+n.width,t.y1+n.height)},e.prototype.createVisual=function(){var t=this.options,e=t.font,n=t.color,r=t.opacity,o=t.cursor;this.visual=new fe(this.content,this.box.toRect().topLeft(),{font:e,fill:{color:n,opacity:r},cursor:o})},e}(re);Rt(me,{font:"12px sans-serif",color:s});var ve=me;function ge(t){var e=t.origin,n=t.bottomRight();return new Zt(e.x,e.y,n.x,n.y)}var ye=/\n/m,be=function(t){function e(e,n,r){t.call(this,n),this.content=e,this.data=r,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new Zt)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initContainer=function(){var t=this.options,e=String(this.content).split(ye),n=new de({vertical:!0,align:t.align,wrap:!1}),r=j({},t,{opacity:1,animation:null});this.container=n,this.append(n);for(var o=0;o<e.length;o++){var i=new ve(e[o].trim(),r);n.append(i)}},e.prototype.reflow=function(e){var n=this.options,r=n.visual;if(this.container.options.align=n.align,r&&!this._boxReflow){var o=e;o.hasSize()||(this._boxReflow=!0,this.reflow(o),this._boxReflow=!1,o=this.box);var i=this.visual=r(this.visualContext(o));i&&(o=ge(i.clippedBBox()||new _.geometry.Rect),i.options.zIndex=n.zIndex),this.box=this.contentBox=this.paddingBox=o}else if(t.prototype.reflow.call(this,e),n.rotation){var a=z(n.margin),s=this.box.unpad(a);this.targetBox=e,this.normalBox=s.clone(),(s=this.rotate()).translate(a.left-a.right,a.top-a.bottom),this.rotatedBox=s.clone(),s.pad(a)}},e.prototype.createVisual=function(){var t=this.options;if(this.visual=new _.drawing.Group({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()){var e=_.drawing.Path.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(e)}},e.prototype.renderVisual=function(){if(this.options.visible)if(this.options.visual){var e=this.visual;e&&!xt(e.options.noclip)&&(e.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else t.prototype.renderVisual.call(this)},e.prototype.visualContext=function(t){var e=this,n={text:this.content,rect:t.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){return e._boxReflow=!0,e.reflow(t),e._boxReflow=!1,e.getDefaultVisual()}};return this.data&&Object.assign(n,this.data),n},e.prototype.getDefaultVisual=function(){this.createVisual(),this.renderChildren();var t=this.visual;return delete this.visual,t},e.prototype.rotate=function(){var t=this.options;return this.box.rotate(t.rotation),this.align(this.targetBox,x,t.align),this.align(this.targetBox,w,t.vAlign),this.box},e.prototype.rotationTransform=function(){var t=this.options.rotation;if(!t)return null;var e=this.normalBox.center(),n=e.x,r=e.y,o=this.rotatedBox.center();return _.geometry.transform().translate(o.x-n,o.y-r).rotate(t,[n,r])},e}(ie),xe=function(t){function e(e){t.call(this,e),this.append(new be(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(e){t.prototype.reflow.call(this,e),this.box.snapTo(e,x)},e.buildTitle=function(t,n,r){var o,i=t;return"string"==typeof t&&(i={text:t}),(i=Object.assign({visible:!0},r,i))&&i.visible&&i.text&&(o=new e(i),n.append(o)),o},e}(re);Rt(xe,{color:s,position:g,align:c,margin:z(5),padding:z(5)});var we=xe,ke=function(t){function e(e,n,r,o,i){t.call(this,n,i),this.text=n,this.value=e,this.index=r,this.dataItem=o,this.reflow(new Zt)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.visualContext=function(e){var n=t.prototype.visualContext.call(this,e);return n.value=this.value,n.dataItem=this.dataItem,n.format=this.options.format,n.culture=this.options.culture,n},e.prototype.click=function(t,e){t.trigger("axisLabelClick",{element:Ct(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},e.prototype.rotate=function(){if(this.options.alignRotation!==c){var e=this.normalBox.toRect(),n=this.rotationTransform();this.box=ge(e.bbox(n.matrix()))}else t.prototype.rotate.call(this);return this.box},e.prototype.rotationTransform=function(){var e=this.options,n=e.rotation;if(!n)return null;if(e.alignRotation===c)return t.prototype.rotationTransform.call(this);var r=_.geometry.transform().rotate(n).matrix(),o=this.normalBox.toRect(),i=this.targetBox.toRect(),a=e.rotationOrigin||g,s=a===g||a===l?x:w,u=a===g||a===l?w:x,p=a===g||a===d?i.origin:i.bottomRight(),h=o.topLeft().transformCopy(r),f=o.topRight().transformCopy(r),m=o.bottomRight().transformCopy(r),v=o.bottomLeft().transformCopy(r),y=_.geometry.Rect.fromPoints(h,f,m,v),b={};b[u]=i.origin[u]-y.origin[u];var k,O,C=Math.abs(h[u]+b[u]-p[u]),S=Math.abs(f[u]+b[u]-p[u]);Dt(C,10)===Dt(S,10)?(k=h,O=f):S<C?(k=f,O=m):(k=h,O=v);var E=k[s]+(O[s]-k[s])/2;return b[s]=i.center()[s]-E,_.geometry.transform().translate(b.x,b.y).rotate(n)},e}(be);Rt(ke,{_autoReflow:!1});var Oe=ke,Ce=function(t){function e(e,n,r){t.call(this,n),this.fields=e,this.chartService=r,this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hide=function(){this.options.visible=!1},e.prototype.show=function(){this.options.visible=!0},e.prototype.render=function(){var t=this,e=this.options;if(e.visible){var n,r,o=e.label,i=e.icon,a=new Zt,s=function(){return t},l=i.size,c=this.fields.text;if(xt(o)&&o.visible){var p=rt(o);p?c=p(this.fields):o.format&&(c=this.chartService.format.auto(o.format,c)),o.color||(o.color="inside"===o.position?"#fff":i.background),this.label=new be(c,j({},o)),this.label.aliasFor=s,"inside"!==o.position||xt(l)||(i.type===u?l=Math.max(this.label.box.width(),this.label.box.height()):(n=this.label.box.width(),r=this.label.box.height()),a.wrap(this.label.box))}i.width=n||l||7,i.height=r||l||7;var h=new se(j({},i));h.aliasFor=s,this.marker=h,this.append(h),this.label&&this.append(this.label),h.reflow(new Zt),this.wrapperBox=a.wrap(h.box)}},e.prototype.reflow=function(t){var e,n,r,o=this.options,i=this.label,a=this.marker,s=this.wrapperBox,c=t.center(),u=o.line.length,p=o.position;o.visible&&(pt(p,[d,v])?p===d?(r=s.alignTo(t,p).translate(-u,t.center().y-s.center().y),o.line.visible&&(e=[t.x1,c.y],this.linePoints=[e,[r.x2,c.y]],n=r.clone().wrapPoint(e))):(r=s.alignTo(t,p).translate(u,t.center().y-s.center().y),o.line.visible&&(e=[t.x2,c.y],this.linePoints=[e,[r.x1,c.y]],n=r.clone().wrapPoint(e))):p===l?(r=s.alignTo(t,p).translate(t.center().x-s.center().x,u),o.line.visible&&(e=[c.x,t.y2],this.linePoints=[e,[c.x,r.y1]],n=r.clone().wrapPoint(e))):(r=s.alignTo(t,p).translate(t.center().x-s.center().x,-u),o.line.visible&&(e=[c.x,t.y1],this.linePoints=[e,[c.x,r.y2]],n=r.clone().wrapPoint(e))),a&&a.reflow(r),i&&(i.reflow(r),a&&("outside"===o.label.position&&i.box.alignTo(a.box,p),i.reflow(i.box))),this.contentBox=r,this.targetBox=t,this.box=n||r)},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()},e.prototype.renderVisual=function(){var e=this,n=this.options,r=n.visual;n.visible&&r?(this.visual=r(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:n.background,border:n.background,icon:n.icon,label:n.label,line:n.line,position:n.position,visible:n.visible},createVisual:function(){e.createVisual(),e.renderChildren();var t=e.visual;return delete e.visual,t}})),this.addVisual()):t.prototype.renderVisual.call(this)},e.prototype.createLine=function(){var t=this.options.line;if(this.linePoints){var e=_.drawing.Path.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});S(e),this.visual.append(e)}},e.prototype.click=function(t,e){var n=this.eventArgs(e);t.trigger("noteClick",n)||e.preventDefault()},e.prototype.over=function(t,e){var n=this.eventArgs(e);t.trigger("noteHover",n)||e.preventDefault()},e.prototype.out=function(t,e){var n=this.eventArgs(e);t.trigger("noteLeave",n)},e.prototype.eventArgs=function(t){var e=this.options;return Object.assign(this.fields,{element:Ct(t),text:xt(e.label)?e.label.text:"",visual:this.visual})},e}(ie);Rt(Ce,{icon:{visible:!0,type:u},label:{position:"inside",visible:!0,align:c,vAlign:c},line:{visible:!0},visible:!0,position:g,zIndex:2});var _e=Ce;function Se(t,e){var n=t.tickX,r=t.tickY,o=t.position,i=new _.drawing.Path({stroke:{width:e.width,color:e.color}});return t.vertical?i.moveTo(n,o).lineTo(n+e.size,o):i.moveTo(o,r).lineTo(o,r+e.size),S(i),i}function Ee(t,e){var n=t.lineStart,r=t.lineEnd,o=t.position,i=new _.drawing.Path({stroke:{width:e.width,color:e.color,dashType:e.dashType}});return t.vertical?i.moveTo(n,o).lineTo(r,o):i.moveTo(o,n).lineTo(o,r),S(i),i}var Ie=function(t){function e(e,n){void 0===n&&(n=new Z),t.call(this,e),this.chartService=n,this.options.visible||(this.options=j({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=j({},{color:this.options.line.color,width:this.options.line.width,visible:"none"!==this.options.minorTickType},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=j({},{color:this.options.line.color,width:this.options.line.width,visible:"none"!==this.options.majorTickType},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){},e.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.labelsCount()}},e.prototype.normalizeLabelRotation=function(t){var e=t.rotation;M(e)&&(t.alignRotation=e.align,t.rotation=e.angle)},e.prototype.createLabels=function(){var t=this.options,e=t.vertical?v:c,n=j({},t.labels,{align:e,zIndex:t.zIndex}),r=Math.max(1,n.step);if(this.clearLabels(),n.visible){this.normalizeLabelRotation(n),"auto"===n.rotation&&(n.rotation=0,t.autoRotateLabels=!0);for(var o=this.labelsRange(),i=o.min;i<o.max;i+=r){var a={index:i,count:o.max},s=this.createAxisLabel(i,n,a);s&&(this.append(s),this.labels.push(s))}}},e.prototype.clearLabels=function(){this.children=st(this.children,(function(t){return!(t instanceof Oe)})),this.labels=[]},e.prototype.clearTitle=function(){var t=this;this.title&&(this.children=st(this.children,(function(e){return e!==t.title})),this.title=void 0)},e.prototype.clear=function(){this.clearLabels(),this.clearTitle()},e.prototype.lineBox=function(){var t=this.options,e=this.box,n=t.vertical,r=t.labels.mirror,o=r?e.x1:e.x2,i=r?e.y2:e.y1,a=t.line.width||0;return n?new Zt(o,e.y1,o,e.y2-a):new Zt(e.x1,i,e.x2-a,i)},e.prototype.createTitle=function(){var t=this.options,e=j({rotation:t.vertical?-90:0,text:"",zIndex:1,visualSize:!0},t.title);if(e.visible&&e.text){var n=new be(e.text,e);this.append(n),this.title=n}},e.prototype.createNotes=function(){var t=this.options,e=t.notes,n=e.data||[];this.notes=[];for(var r=0;r<n.length;r++){var o=j({},e,n[r]);o.value=this.parseNoteValue(o.value);var i=new _e({value:o.value,text:o.label.text,dataItem:o},o,this.chartService);i.options.visible&&(xt(i.options.position)?t.vertical&&!pt(i.options.position,[d,v])?i.options.position=t.reverse?d:v:t.vertical||pt(i.options.position,[g,l])||(i.options.position=t.reverse?l:g):t.vertical?i.options.position=t.reverse?d:v:i.options.position=t.reverse?l:g,this.append(i),this.notes.push(i))}},e.prototype.parseNoteValue=function(t){return t},e.prototype.renderVisual=function(){t.prototype.renderVisual.call(this),this.createPlotBands()},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.createBackground(),this.createLine()},e.prototype.gridLinesVisual=function(){var t=this._gridLines;return t||(t=this._gridLines=new _.drawing.Group({zIndex:-2}),this.appendVisual(this._gridLines)),t},e.prototype.createTicks=function(t){var e=this.options,n=this.lineBox(),r=e.labels.mirror,o=e.majorTicks.visible?e.majorUnit:0,i={vertical:e.vertical};function a(e,o,a){var s=e.length,l=Math.max(1,o.step);if(o.visible)for(var c=o.skip;c<s;c+=l)xt(a)&&c%a==0||(i.tickX=r?n.x2:n.x2-o.size,i.tickY=r?n.y1-o.size:n.y1,i.position=e[c],t.append(Se(i,o)))}a(this.getMajorTickPositions(),e.majorTicks),a(this.getMinorTickPositions(),e.minorTicks,o/e.minorUnit)},e.prototype.createLine=function(){var t=this.options,e=t.line,n=this.lineBox();if(e.width>0&&e.visible){var r=new _.drawing.Path({stroke:{width:e.width,color:e.color,dashType:e.dashType}});r.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),t._alignLines&&S(r);var o=this._lineGroup=new _.drawing.Group;o.append(r),this.visual.append(o),this.createTicks(o)}},e.prototype.getActualTickSize=function(){var t=this.options,e=0;return t.majorTicks.visible&&t.minorTicks.visible?e=Math.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?e=t.majorTicks.size:t.minorTicks.visible&&(e=t.minorTicks.size),e},e.prototype.createBackground=function(){var t=this.options,e=this.box,n=t.background;n&&(this._backgroundPath=_.drawing.Path.fromRect(e.toRect(),{fill:{color:n},stroke:null}),this.visual.append(this._backgroundPath))},e.prototype.createPlotBands=function(){var t=this,e=this.options,n=e.plotBands||[],r=e.vertical,o=this.plotArea;if(0!==n.length){for(var i=this._plotbandGroup=new _.drawing.Group({zIndex:-1}),a=st(this.pane.axes,(function(e){return e.options.vertical!==t.options.vertical}))[0],s=0;s<n.length;s++){var l=n[s],c=void 0,u=void 0,p=l.label,h=void 0;if(r?(c=(a||o.axisX).lineBox(),u=t.getSlot(l.from,l.to,!0)):(c=t.getSlot(l.from,l.to,!0),u=(a||o.axisY).lineBox()),p&&(p.vAlign=p.position||d,h=t.createPlotBandLabel(p,l,new Zt(c.x1,u.y1,c.x2,u.y2))),0!==c.width()&&0!==u.height()){var f=new _.geometry.Rect([c.x1,u.y1],[c.width(),u.height()]),m=_.drawing.Path.fromRect(f,{fill:{color:l.color,opacity:l.opacity},stroke:null});i.append(m),h&&i.append(h)}}this.appendVisual(i)}},e.prototype.createPlotBandLabel=function(t,e,n){if(!1===t.visible)return null;var r,o=t.text;if(xt(t)&&t.visible){var i=rt(t);i?o=i({text:o,item:e}):t.format&&(o=this.chartService.format.auto(t.format,o)),t.color||(t.color=this.options.labels.color)}return(r=new be(o,t)).reflow(n),r.renderVisual(),r.visual},e.prototype.createGridLines=function(t){var e=this.options,n=e.minorGridLines,r=e.majorGridLines,o=e.minorUnit,i=e.vertical,a=t.options.line.visible,s=r.visible?e.majorUnit:0,l=t.lineBox(),c=l[i?"y1":"x1"],u={lineStart:l[i?"x1":"y1"],lineEnd:l[i?"x2":"y2"],vertical:i},p=[],h=this.gridLinesVisual();function d(t,e,n){var r=t.length,o=Math.max(1,e.step);if(e.visible)for(var i=e.skip;i<r;i+=o){var s=Dt(t[i]);pt(s,p)||i%n==0||a&&c===s||(u.position=s,h.append(Ee(u,e)),p.push(s))}}return d(this.getMajorTickPositions(),r),d(this.getMinorTickPositions(),n,s/o),h.children},e.prototype.reflow=function(t){for(var e=this.options,n=this.labels,r=this.title,o=e.vertical,i=n.length,a=o?"width":"height",s=r?r.box[a]():0,l=this.getActualTickSize()+e.margin+s,c=((this.getRoot()||{}).box||t)[a](),u=0,p=0;p<i;p++){var h=n[p].box[a]();h+l<=c&&(u=Math.max(u,h))}this.box=o?new Zt(t.x1,t.y1,t.x1+u+l,t.y2):new Zt(t.x1,t.y1,t.x2,t.y1+u+l),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()},e.prototype.getLabelsTickPositions=function(){return this.getMajorTickPositions()},e.prototype.labelTickIndex=function(t){return t.index},e.prototype.arrangeLabels=function(){for(var t=this.options,e=this.labels,n=this.labelsBetweenTicks(),r=t.vertical,o=t.labels.mirror,i=this.getLabelsTickPositions(),a=0;a<e.length;a++){var s=e[a],l=this.labelTickIndex(s),c=r?s.box.height():s.box.width(),u=i[l],p=i[l+1],h=void 0,d=void 0;if(r){if(n)h=u+(p-u)/2-c/2;else h=u-c/2;d=h}else n?(h=u,d=p):d=(h=u-c/2)+c;this.positionLabel(s,o,h,d)}},e.prototype.positionLabel=function(t,e,n,r){void 0===r&&(r=n);var o,i=this.options,a=i.vertical,s=this.lineBox(),c=this.getActualTickSize()+i.margin;if(a){var u=s.x2;e?(u+=c,t.options.rotationOrigin=d):(u-=c+t.box.width(),t.options.rotationOrigin=v),o=t.box.move(u,n)}else{var p=s.y1;e?(p-=c+t.box.height(),t.options.rotationOrigin=l):(p+=c,t.options.rotationOrigin=g),o=new Zt(n,p,r,p+t.box.height())}t.reflow(o)},e.prototype.autoRotateLabelAngle=function(t,e){return t.width()<e?0:t.height()>e?-90:-45},e.prototype.autoRotateLabels=function(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;for(var t=this.getMajorTickPositions(),e=this.labels,n=Math.min(e.length,t.length-1),r=0,o=0;o<n;o++){var i=Math.abs(t[o+1]-t[o]),a=e[o].box,s=this.autoRotateLabelAngle(a,i);if(0!==s&&(r=s),-90===r)break}if(0!==r){for(var l=0;l<e.length;l++)e[l].options.rotation=r,e[l].reflow(new Zt);return!0}},e.prototype.arrangeTitle=function(){var t=this.options,e=this.title,n=t.labels.mirror,r=t.vertical;e&&(r?(e.options.align=n?v:d,e.options.vAlign=e.options.position):(e.options.align=e.options.position,e.options.vAlign=n?g:l),e.reflow(this.box))},e.prototype.arrangeNotes=function(){for(var t=0;t<this.notes.length;t++){var e=this.notes[t],n=e.options.value,r=void 0;xt(n)?(this.shouldRenderNote(n)?e.show():e.hide(),r=this.noteSlot(n)):e.hide(),e.reflow(r||this.lineBox())}},e.prototype.noteSlot=function(t){return this.getSlot(t)},e.prototype.alignTo=function(t){var e=t.lineBox(),n=this.options.vertical,r=n?w:x;this.box.snapTo(e,r),n?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[r+1]-=this.lineBox()[r+1]-e[r+1],this.box[r+2]-=this.lineBox()[r+2]-e[r+2]},e.prototype.axisLabelText=function(t,e,n){var r,o=this,i=rt(e),a=function(){return e.format?o.chartService.format.localeAuto(e.format,[t],e.culture):t};i?r=i(Object.assign({},n,{get text(){return a()},value:t,format:e.format,culture:e.culture})):r=a();return r},e.prototype.slot=function(t,e,n){var r=this.getSlot(t,e,n);if(r)return r.toRect()},e.prototype.contentBox=function(){var t=this.box.clone(),e=this.labels;if(e.length){var n=this.options.vertical?w:x;if(this.chartService.isPannable(n)){var r=this.maxLabelOffset();t[n+1]-=r.start,t[n+2]+=r.end}else{e[0].options.visible&&t.wrap(e[0].box);var o=e[e.length-1];o.options.visible&&t.wrap(o.box)}}return t},e.prototype.maxLabelOffset=function(){for(var t=this.options,e=t.vertical,n=t.reverse,r=this.labelsBetweenTicks(),o=this.getLabelsTickPositions(),i=e?w:x,a=this.labels,s=n?1:0,l=n?0:1,c=0,u=0,p=0;p<a.length;p++){var h=a[p],d=this.labelTickIndex(h),f=void 0,m=void 0;r?(f=o[d+s],m=o[d+l]):f=m=o[d],c=Math.max(c,f-h.box[i+1]),u=Math.max(u,h.box[i+2]-m)}return{start:c,end:u}},e.prototype.limitRange=function(t,e,n,r,o){var i=this.options;if(t<n&&o<0&&(!xt(i.min)||i.min<=n)||r<e&&o>0&&(!xt(i.max)||r<=i.max))return null;if(e<n&&o>0||r<t&&o<0)return{min:t,max:e};var a=e-t,s=t,l=e;return t<n&&o<0?(s=Et(t,n,r),l=Et(t+a,n+a,r)):e>r&&o>0&&(l=Et(e,n,r),s=Et(e-a,n,r-a)),{min:s,max:l}},e.prototype.valueRange=function(){return{min:this.seriesMin,max:this.seriesMax}},e.prototype.labelsBetweenTicks=function(){return!this.options.justified},e.prototype.prepareUserOptions=function(){},e}(re);Rt(Ie,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:s,visible:!0},title:{visible:!0,position:c},majorTicks:{align:"outside",size:4,skip:0,step:1},minorTicks:{align:"outside",size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:"outside",minorTickType:"none",majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:s,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});var Te=Ie,De="days",Pe="years",Ae={years:31536e6,months:26784e5,weeks:6048e5,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1};function je(t,e){return t.getTime()-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset())}function Me(t,e){return new Date(t.getTime()+e)}function Re(t){var e;return t instanceof Date?e=t:t&&(e=new Date(t)),e}function Ne(t,e){return 0===e&&23===t.getHours()&&(t.setHours(t.getHours()+2),!0)}function Fe(t,e,n,r){var o=t;if(t){var i=Re(t),a=i.getHours();n===Pe?Ne(o=new Date(i.getFullYear()+e,0,1),0):"months"===n?Ne(o=new Date(i.getFullYear(),i.getMonth()+e,1),a):"weeks"===n?Ne(o=Fe(function(t,e){void 0===e&&(e=0);var n=0,r=t.getDay();if(!isNaN(r))for(;r!==e;)0===r?r=6:r--,n++;return Me(t,864e5*-n)}(i,r),7*e,De),a):n===De?Ne(o=new Date(i.getFullYear(),i.getMonth(),i.getDate()+e),a):"hours"===n?o=function(t,e){var n=new Date(t);n.setMinutes(0,0,0);var r=6e4*(t.getTimezoneOffset()-n.getTimezoneOffset());return Me(n,r+36e5*e)}(i,e):"minutes"===n?(o=Me(i,6e4*e)).getSeconds()>0&&o.setSeconds(0):"seconds"===n?o=Me(i,1e3*e):"milliseconds"===n&&(o=Me(i,e)),"milliseconds"!==n&&o.getMilliseconds()>0&&o.setMilliseconds(0)}return o}function Le(t,e,n){return Fe(Re(t),0,e,n)}function ze(t,e,n){var r=Re(t);return r&&Le(r,e,n).getTime()===r.getTime()?r:Fe(r,1,e,n)}function Be(t,e){return t&&e?t.getTime()-e.getTime():-1}function Ve(t,e){return t.getTime()-e}function He(t){if(k(t)){for(var e=[],n=0;n<t.length;n++)e.push(He(t[n]));return e}if(t)return Re(t).getTime()}function Ue(t,e){return t&&e?He(t)===He(e):t===e}function We(t,e,n){return je(t,e)/Ae[n]}function qe(t,e,n,r){var o=Re(t),i=Re(e);return("months"===n?o.getMonth()-i.getMonth()+12*(o.getFullYear()-i.getFullYear())+We(o,new Date(o.getFullYear(),o.getMonth()),De)/new Date(o.getFullYear(),o.getMonth()+1,0).getDate():n===Pe?o.getFullYear()-i.getFullYear()+qe(o,new Date(o.getFullYear(),0),"months",1)/12:n===De||"weeks"===n?We(o,i,n):Ve(o,e)/Ae[n])/r}function Ke(t,e,n){return n===Pe?e.getFullYear()-t.getFullYear():"months"===n?12*Ke(t,e,Pe)+e.getMonth()-t.getMonth():n===De?Math.floor(Ve(e,t)/864e5):Math.floor(Ve(e,t)/Ae[n])}function Ge(t,e){return T(e)&&t.parseDate(e)||Re(e)}function Ye(t,e){if(k(e)){for(var n=[],r=0;r<e.length;r++)n.push(Ge(t,e[r]));return n}return Ge(t,e)}function Xe(t,e){return I(t.weekStartDay)?t.weekStartDay:e&&e.firstDay?e.firstDay():0}var $e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this._ticks={}},e.prototype.categoriesHash=function(){return""},e.prototype.clone=function(){var t=new e(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return t.createLabels(),t},e.prototype.initUserOptions=function(t){var e=t.categories||[],n=xt(t.min),r=xt(t.max);if(t.srcCategories=t.categories=e,(n||r)&&e.length){var o,i=n?Math.floor(t.min):0;o=r?t.justified?Math.floor(t.max)+1:Math.ceil(t.max):e.length,t.categories=t.categories.slice(i,o)}return t},e.prototype.rangeIndices=function(){var t=this.options,e=t.categories.length||1;return{min:I(t.min)?t.min%1:0,max:I(t.max)&&t.max%1!=0&&t.max<this.totalRange().max?e-(1-t.max%1):e-(t.justified?1:0)}},e.prototype.totalRangeIndices=function(t){var e,n=this.options,r=I(n.min)?n.min:0;if(e=I(n.max)?n.max:I(n.min)?r+n.categories.length:this.totalRange().max||1,t){var o=this.totalRange();r=Et(r,0,o.max),e=Et(e,0,o.max)}return{min:r,max:e}},e.prototype.range=function(){var t=this.options;return{min:I(t.min)?t.min:0,max:I(t.max)?t.max:this.totalRange().max}},e.prototype.roundedRange=function(){return this.range()},e.prototype.totalRange=function(){var t=this.options;return{min:0,max:Math.max(this._seriesMax||0,t.srcCategories.length)-(t.justified?1:0)}},e.prototype.scaleOptions=function(){var t=this.rangeIndices(),e=t.min,n=t.max,r=this.lineBox();return{scale:(this.options.vertical?r.height():r.width())/(n-e||1)*(this.options.reverse?-1:1),box:r,min:e,max:n}},e.prototype.arrangeLabels=function(){t.prototype.arrangeLabels.call(this),this.hideOutOfRangeLabels()},e.prototype.hideOutOfRangeLabels=function(){var t=this.box,e=this.labels;if(e.length>0){var n=this.options.vertical?w:x,r=t[n+1],o=t[n+2],i=e[0],a=St(e);(i.box[n+1]>o||i.box[n+2]<r)&&(i.options.visible=!1),(a.box[n+1]>o||a.box[n+2]<r)&&(a.options.visible=!1)}},e.prototype.getMajorTickPositions=function(){return this.getTicks().majorTicks},e.prototype.getMinorTickPositions=function(){return this.getTicks().minorTicks},e.prototype.getLabelsTickPositions=function(){return this.getTicks().labelTicks},e.prototype.tickIndices=function(t){for(var e=this.rangeIndices(),n=e.min,r=e.max,o=Math.ceil(r),i=Math.floor(n),a=[];i<=o;)a.push(i),i+=t;return a},e.prototype.getTickPositions=function(t){for(var e=this.options,n=e.vertical,r=e.reverse,o=this.scaleOptions(),i=o.scale,a=o.box,s=o.min,l=a[(n?w:x)+(r?2:1)],c=this.tickIndices(t),u=[],p=0;p<c.length;p++)u.push(l+Dt(i*(c[p]-s),3));return u},e.prototype.getTicks=function(){var t=this.options,e=this._ticks,n=this.rangeIndices(),r=this.lineBox(),o=r.getHash()+n.min+","+n.max+t.reverse+t.justified;if(e._hash!==o){var i=t.minorTicks.visible||t.minorGridLines.visible;e._hash=o,e.labelTicks=this.getTickPositions(1),e.majorTicks=this.filterOutOfRangePositions(e.labelTicks,r),e.minorTicks=i?this.filterOutOfRangePositions(this.getTickPositions(.5),r):[]}return e},e.prototype.filterOutOfRangePositions=function(t,e){if(!t.length)return t;for(var n=this.options.vertical?w:x,r=function(t){return e[n+1]<=t&&t<=e[n+2]},o=t.length-1,i=0;!r(t[i])&&i<=o;)i++;for(var a=o;!r(t[a])&&a>=0;)a--;return t.slice(i,a+1)},e.prototype.getSlot=function(t,e,n){var r=this.options,o=r.reverse,i=r.justified,a=r.vertical,s=this.scaleOptions(),l=s.scale,c=s.box,u=s.min,p=a?w:x,h=c[p+(o?2:1)],d=c.clone(),f=!xt(e),m=At(t,0),v=At(e,m);v=Math.max(v-1,m);var g=h+(m-u)*l,y=h+((v=Math.max(m,v))+1-u)*l;return f&&i&&(y=g),n&&(g=Et(g,c[p+1],c[p+2]),y=Et(y,c[p+1],c[p+2])),d[p+1]=o?y:g,d[p+2]=o?g:y,d},e.prototype.limitSlot=function(t){var e=this.options.vertical?w:x,n=this.lineBox(),r=t.clone();return r[e+1]=Et(t[e+1],n[e+1],n[e+2]),r[e+2]=Et(t[e+2],n[e+1],n[e+2]),r},e.prototype.slot=function(e,n,r){var o=Math.floor(this.options.min||0),i=e,a=n;return"string"==typeof i?i=this.categoryIndex(i):I(i)&&(i-=o),"string"==typeof a?a=this.categoryIndex(a):I(a)&&(a-=o),t.prototype.slot.call(this,i,a,r)},e.prototype.pointCategoryIndex=function(t){var e=this.options,n=e.reverse,r=e.justified,o=e.vertical?w:x,i=this.scaleOptions(),a=i.scale,s=i.box,l=i.min,c=i.max,u=n?c:l,p=s[o+1],h=s[o+2],d=t[o];if(d<p||d>h)return null;var f=u+(d-p)/a,m=f%1;return r?f=Math.round(f):0===m&&f>0&&f--,Math.floor(f)},e.prototype.getCategory=function(t){var e=this.pointCategoryIndex(t);return null===e?null:this.options.categories[e]},e.prototype.categoryIndex=function(t){return this.totalIndex(t)-Math.floor(this.options.min||0)},e.prototype.categoryAt=function(t,e){var n=this.options;return(e?n.srcCategories:n.categories)[t]},e.prototype.categoriesCount=function(){return(this.options.categories||[]).length},e.prototype.translateRange=function(t){var e=this.options,n=this.lineBox(),r=e.vertical?n.height():n.width(),o=e.categories.length,i=Dt(t/(r/o),10);return{min:i,max:o+i}},e.prototype.zoomRange=function(t){var e=this.totalRangeIndices(),n=this.totalRange(),r=n.min,o=n.max,i=Et(e.min+t,r,o),a=Et(e.max-t,r,o);if(a-i>0)return{min:i,max:a}},e.prototype.scaleRange=function(t){var e=this.options.categories.length,n=t*e;return{min:-n,max:e+n}},e.prototype.labelsCount=function(){var t=this.labelsRange();return t.max-t.min},e.prototype.labelsRange=function(){var t=this.options,e=t.justified,n=t.labels,r=this.totalRangeIndices(!0),o=r.min,i=r.max,a=Math.floor(o);return e?(o=Math.ceil(o),i=Math.floor(i)):(o=Math.floor(o),i=Math.ceil(i)),{min:(o>n.skip?n.skip+n.step*Math.ceil((o-n.skip)/n.step):n.skip)-a,max:(t.categories.length?i+(e?1:0):0)-a}},e.prototype.createAxisLabel=function(t,e,n){var r=this.options,o=r.dataItems?r.dataItems[t]:null,i=At(r.categories[t],"");n.dataItem=o;var a=this.axisLabelText(i,e,n);return new Oe(i,a,t,o,e)},e.prototype.shouldRenderNote=function(t){var e=this.totalRangeIndices();return Math.floor(e.min)<=t&&t<=Math.ceil(e.max)},e.prototype.noteSlot=function(t){var e=this.options,n=t-Math.floor(e.min||0);return this.getSlot(n)},e.prototype.arrangeNotes=function(){t.prototype.arrangeNotes.call(this),this.hideOutOfRangeNotes()},e.prototype.hideOutOfRangeNotes=function(){var t=this.notes,e=this.box;if(t&&t.length)for(var n=this.options.vertical?w:x,r=e[n+1],o=e[n+2],i=0;i<t.length;i++){var a=t[i];a.box&&(o<a.box[n+1]||a.box[n+2]<r)&&a.hide()}},e.prototype.pan=function(t){var e=this.totalRangeIndices(!0),n=this.scaleOptions().scale,r=Dt(t/n,10),o=this.totalRange(),i=e.min+r,a=e.max+r;return this.limitRange(i,a,0,o.max,r)},e.prototype.pointsRange=function(t,e){var n=this.options,r=n.reverse,o=n.vertical?w:x,i=this.totalRangeIndices(!0),a=this.scaleOptions(),s=a.scale,l=a.box[o+(r?2:1)],c=t[o]-l,u=e[o]-l,p=i.min+c/s,h=i.min+u/s,d=Math.min(p,h),f=Math.max(p,h);if(f-d>=.01)return{min:d,max:f}},e.prototype.valueRange=function(){return this.range()},e.prototype.totalIndex=function(t){var e=this.options;return this._categoriesMap?this._categoriesMap.get(t):function(t,e){if(t instanceof Date){for(var n=e.length,r=0;r<n;r++)if(Ue(e[r],t))return r;return-1}return e.indexOf(t)}(t,e.srcCategories)},e.prototype.currentRangeIndices=function(){var t=this.options,e=0;return I(t.min)&&(e=Math.floor(t.min)),{min:e,max:I(t.max)?t.justified?Math.floor(t.max):Math.ceil(t.max)-1:this.totalCount()-1}},e.prototype.mapCategories=function(){if(!this._categoriesMap)for(var t=this._categoriesMap=new ut,e=this.options.srcCategories,n=0;n<e.length;n++)t.set(e[n],n)},e.prototype.totalCount=function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)},e}(Te);Rt($e,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:s},labels:{zIndex:1},justified:!1,_deferLabels:!0});var Ze=$e,Je={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Qe=["milliseconds","seconds","minutes","hours",De,"weeks","months",Pe];function tn(t){var e=t._range;return e||((e=t._range=Nt(t)).min=Re(e.min),e.max=Re(e.max)),e}var en=function(t){this.options=t};en.prototype.displayIndices=function(){return{min:0,max:1}},en.prototype.displayRange=function(){return{}},en.prototype.total=function(){return{}},en.prototype.valueRange=function(){return{}},en.prototype.valueIndex=function(){return-1},en.prototype.values=function(){return[]},en.prototype.totalIndex=function(){return-1},en.prototype.valuesCount=function(){return 0},en.prototype.totalCount=function(){return 0},en.prototype.dateAt=function(){return null};var nn=function(t,e,n){this.options=n,n.baseUnitStep=n.baseUnitStep||1;var r=n.roundToBaseUnit,o=n.justified;this.start=Fe(t,0,n.baseUnit,n.weekStartDay);var i=this.roundToTotalStep(e),a=!o&&Ue(e,i)&&!n.justifyEnd;this.end=this.roundToTotalStep(e,!o,a?1:0);var s=n.min||t;this.valueStart=this.roundToTotalStep(s),this.displayStart=r?this.valueStart:s;var l=n.max;if(l){var c=!o&&Ue(l,this.roundToTotalStep(l))?-1:0;this.valueEnd=this.roundToTotalStep(l,!1,c),this.displayEnd=r?this.roundToTotalStep(l,!o):n.max}else this.valueEnd=i,this.displayEnd=r||a?this.end:e;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))};function rn(t,e,n){for(var r,o,i,a=tn(t.categories),s=(t.max||a.max)-(t.min||a.min),l=t.autoBaseUnitSteps,c=t.maxDateGroups,u="fit"===t.baseUnit,p=e?Qe.indexOf(e):0,h=u?Qe[p++]:t.baseUnit,d=s/Ae[h],f=d;!o||d>=c;){r=r||l[h].slice(0);do{i=r.shift()}while(i&&e===h&&i<n);if(i)d=f/(o=i);else{if(h===St(Qe)){o=Math.ceil(f/c);break}if(!u){d>c&&(o=Math.ceil(f/c));break}h=Qe[p++]||St(Qe),f=s/Ae[h],r=null}}t.baseUnitStep=o,t.baseUnit=h}function on(t){var e=(t.baseUnit||"").toLowerCase();return"fit"!==e&&!pt(e,Qe)&&function(t){for(var e,n,r=t.categories,o=xt(r)?r.length:0,i=f,a=0;a<o;a++){var s=r[a];if(s&&e){var l=je(s,e);l>0&&(n=(i=Math.min(i,l))>=31536e6?Pe:i>=24192e5?"months":i>=6048e5?"weeks":i>=864e5?De:i>=36e5?"hours":i>=6e4?"minutes":"seconds")}e=s}t.baseUnit=n||De}(t),"fit"!==e&&"auto"!==t.baseUnitStep||rn(t),t}nn.prototype.displayRange=function(){return{min:this.displayStart,max:this.displayEnd}},nn.prototype.displayIndices=function(){if(!this._indices){var t=this.options,e=t.baseUnit,n=t.baseUnitStep,r=qe(this.displayStart,this.valueStart,e,n),o=qe(this.displayEnd,this.valueStart,e,n);this._indices={min:r,max:o}}return this._indices},nn.prototype.total=function(){return{min:this.start,max:this.end}},nn.prototype.totalCount=function(){return this.totalIndex(this.end)+(this.options.justified?1:0)},nn.prototype.valueRange=function(){return{min:this.valueStart,max:this.valueEnd}},nn.prototype.valueIndex=function(t){var e=this.options;return Math.floor(qe(t,this.valueStart,e.baseUnit,e.baseUnitStep))},nn.prototype.totalIndex=function(t){var e=this.options;return Math.floor(qe(t,this.start,e.baseUnit,e.baseUnitStep))},nn.prototype.dateIndex=function(t){var e=this.options;return qe(t,this.valueStart,e.baseUnit,e.baseUnitStep)},nn.prototype.valuesCount=function(){return this.valueIndex(this.valueEnd)+1},nn.prototype.values=function(){var t=this._values;if(!t){var e=this.options,n=this.valueRange();this._values=t=[];for(var r=n.min;r<=n.max;)t.push(r),r=Fe(r,e.baseUnitStep,e.baseUnit,e.weekStartDay)}return t},nn.prototype.dateAt=function(t,e){var n=this.options;return Fe(e?this.start:this.valueStart,n.baseUnitStep*t,n.baseUnit,n.weekStartDay)},nn.prototype.roundToTotalStep=function(t,e,n){var r=this.options,o=r.baseUnit,i=r.baseUnitStep,a=r.weekStartDay,s=this.start,l=qe(t,s,o,i),c=e?Math.ceil(l):Math.floor(l);return n&&(c+=n),Fe(s,c*i,o,a)};var an=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(Object.assign({},this.options),this.chartService);return t.createLabels(),t},e.prototype.categoriesHash=function(){var t=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+t},e.prototype.initUserOptions=function(t){return t},e.prototype.initFields=function(){t.prototype.initFields.call(this);var e=this.chartService,n=e.intl,r=this.options,o=r.categories||[];if(o._parsed||((o=Ye(n,o))._parsed=!0),r=j({roundToBaseUnit:!0},r,{categories:o,min:Ge(n,r.min),max:Ge(n,r.max),weekStartDay:Xe(r,n)}),e.panning&&e.isPannable(r.vertical?w:x)&&(r.roundToBaseUnit=!1),r.userSetBaseUnit=r.userSetBaseUnit||r.baseUnit,r.userSetBaseUnitStep=r.userSetBaseUnitStep||r.baseUnitStep,this.options=r,r.srcCategories=o,o.length>0){var i=tn(o),a=r.maxDivisions;if(this.dataRange=new nn(i.min,i.max,on(r)),a){var s=this.dataRange.displayRange(),l=Object.assign({},r,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:s.min,max:s.max,maxDateGroups:a}),c=this.dataRange.options;rn(l,c.baseUnit,c.baseUnitStep),this.divisionRange=new nn(i.min,i.max,l)}else this.divisionRange=this.dataRange}else r.baseUnit=r.baseUnit||De,this.dataRange=this.divisionRange=new en(r);this.rangeLabels=[]},e.prototype.tickIndices=function(e){var n=this.dataRange,r=this.divisionRange,o=r.valuesCount();if(!this.options.maxDivisions||!o)return t.prototype.tickIndices.call(this,e);var i=[],a=r.values(),s=0;this.options.justified||(a=a.concat(r.dateAt(o)),s=.5);for(var l=0;l<a.length;l++)if(i.push(n.dateIndex(a[l])+s),1!==e&&l>=1){var c=i.length-1;i.splice(l,0,i[c-1]+(i[c]-i[c-1])*e)}return i},e.prototype.shouldRenderNote=function(t){var e=this.range(),n=this.options.categories||[];return Be(t,e.min)>=0&&Be(t,e.max)<=0&&n.length},e.prototype.parseNoteValue=function(t){return Ge(this.chartService.intl,t)},e.prototype.noteSlot=function(t){return this.getSlot(t)},e.prototype.translateRange=function(t){var e=this.options,n=e.baseUnit,r=e.weekStartDay,o=e.vertical,i=this.lineBox(),a=o?i.height():i.width(),s=this.range(),l=a/(s.max-s.min),c=Dt(t/l,10);if(s.min&&s.max){var u=Me(e.min||s.min,c),p=Me(e.max||s.max,c);s={min:Fe(u,0,n,r),max:Fe(p,0,n,r)}}return s},e.prototype.scaleRange=function(t){var e=Math.abs(t),n=this.range(),r=n.min,o=n.max;if(r&&o){for(;e--;){var i=Ve(r,o),a=Math.round(.1*i);t<0?(r=Me(r,a),o=Me(o,-a)):(r=Me(r,-a),o=Me(o,a))}n={min:r,max:o}}return n},e.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}},e.prototype.pan=function(t){if(this.isEmpty())return null;var e=this.options,n=this.lineBox(),r=e.vertical?n.height():n.width(),o=this.dataRange.displayRange(),i=o.min,a=o.max,s=this.dataRange.total(),l=Dt(t/(r/(a-i)),10)*(e.reverse?-1:1),c=Me(i,l),u=Me(a,l),p=this.limitRange(He(c),He(u),He(s.min),He(s.max),l);return p?(p.min=Re(p.min),p.max=Re(p.max),p.baseUnit=e.baseUnit,p.baseUnitStep=e.baseUnitStep||1,p.userSetBaseUnit=e.userSetBaseUnit,p.userSetBaseUnitStep=e.userSetBaseUnitStep,p):void 0},e.prototype.pointsRange=function(e,n){if(this.isEmpty())return null;var r=t.prototype.pointsRange.call(this,e,n),o=this.dataRange.displayRange(),i=this.dataRange.displayIndices(),a=Ve(o.max,o.min)/(i.max-i.min),s=this.options;return{min:Me(o.min,r.min*a),max:Me(o.min,r.max*a),baseUnit:s.userSetBaseUnit||s.baseUnit,baseUnitStep:s.userSetBaseUnitStep||s.baseUnitStep}},e.prototype.zoomRange=function(t){if(this.isEmpty())return null;var e=this.options,n="fit"===e.userSetBaseUnit,r=this.dataRange.total(),o=this.dataRange.displayRange(),i=o.min,a=o.max,s=this.dataRange.options,l=s.weekStartDay,c=s.baseUnit,u=s.baseUnitStep,p=Fe(i,t*u,c,l),h=Fe(a,-t*u,c,l);if(n){var d,f,m=e.autoBaseUnitSteps,v=e.maxDateGroups,g=St(m[c])*v*Ae[c],y=Ve(a,i),b=Ve(h,p),x=Qe.indexOf(c);if(b<Ae[c]&&"milliseconds"!==c)c=Qe[x-1],p=Me(i,f=(y-(v-1)*(d=St(m[c]))*Ae[c])/2),h=Me(a,-f);else if(b>g&&c!==Pe){var w=0;do{x++,c=Qe[x],w=0,f=2*Ae[c];do{d=m[c][w],w++}while(w<m[c].length&&f*d<y)}while(c!==Pe&&f*d<y);(f=(f*d-y)/2)>0&&(p=Me(i,-f),h=Me(a,f),p=Me(p,Et(h,r.min,r.max)-h),h=Me(h,Et(p,r.min,r.max)-p))}}return p<r.min&&(p=r.min),h>r.max&&(h=r.max),p&&h&&Ve(h,p)>0?{min:p,max:h,baseUnit:e.userSetBaseUnit||e.baseUnit,baseUnitStep:e.userSetBaseUnitStep||e.baseUnitStep}:void 0},e.prototype.range=function(){return this.dataRange.displayRange()},e.prototype.createLabels=function(){t.prototype.createLabels.call(this),this.createRangeLabels()},e.prototype.clearLabels=function(){t.prototype.clearLabels.call(this),this.rangeLabels=[]},e.prototype.arrangeLabels=function(){this.arrangeRangeLabels(),t.prototype.arrangeLabels.call(this)},e.prototype.arrangeRangeLabels=function(){var t=this.options,e=this.rangeLabels;if(0!==e.length){var n=this.lineBox(),r=t.vertical,o=t.rangeLabels.mirror||t.labels.mirror,i=e[0];if(i){var a=r?n.y1-i.box.height()/2:n.x1;this.positionLabel(i,o,a)}var s=e[1];if(s){var l=r?n.y2-s.box.height()/2:n.x2;this.positionLabel(s,o,l)}}},e.prototype.autoRotateLabels=function(){t.prototype.autoRotateLabels.call(this),this.autoRotateRangeLabels()},e.prototype.hideOutOfRangeLabels=function(){t.prototype.hideOutOfRangeLabels.call(this),this.hideOverlappingLabels()},e.prototype.hideOverlappingLabels=function(){var t=this.rangeLabels,e=this.labels;if(0!==t.length){var n=t[0];if(n&&n.options.visible)for(var r=0;r<e.length;r++){if(!a(n,e[r]))break}var o=t[1];if(o&&o.options.visible)for(var i=e.length-1;i>0;--i){if(!a(o,e[i]))break}}function a(t,e){return!(e.options.visible&&!e.box.overlaps(t.box))&&(e.options.visible=!1,!0)}},e.prototype.contentBox=function(){for(var e=t.prototype.contentBox.call(this),n=this.rangeLabels,r=0;r<n.length;r++){var o=n[r];o.options.visible&&e.wrap(o.box)}return e},e.prototype.createAxisLabel=function(t,e,n){void 0===n&&(n={});var r=this.options,o=r.dataItems&&!r.maxDivisions?r.dataItems[t]:null,i=this.divisionRange.dateAt(t),a=e.dateFormats[this.divisionRange.options.baseUnit];e.format=e.format||a,n.dataItem=o;var s=this.axisLabelText(i,e,n);if(s)return new Oe(i,s,t,o,e)},e.prototype.createRangeLabels=function(){var t=this,e=this.divisionRange,n=e.displayStart,r=e.displayEnd,o=this.options,i=Object.assign({},o.labels,o.rangeLabels,{align:c,zIndex:o.zIndex});if(!0===i.visible){this.normalizeLabelRotation(i),i.alignRotation=c,"auto"===i.rotation&&(i.rotation=0,o.autoRotateRangeLabels=!0);var a=i.dateFormats[this.divisionRange.options.baseUnit];i.format=i.format||a;var s=function(e,n,r){if(r){var o=new Oe(n,r,e,null,i);t.append(o),t.rangeLabels.push(o)}};s(0,n,this.axisLabelText(n,i,{index:0,count:2})),s(1,r,this.axisLabelText(r,i,{index:1,count:2}))}},e.prototype.autoRotateRangeLabels=function(){var t=this,e=this.rangeLabels;if(this.options.autoRotateRangeLabels&&!this.options.vertical&&2===e.length){var n=function(e,n,r){var o=2*Math.abs(n[r+1]-n[r]),i=t.autoRotateLabelAngle(e.box,o);0!==i&&(e.options.rotation=i,e.reflow(new Zt))},r=this.getMajorTickPositions();n(e[0],r,0),n(e[1],r,r.length-2)}},e.prototype.categoryIndex=function(t){return this.dataRange.valueIndex(t)},e.prototype.slot=function(t,e,n){var r=this.dataRange,o=t,i=e;o instanceof Date&&(o=r.dateIndex(o)),i instanceof Date&&(i=r.dateIndex(i));var a=this.getSlot(o,i,n);if(a)return a.toRect()},e.prototype.getSlot=function(e,n,r){var o=e,i=n;return"object"==typeof o&&(o=this.categoryIndex(o)),"object"==typeof i&&(i=this.categoryIndex(i)),t.prototype.getSlot.call(this,o,i,r)},e.prototype.valueRange=function(){var t=tn(this.options.srcCategories);return{min:Re(t.min),max:Re(t.max)}},e.prototype.categoryAt=function(t,e){return this.dataRange.dateAt(t,e)},e.prototype.categoriesCount=function(){return this.dataRange.valuesCount()},e.prototype.rangeIndices=function(){return this.dataRange.displayIndices()},e.prototype.labelsBetweenTicks=function(){return!this.divisionRange.options.justified},e.prototype.prepareUserOptions=function(){this.isEmpty()||(this.options.categories=this.dataRange.values())},e.prototype.getCategory=function(t){var e=this.pointCategoryIndex(t);return null===e?null:this.dataRange.dateAt(e)},e.prototype.totalIndex=function(t){return this.dataRange.totalIndex(t)},e.prototype.currentRangeIndices=function(){var t=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}},e.prototype.totalRange=function(){return this.dataRange.total()},e.prototype.totalCount=function(){return this.dataRange.totalCount()},e.prototype.isEmpty=function(){return!this.options.srcCategories.length},e.prototype.roundedRange=function(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();var t=this.options,e=tn(t.srcCategories);return new nn(e.min,e.max,Object.assign({},t,{justified:!1,roundToBaseUnit:!0,justifyEnd:t.justified})).displayRange()},e}(Ze);Rt(an,{type:p,labels:{dateFormats:Je},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});var sn=an;function ln(t,e){return Dt(Math.floor(t/e)*e,10)}function cn(t,e){return Dt(Math.ceil(t/e)*e,10)}function un(t){return Math.max(Math.min(t,3e5),-3e5)}var pn=Math.pow(10,-9),hn=function(t){function e(e,n,r,o){t.call(this,Object.assign({},r,{seriesMin:e,seriesMax:n}),o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=function(t,e,n){var r=n.narrowRange,o=function(t,e,n){if(!t&&!e)return 0;var r;if(t>=0&&e>=0){var o=t===e?0:t;if(!1===n||!n&&(e-o)/e>.2)return 0;r=Math.max(0,o-(e-o)/2)}else r=t;return r}(t,e,r),i=function(t,e,n){if(!t&&!e)return 1;var r;if(t<=0&&e<=0){var o=t===e?0:e,i=Math.abs((o-t)/o);if(!1===n||!n&&i>.2)return 0;r=Math.min(0,o-(t-o)/2)}else r=e;return r}(t,e,r),a=Yt(o,i),s={majorUnit:a};!1!==n.roundToMajorUnit&&(o<0&&dn(o,a,1/3)&&(o-=a),i>0&&dn(i,a,1/3)&&(i+=a));return s.min=ln(o,a),s.max=cn(i,a),s}(t.seriesMin,t.seriesMax,t);return this.totalOptions=function(t,e){return{min:xt(e.min)?Math.min(t.min,e.min):t.min,max:xt(e.max)?Math.max(t.max,e.max):t.max,majorUnit:t.majorUnit}}(e,t),function(t,e){var n,r,o=e;if(e){!function(t,e){for(var n=0;n<e.length;n++){var r=e[n];null===t[r]&&(t[r]=void 0)}}(e,["min","max"]),n=xt(e.min),r=xt(e.max);var i=n||r;i&&e.min===e.max&&(e.min>0?e.min=0:e.max=1),e.majorUnit?(t.min=ln(t.min,e.majorUnit),t.max=cn(t.max,e.majorUnit)):i&&(o=j(t,e),t.majorUnit=Yt(o.min,o.max))}t.minorUnit=(o.majorUnit||t.majorUnit)/5;var a=j(t,o);a.min>=a.max&&(n&&!r?a.max=a.min+a.majorUnit:!n&&r&&(a.min=a.max-a.majorUnit));return a}(e,t)},e.prototype.initFields=function(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax},e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.startValue=function(){return 0},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.getDivisions=function(t){if(0===t)return 1;var e=this.options,n=e.max-e.min;return Math.floor(Dt(n/t,3))+1},e.prototype.getTickPositions=function(t,e){var n=this.options,r=n.vertical,o=n.reverse,i=this.lineBox(),a=t*((r?i.height():i.width())/(n.max-n.min)),s=this.getDivisions(t),l=(r?-1:1)*(o?-1:1),c=[],u=i[(r?w:x)+(1===l?1:2)],p=0;e&&(p=e/t);for(var h=0;h<s;h++)h%p!=0&&c.push(Dt(u,3)),u+=a*l;return c},e.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},e.prototype.getSlot=function(t,e,n){void 0===n&&(n=!1);var r,o,i=this.options,a=i.vertical,s=i.reverse,l=a?w:x,c=this.lineBox(),u=c[l+(s?2:1)],p=(s?-1:1)*((a?c.height():c.width())/(i.max-i.min)),h=new Zt(c.x1,c.y1,c.x1,c.y1),d=t,f=e;return xt(d)||(d=f||0),xt(f)||(f=d||0),n&&(d=Math.max(Math.min(d,i.max),i.min),f=Math.max(Math.min(f,i.max),i.min)),a?(r=i.max-Math.max(d,f),o=i.max-Math.min(d,f)):(r=Math.min(d,f)-i.min,o=Math.max(d,f)-i.min),h[l+1]=un(u+p*(s?o:r)),h[l+2]=un(u+p*(s?r:o)),h},e.prototype.getValue=function(t){var e=this.options,n=e.vertical,r=e.reverse,o=Number(e.max),i=Number(e.min),a=n?w:x,s=this.lineBox(),l=s[a+(r?2:1)],c=n?s.height():s.width(),u=(r?-1:1)*(t[a]-l),p=u*((o-i)/c);return u<0||u>c?null:Dt(n?o-p:i+p,10)},e.prototype.translateRange=function(t){var e=this.options,n=e.vertical,r=e.reverse,o=e.max,i=e.min,a=this.lineBox(),s=n?a.height():a.width(),l=Dt(t/(s/(o-i)),10);return!n&&!r||n&&r||(l=-l),{min:i+l,max:o+l,offset:l}},e.prototype.scaleRange=function(t){var e=this.options,n=-t*e.majorUnit;return{min:e.min-n,max:e.max+n}},e.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},e.prototype.createAxisLabel=function(t,e,n){var r=this.options,o=Dt(r.min+t*r.majorUnit,10),i=this.axisLabelText(o,e,n);return new Oe(o,i,t,null,e)},e.prototype.shouldRenderNote=function(t){var e=this.range();return e.min<=t&&t<=e.max},e.prototype.pan=function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)},e.prototype.pointsRange=function(t,e){var n=this.getValue(t),r=this.getValue(e),o=Math.min(n,r),i=Math.max(n,r);if(this.isValidRange(o,i))return{min:o,max:i}},e.prototype.zoomRange=function(t){var e=this.totalMin,n=this.totalMax,r=this.scaleRange(t),o=Et(r.min,e,n),i=Et(r.max,e,n);if(this.isValidRange(o,i))return{min:o,max:i}},e.prototype.isValidRange=function(t,e){return e-t>pn},e}(Te);function dn(t,e,n){var r=Dt(Math.abs(t%e),10);return 0===r||r>e*(1-n)}Rt(hn,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:s},labels:{format:"#.####################"},zIndex:1});var fn=hn,mn=function(t){function e(e,n,r,o){var i=Re(e),a=Re(n),s=o.intl,l=r||{};l=function(t,e,n){var r=n.min||t,o=n.max||e,i=n.baseUnit||(o&&r?function(t){var e="hours";t>=31536e6?e=Pe:t>=26784e5?e="months":t>=6048e5?e="weeks":t>=864e5&&(e=De);return e}(je(o,r)):"hours"),a=Ae[i],s=n.weekStartDay||0,l=Le(He(r)-1,i,s)||Re(o),c=ze(He(o)+1,i,s),u=(n.majorUnit?n.majorUnit:void 0)||cn(Yt(l.getTime(),c.getTime()),a)/a,p=Ke(l,c,i),h=cn(p,u)-p,d=Math.floor(h/2),f=h-d;n.baseUnit||delete n.baseUnit;return n.baseUnit=n.baseUnit||i,n.min=n.min||Fe(l,-d,i,s),n.max=n.max||Fe(c,f,i,s),n.minorUnit=n.minorUnit||u/5,n.majorUnit=u,n}(i,a,l=j(l||{},{min:Ge(s,l.min),max:Ge(s,l.max),axisCrossingValue:Ye(s,l.axisCrossingValues||l.axisCrossingValue),weekStartDay:Xe(l,s)})),t.call(this,l,o),this.intlService=s,this.seriesMin=i,this.seriesMax=a;var c=l.weekStartDay||0;this.totalMin=He(Le(He(i)-1,l.baseUnit,c)),this.totalMax=He(ze(He(a)+1,l.baseUnit,c))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.getDivisions=function(t){var e=this.options;return Math.floor(Ke(e.min,e.max,e.baseUnit)/t+1)},e.prototype.getTickPositions=function(t){for(var e=this.options,n=e.vertical,r=this.lineBox(),o=(n?-1:1)*(e.reverse?-1:1),i=r[(n?w:x)+(1===o?1:2)],a=this.getDivisions(t),s=Ve(e.max,e.min),l=(n?r.height():r.width())/s,c=e.weekStartDay||0,u=[i],p=1;p<a;p++){var h=i+Ve(Fe(e.min,p*t,e.baseUnit,c),e.min)*l*o;u.push(Dt(h,3))}return u},e.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},e.prototype.getSlot=function(t,e,n){return fn.prototype.getSlot.call(this,Ge(this.intlService,t),Ge(this.intlService,e),n)},e.prototype.getValue=function(t){var e=fn.prototype.getValue.call(this,t);return null!==e?Re(e):null},e.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},e.prototype.createAxisLabel=function(t,e,n){var r=this.options,o=t*r.majorUnit,i=r.weekStartDay||0,a=r.min;o>0&&(a=Fe(a,o,r.baseUnit,i));var s=e.dateFormats[r.baseUnit];e.format=e.format||s;var l=this.axisLabelText(a,e,n);return new Oe(a,l,t,null,e)},e.prototype.translateRange=function(t,e){var n=this.options,r=n.baseUnit,o=n.weekStartDay||0,i=this.lineBox(),a=n.vertical?i.height():i.width(),s=this.range(),l=a/Ve(s.max,s.min),c=Dt(t/l,10)*(n.reverse?-1:1),u=Me(n.min,c),p=Me(n.max,c);return e||(u=Fe(u,0,r,o),p=Fe(p,0,r,o)),{min:u,max:p,offset:c}},e.prototype.scaleRange=function(t){for(var e=this.options,n=e.min,r=e.max,o=Math.abs(t);o--;){var i=Ve(n,r),a=Math.round(.1*i);t<0?(n=Me(n,a),r=Me(r,-a)):(n=Me(n,-a),r=Me(r,a))}return{min:n,max:r}},e.prototype.shouldRenderNote=function(t){var e=this.range();return Be(t,e.min)>=0&&Be(t,e.max)<=0},e.prototype.pan=function(t){var e=this.translateRange(t,!0),n=this.limitRange(He(e.min),He(e.max),this.totalMin,this.totalMax,e.offset);if(n)return{min:Re(n.min),max:Re(n.max)}},e.prototype.pointsRange=function(t,e){var n=this.getValue(t),r=this.getValue(e),o=Math.min(n,r),i=Math.max(n,r);return{min:Re(o),max:Re(i)}},e.prototype.zoomRange=function(t){var e=this.scaleRange(t);return{min:Re(Et(He(e.min),this.totalMin,this.totalMax)),max:Re(Et(He(e.max),this.totalMin,this.totalMax))}},e}(Te);Rt(mn,{type:p,majorGridLines:{visible:!0,width:1,color:s},labels:{dateFormats:Je}});var vn=mn,gn=function(t){function e(e,n,r,o){var i=j({majorUnit:10,min:e,max:n},r),a=i.majorUnit,s=function(t,e){var n,r=Dt(bn(t,e),10)%1;n=t<=0?e:0!==r&&(r<.3||r>.9)?Math.pow(e,bn(t,e)+.2):Math.pow(e,Math.ceil(bn(t,e)));return n}(n,a),l=function(t,e,n){var r=n.majorUnit,o=t;t<=0?o=e<=1?Math.pow(r,-2):1:n.narrowRange||(o=Math.pow(r,Math.floor(bn(t,r))));return o}(e,n,i),c=function(t,e,n,r){var o=n.min,i=n.max;xt(n.axisCrossingValue)&&n.axisCrossingValue<=0&&yn();xt(r.max)?r.max<=0&&yn():i=e;xt(r.min)?r.min<=0&&yn():o=t;return{min:o,max:i}}(l,s,i,r);i.max=c.max,i.min=c.min,i.minorUnit=r.minorUnit||Dt(a-1,10),t.call(this,i,o),this.totalMin=xt(r.min)?Math.min(l,r.min):l,this.totalMax=xt(r.max)?Math.max(s,r.max):s,this.logMin=Dt(bn(c.min,a),10),this.logMax=Dt(bn(c.max,a),10),this.seriesMin=e,this.seriesMax=n,this.createLabels()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.startValue=function(){return this.options.min},e.prototype.getSlot=function(t,e,n){var r,o,i=this.options,a=this.logMin,s=this.logMax,l=i.reverse,c=i.vertical,u=i.majorUnit,p=c?w:x,h=this.lineBox(),d=h[p+(l?2:1)],f=(l?-1:1)*((c?h.height():h.width())/(s-a)),m=new Zt(h.x1,h.y1,h.x1,h.y1),v=t,g=e;return xt(v)||(v=g||1),xt(g)||(g=v||1),v<=0||g<=0?null:(n&&(v=Math.max(Math.min(v,i.max),i.min),g=Math.max(Math.min(g,i.max),i.min)),v=bn(v,u),g=bn(g,u),c?(r=s-Math.max(v,g),o=s-Math.min(v,g)):(r=Math.min(v,g)-a,o=Math.max(v,g)-a),m[p+1]=un(d+f*(l?o:r)),m[p+2]=un(d+f*(l?r:o)),m)},e.prototype.getValue=function(t){var e=this.options,n=this.logMin,r=this.logMax,o=e.reverse,i=e.vertical,a=e.majorUnit,s=this.lineBox(),l=i===o?1:-1,c=1===l?1:2,u=i?s.height():s.width(),p=(r-n)/u,h=i?w:x,d=s[h+c],f=l*(t[h]-d);if(f<0||f>u)return null;var m=n+f*p;return Dt(Math.pow(a,m),10)},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.scaleRange=function(t){var e=this.options.majorUnit,n=-t;return{min:Math.pow(e,this.logMin-n),max:Math.pow(e,this.logMax+n)}},e.prototype.translateRange=function(t){var e=this.options,n=this.logMin,r=this.logMax,o=e.reverse,i=e.vertical,a=e.majorUnit,s=this.lineBox(),l=i?s.height():s.width(),c=Dt(t/(l/(r-n)),10);return!i&&!o||i&&o||(c=-c),{min:Math.pow(a,n+c),max:Math.pow(a,r+c),offset:c}},e.prototype.labelsCount=function(){var t=Math.floor(this.logMax);return Math.floor(t-this.logMin)+1},e.prototype.getMajorTickPositions=function(){var t=[];return this.traverseMajorTicksPositions((function(e){t.push(e)}),{step:1,skip:0}),t},e.prototype.createTicks=function(t){var e=this.options,n=e.majorTicks,r=e.minorTicks,o=e.vertical,i=e.labels.mirror,a=this.lineBox(),s={vertical:o};function l(e,n){s.tickX=i?a.x2:a.x2-n.size,s.tickY=i?a.y1-n.size:a.y1,s.position=e,t.append(Se(s,n))}return n.visible&&this.traverseMajorTicksPositions(l,n),r.visible&&this.traverseMinorTicksPositions(l,r),[]},e.prototype.createGridLines=function(t){var e=this.options,n=e.minorGridLines,r=e.majorGridLines,o=e.vertical,i=t.lineBox(),a={lineStart:i[o?"x1":"y1"],lineEnd:i[o?"x2":"y2"],vertical:o},s=[],l=this.gridLinesVisual();function c(t,e){pt(t,s)||(a.position=t,l.append(Ee(a,e)),s.push(t))}return r.visible&&this.traverseMajorTicksPositions(c,r),n.visible&&this.traverseMinorTicksPositions(c,n),l.children},e.prototype.traverseMajorTicksPositions=function(t,e){for(var n=this._lineOptions(),r=n.lineStart,o=n.step,i=this.logMin,a=this.logMax,s=Math.ceil(i)+e.skip;s<=a;s+=e.step){t(Dt(r+o*(s-i),10),e)}},e.prototype.traverseMinorTicksPositions=function(t,e){for(var n=this.options,r=n.min,o=n.max,i=n.minorUnit,a=n.majorUnit,s=this._lineOptions(),l=s.lineStart,c=s.step,u=this.logMin,p=this.logMax,h=Math.floor(u);h<p;h++)for(var d=this._minorIntervalOptions(h),f=e.skip;f<i;f+=e.step){var m=d.value+f*d.minorStep;if(m>o)break;if(m>=r)t(Dt(l+c*(bn(m,a)-u),10),e)}},e.prototype.createAxisLabel=function(t,e,n){var r=Math.ceil(this.logMin+t),o=Math.pow(this.options.majorUnit,r),i=this.axisLabelText(o,e,n);return new Oe(o,i,t,null,e)},e.prototype.shouldRenderNote=function(t){var e=this.range();return e.min<=t&&t<=e.max},e.prototype.pan=function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)},e.prototype.pointsRange=function(t,e){var n=this.getValue(t),r=this.getValue(e);return{min:Math.min(n,r),max:Math.max(n,r)}},e.prototype.zoomRange=function(t){var e=this.options,n=this.totalMin,r=this.totalMax,o=this.scaleRange(t),i=Et(o.min,n,r),a=Et(o.max,n,r),s=e.majorUnit,l=a>i&&e.min&&e.max&&Dt(bn(e.max,s)-bn(e.min,s),10)<1,c=!(e.min===n&&e.max===r)&&Dt(bn(a,s)-bn(i,s),10)>=1;if(l||c)return{min:i,max:a}},e.prototype._minorIntervalOptions=function(t){var e=this.options,n=e.minorUnit,r=e.majorUnit,o=Math.pow(r,t);return{value:o,minorStep:(Math.pow(r,t+1)-o)/n}},e.prototype._lineOptions=function(){var t=this.options,e=t.reverse,n=t.vertical,r=n?w:x,o=this.lineBox(),i=n===e?1:-1,a=1===i?1:2;return{step:i*((n?o.height():o.width())/(this.logMax-this.logMin)),lineStart:o[r+a],lineBox:o}},e}(Te);function yn(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function bn(t,e){return Math.log(t)/Math.log(e)}Rt(gn,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:s},zIndex:1,_deferLabels:!0});var xn=gn,wn={createGridLines:function(t){var e,n,r=this.options,o=Math.abs(this.box.center().y-t.lineBox().y1),i=[],a=!1;return r.majorGridLines.visible&&(e=this.majorGridLineAngles(t),a=!0,i=this.renderMajorGridLines(e,o,r.majorGridLines)),r.minorGridLines.visible&&(n=this.minorGridLineAngles(t,a),yt(i,this.renderMinorGridLines(n,o,r.minorGridLines,t,a))),i},renderMajorGridLines:function(t,e,n){return this.renderGridLines(t,e,n)},renderMinorGridLines:function(t,e,n,r,o){var i=this.radiusCallback&&this.radiusCallback(e,r,o);return this.renderGridLines(t,e,n,i)},renderGridLines:function(t,e,n,r){for(var o={stroke:{width:n.width,color:n.color,dashType:n.dashType}},i=this.box.center(),a=new _.geometry.Circle([i.x,i.y],e),s=this.gridLinesVisual(),l=0;l<t.length;l++){var c=new _.drawing.Path(o);r&&(a.radius=r(t[l])),c.moveTo(a.center).lineTo(a.pointAt(t[l]+180)),s.append(c)}return s.children},gridLineAngles:function(t,e,n,r,o){var i=this,a=this.intervals(e,n,r,o),s=t.options,l=s.visible&&!1!==(s.line||{}).visible;return mt(a,(function(t){var e=i.intervalAngle(t);if(!l||90!==e)return e}))}},kn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.range=function(){return{min:0,max:this.options.categories.length}},e.prototype.reflow=function(t){this.box=t,this.reflowLabels()},e.prototype.lineBox=function(){return this.box},e.prototype.reflowLabels=function(){for(var t=this.labels,e=this.options.labels,n=e.skip||0,r=e.step||1,o=new Zt,i=0;i<t.length;i++){t[i].reflow(o);var a=t[i].box;t[i].reflow(this.getSlot(n+i*r).adjacentBox(0,a.width(),a.height()))}},e.prototype.intervals=function(t,e,n,r){void 0===r&&(r=!1);for(var o=this.options,i=o.categories.length/t||1,a=360/i,s=n||1,l=[],c=0,u=e||0;u<i;u+=s)c=o.reverse?360-u*a:u*a,c=Dt(c,3)%360,r&&pt(c,r)||l.push(c);return l},e.prototype.majorIntervals=function(){return this.intervals(1)},e.prototype.minorIntervals=function(){return this.intervals(.5)},e.prototype.intervalAngle=function(t){return(360+t+this.options.startAngle)%360},e.prototype.majorAngles=function(){var t=this;return mt(this.majorIntervals(),(function(e){return t.intervalAngle(e)}))},e.prototype.createLine=function(){return[]},e.prototype.majorGridLineAngles=function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,1,e.skip,e.step)},e.prototype.minorGridLineAngles=function(t,e){var n=this.options,r=n.minorGridLines,o=n.majorGridLines,i=e?this.intervals(1,o.skip,o.step):null;return this.gridLineAngles(t,.5,r.skip,r.step,i)},e.prototype.radiusCallback=function(t,e,n){if(e.options.type!==a){var r=Tt(360/(2*this.options.categories.length)),o=Math.cos(r)*t,i=this.majorAngles(),s=function(e){return!n&&pt(e,i)?t:o};return s}},e.prototype.createPlotBands=function(){for(var t=this.options.plotBands||[],e=this._plotbandGroup=new _.drawing.Group({zIndex:-1}),n=0;n<t.length;n++){var r=t[n],o=this.plotBandSlot(r),i=this.getSlot(r.from),a=r.from-Math.floor(r.from);o.startAngle+=a*i.angle;var s=Math.ceil(r.to)-r.to;o.angle-=(s+a)*i.angle;var l=ee.current.createRing(o,{fill:{color:r.color,opacity:r.opacity},stroke:{opacity:r.opacity}});e.append(l)}this.appendVisual(e)},e.prototype.plotBandSlot=function(t){return this.getSlot(t.from,t.to-1)},e.prototype.getSlot=function(t,e){var n=this.options,r=n.justified,o=this.box,i=this.majorAngles(),a=i.length,s=360/a,l=t;n.reverse&&!r&&(l=(l+1)%a);var c=i[l=Et(Math.floor(l),0,a-1)];r&&(c-=s/2)<0&&(c+=360);var u=s*(Et(Math.ceil(e||l),l,a-1)-l+1);return new Qt(o.center(),0,o.height()/2,c,u)},e.prototype.slot=function(t,e){var n=this.getSlot(t,e),r=n.startAngle+180,o=r+n.angle;return new _.geometry.Arc([n.center.x,n.center.y],{startAngle:r,endAngle:o,radiusX:n.radius,radiusY:n.radius})},e.prototype.pointCategoryIndex=function(t){for(var e=this.options.categories.length,n=null,r=0;r<e;r++){if(this.getSlot(r).containsPoint(t)){n=r;break}}return n},e}(Ze);Rt(kn,{startAngle:90,labels:{margin:z(10)},majorGridLines:{visible:!0},justified:!0}),j(kn.prototype,wn);var On=kn,Cn=function(t){function e(e,n){t.call(this,e,n);var r=this.options;r.minorUnit=r.minorUnit||r.majorUnit/2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDivisions=function(t){return fn.prototype.getDivisions.call(this,t)-1},e.prototype.reflow=function(t){this.box=t,this.reflowLabels()},e.prototype.reflowLabels=function(){for(var t=this.options,e=this.labels,n=this.options.labels,r=n.skip||0,o=n.step||1,i=new Zt,a=this.intervals(t.majorUnit,r,o),s=0;s<e.length;s++){e[s].reflow(i);var l=e[s].box;e[s].reflow(this.getSlot(a[s]).adjacentBox(0,l.width(),l.height()))}},e.prototype.lineBox=function(){return this.box},e.prototype.intervals=function(t,e,n,r){void 0===r&&(r=!1);for(var o=this.options.min,i=this.getDivisions(t),a=[],s=n||1,l=e||0;l<i;l+=s){var c=(360+o+l*t)%360;r&&pt(c,r)||a.push(c)}return a},e.prototype.majorIntervals=function(){return this.intervals(this.options.majorUnit)},e.prototype.minorIntervals=function(){return this.intervals(this.options.minorUnit)},e.prototype.intervalAngle=function(t){return(540-t-this.options.startAngle)%360},e.prototype.createLine=function(){return[]},e.prototype.majorGridLineAngles=function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,this.options.majorUnit,e.skip,e.step)},e.prototype.minorGridLineAngles=function(t,e){var n=this.options,r=n.minorGridLines,o=n.majorGridLines,i=e?this.intervals(n.majorUnit,o.skip,o.step):null;return this.gridLineAngles(t,n.minorUnit,r.skip,r.step,i)},e.prototype.plotBandSlot=function(t){return this.getSlot(t.from,t.to)},e.prototype.getSlot=function(t,e){var n=this.options,r=this.box,o=n.startAngle,i=Et(t,n.min,n.max),a=Et(e||i,i,n.max);if(n.reverse&&(i*=-1,a*=-1),(a=(540-a-o)%360)<(i=(540-i-o)%360)){var s=i;i=a,a=s}return new Qt(r.center(),0,r.height()/2,i,a-i)},e.prototype.slot=function(t,e){void 0===e&&(e=t);var n,r,o=this.options,i=360-o.startAngle,a=this.getSlot(t,e),s=Math.min(t,e),l=Math.max(t,e);return o.reverse?(n=s,r=l):(n=360-l,r=360-s),n=(n+i)%360,r=(r+i)%360,new _.geometry.Arc([a.center.x,a.center.y],{startAngle:n,endAngle:r,radiusX:a.radius,radiusY:a.radius})},e.prototype.getValue=function(t){var e=this.options,n=this.box.center(),r=t.x-n.x,o=t.y-n.y,i=Math.round(wt(Math.atan2(o,r))),a=e.startAngle;return e.reverse||(i*=-1,a*=-1),(i+a+360)%360},e.prototype.valueRange=function(){return{min:0,max:2*Math.PI}},e}(Te);Rt(Cn,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:z(10)},majorGridLines:{color:s,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),j(Cn.prototype,wn,{createPlotBands:On.prototype.createPlotBands,majorAngles:On.prototype.majorAngles,range:fn.prototype.range,labelsCount:fn.prototype.labelsCount,createAxisLabel:fn.prototype.createAxisLabel});var _n=Cn;function Sn(t,e){return 180-Math.abs(Math.abs(t-e)-180)}var En={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var t=this.options,e=t.majorGridLines.type,n=t.plotBands;void 0===n&&(n=[]);for(var r=this.plotArea.polarAxis,o=r.majorAngles(),i=r.box.center(),s=this._plotbandGroup=new _.drawing.Group({zIndex:-1}),l=0;l<n.length;l++){var c=n[l],u={fill:{color:c.color,opacity:c.opacity},stroke:{opacity:c.opacity}},p=this.getSlot(c.from,c.to,!0),h=new Qt(i,i.y-p.y2,i.y-p.y1,0,360),d=void 0;d=e===a?ee.current.createRing(h,u):_.drawing.Path.fromPoints(this.plotBandPoints(h,o),u).close(),s.append(d)}this.appendVisual(s)},plotBandPoints:function(t,e){for(var n=[],r=[],o=[t.center.x,t.center.y],i=new _.geometry.Circle(o,t.innerRadius),a=new _.geometry.Circle(o,t.radius),s=0;s<e.length;s++)n.push(i.pointAt(e[s]+180)),r.push(a.pointAt(e[s]+180));return n.reverse(),n.push(n[0]),r.push(r[0]),r.concat(n)},createGridLines:function(t){var e=this.options,n=this.radarMajorGridLinePositions(),r=t.majorAngles(),o=t.box.center(),i=[];if(e.majorGridLines.visible&&(i=this.renderGridLines(o,n,r,e.majorGridLines)),e.minorGridLines.visible){var a=this.radarMinorGridLinePositions();yt(i,this.renderGridLines(o,a,r,e.minorGridLines))}return i},renderGridLines:function(t,e,n,r){var o={stroke:{width:r.width,color:r.color,dashType:r.dashType}},i=r.skip;void 0===i&&(i=0);var s=r.step;void 0===s&&(s=0);for(var l=this.gridLinesVisual(),c=i;c<e.length;c+=s){var u=t.y-e[c];if(u>0){var p=new _.geometry.Circle([t.x,t.y],u);if(r.type===a)l.append(new _.drawing.Circle(p,o));else{for(var h=new _.drawing.Path(o),d=0;d<n.length;d++)h.lineTo(p.pointAt(n[d]+180));h.close(),l.append(h)}}}return l.children},getValue:function(t){var e=this.lineBox(),n=this.plotArea.polarAxis,r=n.majorAngles(),o=n.box.center(),i=t.distanceTo(o),s=i;if(this.options.majorGridLines.type!==a&&r.length>1){var l=t.x-o.x,c=t.y-o.y,u=(wt(Math.atan2(c,l))+540)%360;r.sort((function(t,e){return Sn(t,u)-Sn(e,u)}));var p=90-Sn(r[0],r[1])/2,h=180-Sn(u,r[0])-p;s=i*(Math.sin(Tt(h))/Math.sin(Tt(p)))}return this.axisType().prototype.getValue.call(this,new Xt(e.x1,e.y2-s))}},In=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radarMajorGridLinePositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.radarMinorGridLinePositions=function(){var t=this.options,e=0;return t.majorGridLines.visible&&(e=t.majorUnit),this.getTickPositions(t.minorUnit,e)},e.prototype.axisType=function(){return t},e}(fn);j(In.prototype,En);var Tn=In,Dn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radarMajorGridLinePositions=function(){var t=[];return this.traverseMajorTicksPositions((function(e){t.push(e)}),this.options.majorGridLines),t},e.prototype.radarMinorGridLinePositions=function(){var t=[];return this.traverseMinorTicksPositions((function(e){t.push(e)}),this.options.minorGridLines),t},e.prototype.axisType=function(){return t},e}(xn);j(Dn.prototype,En);var Pn=Dn;function An(t){return t<=0?-1:1}var jn=function(t){function e(e){t.call(this),this.closed=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.process=function(t){var e=t.slice(0),n=[],r=this.closed,o=e.length;if(o>2&&(this.removeDuplicates(0,e),o=e.length),o<2||2===o&&e[0].equals(e[1]))return n;var i,a,s=e[0],l=e[1],c=e[2];for(n.push(new _.geometry.Segment(s));s.equals(e[o-1]);)r=!0,e.pop(),o--;if(2===o){var u=this.tangent(s,l,x,w);return St(n).controlOut(this.firstControlPoint(u,s,l,x,w)),n.push(new _.geometry.Segment(l,this.secondControlPoint(u,s,l,x,w))),n}if(r){s=e[o-1],l=e[0],c=e[1];var p=this.controlPoints(s,l,c);i=p[1],a=p[0]}else{var h=this.tangent(s,l,x,w);i=this.firstControlPoint(h,s,l,x,w)}for(var d=i,f=0;f<=o-3;f++)if(this.removeDuplicates(f,e),f+3<=(o=e.length)){s=e[f],l=e[f+1],c=e[f+2];var m=this.controlPoints(s,l,c);St(n).controlOut(d),d=m[1];var v=m[0];n.push(new _.geometry.Segment(l,v))}if(r){s=e[o-2],l=e[o-1],c=e[0];var g=this.controlPoints(s,l,c);St(n).controlOut(d),n.push(new _.geometry.Segment(l,g[0])),St(n).controlOut(g[1]),n.push(new _.geometry.Segment(c,a))}else{var y=this.tangent(l,c,x,w);St(n).controlOut(d),n.push(new _.geometry.Segment(c,this.secondControlPoint(y,l,c,x,w)))}return n},e.prototype.removeDuplicates=function(t,e){for(;e[t+1]&&(e[t].equals(e[t+1])||e[t+1].equals(e[t+2]));)e.splice(t+1,1)},e.prototype.invertAxis=function(t,e,n){var r=!1;if(t.x===e.x)r=!0;else if(e.x===n.x)(e.y<n.y&&t.y<=e.y||n.y<e.y&&e.y<=t.y)&&(r=!0);else{var o=this.lineFunction(t,e),i=this.calculateFunction(o,n.x);t.y<=e.y&&n.y<=i||e.y<=t.y&&n.y>=i||(r=!0)}return r},e.prototype.isLine=function(t,e,n){var r=this.lineFunction(t,e),o=this.calculateFunction(r,n.x);return t.x===e.x&&e.x===n.x||Dt(o,1)===Dt(n.y,1)},e.prototype.lineFunction=function(t,e){var n=(e.y-t.y)/(e.x-t.x);return[t.y-n*t.x,n]},e.prototype.controlPoints=function(t,e,n){var r,o=x,i=w,a=!1,s=!1;if(this.isLine(t,e,n))r=this.tangent(t,e,x,w);else{var l={x:this.isMonotonicByField(t,e,n,x),y:this.isMonotonicByField(t,e,n,w)};if(l.x&&l.y)r=this.tangent(t,n,x,w),a=!0;else if(this.invertAxis(t,e,n)&&(o=w,i=x),l[o])r=0;else r=.01*(n[i]<t[i]&&t[i]<=e[i]||t[i]<n[i]&&e[i]<=t[i]?An((n[i]-t[i])*(e[o]-t[o])):-An((n[o]-t[o])*(e[i]-t[i]))),s=!0}var c=this.secondControlPoint(r,t,e,o,i);if(s){var u=o;o=i,i=u}var p=this.firstControlPoint(r,e,n,o,i);return a&&(this.restrictControlPoint(t,e,c,r),this.restrictControlPoint(e,n,p,r)),[c,p]},e.prototype.restrictControlPoint=function(t,e,n,r){t.y<e.y?e.y<n.y?(n.x=t.x+(e.y-t.y)/r,n.y=e.y):n.y<t.y&&(n.x=e.x-(e.y-t.y)/r,n.y=t.y):n.y<e.y?(n.x=t.x-(t.y-e.y)/r,n.y=e.y):t.y<n.y&&(n.x=e.x+(t.y-e.y)/r,n.y=t.y)},e.prototype.tangent=function(t,e,n,r){var o,i=e[n]-t[n],a=e[r]-t[r];return o=0===i?0:a/i,o},e.prototype.isMonotonicByField=function(t,e,n,r){return n[r]>e[r]&&e[r]>t[r]||n[r]<e[r]&&e[r]<t[r]},e.prototype.firstControlPoint=function(t,e,n,r,o){var i=e[r],a=.333*(n[r]-i);return this.point(i+a,e[o]+a*t,r,o)},e.prototype.secondControlPoint=function(t,e,n,r,o){var i=e[r],a=n[r],s=.333*(a-i);return this.point(a-s,n[o]-s*t,r,o)},e.prototype.point=function(t,e,n,r){var o=new _.geometry.Point;return o[n]=t,o[r]=e,o},e.prototype.calculateFunction=function(t,e){for(var n=t.length,r=0,o=0;o<n;o++)r+=Math.pow(e,o)*t[o];return r},e}(_.Class),Mn=function(t){function e(e){t.call(this),this._axis=e,this.options=e.options}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.value=function(t){var e=this._axis,n=e.getCategory?e.getCategory(t):e.getValue(t);return n},e.prototype.slot=function(t,e,n){return void 0===n&&(n=!0),this._axis.slot(t,e,n)},e.prototype.range=function(){return this._axis.range()},e.prototype.valueRange=function(){return this._axis.valueRange()},e}(_.Class);function Rn(t,e){for(var n=0;n<e.length;n++)if(e[n].options.name===t)return e[n].prepareUserOptions(),new Mn(e[n])}var Nn=function(t){this.visual=t.visual,this.chartsVisual=t.chartContainer.visual,this._pane=t};Nn.prototype.findAxisByName=function(t){return Rn(t,this._pane.axes)};var Fn=Nn,Ln=function(t){function e(e){t.call(this),this._plotArea=e,this.visual=e.visual,this.backgroundVisual=e._bgVisual}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(_.Class);function zn(t){for(var e=t.length,n=0,r=0;r<e;r++){I(t[r])&&n++}return n}var Bn={min:function(t){for(var e=t.length,n=f,r=0;r<e;r++){var o=t[r];I(o)&&(n=Math.min(n,o))}return n===f?t[0]:n},max:function(t){for(var e=t.length,n=m,r=0;r<e;r++){var o=t[r];I(o)&&(n=Math.max(n,o))}return n===m?t[0]:n},sum:function(t){for(var e=t.length,n=0,r=0;r<e;r++){var o=t[r];I(o)&&(n+=o)}return n},sumOrNull:function(t){var e=null;return zn(t)&&(e=Bn.sum(t)),e},count:function(t){for(var e=t.length,n=0,r=0;r<e;r++){var o=t[r];null!==o&&xt(o)&&n++}return n},avg:function(t){var e=zn(t),n=t[0];return e>0&&(n=Bn.sum(t)/e),n},first:function(t){for(var e=t.length,n=0;n<e;n++){var r=t[n];if(null!==r&&xt(r))return r}return t[0]}},Vn=Bn;function Hn(t,e){return null===e?e:at(t)(e)}var Un=function(t){function e(){t.call(this),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e,n){void 0===e&&(e=[y]),void 0===n&&(n={});for(var r=0;r<t.length;r++){var o=t[r];this._valueFields[o]=e,this._otherFields[o]=n,this._nullValue[o]=this._makeValue(e,null),this._undefinedValue[o]=this._makeValue(e,void 0)}},e.prototype.canonicalFields=function(t){return this.valueFields(t).concat(this.otherFields(t))},e.prototype.valueFields=function(t){return this._valueFields[t.type]||[y]},e.prototype.otherFields=function(t){return this._otherFields[t.type]||[y]},e.prototype.bindPoint=function(t,e,n){var r,o,i=t.data,a=xt(n)?n:i[e],s={valueFields:{value:a}},l=this.valueFields(t),c=this._otherFields[t.type];if(null===a)o=this._nullValue[t.type];else if(xt(a)){if(Array.isArray(a)){var u=a.slice(l.length);o=this._bindFromArray(a,l),r=this._bindFromArray(u,c)}else if("object"==typeof a){var p=this.sourceFields(t,l),h=this.sourceFields(t,c);o=this._bindFromObject(a,l,p),r=this._bindFromObject(a,c,h)}}else o=this._undefinedValue[t.type];return xt(o)&&(1===l.length?s.valueFields.value=o[l[0]]:s.valueFields=o),s.fields=r||{},s},e.prototype._makeValue=function(t,e){for(var n={},r=t.length,o=0;o<r;o++){n[t[o]]=e}return n},e.prototype._bindFromArray=function(t,e){var n={};if(e)for(var r=Math.min(e.length,t.length),o=0;o<r;o++)n[e[o]]=t[o];return n},e.prototype._bindFromObject=function(t,e,n){void 0===n&&(n=e);var r={};if(e)for(var o=e.length,i=0;i<o;i++){var a=e[i],s=n[i];null!==s&&(r[a]=Hn(s,t))}return r},e.prototype.sourceFields=function(t,e){var n=[];if(e)for(var r=e.length,o=0;o<r;o++){var i=e[o],a=i===y?"field":i+"Field";n.push(null!==t[a]?t[a]||i:null)}return n},e}(_.Class);Un.current=new Un;var Wn=Un,qn=/percent(?:\w*)\((\d+)\)/,Kn=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),Gn=function(t){function e(e,n,r){t.call(this),this.initGlobalRanges(e,n,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initGlobalRanges=function(t,e,n){var r=e.data,o=Kn.exec(t);if(o){this.valueGetter=this.createValueGetter(e,n);var i=this.getAverage(r),a=this.getStandardDeviation(r,i,!1),s=o[1]?parseFloat(o[1]):1,l={low:i.value-a*s,high:i.value+a*s};this.globalRange=function(){return l}}else if(t.indexOf&&t.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(e,n);var c=this.getStandardError(r,this.getAverage(r));this.globalRange=function(t){return{low:t-c,high:t+c}}}},e.prototype.createValueGetter=function(t,e){var n,r=t.data,o=Wn.current,i=o.valueFields(t),a=xt(r[0])?r[0]:{};if(k(a))n=at("["+(e?i.indexOf(e):0)+"]");else if(I(a))n=at();else if("object"==typeof a){n=at(o.sourceFields(t,i)[i.indexOf(e)])}return n},e.prototype.getErrorRange=function(t,e){var n,r,o;if(!xt(e))return null;if(this.globalRange)return this.globalRange(t);if(k(e))n=t-e[0],r=t+e[1];else if(I(o=parseFloat(e)))n=t-o,r=t+o;else{if(!(o=qn.exec(e)))throw new Error("Invalid ErrorBar value: "+e);var i=t*(parseFloat(o[1])/100);n=t-Math.abs(i),r=t+Math.abs(i)}return{low:n,high:r}},e.prototype.getStandardError=function(t,e){return this.getStandardDeviation(t,e,!0)/Math.sqrt(e.count)},e.prototype.getStandardDeviation=function(t,e,n){for(var r=t.length,o=n?e.count-1:e.count,i=0,a=0;a<r;a++){var s=this.valueGetter(t[a]);I(s)&&(i+=Math.pow(s-e.value,2))}return Math.sqrt(i/o)},e.prototype.getAverage=function(t){for(var e=t.length,n=0,r=0,o=0;o<e;o++){var i=this.valueGetter(t[o]);I(i)&&(n+=i,r++)}return{value:n/r,count:r}},e}(_.Class),Yn=_.support.browser||{},Xn=Yn.msie?.001:0,$n="zero",Zn="bar",Jn="column",Qn="line",tr="pie",er="verticalLine",nr=[Zn,Jn,"ohlc","candlestick","boxPlot","verticalBoxPlot","bullet","rangeColumn","rangeBar","waterfall","horizontalWaterfall"],rr="DOMMouseScroll mousewheel",or=function(t){function e(e,n,r,o,i,a){t.call(this,a),this.low=e,this.high=n,this.isVertical=r,this.chart=o,this.series=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e,n=this.options.endCaps,r=this.isVertical,o=this.getAxis().getSlot(this.low,this.high),i=t.center(),a=this.getCapsWidth(t,r),s=r?i.x:i.y,l=s-a,c=s+a;r?(e=[new Xt(i.x,o.y1),new Xt(i.x,o.y2)],n&&e.push(new Xt(l,o.y1),new Xt(c,o.y1),new Xt(l,o.y2),new Xt(c,o.y2)),this.box=new Zt(l,o.y1,c,o.y2)):(e=[new Xt(o.x1,i.y),new Xt(o.x2,i.y)],n&&e.push(new Xt(o.x1,l),new Xt(o.x1,c),new Xt(o.x2,l),new Xt(o.x2,c)),this.box=new Zt(o.x1,l,o.x2,c)),this.linePoints=e},e.prototype.getCapsWidth=function(t,e){var n=e?t.width():t.height();return Math.min(Math.floor(n/2),4)||4},e.prototype.createVisual=function(){var t=this,e=this.options,n=e.visual;n?this.visual=n({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:e.endCaps,color:e.color,line:e.line},createVisual:function(){t.createDefaultVisual();var e=t.visual;return delete t.visual,e}}):this.createDefaultVisual()},e.prototype.createDefaultVisual=function(){var e=this.options,n=this.linePoints,r={stroke:{color:e.color,width:e.line.width,dashType:e.line.dashType}};t.prototype.createVisual.call(this);for(var o=0;o<n.length;o+=2){var i=new _.drawing.Path(r).moveTo(n[o].x,n[o].y).lineTo(n[o+1].x,n[o+1].y);S(i),this.visual.append(i)}},e}(re);Rt(or,{animation:{type:"fadeIn",delay:600},endCaps:!0,line:{width:2},zIndex:1});var ir=or,ar=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAxis=function(){return this.chart.seriesValueAxis(this.series)},e}(ir);function sr(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var o=n.defaults=n.defaults||{},i=n.depth=n.depth||0,a=!1;if(n.excluded=n.excluded||[],i>5)return null;for(var s in t)if(!pt(s,n.excluded)&&t.hasOwnProperty(s)){var l=t[s];P(l)?(a=!0,r||(t[s]=At(l(e),o[s]))):M(l)&&(r||(n.defaults=o[s]),n.depth++,a=sr(l,e,n,r)||a,n.depth--)}return a}function lr(t){for(var e=t.length,n=0,r=0;r<e;r++)n=Math.max(n,t[r].data.length);return n}var cr=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this.categoryAxis=e.seriesCategoryAxis(n.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.pointOptions=function(t,e){var n=this.seriesOptions[e];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[e]=n=j({},r,{vertical:!this.options.invertAxes},t)}return n},e.prototype.plotValue=function(t){if(!t)return 0;if(this.options.isStacked100&&I(t.value)){for(var e=t.categoryIx,n=this.categoryPoints[e],r=[],o=0,i=0;i<n.length;i++){var a=n[i];if(a){var s=t.series.stack,l=a.series.stack;if(s&&l&&s.group!==l.group)continue;I(a.value)&&(o+=Math.abs(a.value),r.push(Math.abs(a.value)))}}if(o>0)return t.value/o}return t.value},e.prototype.plotRange=function(t,e){void 0===e&&(e=0);var n=this.categoryPoints[t.categoryIx];if(this.options.isStacked){for(var r=this.plotValue(t),o=r>=0,i=e,a=!1,s=0;s<n.length;s++){var l=n[s];if(t===l)break;var c=t.series.stack,u=l.series.stack;if(c&&u){if("string"==typeof c&&c!==u)continue;if(c.group&&c.group!==u.group)continue}var p=this.plotValue(l);(p>=0&&o||p<0&&!o)&&(i+=p,r+=p,a=!0,this.options.isStacked100&&(r=Math.min(r,1)))}return a&&(i-=e),[i,r]}var h=t.series,d=this.seriesValueAxis(h),f=this.categoryAxisCrossingValue(d);return[f,D(t.value)?t.value:f]},e.prototype.stackLimits=function(t,e){for(var n=f,r=m,o=0;o<this.categoryPoints.length;o++){var i=this.categoryPoints[o];if(i)for(var a=0;a<i.length;a++){var s=i[a];if(s&&(s.series.stack===e||s.series.axis===t)){var l=this.plotRange(s,0)[1];xt(l)&&isFinite(l)&&(r=Math.max(r,l),n=Math.min(n,l))}}}return{min:n,max:r}},e.prototype.updateStackRange=function(){var t=this.options,e=t.isStacked,n=t.series,r={};if(e)for(var o=0;o<n.length;o++){var i=n[o],a=i.axis,s=a+i.stack,l=r[s];if(!l){l=this.stackLimits(a,i.stack);var c=this.errorTotals;c&&(c.negative.length&&(l.min=Math.min(l.min,Nt(c.negative).min)),c.positive.length&&(l.max=Math.max(l.max,Nt(c.positive).max))),l.min!==f||l.max!==m?r[s]=l:l=null}l&&(this.valueAxisRanges[a]=l)}},e.prototype.addErrorBar=function(t,e,n){var r,o=t.value,i=t.series,a=t.seriesIx,s=t.options.errorBars,l=e.fields.errorLow,c=e.fields.errorHigh;I(l)&&I(c)?r={low:l,high:c}:s&&xt(s.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[a]=this.seriesErrorRanges[a]||new Gn(s.value,i,y),r=this.seriesErrorRanges[a].getErrorRange(o,s.value)),r&&(t.low=r.low,t.high=r.high,this.addPointErrorBar(t,n))},e.prototype.addPointErrorBar=function(t,e){var n=!this.options.invertAxes,r=t.options.errorBars,o=t.series,i=t.low,a=t.high;if(this.options.isStacked){var s=this.stackedErrorRange(t,e);i=s.low,a=s.high}else{var l={categoryIx:e,series:o};this.updateRange({value:i},l),this.updateRange({value:a},l)}var c=new ar(i,a,n,this,o,r);t.errorBars=[c],t.append(c)},e.prototype.stackedErrorRange=function(t,e){var n=this.plotRange(t,0)[1]-t.value,r=t.low+n,o=t.high+n;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},r<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,r)),o>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,o)),{low:r,high:o}},e.prototype.addValue=function(t,e){var n=e.categoryIx,r=e.series,o=e.seriesIx,i=this.categoryPoints[n];i||(this.categoryPoints[n]=i=[]);var a=this.seriesPoints[o];a||(this.seriesPoints[o]=a=[]);var s=this.createPoint(t,e);s&&(Object.assign(s,e),s.owner=this,s.noteText=t.fields.noteText,xt(s.dataItem)||(s.dataItem=r.data[n]),this.addErrorBar(s,t,n)),this.points.push(s),a.push(s),i.push(s),this.updateRange(t.valueFields,e)},e.prototype.evalPointOptions=function(t,e,n,r,o,i){var a={defaults:o._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},s=this._evalSeries[i];xt(s)||(this._evalSeries[i]=s=sr(t,{},a,!0));var l=t;return s&&sr(l=j({},l),{value:e,category:n,index:r,series:o,dataItem:o.data[r]},a),l},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=t.value,o=this.valueAxisRanges[n];isFinite(r)&&null!==r&&((o=this.valueAxisRanges[n]=o||{min:f,max:m}).min=Math.min(o.min,r),o.max=Math.max(o.max,r))},e.prototype.seriesValueAxis=function(t){var e=this.plotArea,n=t.axis,r=n?e.namedValueAxes[n]:e.valueAxis;if(!r)throw new Error("Unable to locate value axis with name "+n);return r},e.prototype.reflow=function(t){var e=this,n=this.categorySlots=[],r=this.points,o=this.categoryAxis,i=0;this.traverseDataPoints((function(t,a){var s=a.categoryIx,l=a.series,c=e.seriesValueAxis(l),u=r[i++],p=n[s];if(p||(n[s]=p=e.categorySlot(o,s,c)),u){var h=e.plotRange(u,c.startValue()),d=e.valueSlot(c,h);if(d){var f=e.pointSlot(p,d);u.aboveAxis=e.aboveAxis(u,c),u.stackValue=h[1],e.options.isStacked100&&(u.percentage=e.plotValue(u)),e.reflowPoint(u,f)}else u.visible=!1}})),this.reflowCategories(n),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=t},e.prototype.valueSlot=function(t,e){return t.getSlot(e[0],e[1],!this.options.clip)},e.prototype.limitPoints=function(){for(var t=this.categoryPoints,e=t[0].concat(St(t)),n=0;n<e.length;n++)e[n]&&this.limitPoint(e[n])},e.prototype.limitPoint=function(t){var e=this.categoryAxis.limitSlot(t.box);e.equals(t.box)||t.reflow(e)},e.prototype.aboveAxis=function(t,e){var n=this.categoryAxisCrossingValue(e),r=t.value;return e.options.reverse?r<n:r>=n},e.prototype.categoryAxisCrossingValue=function(t){var e=this.categoryAxis,n=t.options;return[].concat(n.axisCrossingValues||n.axisCrossingValue)[e.axisIndex||0]||0},e.prototype.reflowPoint=function(t,e){t.reflow(e)},e.prototype.reflowCategories=function(){},e.prototype.pointSlot=function(t,e){var n=this.options.invertAxes,r=n?e:t,o=n?t:e;return new Zt(r.x1,o.y1,r.x2,o.y2)},e.prototype.categorySlot=function(t,e){return t.getSlot(e)},e.prototype.traverseDataPoints=function(t){for(var e=this.options.series,n=lr(e),r=e.length,o=0;o<r;o++)this._outOfRangeCallback(e[o],"_outOfRangeMinPoint",o,t);for(var i=0;i<n;i++)for(var a=0;a<r;a++){var s=e[a],l=this.categoryAxis.categoryAt(i);t(this._bindPoint(s,a,i),{category:l,categoryIx:i,categoriesCount:n,series:s,seriesIx:a})}for(var c=0;c<r;c++)this._outOfRangeCallback(e[c],"_outOfRangeMaxPoint",c,t)},e.prototype._outOfRangeCallback=function(t,e,n,r){var o=t[e];if(o){var i=o.categoryIx;r(this._bindPoint(t,n,i,o.item),{category:o.category,categoryIx:i,series:t,seriesIx:n,dataItem:o.item})}},e.prototype._bindPoint=function(t,e,n,r){this._bindCache||(this._bindCache=[]);var o=this._bindCache[e];o||(o=this._bindCache[e]=[]);var i=o[n];return i||(i=o[n]=Wn.current.bindPoint(t,n,r)),i},e.prototype.formatPointValue=function(t,e){return null===t.value?"":this.chartService.format.auto(e,t.value)},e.prototype.pointValue=function(t){return t.valueFields.value},e}(re);Rt(cr,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});var ur=cr,pr={click:function(t,e){return t.trigger("seriesClick",this.eventArgs(e))},hover:function(t,e){return t.trigger("seriesHover",this.eventArgs(e))},over:function(t,e){return t.trigger("seriesOver",this.eventArgs(e))},out:function(t,e){return t.trigger("seriesLeave",this.eventArgs(e))},eventArgs:function(t){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:Ct(t),originalEvent:t,point:this}}},hr={createNote:function(){var t=this.options.notes,e=this.noteText||t.label.text;!1!==t.visible&&xt(e)&&null!==e&&(this.note=new _e({value:this.value,text:e,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}},dr=function(t){function e(e,n){t.call(this),this.value=e,this.options=n,this.aboveAxis=At(this.options.aboveAxis,!0),this.tooltipTracking=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options,e=t.markers,n=t.labels;if(!this._rendered){if(this._rendered=!0,e.visible&&e.size&&(this.marker=this.createMarker(),this.append(this.marker)),n.visible){var r=rt(n),o=this.pointData(),i=this.value;r?i=r(o):n.format&&(i=this.formatValue(n.format)),this.label=new be(i,j({align:c,vAlign:c,margin:{left:5,right:5},zIndex:At(n.zIndex,this.series.zIndex)},n),o),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}},e.prototype.markerBorder=function(){var t=this.options.markers,e=t.background,n=j({color:this.color},t.border);return xt(n.color)||(n.color=new _.Color(e).brightness(.8).toHex()),n},e.prototype.createVisual=function(){},e.prototype.createMarker=function(){var t=this.options.markers;return new se({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:this.markerBorder(),opacity:this.series.opacity||t.opacity,zIndex:At(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})},e.prototype.markerBox=function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},e.prototype.reflow=function(t){var e=this.options,n=this.aboveAxis,r=e.vertical;this.render(),this.box=t;var o=t.clone();if(r?n?o.y1-=o.height():o.y2+=o.height():n?o.x1+=o.width():o.x2-=o.width(),this._childBox=o,this.marker&&this.marker.reflow(o),this.reflowLabel(o),this.errorBars)for(var i=0;i<this.errorBars.length;i++)this.errorBars[i].reflow(o);if(this.note){var a=this.markerBox();if(!e.markers.visible||!e.markers.size){var s=a.center();a=new Zt(s.x,s.y,s.x,s.y)}this.note.reflow(a)}},e.prototype.reflowLabel=function(t){var e=this.options,n=this.label,r=e.labels.position;n&&(r="below"===(r="above"===r?g:r)?l:r,n.reflow(t),n.box.alignTo(this.markerBox(),r),n.reflow(n.box))},e.prototype.createHighlight=function(){var t=this.options.highlight.markers,e=this.markerBorder().color,n=this.options.markers,r=n.size+(n.border.width||0)+(t.border.width||0),o=new se({type:n.type,width:r,height:r,rotation:n.rotation,background:t.color||e,border:{color:t.border.color,width:t.border.width,opacity:At(t.border.opacity,1)},opacity:At(t.opacity,1)});return o.reflow(this._childBox),o.getElement()},e.prototype.highlightVisual=function(){return(this.marker||{}).visual},e.prototype.highlightVisualArgs=function(){var t,e,n=this.marker;if(n)e=n.paddingBox.toRect(),t=n.visual;else{var r=this.options.markers.size,o=r/2,i=this.box.center();e=new _.geometry.Rect([i.x-o,i.y-o],[r,r])}return{options:this.options,rect:e,visual:t}},e.prototype.tooltipAnchor=function(){var t=this.markerBox(),e=this.owner.pane.clipBox();if(!e||e.overlaps(t)){var n,r,o=t.x2+5;return this.aboveAxis?(n=t.y1,r=l):(n=t.y2,r=g),{point:new Xt(o,n),align:{horizontal:"left",vertical:r}}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.markerBox().overlaps(t)},e.prototype.unclipElements=function(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}},e}(re);dr.prototype.defaults={vertical:!0,markers:{visible:!0,background:b,size:8,type:u,border:{width:2},opacity:1},labels:{visible:!1,position:"above",margin:z(3),padding:z(4),animation:{type:"fadeIn",delay:600}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}}},j(dr.prototype,pr),j(dr.prototype,hr);var fr=dr,mr=function(t){function e(e,n,r){t.call(this),this.linePoints=e,this.series=n,this.seriesIx=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.points=function(){return this.toGeometryPoints(this.linePoints)},e.prototype.toGeometryPoints=function(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]&&!1!==t[n].visible&&e.push(t[n]._childBox.toRect().center());return e},e.prototype.createVisual=function(){var t=this,e=this.series.visual;e?(this.visual=e({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:function(){return t.segmentVisual(),t.visual}}),this.visual&&!xt(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()},e.prototype.segmentVisual=function(){var t=this.options,e=this.series,n=e.color,r=e._defaults;P(n)&&r&&(n=r.color);var o=_.drawing.Path.fromPoints(this.points(),{stroke:{color:n,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});t.closed&&o.close(),this.visual=o},e.prototype.aliasFor=function(t,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)},e}(re);Rt(mr,{closed:!1});var vr=mr;function gr(t,e,n,r,o){var i=t.box,a=new _.geometry.Point;return a[e]=i[e+n],a[r]=i[r+o],a}var yr={calculateStepPoints:function(t){for(var e=this.parent.plotArea.seriesCategoryAxis(this.series).options,n=e.justified,r=e.vertical,o=e.reverse,i=r?x:w,a=r?w:x,s=o?2:1,l=s,c=gr(t[0],i,s,a,l),u=[c],p=1;p<t.length;p++){var h=gr(t[p],i,s,a,l);if(c[i]!==h[i]){var d=new _.geometry.Point;d[i]=c[i],d[a]=h[a],u.push(d,h)}c=h}return n?c!==St(u)&&u.push(c):u.push(gr(St(t),i,s,a,o?1:2)),u}},br=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.points=function(){return this.calculateStepPoints(this.linePoints)},e}(vr);j(br.prototype,yr);var xr=br,wr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.segmentVisual=function(){var t=this.series,e=t._defaults,n=t.color;P(n)&&e&&(n=e.color);var r=new jn(this.options.closed).process(this.points()),o=new _.drawing.Path({stroke:{color:n,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});o.segments.push.apply(o.segments,r),this.visual=o},e}(vr),kr={renderSegments:function(){var t,e=this.options,n=this.seriesPoints,r=e.series,o=n.length;this._segments=[];for(var i=0;i<o;i++){for(var a=r[i],s=this.sortPoints(n[i]),l=s.length,c=[],u=0;u<l;u++){var p=s[u];p?c.push(p):"interpolate"!==this.seriesMissingValues(a)&&(c.length>1&&(t=this.createSegment(c,a,i,t),this._addSegment(t)),c=[])}c.length>1&&(t=this.createSegment(c,a,i,t),this._addSegment(t))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(t){this._segments.push(t),t.parent=this},sortPoints:function(t){return t},seriesMissingValues:function(t){var e=t.missingValues;return!e&&this.options.isStacked?$n:e||"interpolate"},getNearestPoint:function(t,e,n){for(var r,o=new Xt(t,e),i=this.seriesPoints[n],a=f,s=0;s<i.length;s++){var l=i[s];if(l&&xt(l.value)&&null!==l.value&&!1!==l.visible){var c=l.box.center().distanceTo(o);c<a&&(r=l,a=c)}}return r}},Or=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this._setEnd(this.options.box.x1)},e.prototype.step=function(t){var e=this.options.box;this._setEnd(ht(e.x1,e.x2,t))},e.prototype._setEnd=function(t){var e=this.element,n=e.segments,r=n[1].anchor(),o=n[2].anchor();e.suspend(),r.setX(t),e.resume(),o.setX(t)},e}(_.drawing.Animation);Rt(Or,{duration:600}),_.drawing.AnimationFactory.current.register("clip",Or);var Cr=Or;function _r(t){for(var e=0;e<t.length;e++)if(xt(t[e].zIndex))return!0}var Sr={createAnimation:function(){var t=this.getRoot();if(t&&!1!==(t.options||{}).transitions){var e=t.size(),n=_.drawing.Path.fromRect(e.toRect());this.visual.clip(n),this.animation=new Cr(n,{box:e}),_r(this.options.series)&&this._setChildrenAnimation(n)}},_setChildrenAnimation:function(t){for(var e=this.animationPoints(),n=0;n<e.length;n++){var r=e[n];r&&r.visual&&xt(r.visual.options.zIndex)&&r.visual.clip(t)}}},Er=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.updateStackRange(),this.renderSegments()},e.prototype.pointType=function(){return fr},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,a=this.seriesMissingValues(o),s=t.valueFields.value;if(!xt(s)||null===s){if(a!==$n)return null;s=0}var l=this.pointOptions(o,i);l=this.evalPointOptions(l,s,r,n,o,i);var c=t.fields.color||o.color;P(o.color)&&(c=l.color);var u=new fr(s,l);return u.color=c,this.append(u),u},e.prototype.plotRange=function(t){var e=this.plotValue(t);if(this.options.isStacked)for(var n=t.categoryIx,r=this.categoryPoints[n],o=0;o<r.length;o++){var i=r[o];if(t===i)break;e+=this.plotValue(i),this.options.isStacked100&&(e=Math.min(e,1))}return[e,e]},e.prototype.createSegment=function(t,e,n){var r=e.style;return new("step"===r?xr:"smooth"===r?wr:vr)(t,e,n)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++)e.push((t[n]||{}).marker);return e.concat(this._segments)},e.prototype.supportsPointInactiveOpacity=function(){return!1},e}(ur);j(Er.prototype,kr,Sr);var Ir=Er,Tr=function(t){function e(e,n,r,o,i){t.call(this,e,n,r),this.prevSegment=o,this.stackPoints=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createVisual=function(){var t=this.series,e=t._defaults,n=t.line||{},r=t.color;P(r)&&e&&(r=e.color),this.visual=new _.drawing.Group({zIndex:t.zIndex}),this.createFill({fill:{color:r,opacity:t.opacity},stroke:null}),n.width>0&&!1!==n.visible&&this.createStroke({stroke:j({color:r,opacity:t.opacity,lineCap:"butt"},n)})},e.prototype.strokeSegments=function(){var t=this._strokeSegments;return t||(t=this._strokeSegments=this.createStrokeSegments()),t},e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.points())},e.prototype.stackSegments=function(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)},e.prototype.createStackSegments=function(t){return this.segmentsFromPoints(this.toGeometryPoints(t)).reverse()},e.prototype.segmentsFromPoints=function(t){return t.map((function(t){return new _.geometry.Segment(t)}))},e.prototype.createStroke=function(t){var e=new _.drawing.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)},e.prototype.hasStackSegment=function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length},e.prototype.createFill=function(t){var e=this.strokeSegments(),n=e.slice(0),r=this.hasStackSegment();if(r){var o=this.stackSegments();yt(n,o)}var i=new _.drawing.Path(t);i.segments.push.apply(i.segments,n),!r&&e.length>1&&this.fillToAxes(i),this.visual.append(i)},e.prototype.fillToAxes=function(t){var e=this.parent,n=e.options.invertAxes,r=e.seriesValueAxis(this.series),o=e.categoryAxisCrossingValue(r),i=r.getSlot(o,o,!0),a=this.strokeSegments(),s=a[0].anchor(),l=St(a).anchor(),c=n?i.x1:i.y1;n?t.lineTo(c,l.y).lineTo(c,s.y):t.lineTo(l.x,c).lineTo(s.x,c)},e}(vr),Dr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))},e.prototype.createStackSegments=function(t){return this.segmentsFromPoints(this.calculateStepPoints(t)).reverse()},e}(Tr);j(Dr.prototype,yr);var Pr=Dr,Ar=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){var t=new jn(this.options.closed),e=this.points();return t.process(e)},e.prototype.createStackSegments=function(){for(var t=this.strokeSegments(),e=[],n=t.length-1;n>=0;n--){var r=t[n];e.push(new _.geometry.Segment(r.anchor(),r.controlOut(),r.controlIn()))}return e},e}(Tr),jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,n,r){var o,i,a=this.options.isStacked,s=(e.line||{}).style;a&&n>0&&r&&("gap"!==this.seriesMissingValues(e)?(i=r.linePoints,o=r):i=this._gapStackPoints(t,n,s));return new("step"===s?Pr:"smooth"===s?Ar:Tr)(t,e,n,o,i)},e.prototype.reflow=function(e){t.prototype.reflow.call(this,e);var n=this._stackPoints;if(n)for(var r=0;r<n.length;r++){var o=n[r],i=this.categoryAxis.getSlot(o.categoryIx);o.reflow(i)}},e.prototype._gapStackPoints=function(t,e,n){var r=this.seriesPoints,o=t[0].categoryIx,i=t.length;o<0&&(o=0,i--);var a=o+i,s=this.seriesOptions[0]._outOfRangeMinPoint?1:0,l=[];this._stackPoints=this._stackPoints||[];for(var c=o;c<a;c++){var u=c+s,p=e,h=void 0;do{h=r[--p][u]}while(p>0&&!h);if(h)"step"!==n&&c>o&&!r[p][u-1]&&l.push(this._previousSegmentPoint(c,u,u-1,p)),l.push(h),"step"!==n&&c+1<a&&!r[p][u+1]&&l.push(this._previousSegmentPoint(c,u,u+1,p));else{var d=this._createGapStackPoint(c);this._stackPoints.push(d),l.push(d)}}return l},e.prototype._previousSegmentPoint=function(t,e,n,r){for(var o,i=this.seriesPoints,a=r;a>0&&!o;)o=i[--a][n];return o?o=i[a][e]:(o=this._createGapStackPoint(t),this._stackPoints.push(o)),o},e.prototype._createGapStackPoint=function(t){var e=this.pointOptions({},0),n=new fr(0,e);return n.categoryIx=t,n.series={},n},e.prototype.seriesMissingValues=function(t){return t.missingValues||$n},e.prototype.supportsPointInactiveOpacity=function(){return!1},e}(Ir),Mr=function(t){function e(){t.call(this),this.axisRanges={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t){var e=this.axisRanges;for(var n in t){var r=t[n],o=e[n];e[n]=o=o||{min:f,max:m},o.min=Math.min(o.min,r.min),o.max=Math.max(o.max,r.max)}},e.prototype.reset=function(t){this.axisRanges[t]=void 0},e.prototype.query=function(t){return this.axisRanges[t]},e}(_.Class),Rr=function(t){function e(e,n,r){t.call(this,n),this.textBox=new be(e,this.options,r),this.append(this.textBox)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createVisual=function(){this.textBox.options.noclip=this.options.noclip},e.prototype.reflow=function(t){var e=this.options,n=e.vertical,r=e.aboveAxis,o=this.children[0],i=o.options,a=o.box,s=o.options.padding,u=t;i.align=n?c:d,i.vAlign=n?g:c,"insideEnd"===e.position?n?(i.vAlign=g,!r&&a.height()<t.height()&&(i.vAlign=l)):i.align=r?v:d:e.position===c?(i.vAlign=c,i.align=c):"insideBase"===e.position?n?i.vAlign=r?l:g:i.align=r?d:v:"outsideEnd"===e.position&&(n?u=r?new Zt(t.x1,t.y1-a.height(),t.x2,t.y1):new Zt(t.x1,t.y2,t.x2,t.y2+a.height()):(i.align=c,u=r?new Zt(t.x2,t.y1,t.x2+a.width(),t.y2):new Zt(t.x1-a.width(),t.y1,t.x1,t.y2))),e.rotation||(n?s.left=s.right=(u.width()-o.contentBox.width())/2:s.top=s.bottom=(u.height()-o.contentBox.height())/2),o.reflow(u)},e.prototype.alignToClipBox=function(t){var e=this.options.vertical?w:x,n=e+"1",r=e+"2",o=this.children[0],i=this.parent.box;if(i[n]<t[n]||t[r]<i[r]){var a=o.paddingBox.clone();a[n]=Math.max(i[n],t[n]),a[r]=Math.min(i[r],t[r]),this.reflow(a)}},e}(re);Rt(Rr,{position:"outsideEnd",margin:z(3),padding:z(4),color:s,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:"fadeIn",delay:600},zIndex:2});var Nr=Rr;function Fr(t){var e=t.overlay;return e&&e.gradient&&"none"!==e.gradient}var Lr=function(t){function e(e,n){t.call(this),this.options=n,this.color=n.color||b,this.aboveAxis=At(this.options.aboveAxis,!0),this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},e.prototype.createLabel=function(){var t=this.options,e=t.labels;if(e.visible){var n,r=this.pointData(),o=rt(e);n=o?o(r):this.formatValue(e.format),this.label=new Nr(n,j({vertical:t.vertical},e),r),this.append(this.label)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.reflow=function(t){this.render();var e=this.label;if(this.box=t,e&&(e.options.aboveAxis=this.aboveAxis,e.reflow(t)),this.note&&this.note.reflow(t),this.errorBars)for(var n=0;n<this.errorBars.length;n++)this.errorBars[n].reflow(t)},e.prototype.createVisual=function(){var e=this,n=this.box,r=this.options,o=r.visual;if(!1!==this.visible)if(t.prototype.createVisual.call(this),o){var i=this.rectVisual=o({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:n.toRect(),createVisual:function(){var t=new _.drawing.Group;return e.createRect(t),t},options:r});i&&this.visual.append(i)}else n.width()>0&&n.height()>0&&this.createRect(this.visual)},e.prototype.createRect=function(t){var e=this.options,n=e.border,r=xt(n.opacity)?n.opacity:e.opacity,o=this.box.toRect();o.size.width=Math.round(o.size.width);var i=this.rectVisual=_.drawing.Path.fromRect(o,{fill:{color:this.color,opacity:e.opacity},stroke:{color:this.getBorderColor(),width:n.width,opacity:r,dashType:n.dashType}}),a=this.box.width(),s=this.box.height();if((e.vertical?a:s)>6&&(S(i),(a<1||s<1)&&(i.options.stroke.lineJoin="round")),t.append(i),Fr(e)){var l=this.createGradientOverlay(i,{baseColor:this.color},j({end:e.vertical?void 0:[0,1]},e.overlay));t.append(l)}},e.prototype.createHighlight=function(t){return S(_.drawing.Path.fromRect(this.box.toRect(),t))},e.prototype.highlightVisual=function(){return this.rectVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},e.prototype.getBorderColor=function(){var t=this.color,e=this.options.border,n=e._brightness||.8,r=e.color;return xt(r)||(r=new _.Color(t).brightness(n).toHex()),r},e.prototype.tooltipAnchor=function(){var t,e,n=this.options,r=this.box,o=this.aboveAxis,i=this.owner.pane.clipBox()||r,a=d,s=g;if(n.vertical)t=Math.min(r.x2,i.x2)+5,o?e=Math.max(r.y1,i.y1):(e=Math.min(r.y2,i.y2),s=l);else{var c=Math.max(r.x1,i.x1),u=Math.min(r.x2,i.x2);n.isStacked?(s=l,o?(a=v,t=u):t=c,e=Math.max(r.y1,i.y1)-5):(o?t=u+5:(t=c-5,a=v),e=Math.max(r.y1,i.y1))}return{point:new Xt(t,e),align:{horizontal:a,vertical:s}}},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}},e}(re);j(Lr.prototype,pr),j(Lr.prototype,hr),Lr.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};var zr=Lr;function Br(t,e){t.forEach(e)}function Vr(t,e){for(var n=t.length,r=n-1;r>=0;r--)e(t[r],r-n-1)}var Hr=function(t){function e(e){t.call(this,e),this.forEach=e.rtl?Vr:Br}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=e.vertical,r=e.gap,o=e.spacing,i=this.children,a=i.length,s=n?w:x,l=a+r+o*(a-1),c=(n?t.height():t.width())/l,u=t[s+1]+c*(r/2);this.forEach(i,(function(e,n){var r=(e.box||t).clone();r[s+1]=u,r[s+2]=u+c,e.reflow(r),n<a-1&&(u+=c*o),u+=c}))},e}(re);Rt(Hr,{vertical:!1,gap:0,spacing:0});var Ur=Hr,Wr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){for(var e=this.options.vertical?x:w,n=this.children,r=n.length,o=this.box=new Zt,i=0;i<r;i++){var a=n[i];if(!1!==a.visible){var s=a.box.clone();s.snapTo(t,e),0===i&&(o=this.box=s.clone()),a.reflow(s),o.wrap(s)}}},e}(re);Rt(Wr,{vertical:!0});var qr=Wr,Kr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.updateStackRange()},e.prototype.pointType=function(){return zr},e.prototype.clusterType=function(){return Ur},e.prototype.stackType=function(){return qr},e.prototype.stackLimits=function(e,n){return t.prototype.stackLimits.call(this,e,n)},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,a=this.options,s=this.children,l=a.isStacked,c=this.pointValue(t),u=this.pointOptions(o,i),p=u.labels;l&&"outsideEnd"===p.position&&(p.position="insideEnd"),u.isStacked=l;var h=t.fields.color||o.color;c<0&&u.negativeColor&&(h=u.negativeColor),u=this.evalPointOptions(u,c,r,n,o,i),P(o.color)&&(h=u.color);var d=new(this.pointType())(c,u);d.color=h;var f=s[n];f||(f=new(this.clusterType())({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(f));l?this.getStackWrap(o,f).append(d):f.append(d);return d},e.prototype.getStackWrap=function(t,e){var n,r=t.stack,o=r&&r.group||r,i=e.children;if("string"==typeof o){for(var a=0;a<i.length;a++)if(i[a]._stackGroup===o){n=i[a];break}}else n=i[0];n||((n=new(this.stackType())({vertical:!this.options.invertAxes}))._stackGroup=o,e.append(n));return n},e.prototype.categorySlot=function(t,e,n){var r=this.options,o=t.getSlot(e),i=n.startValue();if(r.isStacked){var a=n.getSlot(i,i,!0),s=r.invertAxes?x:w;o[s+1]=o[s+2]=a[s+1]}return o},e.prototype.reflowCategories=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++)e[r].reflow(t[r])},e.prototype.createAnimation=function(){this._setAnimationOptions(),t.prototype.createAnimation.call(this),_r(this.options.series)&&this._setChildrenAnimation()},e.prototype._setChildrenAnimation=function(){for(var t=this.points,e=0;e<t.length;e++){var n=t[e],r=n.visual;r&&xt(r.options.zIndex)&&(n.options.animation=this.options.animation,n.createAnimation())}},e.prototype._setAnimationOptions=function(){var t,e=this.options,n=e.animation||{};if(e.isStacked){var r=this.seriesValueAxis(e.series[0]);t=r.getSlot(r.startValue())}else t=this.categoryAxis.getSlot(0);n.origin=new _.geometry.Point(t.x1,t.y1),n.vertical=!e.invertAxes},e}(ur);Rt(Kr,{animation:{type:Zn}});var Gr=Kr,Yr=function(t){function e(e,n){t.call(this,n),this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=this.value,r=this.owner.seriesValueAxis(e),o=r.getSlot(n.open,n.close),i=r.getSlot(n.low,n.high);o.x1=i.x1=t.x1,o.x2=i.x2=t.x2,this.realBody=o;var a=i.center().x,s=[];s.push([[a,i.y1],[a,o.y1]]),s.push([[a,o.y2],[a,i.y2]]),this.lines=s,this.box=i.clone().wrap(o),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()},e.prototype.reflowNote=function(){this.note&&this.note.reflow(this.box)},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()},e.prototype.mainVisual=function(t){var e=new _.drawing.Group;return this.createBody(e,t),this.createLines(e,t),e},e.prototype.createBody=function(t,e){var n=_.drawing.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&n.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:At(e.border.opacity,e.opacity)}),S(n),t.append(n),Fr(e)&&t.append(this.createGradientOverlay(n,{baseColor:this.color},j({end:e.vertical?void 0:[0,1]},e.overlay)))},e.prototype.createLines=function(t,e){this.drawLines(t,e,this.lines,e.line)},e.prototype.drawLines=function(t,e,n,r){if(n)for(var o={stroke:{color:r.color||this.color,opacity:At(r.opacity,e.opacity),width:r.width,dashType:r.dashType,lineCap:"butt"}},i=0;i<n.length;i++){var a=_.drawing.Path.fromPoints(n[i],o);S(a),t.append(a)}},e.prototype.getBorderColor=function(){var t=this.options.border,e=t.color;return xt(e)||(e=new _.Color(this.color).brightness(t._brightness).toHex()),e},e.prototype.createOverlay=function(){var t=_.drawing.Path.fromRect(this.box.toRect(),{fill:{color:b,opacity:0},stroke:null});this.visual.append(t)},e.prototype.createHighlight=function(){var t=this.options.highlight,e=this.color;this.color=t.color||this.color;var n=this.mainVisual(j({},this.options,{line:{color:this.getBorderColor()}},t));return this.color=e,n},e.prototype.highlightVisual=function(){return this._mainVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},e.prototype.tooltipAnchor=function(){var t=this.box,e=this.owner.pane.clipBox()||t;return{point:new Xt(t.x2+5,Math.max(t.y1,e.y1)+5),align:{horizontal:d,vertical:g}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e}(re);Rt(Yr,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),j(Yr.prototype,pr),j(Yr.prototype,hr);var Xr=Yr;function $r(t){return zn(t)===t.length}var Zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowCategories=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++)e[r].reflow(t[r])},e.prototype.addValue=function(t,e){var n,r=e.categoryIx,o=e.category,i=e.series,a=e.seriesIx,s=this.children,l=this.options,c=t.valueFields,u=$r(this.splitValue(c)),p=i.data[r],h=this.categoryPoints[r];h||(this.categoryPoints[r]=h=[]),u&&(n=this.createPoint(t,e));var d=s[r];d||(d=new Ur({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),n&&(this.updateRange(c,e),d.append(n),n.categoryIx=r,n.category=o,n.series=i,n.seriesIx=a,n.owner=this,n.dataItem=p,n.noteText=t.fields.noteText),this.points.push(n),h.push(n)},e.prototype.pointType=function(){return Xr},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,a=this.pointType(),s=t.valueFields,l=j({},o),c=t.fields.color||o.color;l=this.evalPointOptions(l,s,r,n,o,i),"candlestick"===o.type&&s.open>s.close&&(c=t.fields.downColor||o.downColor||o.color),P(o.color)&&(c=l.color),l.vertical=!this.options.invertAxes;var u=new a(s,l);return u.color=c,u},e.prototype.splitValue=function(t){return[t.low,t.open,t.close,t.high]},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=this.splitValue(t),o=this.valueAxisRanges[n];o=this.valueAxisRanges[n]=o||{min:f,max:m},o=this.valueAxisRanges[n]={min:Math.min.apply(Math,r.concat([o.min])),max:Math.max.apply(Math,r.concat([o.max]))}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.open,n.high,n.low,n.close,t.category)},e.prototype.animationPoints=function(){return this.points},e}(ur);j(Zr.prototype,Sr);var Jr=Zr,Qr=function(t){function e(e,n){t.call(this,e,n),this.createNote()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e,n,r=this.options,o=this.value,i=this.owner.seriesValueAxis(r);this.boxSlot=n=i.getSlot(o.q1,o.q3),this.realBody=n,this.reflowBoxSlot(t),this.whiskerSlot=e=i.getSlot(o.lower,o.upper),this.reflowWhiskerSlot(t);var a=i.getSlot(o.median);if(o.mean){var s=i.getSlot(o.mean);this.meanPoints=this.calcMeanPoints(t,s)}this.whiskerPoints=this.calcWhiskerPoints(n,e),this.medianPoints=this.calcMedianPoints(t,a),this.box=e.clone().wrap(n),this.reflowNote()},e.prototype.reflowBoxSlot=function(t){this.boxSlot.x1=t.x1,this.boxSlot.x2=t.x2},e.prototype.reflowWhiskerSlot=function(t){this.whiskerSlot.x1=t.x1,this.whiskerSlot.x2=t.x2},e.prototype.calcMeanPoints=function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},e.prototype.calcWhiskerPoints=function(t,e){var n=e.center().x;return[[[n-5,e.y1],[n+5,e.y1],[n,e.y1],[n,t.y1]],[[n-5,e.y2],[n+5,e.y2],[n,e.y2],[n,t.y2]]]},e.prototype.calcMedianPoints=function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},e.prototype.renderOutliers=function(t){for(var e=this.value,n=e.outliers||[],r=3*Math.abs(e.q3-e.q1),o=[],i=t.markers||{},a=0;a<n.length;a++){var s=n[a],l=j({},(i=s<e.q3+r&&s>e.q1-r?t.outliers:t.extremes).border);xt(l.color)||(xt(this.color)?l.color=this.color:l.color=new _.Color(i.background).brightness(.8).toHex());var c=new se({type:i.type,width:i.size,height:i.size,rotation:i.rotation,background:i.background,border:l,opacity:i.opacity});c.value=s,o.push(c)}return this.reflowOutliers(o),o},e.prototype.reflowOutliers=function(t){for(var e=this.owner.seriesValueAxis(this.options),n=this.box.center(),r=0;r<t.length;r++){var o=t[r].value,i=e.getSlot(o);this.options.vertical?i.move(n.x):i.move(void 0,n.y),this.box=this.box.wrap(i),t[r].reflow(i)}},e.prototype.mainVisual=function(e){for(var n=t.prototype.mainVisual.call(this,e),r=this.renderOutliers(e),o=0;o<r.length;o++){var i=r[o].getElement();i&&n.append(i)}return n},e.prototype.createLines=function(t,e){this.drawLines(t,e,this.whiskerPoints,e.whiskers),this.drawLines(t,e,this.medianPoints,e.median),this.drawLines(t,e,this.meanPoints,e.mean)},e.prototype.getBorderColor=function(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:t.prototype.getBorderColor.call(this)},e}(Xr);Rt(Qr,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:"cross",background:b,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:u,background:b,border:{width:2,opacity:1},opacity:0}}),j(Qr.prototype,pr);var to=Qr,eo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowBoxSlot=function(t){this.boxSlot.y1=t.y1,this.boxSlot.y2=t.y2},e.prototype.reflowWhiskerSlot=function(t){this.whiskerSlot.y1=t.y1,this.whiskerSlot.y2=t.y2},e.prototype.calcMeanPoints=function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},e.prototype.calcWhiskerPoints=function(t,e){var n=e.center().y;return[[[e.x1,n-5],[e.x1,n+5],[e.x1,n],[t.x1,n]],[[e.x2,n-5],[e.x2,n+5],[e.x2,n],[t.x2,n]]]},e.prototype.calcMedianPoints=function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},e}(to),no=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addValue=function(t,e){var n,r=e.categoryIx,o=e.category,i=e.series,a=e.seriesIx,s=this.children,l=this.options,c=t.valueFields,u=$r(this.splitValue(c)),p=i.data[r],h=this.categoryPoints[r];h||(this.categoryPoints[r]=h=[]),u&&(n=this.createPoint(t,e));var d=s[r];d||(d=new Ur({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),n&&(this.updateRange(c,e),d.append(n),n.categoryIx=r,n.category=o,n.series=i,n.seriesIx=a,n.owner=this,n.dataItem=p),this.points.push(n),h.push(n)},e.prototype.pointType=function(){return this.options.invertAxes?eo:to},e.prototype.splitValue=function(t){return[t.lower,t.q1,t.median,t.q3,t.upper]},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=this.valueAxisRanges[n],o=this.splitValue(t).concat(this.filterOutliers(t.outliers));xt(t.mean)&&(o=o.concat(t.mean)),r=this.valueAxisRanges[n]=r||{min:f,max:m},r=this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([r.min])),max:Math.max.apply(Math,o.concat([r.max]))}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,t.category)},e.prototype.filterOutliers=function(t){for(var e=(t||[]).length,n=[],r=0;r<e;r++){var o=t[r];xt(o)&&null!==o&&n.push(o)}return n},e.prototype.supportsPointInactiveOpacity=function(){return!1},e}(Jr),ro=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAxis=function(){var t=this.chart.seriesAxes(this.series);return this.isVertical?t.y:t.x},e}(ir);function oo(t){return xt(t)&&null!==t}var io=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]},e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.addErrorBar=function(t,e,n){var r,o=t.value[e],i=e+"Value",a=e+"ErrorLow",s=e+"ErrorHigh",l=n.seriesIx,c=n.series,u=t.options.errorBars,p=n[a],h=n[s];I(o)&&(I(p)&&I(h)&&(r={low:p,high:h}),u&&xt(u[i])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][l]=this.seriesErrorRanges[e][l]||new Gn(u[i],c,e),r=this.seriesErrorRanges[e][l].getErrorRange(o,u[i])),r&&this.addPointErrorBar(r,t,e))},e.prototype.addPointErrorBar=function(t,e,n){var r=t.low,o=t.high,i=e.series,a=e.options.errorBars,s=n===w,l={};e[n+"Low"]=r,e[n+"High"]=o,e.errorBars=e.errorBars||[];var c=new ro(r,o,s,this,i,a);e.errorBars.push(c),e.append(c),l[n]=r,this.updateRange(l,i),l[n]=o,this.updateRange(l,i)},e.prototype.addValue=function(t,e){var n,r=t.x,o=t.y,i=e.seriesIx,a=this.options.series[i],s=this.seriesMissingValues(a),l=this.seriesPoints[i],c=t;oo(r)&&oo(o)||(c=this.createMissingValue(c,s)),c&&((n=this.createPoint(c,e))&&(Object.assign(n,e),this.addErrorBar(n,x,e),this.addErrorBar(n,w,e)),this.updateRange(c,e.series)),this.points.push(n),l.push(n)},e.prototype.seriesMissingValues=function(t){return t.missingValues},e.prototype.createMissingValue=function(){},e.prototype.updateRange=function(t,e){var n=this.chartService.intl,r=e.xAxis,o=e.yAxis,i=t.x,a=t.y,s=this.xAxisRanges[r],l=this.yAxisRanges[o];oo(i)&&(s=this.xAxisRanges[r]=s||{min:f,max:m},T(i)&&(i=Ge(n,i)),s.min=Math.min(s.min,i),s.max=Math.max(s.max,i)),oo(a)&&(l=this.yAxisRanges[o]=l||{min:f,max:m},T(a)&&(a=Ge(n,a)),l.min=Math.min(l.min,a),l.max=Math.max(l.max,a))},e.prototype.evalPointOptions=function(t,e,n){var r=n.series,o=n.seriesIx,i={defaults:r._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},a=this._evalSeries[o];xt(a)||(this._evalSeries[o]=a=sr(t,{},i,!0));var s=t;return a&&sr(s=j({},t),{value:e,series:r,dataItem:n.dataItem},i),s},e.prototype.pointType=function(){return fr},e.prototype.pointOptions=function(t,e){var n=this.seriesOptions[e];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[e]=n=j({},r,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return n},e.prototype.createPoint=function(t,e){var n=e.series,r=this.pointOptions(n,e.seriesIx),o=e.color||n.color;r=this.evalPointOptions(r,t,e),P(n.color)&&(o=r.color);var i=new fr(t,r);return i.color=o,this.append(i),i},e.prototype.seriesAxes=function(t){var e=t.xAxis,n=t.yAxis,r=this.plotArea,o=e?r.namedXAxes[e]:r.axisX,i=n?r.namedYAxes[n]:r.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!i)throw new Error("Unable to locate Y axis with name "+n);return{x:o,y:i}},e.prototype.reflow=function(t){var e=this,n=this.points,r=!this.options.clip,o=0;this.traverseDataPoints((function(t,i){var a=n[o++],s=e.seriesAxes(i.series),l=s.x.getSlot(t.x,t.x,r),c=s.y.getSlot(t.y,t.y,r);if(a)if(l&&c){var u=e.pointSlot(l,c);a.reflow(u)}else a.visible=!1})),this.box=t},e.prototype.pointSlot=function(t,e){return new Zt(t.x1,e.y1,t.x2,e.y2)},e.prototype.traverseDataPoints=function(t){for(var e=this.options.series,n=this.seriesPoints,r=0;r<e.length;r++){var o=e[r];n[r]||(n[r]=[]);for(var i=0;i<o.data.length;i++){var a=this._bindPoint(o,r,i),s=a.valueFields,l=a.fields;t(s,j({pointIx:i,series:o,seriesIx:r,dataItem:o.data[i],owner:this},l))}}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.x,n.y)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++)e.push((t[n]||{}).marker);return e},e}(re);Rt(io,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),j(io.prototype,Sr,{_bindPoint:ur.prototype._bindPoint});var ao=io,so=function(t){function e(e,n){t.call(this,e,n),this.category=e.category}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createHighlight=function(){var t=this.options.highlight,e=t.border,n=this.options.markers,r=this.box.center(),o=(n.size+n.border.width+e.width)/2,i=new _.drawing.Group,a=new _.drawing.Circle(new _.geometry.Circle([r.x,r.y+o/5+e.width/2],o+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:n.background,stops:[{offset:0,color:n.background,opacity:.3},{offset:1,color:n.background,opacity:0}]})}),s=new _.drawing.Circle(new _.geometry.Circle([r.x,r.y],o),{stroke:{color:e.color||new _.Color(n.background).brightness(.8).toHex(),width:e.width,opacity:e.opacity},fill:{color:n.background,opacity:t.opacity}});return i.append(a,s),i},e}(fr);so.prototype.defaults=j({},so.prototype.defaults,{labels:{position:c},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),so.prototype.defaults.highlight.zIndex=void 0;var lo=so,co=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this._maxSize=m,t.prototype._initFields.call(this)},e.prototype.addValue=function(e,n){null!==e.size&&(e.size>0||e.size<0&&n.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(e.size)),t.prototype.addValue.call(this,e,n)):(this.points.push(null),this.seriesPoints[n.seriesIx].push(null))},e.prototype.reflow=function(e){this.updateBubblesSize(e),t.prototype.reflow.call(this,e)},e.prototype.pointType=function(){return lo},e.prototype.createPoint=function(t,e){var n=e.series,r=n.data.length,o=e.pointIx*(600/r),i={delay:o,duration:600-o,type:"bubble"},a=e.color||n.color;t.size<0&&n.negativeValues.visible&&(a=At(n.negativeValues.color,a));var s=j({labels:{animation:{delay:o,duration:600-o}}},this.pointOptions(n,e.seriesIx),{markers:{type:u,border:n.border,opacity:n.opacity,animation:i}});s=this.evalPointOptions(s,t,e),P(n.color)&&(a=s.color),s.markers.background=a;var l=new lo(t,s);return l.color=a,this.append(l),l},e.prototype.updateBubblesSize=function(t){for(var e=this.options.series,n=Math.min(t.width(),t.height()),r=0;r<e.length;r++)for(var o=e[r],i=this.seriesPoints[r],a=(o.minSize||Math.max(.02*n,10))/2,s=(o.maxSize||.2*n)/2,l=Math.PI*a*a,c=(Math.PI*s*s-l)/this._maxSize,u=0;u<i.length;u++){var p=i[u];if(p){var h=Math.abs(p.value.size)*c,d=Math.sqrt((l+h)/Math.PI),f=At(p.options.zIndex,0)+(1-d/s);j(p.options,{zIndex:f,markers:{size:2*d,zIndex:f},labels:{zIndex:f+1}})}}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.x,n.y,n.size,t.category)},e.prototype.createAnimation=function(){},e.prototype.createVisual=function(){},e}(ao);Rt(co,{tooltip:{format:"{3}"},labels:{format:"{3}"}});var uo=co,po=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(se);j(po.prototype,pr);var ho=po,fo=function(t){function e(e,n){t.call(this,n),this.aboveAxis=this.options.aboveAxis,this.color=n.color||b,this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options;this._rendered||(this._rendered=!0,xt(this.value.target)&&(this.target=new ho({type:t.target.shape,background:t.target.color||this.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:g,align:v}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createNote())},e.prototype.reflow=function(t){this.render();var e=this.options,n=this.target,r=this.owner,o=e.invertAxes,i=r.seriesValueAxis(this.options),a=r.categorySlot(r.categoryAxis,e.categoryIx,i),s=i.getSlot(this.value.target),l=o?s:a,c=o?a:s;if(n){var u=new Zt(l.x1,c.y1,l.x2,c.y2);n.options.height=o?u.height():e.target.line.width,n.options.width=o?e.target.line.width:u.width(),n.reflow(u)}this.note&&this.note.reflow(t),this.box=t},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options,n=_.drawing.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&n.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:At(e.border.opacity,e.opacity)}),this.bodyVisual=n,S(n),this.visual.append(n)},e.prototype.createAnimation=function(){this.bodyVisual&&(this.animation=_.drawing.Animation.create(this.bodyVisual,this.options.animation))},e.prototype.createHighlight=function(t){return _.drawing.Path.fromRect(this.box.toRect(),t)},e.prototype.highlightVisual=function(){return this.bodyVisual},e.prototype.highlightVisualArgs=function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e}(re);fo.prototype.tooltipAnchor=zr.prototype.tooltipAnchor,Rt(fo,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),j(fo.prototype,pr),j(fo.prototype,hr);var mo=fo,vo=function(t){function e(e,n){!function(t){for(var e=t.series,n=0;n<e.length;n++){var r=e[n],o=r.data;!o||k(o[0])||M(o[0])||(r.data=[o])}}(n),t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowCategories=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++)e[r].reflow(t[r])},e.prototype.plotRange=function(t){var e=t.series,n=this.seriesValueAxis(e),r=this.categoryAxisCrossingValue(n);return[r,t.value.current||r]},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,a=this.options,s=this.children,l=t.valueFields,c=j({vertical:!a.invertAxes,overlay:o.overlay,categoryIx:n,invertAxes:a.invertAxes},o),u=t.fields.color||o.color;c=this.evalPointOptions(c,l,r,n,o,i),P(o.color)&&(u=c.color);var p=new mo(l,c);p.color=u;var h=s[n];return h||(h=new Ur({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(h)),h.append(p),p},e.prototype.updateRange=function(t,e){var n=t.current,r=t.target,o=e.series.axis,i=this.valueAxisRanges[o];xt(n)&&!isNaN(n)&&xt(r&&!isNaN(r))&&((i=this.valueAxisRanges[o]=i||{min:f,max:m}).min=Math.min(i.min,n,r),i.max=Math.max(i.max,n,r))},e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value.current,t.value.target)},e.prototype.pointValue=function(t){return t.valueFields.current},e.prototype.aboveAxis=function(t){return t.value.current>0},e.prototype.createAnimation=function(){var t=this.points;this._setAnimationOptions();for(var e=0;e<t.length;e++){var n=t[e];n.options.animation=this.options.animation,n.createAnimation()}},e}(ur);vo.prototype._setAnimationOptions=Gr.prototype._setAnimationOptions,Rt(vo,{animation:{type:Zn}});var go=vo,yo=function(t){function e(e,n){t.call(this),this.chartService=e,this.options=j({},this.options,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStyle=function(t,e){var n=t.background,r=t.border.color;if(e){var o=e.color||e.options.color;n=At(n,o),r=At(r,o)}var i=z(t.padding||{},"auto");return{backgroundColor:n,borderColor:r,font:t.font,color:t.color,opacity:t.opacity,borderWidth:R(t.border.width),paddingTop:R(i.top),paddingBottom:R(i.bottom),paddingLeft:R(i.left),paddingRight:R(i.right)}},e.prototype.show=function(t,e,n){t.format=e.format;var r=this.getStyle(e,n);t.style=r;var o=new _.Color(r.backgroundColor);xt(e.color)||o.isDark()||(t.className="k-chart-tooltip-inverse"),this.chartService.notify("showTooltip",t),this.visible=!0},e.prototype.hide=function(){this.chartService&&this.chartService.notify("hideTooltip"),this.visible=!1},e.prototype.destroy=function(){delete this.chartService},e}(_.Class);Rt(yo,{border:{width:1},opacity:1});var bo=yo,xo=function(t){function e(e,n,r){t.call(this,e,r),this.crosshair=n,this.formatService=e.format,this.initAxisName()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initAxisName=function(){var t,e=this.crosshair.axis;t=e.plotArea.categoryAxis?e.getCategory?"categoryAxis":"valueAxis":e.options.vertical?"yAxis":"xAxis",this.axisName=t},e.prototype.showAt=function(t){var e=this.crosshair.axis,n=this.options,r=e[n.stickyMode?"getCategory":"getValue"](t),o=r;n.format?o=this.formatService.auto(n.format,r):e.options.type===p&&(o=this.formatService.auto(e.options.labels.dateFormats[e.options.baseUnit],r)),this.show({point:t,anchor:this.getAnchor(),crosshair:this.crosshair,value:o,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)},e.prototype.hide=function(){this.chartService.notify("hideTooltip",{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})},e.prototype.getAnchor=function(){var t,e,n,r=this.crosshair,o=this.options,i=o.position,a=o.padding,s=!r.axis.options.vertical,u=r.line.bbox();return s?(t=c,i===l?(e=g,n=u.bottomLeft().translate(0,a)):(e=l,n=u.topLeft().translate(0,-a))):(e=c,i===d?(t=v,n=u.topLeft().translate(-a,0)):(t=d,n=u.topRight().translate(a,0))),{point:n,align:{horizontal:t,vertical:e}}},e}(bo);Rt(xo,{padding:10});var wo=xo,ko=function(t){function e(e,n,r){t.call(this,r),this.axis=n,this.stickyMode=n instanceof Ze;var o=this.options.tooltip;o.visible&&(this.tooltip=new wo(e,this,j({},o,{stickyMode:this.stickyMode})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.showAt=function(t){this.point=t,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(t)},e.prototype.hide=function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},e.prototype.moveLine=function(){var t,e=this.axis,n=this.point,r=e.options.vertical,o=this.getBox(),i=r?w:x,a=new _.geometry.Point(o.x1,o.y1);if(t=r?new _.geometry.Point(o.x2,o.y1):new _.geometry.Point(o.x1,o.y2),n)if(this.stickyMode){var s=e.getSlot(e.pointCategoryIndex(n));a[i]=t[i]=s.center()[i]}else a[i]=t[i]=n[i];this.box=o,this.line.moveTo(a).lineTo(t)},e.prototype.getBox=function(){for(var t,e=this.axis,n=e.pane.axes,r=n.length,o=e.options.vertical,i=e.lineBox().clone(),a=o?x:w,s=0;s<r;s++){var l=n[s];l.options.vertical!==o&&(t?t.wrap(l.lineBox()):t=l.lineBox().clone())}return i[a+1]=t[a+1],i[a+2]=t[a+2],i},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options;this.line=new _.drawing.Path({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),t.prototype.destroy.call(this)},e}(re);Rt(ko,{color:s,width:2,zIndex:-1,tooltip:{visible:!1}});var Oo=ko,Co=function(t){function e(e,n){t.call(this,e),this.pane=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldClip=function(){for(var t=this.children,e=t.length,n=0;n<e;n++)if(!0===t[n].options.clip)return!0;return!1},e.prototype._clipBox=function(){return this.pane.chartsBox()},e.prototype.createVisual=function(){if(this.visual=new _.drawing.Group({zIndex:0}),this.shouldClip()){var t=(this.clipBox=this._clipBox()).toRect(),e=_.drawing.Path.fromRect(t);S(e),this.visual.clip(e),this.unclipLabels()}},e.prototype.stackRoot=function(){return this},e.prototype.unclipLabels=function(){for(var t=this.children,e=this.clipBox,n=0;n<t.length;n++)for(var r=t[n].points||{},o=r.length,i=0;i<o;i++){var a=r[i];if(a&&!1!==a.visible&&a.overlapsBox&&a.overlapsBox(e))if(a.unclipElements)a.unclipElements();else{var s=a.label,l=a.note;s&&s.options.visible&&(s.alignToClipBox&&s.alignToClipBox(e),s.options.noclip=!0),l&&l.options.visible&&(l.options.noclip=!0)}}},e.prototype.destroy=function(){t.prototype.destroy.call(this),delete this.parent},e}(re);Co.prototype.isStackRoot=!0;var _o=Co,So=function(t){function e(e){t.call(this,e),this.id="pane"+Eo++,this.createTitle(),this.content=new re,this.chartContainer=new _o({},this),this.append(this.content),this.axes=[],this.charts=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createTitle=function(){var t=this.options.title;M(t)&&(t=j({},t,{align:t.position,position:g})),this.title=we.buildTitle(t,this,e.prototype.options.title)},e.prototype.appendAxis=function(t){this.content.append(t),this.axes.push(t),t.pane=this},e.prototype.appendAxisAt=function(t,e){this.content.append(t),this.axes.splice(e,0,t),t.pane=this},e.prototype.appendChart=function(t){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(t),this.chartContainer.append(t),t.pane=this},e.prototype.empty=function(){var t=this.parent;if(t){for(var e=0;e<this.axes.length;e++)t.removeAxis(this.axes[e]);for(var n=0;n<this.charts.length;n++)t.removeChart(this.charts[n])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]},e.prototype.reflow=function(e){var n;St(this.children)===this.content&&(n=this.children.pop()),t.prototype.reflow.call(this,e),n&&this.children.push(n),this.title&&(this.contentBox.y1+=this.title.box.height())},e.prototype.visualStyle=function(){var e=t.prototype.visualStyle.call(this);return e.zIndex=-10,e},e.prototype.renderComplete=function(){this.options.visible&&this.createGridLines()},e.prototype.stackRoot=function(){return this},e.prototype.clipRoot=function(){return this},e.prototype.createGridLines=function(){for(var t=this.axes,e=t.concat(this.parent.axes),n=[],r=[],o=0;o<t.length;o++)for(var i=t[o],a=i.options.vertical,s=a?n:r,l=0;l<e.length;l++)if(0===s.length){var c=e[l];a!==c.options.vertical&&yt(s,i.createGridLines(c))}},e.prototype.refresh=function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()},e.prototype.chartsBox=function(){for(var t=this.axes,e=t.length,n=new Zt,r=0;r<e;r++){var o=t[r],i=o.options.vertical?w:x,a=o.lineBox();n[i+1]=a[i+1],n[i+2]=a[i+2]}if(0===n.x2)for(var s=this.parent.axes,l=s.length,c=0;c<l;c++){var u=s[c];if(!u.options.vertical){var p=u.lineBox();n.x1=p.x1,n.x2=p.x2}}return n},e.prototype.clipBox=function(){return this.chartContainer.clipBox},e.prototype.notifyRender=function(){var t=this.getService();t&&t.notify("paneRender",{pane:new Fn(this),index:this.paneIndex,name:this.options.name})},e}(ie),Eo=1;So.prototype.isStackRoot=!0,Rt(So,{zIndex:-1,shrinkToFit:!0,title:{align:d},visible:!0});var Io=So;function To(t,e){null!==e&&t.push(e)}function Do(t,e,n){var r=e.visible;if(xt(r))return r;var o=t.pointVisibility;return o?o[n]:void 0}function Po(t){for(var e=t.data,n=[],r=0,o=0,i=0;i<e.length;i++){var a=Wn.current.bindPoint(t,i),s=a.valueFields.value;T(s)&&(s=parseFloat(s)),I(s)?(a.visible=!1!==Do(t,a.fields,i),a.value=Math.abs(s),n.push(a),a.visible&&(r+=a.value),0!==s&&o++):n.push(null)}return{total:r,points:n,count:o}}function Ao(t,e){return t&&e?t.toLowerCase()===e.toLowerCase():t===e}function jo(t,e){for(var n=[],r=[].concat(e),o=0;o<t.length;o++){var i=t[o];pt(i.type,r)&&n.push(i)}return n}function Mo(t,e,n){if(null===e)return e;var r="_date_"+t,o=e[r];return o||(o=Ge(n,at(t)(e)),e[r]=o),o}function Ro(t,e){var n=t.type,r=e instanceof Date;return!n&&r||Ao(n,p)}function No(t){return 1===t.length?t[0]:t}var Fo=/area/i;function Lo(t,e){var n=Wn.current.bindPoint(t,null,e).valueFields;for(var r in n)if(D(n[r]))return!0}function zo(t){var e,n,r=t.start,o=t.dir,i=t.min,a=t.max,s=t.getter,l=t.hasItem,c=t.series,u=r;do{l(u+=o)&&(e=Lo(c,(n=s(u)).item))}while(i<=u&&u<=a&&!e);if(e)return n}function Bo(t,e,n,r,o){var i=e.min,a=e.max,s=i>0&&i<n,l=a+1<n;if(s||l){var c,u,p;if("interpolate"!==function(t){return t.missingValues?t.missingValues:Fo.test(t.type)||t.stack?$n:"interpolate"}(t))s&&(c=r(i-1)),l&&(u=r(a+1));else s&&(c=Lo(t,(p=r(i-1)).item)?p:zo({start:i,dir:-1,min:0,max:n-1,getter:r,hasItem:o,series:t})),l&&(u=Lo(t,(p=r(a+1)).item)?p:zo({start:a,dir:1,min:0,max:n-1,getter:r,hasItem:o,series:t}));c&&(t._outOfRangeMinPoint=c),u&&(t._outOfRangeMaxPoint=u)}}var Vo=function(t){function e(e,n,r){t.call(this,n),this.initFields(e,n),this.series=e,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.items=[],this.axes=[],this.crosshairs=[],this.chartService=r,this.originalOptions=n,this.createPanes(),this.render(),this.createCrosshairs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){},e.prototype.initSeries=function(){for(var t=this.series,e=0;e<t.length;e++)t[e].index=e},e.prototype.createPanes=function(){for(var t=this.options.title||{},e=this.options.paneDefaults,n=this.options.panes||[],r=Math.max(n.length,1),o=[],i=j({title:{color:t.color}},e),a=0;a<r;a++){var s=j({},i,n[a]);T(s.title)&&(s.title=j({text:s.title},i.title));var l=new Io(s);l.paneIndex=a,o.push(l),this.append(l)}this.panes=o},e.prototype.crosshairOptions=function(t){return t.options.crosshair},e.prototype.createCrosshairs=function(t){void 0===t&&(t=this.panes);for(var e=0;e<t.length;e++)for(var n=t[e],r=0;r<n.axes.length;r++){var o=n.axes[r],i=this.crosshairOptions(o);if(i&&i.visible){var a=new Oo(this.chartService,o,i);this.crosshairs.push(a),n.content.append(a)}}},e.prototype.removeCrosshairs=function(t){for(var e=this.crosshairs,n=t.axes,r=e.length-1;r>=0;r--)for(var o=0;o<n.length;o++)if(e[r].axis===n[o]){e.splice(r,1);break}},e.prototype.hideCrosshairs=function(){for(var t=this.crosshairs,e=0;e<t.length;e++)t[e].hide()},e.prototype.findPane=function(t){for(var e,n=this.panes,r=0;r<n.length;r++)if(n[r].options.name===t){e=n[r];break}return e||n[0]},e.prototype.findPointPane=function(t){for(var e,n=this.panes,r=0;r<n.length;r++)if(n[r].box.containsPoint(t)){e=n[r];break}return e},e.prototype.appendAxis=function(t){this.findPane(t.options.pane).appendAxis(t),this.axes.push(t),t.plotArea=this},e.prototype.removeAxis=function(t){for(var e=[],n=0;n<this.axes.length;n++){var r=this.axes[n];t!==r?e.push(r):r.destroy()}this.axes=e},e.prototype.appendChart=function(t,e){this.charts.push(t),e?e.appendChart(t):this.append(t)},e.prototype.removeChart=function(t){for(var e=[],n=0;n<this.charts.length;n++){var r=this.charts[n];r!==t?e.push(r):r.destroy()}this.charts=e},e.prototype.addToLegend=function(t){for(var e=t.length,n=this.options.legend,r=n.labels||{},o=n.inactiveItems||{},i=o.labels||{},a=[],s=0;s<e;s++){var l=t[s],c=!1!==l.visible;if(!1!==l.visibleInLegend){var u=l.name,p=c?rt(r):rt(i)||rt(r);p&&(u=p({text:oo(u)?u:"",series:l}));var h=l._defaults,d=l.color;P(d)&&h&&(d=h.color);var f=void 0,m=void 0;c?(f={},m=d):(f={color:i.color,font:i.font},m=o.markers.color),oo(u)&&""!==u&&a.push({text:u,labels:f,markerColor:m,series:l,active:c})}}yt(n.items,a)},e.prototype.groupAxes=function(t){for(var e=[],n=[],r=0;r<t.length;r++)for(var o=t[r].axes,i=0;i<o.length;i++){var a=o[i];a.options.vertical?n.push(a):e.push(a)}return{x:e,y:n,any:e.concat(n)}},e.prototype.groupSeriesByPane=function(){for(var t=this.series,e={},n=0;n<t.length;n++){var r=t[n],o=this.seriesPaneName(r);e[o]?e[o].push(r):e[o]=[r]}return e},e.prototype.filterVisibleSeries=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];!1!==r.visible&&e.push(r)}return e},e.prototype.reflow=function(t){var e=this.options.plotArea,n=this.panes,r=z(e.margin);this.box=t.clone().unpad(r),this.reflowPanes(),this.detachLabels(),this.reflowAxes(n),this.reflowCharts(n)},e.prototype.redraw=function(t){var e=[].concat(t);this.initSeries();var n=this.getRoot();n&&n.cleanGradients();for(var r=0;r<e.length;r++)this.removeCrosshairs(e[r]),e[r].empty();this.render(e),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(e),this.createCrosshairs(e);for(var o=0;o<e.length;o++)e[o].refresh()},e.prototype.axisCrossingValues=function(t,e){for(var n=t.options,r=[].concat(n.axisCrossingValues||n.axisCrossingValue),o=e.length-r.length,i=r[0]||0,a=0;a<o;a++)r.push(i);return r},e.prototype.alignAxisTo=function(t,e,n,r){var o=t.getSlot(n,n,!0),i=t.options.reverse?2:1,a=e.getSlot(r,r,!0),s=e.options.reverse?2:1,l=t.box.translate(a[x+s]-o[x+i],a[w+s]-o[w+i]);t.pane!==e.pane&&l.translate(0,t.pane.box.y1-e.pane.box.y1),t.reflow(l)},e.prototype.alignAxes=function(t,e){for(var n=t[0],r=e[0],o=this.axisCrossingValues(n,e),i=this.axisCrossingValues(r,t),a={},s={},c={},u={},p=0;p<e.length;p++){var h=e[p],f=h.pane,m=f.id,y=!1!==h.options.visible,b=Wo(t,f)||n,x=o;b!==n&&(x=this.axisCrossingValues(b,e)),this.alignAxisTo(h,b,i[p],x[p]),h.options._overlap||(Dt(h.lineBox().x1)===Dt(b.lineBox().x1)&&(a[m]&&h.reflow(h.box.alignTo(a[m].box,d).translate(-h.options.margin,0)),y&&(a[m]=h)),Dt(h.lineBox().x2)===Dt(b.lineBox().x2)&&(h._mirrored||(h.options.labels.mirror=!h.options.labels.mirror,h._mirrored=!0),this.alignAxisTo(h,b,i[p],x[p]),s[m]&&h.reflow(h.box.alignTo(s[m].box,v).translate(h.options.margin,0)),y&&(s[m]=h)),0!==p&&r.pane===h.pane&&(h.alignTo(r),h.reflow(h.box)))}for(var w=0;w<t.length;w++){var k=t[w],O=k.pane,C=O.id,_=!1!==k.options.visible,S=Wo(e,O)||r,E=i;S!==r&&(E=this.axisCrossingValues(S,t)),this.alignAxisTo(k,S,o[w],E[w]),k.options._overlap||(Dt(k.lineBox().y1)===Dt(S.lineBox().y1)&&(k._mirrored||(k.options.labels.mirror=!k.options.labels.mirror,k._mirrored=!0),this.alignAxisTo(k,S,o[w],E[w]),c[C]&&k.reflow(k.box.alignTo(c[C].box,g).translate(0,-k.options.margin)),_&&(c[C]=k)),Dt(k.lineBox().y2,3)===Dt(S.lineBox().y2,3)&&(u[C]&&k.reflow(k.box.alignTo(u[C].box,l).translate(0,k.options.margin)),_&&(u[C]=k)),0!==w&&(k.alignTo(n),k.reflow(k.box)))}},e.prototype.shrinkAxisWidth=function(t){for(var e=this.groupAxes(t).any,n=Uo(e),r=0,o=0;o<t.length;o++){var i=t[o];i.axes.length>0&&(r=Math.max(r,n.width()-i.contentBox.width()))}if(0!==r)for(var a=0;a<e.length;a++){var s=e[a];s.options.vertical||s.reflow(s.box.shrink(r,0))}},e.prototype.shrinkAxisHeight=function(t){for(var e,n=0;n<t.length;n++){var r=t[n],o=r.axes,i=Math.max(0,Uo(o).height()-r.contentBox.height());if(0!==i){for(var a=0;a<o.length;a++){var s=o[a];s.options.vertical&&s.reflow(s.box.shrink(0,i))}e=!0}}return e},e.prototype.fitAxes=function(t){for(var e=this.groupAxes(t).any,n=0,r=0;r<t.length;r++){var o=t[r],i=o.axes,a=o.contentBox;if(i.length>0){var s=Uo(i),l=Math.max(a.y1-s.y1,a.y2-s.y2);n=Math.max(n,a.x1-s.x1);for(var c=0;c<i.length;c++){var u=i[c];u.reflow(u.box.translate(0,l))}}}for(var p=0;p<e.length;p++){var h=e[p];h.reflow(h.box.translate(n,0))}},e.prototype.reflowAxes=function(t){for(var e=this.groupAxes(t),n=0;n<t.length;n++)this.reflowPaneAxes(t[n]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t),this.autoRotateAxisLabels(e),this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t)&&this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t),this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t)&&this.alignAxes(e.x,e.y),this.fitAxes(t))},e.prototype.autoRotateAxisLabels=function(t){for(var e,n=this.panes,r=qo(n),o=0;o<r.length;o++){r[o].autoRotateLabels()&&(e=!0)}if(e){for(var i=0;i<n.length;i++)this.reflowPaneAxes(n[i]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(n))}},e.prototype.reflowPaneAxes=function(t){var e=t.axes,n=e.length;if(n>0)for(var r=0;r<n;r++)e[r].reflow(t.contentBox)},e.prototype.reflowCharts=function(t){for(var e=this.charts,n=e.length,r=this.box,o=0;o<n;o++){var i=e[o].pane;i&&!pt(i,t)||e[o].reflow(r)}},e.prototype.reflowPanes=function(){for(var t=this.box,e=this.panes,n=e.length,r=t.height(),o=0,i=t.y1,a=0;a<n;a++){var s=e[a],l=s.options.height;if(s.options.width=t.width(),s.options.height){if(l.indexOf&&l.indexOf("%")){var c=parseInt(l,10)/100;s.options.height=c*t.height()}s.reflow(t.clone()),r-=s.options.height}else o++}for(var u=0;u<n;u++){var p=e[u];p.options.height||(p.options.height=r/o)}for(var h=0;h<n;h++){var d=e[h],f=t.clone().move(t.x1,i);d.reflow(f),i+=d.options.height}},e.prototype.backgroundBox=function(){for(var t,e=this.axes,n=e.length,r=0;r<n;r++)for(var o=e[r],i=0;i<n;i++){var a=e[i];if(o.options.vertical!==a.options.vertical){var s=o.lineBox().clone().wrap(a.lineBox());t=t?t.wrap(s):s}}return t||this.box},e.prototype.chartsBoxes=function(){for(var t=this.panes,e=[],n=0;n<t.length;n++)e.push(t[n].chartsBox());return e},e.prototype.addBackgroundPaths=function(t){for(var e=this.chartsBoxes(),n=0;n<e.length;n++)t.paths.push(_.drawing.Path.fromRect(e[n].toRect()))},e.prototype.backgroundContainsPoint=function(t){for(var e=this.chartsBoxes(),n=0;n<e.length;n++)if(e[n].containsPoint(t))return!0},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e,n=this.options.plotArea,r=n.opacity,o=n.background,i=n.border;void 0===i&&(i={}),""!==(e=o)&&null!==e&&"none"!==e&&"transparent"!==e&&xt(e)||(o=b,r=0);var a=this._bgVisual=new _.drawing.MultiPath({fill:{color:o,opacity:r},stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType},zIndex:-1});this.addBackgroundPaths(a),this.appendVisual(a)},e.prototype.pointsByCategoryIndex=function(t){var e=this.charts,n=[];if(null!==t)for(var r=0;r<e.length;r++){if("_navigator"!==e[r].pane.options.name){var o=e[r].categoryPoints[t];if(o&&o.length)for(var i=0;i<o.length;i++){var a=o[i];a&&xt(a.value)&&null!==a.value&&n.push(a)}}}return n},e.prototype.pointsBySeriesIndex=function(t){return this.filterPoints((function(e){return e.series.index===t}))},e.prototype.pointsBySeriesName=function(t){return this.filterPoints((function(e){return e.series.name===t}))},e.prototype.filterPoints=function(t){for(var e=this.charts,n=[],r=0;r<e.length;r++)for(var o=e[r].points,i=0;i<o.length;i++){var a=o[i];a&&!1!==a.visible&&t(a)&&n.push(a)}return n},e.prototype.findPoint=function(t){for(var e=this.charts,n=0;n<e.length;n++)for(var r=e[n].points,o=0;o<r.length;o++){var i=r[o];if(i&&!1!==i.visible&&t(i))return i}},e.prototype.paneByPoint=function(t){for(var e=this.panes,n=0;n<e.length;n++){var r=e[n];if(r.box.containsPoint(t))return r}},e.prototype.detachLabels=function(){var t=this.groupAxes(this.panes),e=t.x,n=t.y;this.detachAxisGroupLabels(n,e),this.detachAxisGroupLabels(e,n)},e.prototype.detachAxisGroupLabels=function(t,e){for(var n=0,r=0;r<t.length;r++){var o=t[r],i=o.pane,a=Wo(e,i)||e[0],s=r+n,l=this.createLabelAxis(o,s,a);if(l){n++;var c=i.axes.indexOf(o)+n;i.appendAxisAt(l,c)}}},e.prototype.createLabelAxis=function(t,e,n){var r=t.options.labels,o=r.position,i="end"!==o&&"start"!==o,a=r.visible;if(i||!1===a)return null;var s=this.groupAxes(this.panes),l=n.options.vertical?s.x:s.y,c=this.axisCrossingValues(n,l),u="end"===o,p=n.range(),h=u?p.max:p.min;if(Et(c[e],p.min,p.max)-h==0)return null;c.splice(e+1,0,h),n.options.axisCrossingValues=c;var d=t.clone();return t.clear(),d.options.name=void 0,d.options.line.visible=!1,d.options.crosshair=void 0,d.options.notes=void 0,d.options.plotBands=void 0,d},e}(re);function Ho(t){return!t.pane.axes.some((function(e){return e.options.vertical===t.options.vertical&&e!==t&&!1!==e.options.visible}))}function Uo(t){for(var e,n=t.length,r=0;r<n;r++){var o=t[r],i=!1!==o.options.visible;if(i||Ho(o)){var a=i?o.contentBox():o.lineBox();e?e.wrap(a):e=a.clone()}}return e||new Zt}function Wo(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r&&r.pane===e)return r}}var qo=function(t){return t.reduce((function(t,e){return t.concat(e.axes)}),[])};Rt(Vo,{series:[],plotArea:{margin:{}},background:"",border:{color:s,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});var Ko=Vo,Go={hover:function(t,e){this._dispatchEvent(t,e,"plotAreaHover")},click:function(t,e){this._dispatchEvent(t,e,"plotAreaClick")}};function Yo(t,e,n){var r=e,o=t;if(t.indexOf(".")>-1){for(var i=t.split(".");i.length>1;)o=i.shift(),xt(r[o])||(r[o]={}),r=r[o];o=i.shift()}r[o]=n}var Xo=function(t){function e(e,n,r){t.call(this);var o=n.canonicalFields(e),i=n.valueFields(e),a=n.sourceFields(e,o),s=this._seriesFields=[],l=r.query(e.type),c=e.aggregate||l;this._series=e,this._binder=n;for(var u=0;u<o.length;u++){var p=o[u],h=void 0;if(M(c))h=c[p];else{if(0!==u&&!pt(p,i))break;h=c}h&&s.push({canonicalName:p,name:a[u],transform:P(h)?h:Vn[h]})}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.aggregatePoints=function(t,e){var n=this._series,r=this._seriesFields,o=this._bindPoints(t||[]),i=o.dataItems[0],a={};if(i&&!I(i)&&!k(i)){var s=function(){};s.prototype=i,a=new s}for(var l=0;l<r.length;l++){var c=r[l],u=this._bindField(o.values,c.canonicalName),p=c.transform(u,n,o.dataItems,e);if(!(null===p||!M(p)||xt(p.length)||p instanceof Date)){a=p;break}xt(p)&&Yo(c.name,a,p)}return a},e.prototype._bindPoints=function(t){for(var e=this._binder,n=this._series,r=[],o=[],i=0;i<t.length;i++){var a=t[i];r.push(e.bindPoint(n,a)),o.push(n.data[a])}return{values:r,dataItems:o}},e.prototype._bindField=function(t,e){for(var n=[],r=t.length,o=0;o<r;o++){var i=t[o],a=i.valueFields,s=void 0;s=xt(a[e])?a[e]:i.fields[e],n.push(s)}return n},e}(_.Class),$o=function(t){function e(){t.call(this),this._defaults={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e){for(var n=0;n<t.length;n++)this._defaults[t[n]]=e},e.prototype.query=function(t){return this._defaults[t]},e}(_.Class);$o.current=new $o;var Zo=$o,Jo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLabel=function(){var t=this.options.labels,e=j({},t,t.from),n=j({},t,t.to);e.visible&&(this.labelFrom=this._createLabel(e),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo))},e.prototype._createLabel=function(t){var e,n=rt(t),r=this.pointData();return e=n?n(r):this.formatValue(t.format),new Nr(e,j({vertical:this.options.vertical},t),r)},e.prototype.reflow=function(t){this.render();var e=this.labelFrom,n=this.labelTo,r=this.value;this.box=t,e&&(e.options.aboveAxis=r.from>r.to,e.reflow(t)),n&&(n.options.aboveAxis=r.to>r.from,n.reflow(t)),this.note&&this.note.reflow(t)},e}(zr);Jo.prototype.defaults=j({},Jo.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});var Qo=Jo,ti=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return Qo},e.prototype.pointValue=function(t){return t.valueFields},e.prototype.formatPointValue=function(t,e){return null===t.value.from&&null===t.value.to?"":this.chartService.format.auto(e,t.value.from,t.value.to)},e.prototype.plotRange=function(t){return t?[t.value.from,t.value.to]:0},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=t.from,o=t.to,i=this.valueAxisRanges[n];null!==t&&I(r)&&I(o)&&((i=this.valueAxisRanges[n]=i||{min:f,max:m}).min=Math.min(i.min,r),i.max=Math.max(i.max,r),i.min=Math.min(i.min,o),i.max=Math.max(i.max,o))},e.prototype.aboveAxis=function(t){var e=t.value;return e.from<e.to},e}(Gr);ti.prototype.plotLimits=ur.prototype.plotLimits;var ei=ti,ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.aliasFor=function(){return this.parent},e}(fr),ri=function(t){function e(e,n){t.call(this),this.value=e,this.options=n,this.aboveAxis=At(this.options.aboveAxis,!0),this.tooltipTracking=!0,this.initLabelsFormat()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){if(!this._rendered){this._rendered=!0;var t=this.options,e=t.markers,n=t.labels,r=this.value,o=this.fromPoint=new ni(r,j({},this.options,{labels:n.from,markers:e.from})),i=this.toPoint=new ni(r,j({},this.options,{labels:n.to,markers:e.to}));this.copyFields(o),this.copyFields(i),this.append(o),this.append(i)}},e.prototype.reflow=function(t){this.render();var e=t.from,n=t.to;this.positionLabels(e,n),this.fromPoint.reflow(e),this.toPoint.reflow(n),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())},e.prototype.createHighlight=function(){var t=new _.drawing.Group;return t.append(this.fromPoint.createHighlight()),t.append(this.toPoint.createHighlight()),t},e.prototype.highlightVisual=function(){return this.visual},e.prototype.highlightVisualArgs=function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}},e.prototype.tooltipAnchor=function(){var t=this.owner.pane.clipBox();if(!t||t.overlaps(this.box)){var e,n,r,o=this.box,i=o.center();return this.options.vertical?(e=i.x,n=o.y1-5,r=l):(e=o.x2+5,n=i.y,r=c),{point:new Xt(e,n),align:{horizontal:"left",vertical:r}}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.unclipElements=function(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()},e.prototype.initLabelsFormat=function(){var t=this.options.labels;t.format||(t.from&&t.from.format||(t.from=Object.assign({},t.from,{format:"{0}"})),t.to&&t.to.format||(t.to=Object.assign({},t.to,{format:"{1}"})))},e.prototype.positionLabels=function(t,e){var n,r,o=this.options,i=o.labels,a=o.vertical;"auto"===i.position&&(a?e.y1<=t.y1?(r="above",n="below"):(r="below",n="above"):e.x1<=t.x1?(r=d,n=v):(r=v,n=d),i.from&&i.from.position||(this.fromPoint.options.labels.position=n),i.to&&i.to.position||(this.toPoint.options.labels.position=r))},e.prototype.copyFields=function(t){t.dataItem=this.dataItem,t.category=this.category,t.series=this.series,t.color=this.color,t.owner=this.owner},e}(re);j(ri.prototype,pr),j(ri.prototype,hr),ri.prototype.defaults={markers:{visible:!1,background:b,size:8,type:u,border:{width:2},opacity:1},labels:{visible:!1,margin:z(3),padding:z(4),animation:{type:"fadeIn",delay:600},position:"auto"},notes:{label:{}},highlight:{markers:{border:{color:b,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"}};var oi=ri,ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),t},e.prototype.createStroke=function(t){var e=new _.drawing.Path(t),n=new _.drawing.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),n.segments.push.apply(n.segments,this.stackSegments()),this.visual.append(e),this.visual.append(n)},e.prototype.hasStackSegment=function(){return!0},e.prototype.fromPoints=function(){return this.linePoints.map((function(t){return t.fromPoint}))},e.prototype.toPoints=function(){return this.linePoints.map((function(t){return t.toPoint}))},e}(Tr),ai=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.createCurveSegments(this.toPoints())},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),t},e.prototype.createCurveSegments=function(t){return(new jn).process(this.toGeometryPoints(t))},e}(ii),si=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()))).reverse(),t},e}(ii);j(si.prototype,yr);var li=si,ci=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.renderSegments()},e.prototype.pointType=function(){return oi},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,a=t.valueFields;if(!oo(a.from)&&!oo(a.to)){if(this.seriesMissingValues(o)!==$n)return null;a={from:0,to:0}}var s=this.pointOptions(o,i);s=this.evalPointOptions(s,a,r,n,o,i);var l=t.fields.color||o.color;P(o.color)&&(l=s.color);var c=new oi(a,s);return c.color=l,this.append(c),c},e.prototype.createSegment=function(t,e,n){var r=(e.line||{}).style;return new("smooth"===r?ai:"step"===r?li:ii)(t,e,n)},e.prototype.plotRange=function(t,e){return t?[t.value.from,t.value.to]:[e,e]},e.prototype.valueSlot=function(t,e){var n=t.getSlot(e[0],e[0],!this.options.clip),r=t.getSlot(e[1],e[1],!this.options.clip);if(n&&r)return{from:n,to:r}},e.prototype.pointSlot=function(t,e){var n,r,o=e.from,i=e.to;return this.options.invertAxes?(n=new Zt(o.x1,t.y1,o.x2,t.y2),r=new Zt(i.x1,t.y1,i.x2,t.y2)):(n=new Zt(t.x1,o.y1,t.x2,o.y2),r=new Zt(t.x1,i.y1,t.x2,i.y2)),{from:n,to:r}},e.prototype.addValue=function(e,n){var r=e.valueFields;I(r.from)||(r.from=r.to),I(r.to)||(r.to=r.from),t.prototype.addValue.call(this,e,n)},e.prototype.updateRange=function(t,e){if(null!==t&&I(t.from)&&I(t.to)){var n=e.series.axis,r=this.valueAxisRanges[n]=this.valueAxisRanges[n]||{min:f,max:m},o=t.from,i=t.to;r.min=Math.min(r.min,o,i),r.max=Math.max(r.max,o,i)}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.from,n.to)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++){var r=t[n];r&&(e.push((r.fromPoint||{}).marker),e.push((r.toPoint||{}).marker))}return e.concat(this._segments)},e}(ur);j(ci.prototype,kr,Sr);var ui=ci,pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=this.value,r=this.owner.seriesValueAxis(e),o=[],i=[],a=[],s=r.getSlot(n.low,n.high),l=r.getSlot(n.open,n.open),c=r.getSlot(n.close,n.close);l.x1=c.x1=s.x1=t.x1,l.x2=c.x2=s.x2=t.x2;var u=s.center().x;o.push([l.x1,l.y1]),o.push([u,l.y1]),i.push([u,c.y1]),i.push([c.x2,c.y1]),a.push([u,s.y1]),a.push([u,s.y2]),this.lines=[o,i,a],this.box=s.clone().wrap(l.clone().wrap(c)),this.reflowNote()},e.prototype.createBody=function(){},e}(Xr),hi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return pi},e}(Jr),di=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.series=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linePoints=function(){var t=this.from,e=this.from.box,n=this.to.box,r=[];if(t.isVertical){var o=t.aboveAxis?e.y1:e.y2;r.push([e.x1,o],[n.x2,o])}else{var i=t.aboveAxis?e.x2:e.x1;r.push([i,e.y1],[i,n.y2])}return r},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.series.line||{},n=_.drawing.Path.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}});S(n),this.visual.append(n)},e}(re);Rt(di,{animation:{type:"fadeIn",delay:600}});var fi=di,mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.createSegments()},e.prototype.traverseDataPoints=function(t){for(var e=this.options.series,n=lr(e),r=!this.options.invertAxes,o=0;o<e.length;o++)for(var i=e[o],a=0,s=0,l=0;l<n;l++){var c=Wn.current.bindPoint(i,l),u=c.valueFields.value,p=c.fields.summary,h=a,d=void 0;p?"total"===p.toLowerCase()?(c.valueFields.value=a,h=0,d=a):(c.valueFields.value=s,d=h-s,s=0):I(u)&&(s+=u,d=a+=u),t(c,{category:this.categoryAxis.categoryAt(l),categoryIx:l,series:i,seriesIx:o,total:a,runningTotal:s,from:h,to:d,isVertical:r})}},e.prototype.updateRange=function(e,n){t.prototype.updateRange.call(this,{value:n.to},n)},e.prototype.aboveAxis=function(t){return t.value>=0},e.prototype.plotRange=function(t){return[t.from,t.to]},e.prototype.createSegments=function(){for(var t=this.options.series,e=this.seriesPoints,n=this.segments=[],r=0;r<t.length;r++){var o=t[r],i=e[r];if(i)for(var a=void 0,s=0;s<i.length;s++){var l=i[s];if(l&&a){var c=new fi(a,l,o);n.push(c),this.append(c)}a=l}}},e}(Gr),vi=["area","verticalArea","rangeArea","verticalRangeArea"],gi=[Qn,er].concat(vi),yi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(t){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new Mr,t.length>0){this.invertAxes=pt(t[0].type,[Zn,"bullet",er,"verticalArea","verticalRangeArea","rangeBar","horizontalWaterfall","verticalBoxPlot"]);for(var e=0;e<t.length;e++){var n=t[e].stack;if(n&&"100%"===n.type){this.stack100=!0;break}}}},e.prototype.render=function(t){void 0===t&&(t=this.panes),this.createCategoryAxes(t),this.aggregateCategories(t),this.createCategoryAxesLabels(t),this.createCharts(t),this.createValueAxes(t)},e.prototype.removeAxis=function(e){var n=e.options.name;t.prototype.removeAxis.call(this,e),e instanceof Ze?delete this.namedCategoryAxes[n]:(this.valueAxisRangeTracker.reset(n),delete this.namedValueAxes[n]),e===this.categoryAxis&&delete this.categoryAxis,e===this.valueAxis&&delete this.valueAxis},e.prototype.createCharts=function(t){for(var e=this.groupSeriesByPane(),n=0;n<t.length;n++){var r=t[n],o=e[r.options.name||"default"]||[];this.addToLegend(o);var i=this.filterVisibleSeries(o);if(i)for(var a=this.groupSeriesByCategoryAxis(i),s=0;s<a.length;s++)this.createChartGroup(a[s],r)}},e.prototype.createChartGroup=function(t,e){this.createAreaChart(jo(t,["area","verticalArea"]),e),this.createRangeAreaChart(jo(t,["rangeArea","verticalRangeArea"]),e),this.createBarChart(jo(t,[Jn,Zn]),e),this.createRangeBarChart(jo(t,["rangeColumn","rangeBar"]),e),this.createBulletChart(jo(t,["bullet","verticalBullet"]),e),this.createCandlestickChart(jo(t,"candlestick"),e),this.createBoxPlotChart(jo(t,["boxPlot","verticalBoxPlot"]),e),this.createOHLCChart(jo(t,"ohlc"),e),this.createWaterfallChart(jo(t,["waterfall","horizontalWaterfall"]),e),this.createLineChart(jo(t,[Qn,er]),e)},e.prototype.aggregateCategories=function(t){var e=this.srcSeries||this.series,n=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(var r=0;r<e.length;r++){var o=e[r],i=this.seriesCategoryAxis(o),a=this.findPane(i.options.pane);o=(Ao(i.options.type,p)||o.categoryField)&&pt(a,t)?this.aggregateSeries(o,i):this.filterSeries(o,i),n.push(o)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=e,this.series=n},e.prototype.filterSeries=function(t,e){var n=(t.data||{}).length;if(e._seriesMax=Math.max(e._seriesMax||0,n),!I(e.options.min)&&!I(e.options.max))return t;var r=e.currentRangeIndices(),o=pt(t.type,gi),i=j({},t);return i.data=(i.data||[]).slice(r.min,r.max+1),o&&Bo(i,r,n,(function(n){return{item:t.data[n],category:e.categoryAt(n,!0),categoryIx:n-r.min}}),(function(e){return xt(t.data[e])})),i},e.prototype.clearSeriesPointsCache=function(){this._seriesPointsCache={}},e.prototype.seriesSourcePoints=function(t,e){var n=t.index+";"+e.categoriesHash();if(this._seriesPointsCache[n])return this._currentPointsCache[n]=this._seriesPointsCache[n],this._seriesPointsCache[n];var r=e.options,o=r.srcCategories,i=Ao(r.type,p),a=t.data,s=i?Mo:Hn,l=[];i||e.mapCategories();for(var c=0;c<a.length;c++){var u=void 0;if(u=t.categoryField?s(t.categoryField,a[c],this.chartService.intl):o[c],xt(u)&&null!==u){var h=e.totalIndex(u);l[h]=l[h]||{items:[],category:u},l[h].items.push(c)}}return this._currentPointsCache[n]=l,l},e.prototype.aggregateSeries=function(t,e){if(!t.data.length)return t;for(var n=this.seriesSourcePoints(t,e),r=j({},t),o=new Xo(j({},t),Wn.current,Zo.current),i=r.data=[],a=e.options.dataItems||[],s=e.currentRangeIndices(),l=function(t){var r=t-s.min,i=n[t];if(i||(i=n[t]={}),i.categoryIx=r,!i.item){var a=e.categoryAt(t,!0);i.category=a,i.item=o.aggregatePoints(i.items,a)}return i},c=s.min;c<=s.max;c++){var u=l(c);i[u.categoryIx]=u.item,u.items&&u.items.length&&(a[u.categoryIx]=u.item)}return pt(r.type,gi)&&Bo(r,s,e.totalCount(),l,(function(t){return n[t]})),e.options.dataItems=a,r},e.prototype.appendChart=function(e,n){var r=e.options.series,o=this.seriesCategoryAxis(r[0]),i=o.options.categories,a=Math.max(0,lr(r)-i.length);if(a>0)for(i=o.options.categories=o.options.categories.slice(0);a--;)i.push("");this.valueAxisRangeTracker.update(e.valueAxisRanges),t.prototype.appendChart.call(this,e,n)},e.prototype.seriesPaneName=function(t){var e=this.options,n=t.axis,r=st([].concat(e.valueAxis),(function(t){return t.name===n}))[0],o=((e.panes||[{}])[0]||{}).name||"default";return(r||{}).pane||o},e.prototype.seriesCategoryAxis=function(t){var e=t.categoryAxis,n=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!n)throw new Error("Unable to locate category axis with name "+e);return n},e.prototype.stackableChartOptions=function(t,e){var n=t.stack;return{isStacked:n,isStacked100:n&&"100%"===n.type,clip:e.options.clip}},e.prototype.groupSeriesByCategoryAxis=function(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r].categoryAxis||"$$default$$";n.hasOwnProperty(o)||(n[o]=!0,e.push(o))}for(var i=[],a=0;a<e.length;a++){var s=xi(t,e[a],a);0!==s.length&&i.push(s)}return i},e.prototype.createBarChart=function(t,e){if(0!==t.length){var n=t[0],r=new Gr(this,Object.assign({series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing},this.stackableChartOptions(n,e)));this.appendChart(r,e)}},e.prototype.createRangeBarChart=function(t,e){if(0!==t.length){var n=t[0],r=new ei(this,{series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(r,e)}},e.prototype.createBulletChart=function(t,e){if(0!==t.length){var n=t[0],r=new go(this,{series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createLineChart=function(t,e){if(0!==t.length){var n=t[0],r=new Ir(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(n,e)));this.appendChart(r,e)}},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var n=t[0],r=new jr(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(n,e)));this.appendChart(r,e)}},e.prototype.createRangeAreaChart=function(t,e){if(0!==t.length){var n=new ui(this,{invertAxes:this.invertAxes,series:t,clip:e.options.clip});this.appendChart(n,e)}},e.prototype.createOHLCChart=function(t,e){if(0!==t.length){var n=t[0],r=new hi(this,{invertAxes:this.invertAxes,gap:n.gap,series:t,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createCandlestickChart=function(t,e){if(0!==t.length){var n=t[0],r=new Jr(this,{invertAxes:this.invertAxes,gap:n.gap,series:t,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createBoxPlotChart=function(t,e){if(0!==t.length){var n=t[0],r=new no(this,{invertAxes:this.invertAxes,gap:n.gap,series:t,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createWaterfallChart=function(t,e){if(0!==t.length){var n=t[0],r=new mi(this,{series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(r,e)}},e.prototype.axisRequiresRounding=function(t,e){for(var n=jo(this.series,nr),r=0;r<this.series.length;r++){var o=this.series[r];if(pt(o.type,vi)){var i=o.line;i&&"step"===i.style&&n.push(o)}}for(var a=0;a<n.length;a++){var s=n[a].categoryAxis||"";if(s===t||!s&&0===e)return!0}},e.prototype.aggregatedAxis=function(t,e){for(var n=this.series,r=0;r<n.length;r++){var o=n[r].categoryAxis||"";if((o===t||!o&&0===e)&&n[r].categoryField)return!0}},e.prototype.createCategoryAxesLabels=function(){for(var t=this.axes,e=0;e<t.length;e++)t[e]instanceof Ze&&t[e].createLabels()},e.prototype.createCategoryAxes=function(t){for(var e=this.invertAxes,n=[].concat(this.options.categoryAxis),r=[],o=0;o<n.length;o++){var i=n[o];if(pt(this.findPane(i.pane),t)){var a=i.name,s=i.categories;void 0===s&&(s=[]),i=j({vertical:e,reverse:!e&&this.chartService.rtl,axisCrossingValue:e?f:0},i),xt(i.justified)||(i.justified=this.isJustified()),this.axisRequiresRounding(a,o)&&(i.justified=!1);var l=void 0;if(l=Ro(i,s[0])?new sn(i,this.chartService):new Ze(i,this.chartService),n[o].categories=l.options.srcCategories,a){if(this.namedCategoryAxes[a])throw new Error("Category axis with name "+a+" is already defined");this.namedCategoryAxes[a]=l}l.axisIndex=o,r.push(l),this.appendAxis(l)}}var c=this.categoryAxis||r[0];this.categoryAxis=c,e?this.axisY=c:this.axisX=c},e.prototype.isJustified=function(){for(var t=this.series,e=0;e<t.length;e++){if(!pt(t[e].type,vi))return!1}return!0},e.prototype.createValueAxes=function(t){var e=this.valueAxisRangeTracker,n=e.query(),r=[].concat(this.options.valueAxis),o=this.invertAxes,i={vertical:!o,reverse:o&&this.chartService.rtl},a=[];this.stack100&&(i.roundToMajorUnit=!1,i.labels={format:"P0"});for(var s=0;s<r.length;s++){var l=r[s];if(pt(this.findPane(l.pane),t)){var c=l.name,u=Ao(l.type,"log")?{min:.1,max:1}:{min:0,max:1},p=e.query(c)||n||u;0===s&&p&&n&&(p.min=Math.min(p.min,n.min),p.max=Math.max(p.max,n.max));var h=new(Ao(l.type,"log")?xn:fn)(p.min,p.max,j({},i,l),this.chartService);if(c){if(this.namedValueAxes[c])throw new Error("Value axis with name "+c+" is already defined");this.namedValueAxes[c]=h}h.axisIndex=s,a.push(h),this.appendAxis(h)}}var d=this.valueAxis||a[0];this.valueAxis=d,o?this.axisX=d:this.axisY=d},e.prototype._dispatchEvent=function(t,e,n){var r=t._eventCoordinates(e),o=new Xt(r.x,r.y),i=this.pointPane(o),a=[],s=[];if(i){for(var l=i.axes,c=0;c<l.length;c++){var u=l[c];u.getValue?To(s,u.getValue(o)):To(a,u.getCategory(o))}0===a.length&&To(a,this.categoryAxis.getCategory(o)),a.length>0&&s.length>0&&t.trigger(n,{element:Ct(e),originalEvent:e,category:No(a),value:No(s)})}},e.prototype.pointPane=function(t){for(var e=this.panes,n=0;n<e.length;n++){var r=e[n];if(r.contentBox.containsPoint(t))return r}},e.prototype.updateAxisOptions=function(t,e){bi(this.options,t,e),bi(this.originalOptions,t,e)},e}(Ko);function bi(t,e,n){j([].concat(e instanceof Ze?t.categoryAxis:t.valueAxis)[e.axisIndex],n)}function xi(t,e,n){return st(t,(function(t){return 0===n&&!t.categoryAxis||t.categoryAxis===e}))}Rt(yi,{categoryAxis:{},valueAxis:{}}),j(yi.prototype,Go);var wi=yi;function ki(){this._defaultPrevented=!0}var Oi=function(t){function e(){t.call(this),this._points=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._points=[]},e.prototype.show=function(t,e){var n=[].concat(t);this.hide();for(var r=0;r<n.length;r++){var o=n[r];o&&o.toggleHighlight&&o.hasHighlight()&&(this.togglePointHighlight(o,!0,e),this._points.push(o))}},e.prototype.togglePointHighlight=function(t,e,n){var r=(t.options.highlight||{}).toggle;if(r){var o={category:t.category,series:t.series,dataItem:t.dataItem,value:t.value,stackValue:t.stackValue,preventDefault:ki,visual:t.highlightVisual(),show:e};r(o),o._defaultPrevented||t.toggleHighlight(e,n)}else t.toggleHighlight(e,n)},e.prototype.hide=function(){for(var t=this._points;t.length;)this.togglePointHighlight(t.pop(),!1)},e.prototype.isHighlighted=function(t){for(var e=this._points,n=0;n<e.length;n++){if(t===e[n])return!0}return!1},e}(_.Class);function Ci(t,e){var n=(e||"").toLowerCase(),r=t.event;return"none"===n&&!(r.ctrlKey||r.shiftKey||r.altKey)||r[n+"Key"]}function _i(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.axis.options.name&&(e[r.axis.options.name]={min:r.range.min,max:r.range.max})}return e}var Si=function(t){function e(e,n){t.call(this),this.plotArea=e,this.options=j({},this.options,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.start=function(t){return this._active=Ci(t,this.options.key),this._active},e.prototype.move=function(t){if(this._active){var e=this.axisRanges=this._panAxes(t,x).concat(this._panAxes(t,w));if(e.length)return this.axisRanges=e,_i(e)}},e.prototype.end=function(){var t=this._active;return this._active=!1,t},e.prototype.pan=function(){var t=this.plotArea,e=this.axisRanges;if(e.length){for(var n=0;n<e.length;n++){var r=e[n];t.updateAxisOptions(r.axis,r.range)}t.redraw(t.panes)}},e.prototype.destroy=function(){delete this.plotArea},e.prototype._panAxes=function(t,e){var n=this.plotArea,r=-t[e].delta,o=(this.options.lock||"").toLowerCase(),i=[];if(0!==r&&(o||"").toLowerCase()!==e)for(var a=n.axes,s=0;s<a.length;s++){var l=a[s];if(e===x&&!l.options.vertical||e===w&&l.options.vertical){var c=l.pan(r);c&&(c.limitRange=!0,i.push({axis:l,range:c}))}}return i},e}(_.Class);Si.prototype.options={key:"none",lock:"none"};var Ei=Si,Ii=function(t){function e(e,n){t.call(this),this.chart=e,this.options=j({},this.options,n),this.createElement()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createElement=function(){var t=this._marquee=document.createElement("div");t.className="k-marquee";var e=document.createElement("div");e.className="k-marquee-color",t.appendChild(e)},e.prototype.removeElement=function(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)},e.prototype.setStyles=function(t){L(this._marquee,t)},e.prototype.start=function(t){if(Ci(t,this.options.key)){var e=this.chart,n=e._eventCoordinates(t),r=this._zoomPane=e._plotArea.paneByPoint(n),o=r?r.chartsBox().clone():null;if(r&&o){var i=this._elementOffset();return o.translate(i.left,i.top),this._zoomPaneClipBox=o,document.body.appendChild(this._marquee),this.setStyles({left:t.pageX+1,top:t.pageY+1,width:0,height:0}),!0}}return!1},e.prototype._elementOffset=function(){var t=this.chart.element,e=L(t,["paddingLeft","paddingTop"]),n=e.paddingLeft,r=e.paddingTop,o=kt(t);return{left:n+o.left,top:r+o.top}},e.prototype.move=function(t){this._zoomPane&&this.setStyles(this._selectionPosition(t))},e.prototype.end=function(t){if(this._zoomPane){var e=this._elementOffset(),n=this._selectionPosition(t);n.left-=e.left,n.top-=e.top;var r={x:n.left,y:n.top},o={x:n.left+n.width,y:n.top+n.height};return this._updateAxisRanges(r,o),this.removeElement(),delete this._zoomPane,_i(this.axisRanges)}},e.prototype.zoom=function(){var t=this.axisRanges;if(t&&t.length){for(var e=this.chart._plotArea,n=0;n<t.length;n++){var r=t[n];e.updateAxisOptions(r.axis,r.range)}e.redraw(e.panes)}},e.prototype.destroy=function(){this.removeElement(),delete this._marquee,delete this.chart},e.prototype._updateAxisRanges=function(t,e){for(var n=(this.options.lock||"").toLowerCase(),r=[],o=this._zoomPane.axes,i=0;i<o.length;i++){var a=o[i],s=a.options.vertical;if((n!==x||s)&&(n!==w||!s)&&xt(a.axisIndex)){var l=a.pointsRange(t,e);l&&r.push({axis:a,range:l})}}this.axisRanges=r},e.prototype._selectionPosition=function(t){var e=this._zoomPaneClipBox,n={x:t.x.startLocation,y:t.y.startLocation},r=t.x.location,o=t.y.location,i=(this.options.lock||"").toLowerCase(),a=Math.min(n.x,r),s=Math.min(n.y,o),l=Math.abs(n.x-r),c=Math.abs(n.y-o);return i===x&&(a=e.x1,l=e.width()),i===w&&(s=e.y1,c=e.height()),r>e.x2&&(l=e.x2-n.x),r<e.x1&&(l=n.x-e.x1),o>e.y2&&(c=e.y2-n.y),o<e.y1&&(c=n.y-e.y1),{left:Math.max(a,e.x1),top:Math.max(s,e.y1),width:l,height:c}},e}(_.Class);Ii.prototype.options={key:"shift",lock:"none"};var Ti=Ii,Di=function(t){function e(e,n){t.call(this),this.chart=e,this.options=j({},this.options,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.updateRanges=function(t){for(var e=(this.options.lock||"").toLowerCase(),n=[],r=this.chart._plotArea.axes,o=0;o<r.length;o++){var i=r[o],a=i.options.vertical;if((e!==x||a)&&(e!==w||!a)&&i.zoomRange){var s=i.zoomRange(-t);s&&n.push({axis:i,range:s})}}return this.axisRanges=n,_i(n)},e.prototype.zoom=function(){var t=this.axisRanges,e=this.chart._plotArea;if(t&&t.length&&e.updateAxisOptions){for(var n=0;n<t.length;n++){var r=t[n];e.updateAxisOptions(r.axis,r.range)}e.redraw(e.panes)}},e.prototype.destroy=function(){delete this.chart},e}(_.Class),Pi=function(t){function e(e,n){t.call(this,e),this.chartService=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.children,e=this.options,n=e.vertical;this.visual=new _.drawing.Layout(null,{spacing:n?0:e.spacing,lineSpacing:n?e.spacing:0,orientation:n?"vertical":"horizontal",reverse:e.rtl,alignItems:n?"start":"center"});for(var r=0;r<t.length;r++){var o=t[r];o.reflow(new Zt),o.renderVisual()}},e.prototype.reflow=function(t){this.visual.rect(t.toRect()),this.visual.reflow();var e=this.visual.clippedBBox();this.box=e?ge(e):new Zt},e.prototype.renderVisual=function(){this.addVisual()},e.prototype.createVisual=function(){},e}(re),Ai=function(t){function e(e){t.call(this,e),this.createContainer(),e.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createContainer=function(){this.container=new de({vertical:!1,wrap:!1,align:c,spacing:this.options.spacing}),this.append(this.container)},e.prototype.createMarker=function(){this.container.append(new se(this.markerOptions()))},e.prototype.markerOptions=function(){var t=this.options,e=t.markerColor;return j({},t.markers,{background:e,border:{color:e}})},e.prototype.createLabel=function(){var t=this.options,e=j({},t.labels);this.container.append(new be(t.text,e))},e.prototype.renderComplete=function(){t.prototype.renderComplete.call(this);var e=this.options.cursor||{},n=this._itemOverlay=_.drawing.Path.fromRect(this.container.box.toRect(),{fill:{color:b,opacity:0},stroke:null,cursor:e.style||e});this.appendVisual(n)},e.prototype.click=function(t,e){var n=this.eventArgs(e);!t.trigger("legendItemClick",n)&&e&&"contextmenu"===e.type&&e.preventDefault()},e.prototype.over=function(t,e){var n=this.eventArgs(e);return t.trigger("legendItemHover",n)||t._legendItemHover(n.seriesIndex,n.pointIndex),!0},e.prototype.out=function(t,e){t._unsetActivePoint(),t.trigger("legendItemLeave",this.eventArgs(e))},e.prototype.eventArgs=function(t){var e=this.options;return{element:Ct(t),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}},e.prototype.renderVisual=function(){var e=this,n=this.options,r=n.visual;r?(this.visual=r({active:n.active,series:n.series,sender:this.getSender(),pointIndex:n.pointIndex,options:{markers:this.markerOptions(),labels:n.labels},createVisual:function(){e.createVisual(),e.renderChildren(),e.renderComplete();var t=e.visual;return delete e.visual,t}}),this.addVisual()):t.prototype.renderVisual.call(this)},e}(ie),ji=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,e),this.chartService=n,pt(this.options.position,[g,v,l,d,"custom"])||(this.options.position=v),this.createContainers(),this.createLegendTitle(e.title),this.createItems()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createContainers=function(){var t=this.options,e=t.position,n=t.align,r=e,o=c;"custom"===e?r=d:pt(e,[g,l])?(r="start"===n?d:"end"===n?v:c,o=e):n&&("start"===n?o=g:"end"===n&&(o=l)),this.container=new ie({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:o,align:r,zIndex:t.zIndex,shrinkToFit:!0}),this.hasTitle()?this.itemsContainer=new ie({vAlign:o,align:r,zIndex:t.zIndex,shrinkToFit:!0}):this.itemsContainer=this.container,this.append(this.container)},e.prototype.createItems=function(){var t=this.getService(),e=this.options,n=this.isVertical(),r=new Pi({vertical:n,spacing:e.spacing,rtl:t.rtl},t),o=e.items;e.reverse&&(o=o.slice(0).reverse());for(var i=o.length,a=0;a<i;a++){var s=o[a];r.append(new Ai(j({},{markers:e.markers,labels:e.labels,rtl:t.rtl},e.item,s)))}r.render(),this.itemsContainer.append(r)},e.prototype.isVertical=function(){var t=this.options,e=t.orientation,n=t.position;return"custom"===n&&"horizontal"!==e||(xt(e)?"horizontal"!==e:pt(n,[d,v]))},e.prototype.hasItems=function(){return this.container.children[0].children.length>0},e.prototype.reflow=function(t){var e=this.options,n=t.clone();this.hasItems()?("custom"===e.position?(this.containerCustomReflow(n),this.box=n):this.containerReflow(n),this.hasTitle()&&this.title.reflow(new Zt(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))):this.box=n},e.prototype.containerReflow=function(t){var e=this.options,n=this.container,r=e.position,o=e.width,i=e.height,a=r===g||r===l?x:w,s=this.isVertical(),c=t.clone(),u=t.clone();r!==d&&r!==v||(u.y1=c.y1=0),s&&i?(u.y2=u.y1+i,u.align(c,w,n.options.vAlign)):!s&&o&&(u.x2=u.x1+o,u.align(c,x,n.options.align)),n.reflow(u);var p=(u=n.box).clone();(e.offsetX||e.offsetY)&&(u.translate(e.offsetX,e.offsetY),n.reflow(u)),p[a+1]=t[a+1],p[a+2]=t[a+2],this.box=p},e.prototype.containerCustomReflow=function(t){var e=this.options,n=this.container,r=e.offsetX,o=e.offsetY,i=e.width,a=e.height,s=this.isVertical(),l=t.clone();s&&a?l.y2=l.y1+a:!s&&i&&(l.x2=l.x1+i),n.reflow(l),l=n.box,n.reflow(new Zt(r,o,r+l.width(),o+l.height()))},e.prototype.renderVisual=function(){this.hasItems()&&t.prototype.renderVisual.call(this)},e.prototype.createLegendTitle=function(t){var e=j({},{color:s,position:g,align:c},t),n=e.text;if(t&&!1!==t.visible){if(xt(e)&&e.visible){var r=rt(e);r?n=r({text:n}):e.format&&(n=this.chartService.format.auto(e.format,n))}this.title=new be(n,e),this.createTitleLayout(),this.appendTitleLayoutContent()}},e.prototype.createTitleLayout=function(){this.layout=new de({vertical:!0,wrap:!1}),this.container.append(this.layout)},e.prototype.hasTitle=function(){return Boolean(this.options.title&&!1!==this.options.title.visible)},e.prototype.appendTitleLayoutContent=function(){this.options.title.position===l?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))},e}(re);Rt(ji,{position:v,items:[],offsetX:0,offsetY:0,margin:z(5),padding:z(5),border:{color:s,width:0},item:{cursor:"pointer",spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:d,vAlign:c}});var Mi=ji,Ri=function(t){function e(){t.call(this),this._registry=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e){this._registry.push({type:t,seriesTypes:e})},e.prototype.create=function(t,e,n){for(var r,o=this._registry,i=o[0],a=0;a<o.length;a++){var s=o[a];if((r=jo(t,s.seriesTypes)).length>0){i=s;break}}return new i.type(r,e,n)},e}(_.Class);Ri.current=new Ri;var Ni=Ri;function Fi(t){var e=document.createElement("div");return t&&(e.className=t),e}function Li(t){for(var e=t;e&&!lt(e,"k-handle");)e=e.parentNode;return e}var zi=function(t){function e(e,n,r,o){t.call(this);var i=e.element;this.options=j({},this.options,r),this.chart=e,this.observer=o,this.chartElement=i,this.categoryAxis=n,this._dateAxis=this.categoryAxis instanceof sn,this.initOptions(),this.visible=this.options.visible&&i.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onPane=function(t){return this.categoryAxis.pane===t},e.prototype.createElements=function(){var t=this.options,e=this.wrapper=Fi("k-selector");L(e,{top:t.offset.top,left:t.offset.left,width:t.width,height:t.height,direction:"ltr"});var n=this.selection=Fi("k-selection");this.leftMask=Fi("k-mask"),this.rightMask=Fi("k-mask"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(n),n.appendChild(Fi("k-selection-bg"));var r=this.leftHandle=Fi("k-handle k-left-handle"),o=this.rightHandle=Fi("k-handle k-right-handle");r.appendChild(Fi()),o.appendChild(Fi()),n.appendChild(r),n.appendChild(o),this.chartElement.appendChild(e);var i=L(n,["borderLeftWidth","borderRightWidth","height"]),a=L(r,"height").height,s=L(o,"height").height;t.selection={border:{left:i.borderLeftWidth,right:i.borderRightWidth}},L(r,{top:(i.height-a)/2}),L(o,{top:(i.height-s)/2}),e.style.cssText=e.style.cssText},e.prototype.bindEvents=function(){var t;!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),bt(this.wrapper,((t={})[rr]=this._mousewheelHandler,t))),this._domEvents=Q.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})},e.prototype.initOptions=function(){var t=this.options,e=this.categoryAxis.pane.chartsBox(),n=this.chart.chartService.intl;this._dateAxis&&j(t,{min:Ge(n,t.min),max:Ge(n,t.max),from:Ge(n,t.from),to:Ge(n,t.to)});var r=L(this.chartElement,["paddingLeft","paddingTop"]),o=r.paddingLeft,i=r.paddingTop;this.options=j({},{width:e.width(),height:e.height()+.1,padding:{left:o,top:i},offset:{left:e.x1+o,top:e.y1+i},from:t.min,to:t.max},t)},e.prototype.destroy=function(){var t;this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(Pt(this.wrapper,((t={})[rr]=this._mousewheelHandler,t)),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)},e.prototype._rangeEventArgs=function(t){return{axis:this.categoryAxis.options,from:this._value(t.from),to:this._value(t.to)}},e.prototype._start=function(t){var e=this.options,n=Ct(t);if(!this._state&&n){this.chart._unsetActivePoint(),this._state={moveTarget:Li(n)||n,startLocation:t.x?t.x.location:0,range:{from:this._index(e.from),to:this._index(e.to)}};var r=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger("selectStart",r)&&(this._state=null)}},e.prototype._press=function(t){var e;(e=this._state?this._state.moveTarget:Li(Ct(t)))&&O(e,"k-handle-active")},e.prototype._move=function(t){if(this._state){var e=this._state,n=this.options,r=this.categoryAxis,o=e.range,i=e.moveTarget,a=r.options.reverse,s=this._index(n.from),l=this._index(n.to),c=this._index(n.min),u=this._index(n.max),p=e.startLocation-t.x.location,h=o.from,d=o.to,f=o.to-o.from,m=L(this.wrapper,"width").width/(r.categoriesCount()-1),v=Math.round(p/m)*(a?-1:1);if(i){var g=lt(i,"k-left-handle"),y=lt(i,"k-right-handle");lt(i,"k-selection k-selection-bg")?(o.from=Math.min(Math.max(c,s-v),u-f),o.to=Math.min(o.from+f,u)):g&&!a||y&&a?(o.from=Math.min(Math.max(c,s-v),u-1),o.to=Math.max(o.from+1,o.to)):(g&&a||y&&!a)&&(o.to=Math.min(Math.max(c+1,l-v),u),o.from=Math.min(o.to-1,o.from)),o.from===h&&o.to===d||(this.move(o.from,o.to),this.trigger("select",this._rangeEventArgs(o)))}}},e.prototype._end=function(){if(this._state){var t=this._state.moveTarget;t&&(r="k-handle-active",(n=t)&&n.className&&(n.className=n.className.replace(r,"").replace(C," ")));var e=this._state.range;this.set(e.from,e.to),this.trigger("selectEnd",this._rangeEventArgs(e)),delete this._state}var n,r},e.prototype._tap=function(t){var e=this.options,n=this.categoryAxis,r=this.chart._eventCoordinates(t),o=n.pointCategoryIndex(new Xt(r.x,n.box.y1)),i=this._index(e.from),a=this._index(e.to),s=this._index(e.min),l=this._index(e.max),c=a-i,u=i+c/2,p={},h=3===t.event.which,d=Math.round(u-o);this._state||h||(this.chart._unsetActivePoint(),n.options.justified||d--,p.from=Math.min(Math.max(s,i-d),l-c),p.to=Math.min(p.from+c,l),this._start(t),this._state&&(this._state.range=p,this.trigger("select",this._rangeEventArgs(p)),this._end()))},e.prototype._mousewheel=function(t){var e=this,n=vt(t);if(this._start({target:this.selection}),this._state){var r=this._state.range;t.preventDefault(),t.stopPropagation(),Math.abs(n)>1&&(n*=3),this.options.mousewheel.reverse&&(n*=-1),this.expand(n)&&this.trigger("select",{axis:this.categoryAxis.options,delta:n,originalEvent:t,from:this._value(r.from),to:this._value(r.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){e._end()}),150)}},e.prototype._gesturestart=function(t){var e=this.options;this._state={range:{from:this._index(e.from),to:this._index(e.to)}};var n=this._rangeEventArgs(this._state.range);this.trigger("selectStart",n)?this._state=null:t.preventDefault()},e.prototype._gestureend=function(){this._state&&(this.trigger("selectEnd",this._rangeEventArgs(this._state.range)),delete this._state)},e.prototype._gesturechange=function(t){var e=this.chart,n=this._state,r=this.options,o=this.categoryAxis,i=n.range,a=e._toModelCoordinates(t.touches[0].x.location).x,s=e._toModelCoordinates(t.touches[1].x.location).x,l=Math.min(a,s),c=Math.max(a,s);t.preventDefault(),i.from=o.pointCategoryIndex(new Xt(l))||r.min,i.to=o.pointCategoryIndex(new Xt(c))||r.max,this.move(i.from,i.to),this.trigger("select",this._rangeEventArgs(i))},e.prototype._index=function(t){var e=t;return t instanceof Date&&(e=this.categoryAxis.categoryIndex(t)),e},e.prototype._value=function(t){var e=t;return this._dateAxis&&(e=this.categoryAxis.categoryAt(t))>this.options.max&&(e=this.options.max),e},e.prototype._slot=function(t){var e=this.categoryAxis,n=this._index(t);return e.getSlot(n,n,!0)},e.prototype.move=function(t,e){var n=this.options,r=this.categoryAxis.options.reverse,o=n.offset,i=n.padding,a=n.selection.border,s=r?e:t,l=r?t:e,c="x"+(r?2:1),u=this._slot(s),p=Dt(u[c]-o.left+i.left);L(this.leftMask,{width:p}),L(this.selection,{left:p}),u=this._slot(l);var h=Dt(n.width-(u[c]-o.left+i.left));L(this.rightMask,{width:h});var d=n.width-h;d!==n.width&&(d+=a.right),L(this.rightMask,{left:d}),L(this.selection,{width:Math.max(n.width-(p+h)-a.right,0)})},e.prototype.set=function(t,e){var n=this.options,r=this._index(n.min),o=this._index(n.max),i=Et(this._index(t),r,o),a=Et(this._index(e),i+1,o);n.visible&&this.move(i,a),n.from=this._value(i),n.to=this._value(a)},e.prototype.expand=function(t){var e=this.options,n=this._index(e.min),r=this._index(e.max),o=e.mousewheel.zoom,i=this._index(e.from),a=this._index(e.to),s={from:i,to:a},l=j({},s);if(this._state&&(s=this._state.range),o!==v&&(s.from=Et(Et(i-t,0,a-1),n,r)),o!==d&&(s.to=Et(Et(a+t,s.from+1,r),n,r)),s.from!==l.from||s.to!==l.to)return this.set(s.from,s.to),!0},e.prototype.trigger=function(t,e){return(this.observer||this.chart).trigger(t,e)},e}(_.Class);Rt(zi,{visible:!0,mousewheel:{zoom:"both"},min:m,max:f});var Bi=zi,Vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.show=function(e){if(e&&e.tooltipAnchor&&(!this._current||this._current!==e)){var n=j({},this.options,e.options.tooltip),r=e.tooltipAnchor();r?(this._current=e,t.prototype.show.call(this,{point:e,anchor:r},n,e)):this.hide()}},e.prototype.hide=function(){delete this._current,t.prototype.hide.call(this)},e}(bo),Hi=function(t){function e(e,n){t.call(this,e.chartService,n),this.plotArea=e,this.formatService=e.chartService.format}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.showAt=function(t,e){var n=st(t,(function(t){var e=t.series.tooltip;return!(e&&!1===e.visible)}));if(n.length>0){var r=n[0],o=this.plotArea.categoryAxis.getSlot(r.categoryIx),i=e?this._slotAnchor(e,o):this._defaultAnchor(r,o);this.show({anchor:i,shared:!0,points:t,category:r.category,categoryText:this.formatService.auto(this.options.categoryFormat,r.category),series:this.plotArea.series},this.options)}},e.prototype._slotAnchor=function(t,e){return this.plotArea.categoryAxis.options.vertical||(t.x=e.center().x),{point:t,align:{horizontal:"left",vertical:"center"}}},e.prototype._defaultAnchor=function(t,e){var n=t.owner.pane.chartsBox(),r=this.plotArea.categoryAxis.options.vertical,o=n.center(),i=e.center();return{point:r?new Xt(o.x,i.y):new Xt(i.x,o.y),align:{horizontal:"center",vertical:"center"}}},e}(bo);Rt(Hi,{categoryFormat:"{0:d}"});var Ui=Hi,Wi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.element,e=this.options;if(t.bbox()){this.origin=e.origin;var n=e.vertical?w:x,r=this.fromScale=new _.geometry.Point(1,1);r[n]=Xn,t.transform(_.geometry.transform().scale(r.x,r.y))}else this.abort()},e.prototype.step=function(t){var e=ht(this.fromScale.x,1,t),n=ht(this.fromScale.y,1,t);this.element.transform(_.geometry.transform().scale(e,n,this.origin))},e.prototype.abort=function(){t.prototype.abort.call(this),this.element.transform(null)},e}(_.drawing.Animation);Rt(Wi,{duration:600}),_.drawing.AnimationFactory.current.register(Zn,Wi);var qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.center=this.element.bbox().center();this.element.transform(_.geometry.transform().scale(Xn,Xn,t))},e.prototype.step=function(t){this.element.transform(_.geometry.transform().scale(t,t,this.center))},e}(_.drawing.Animation);Rt(qi,{easing:"easeOutElastic"}),_.drawing.AnimationFactory.current.register("bubble",qi);var Ki=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},e.prototype.step=function(t){this.element.opacity(t*this.fadeTo)},e}(_.drawing.Animation);Rt(Ki,{duration:200,easing:"linear"}),_.drawing.AnimationFactory.current.register("fadeIn",Ki);var Gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this.element.transform(_.geometry.transform().scale(Xn,Xn,this.options.center))},e.prototype.step=function(t){this.element.transform(_.geometry.transform().scale(t,t,this.options.center))},e}(_.drawing.Animation);Rt(Gi,{easing:"easeOutElastic",duration:600}),_.drawing.AnimationFactory.current.register(tr,Gi);var Yi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.renderSegments()},e.prototype.createSegment=function(t,e,n){return new("smooth"===e.style?wr:vr)(t,e,n)},e.prototype.animationPoints=function(){return t.prototype.animationPoints.call(this).concat(this._segments)},e.prototype.createMissingValue=function(t,e){if(e===$n){var n={x:t.x,y:t.y};return oo(n.x)||(n.x=0),oo(n.y)||(n.y=0),n}},e}(ao);j(Yi.prototype,kr);var Xi=Yi,$i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new Mr,this.yAxisRangeTracker=new Mr},e.prototype.render=function(t){void 0===t&&(t=this.panes);for(var e=this.groupSeriesByPane(),n=0;n<t.length;n++){var r=t[n],o=e[r.options.name||"default"]||[];this.addToLegend(o);var i=this.filterVisibleSeries(o);i&&(this.createScatterChart(jo(i,"scatter"),r),this.createScatterLineChart(jo(i,"scatterLine"),r),this.createBubbleChart(jo(i,"bubble"),r))}this.createAxes(t)},e.prototype.appendChart=function(e,n){this.xAxisRangeTracker.update(e.xAxisRanges),this.yAxisRangeTracker.update(e.yAxisRanges),t.prototype.appendChart.call(this,e,n)},e.prototype.removeAxis=function(e){var n=e.options.name;t.prototype.removeAxis.call(this,e),e.options.vertical?(this.yAxisRangeTracker.reset(n),delete this.namedYAxes[n]):(this.xAxisRangeTracker.reset(n),delete this.namedXAxes[n]),e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY},e.prototype.seriesPaneName=function(t){var e=this.options,n=t.xAxis,r=st([].concat(e.xAxis),(function(t){return t.name===n}))[0],o=t.yAxis,i=st([].concat(e.yAxis),(function(t){return t.name===o}))[0],a=(e.panes||[{}])[0].name||"default";return(r||{}).pane||(i||{}).pane||a},e.prototype.createScatterChart=function(t,e){t.length>0&&this.appendChart(new ao(this,{series:t,clip:e.options.clip}),e)},e.prototype.createScatterLineChart=function(t,e){t.length>0&&this.appendChart(new Xi(this,{series:t,clip:e.options.clip}),e)},e.prototype.createBubbleChart=function(t,e){t.length>0&&this.appendChart(new uo(this,{series:t,clip:e.options.clip}),e)},e.prototype.createXYAxis=function(t,e,n){for(var r,o=t.name,i=e?this.namedYAxes:this.namedXAxes,a=e?this.yAxisRangeTracker:this.xAxisRangeTracker,s=j({reverse:!e&&this.chartService.rtl},t,{vertical:e}),l=Ao(s.type,"log"),c=a.query(),u=l?{min:.1,max:1}:{min:0,max:1},h=a.query(o)||c||u,d=[s.min,s.max],f=this.series,m=0;m<f.length;m++){var v=f[m],g=v[e?"yAxis":"xAxis"];if(g===s.name||0===n&&!g){var y=Wn.current.bindPoint(v,0).valueFields;d.push(y[e?"y":"x"]);break}}0===n&&c&&(h.min=Math.min(h.min,c.min),h.max=Math.max(h.max,c.max));for(var b=0;b<d.length;b++)if(d[b]instanceof Date){r=!0;break}var x=new(Ao(s.type,p)||!s.type&&r?vn:l?xn:fn)(h.min,h.max,s,this.chartService);if(x.axisIndex=n,o){if(i[o])throw new Error((e?"Y":"X")+" axis with name "+o+" is already defined");i[o]=x}return this.appendAxis(x),x},e.prototype.createAxes=function(t){for(var e=this.options,n=[].concat(e.xAxis),r=[],o=[].concat(e.yAxis),i=[],a=0;a<n.length;a++){pt(this.findPane(n[a].pane),t)&&r.push(this.createXYAxis(n[a],!1,a))}for(var s=0;s<o.length;s++){pt(this.findPane(o[s].pane),t)&&i.push(this.createXYAxis(o[s],!0,s))}this.axisX=this.axisX||r[0],this.axisY=this.axisY||i[0]},e.prototype._dispatchEvent=function(t,e,n){for(var r=t._eventCoordinates(e),o=new Xt(r.x,r.y),i=this.axes,a=i.length,s=[],l=[],c=0;c<a;c++){var u=i[c],p=u.options.vertical?l:s,h=u.getValue(o);null!==h&&p.push(h)}s.length>0&&l.length>0&&t.trigger(n,{element:Ct(e),originalEvent:e,x:No(s),y:No(l)})},e.prototype.updateAxisOptions=function(t,e){var n=t.options.vertical,r=this.groupAxes(this.panes),o=(n?r.y:r.x).indexOf(t);Zi(this.options,o,n,e),Zi(this.originalOptions,o,n,e)},e}(Ko);function Zi(t,e,n,r){j([].concat(n?t.yAxis:t.xAxis)[e],r)}Rt($i,{xAxis:{},yAxis:{}}),j($i.prototype,Go);var Ji=$i,Qi=function(t){function e(e,n,r){t.call(this,r),this.value=e,this.sector=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options.labels,e=this.owner.chartService,n=this.value;if(!this._rendered&&!1!==this.visible){this._rendered=!0;var r=rt(t),o=this.pointData();if(r?n=r(o):t.format&&(n=e.format.auto(t.format,n)),t.visible&&(n||0===n)){if(t.position===c||"insideEnd"===t.position)t.color||(t.color=Vt(this.options.color)),t.background||(t.background=this.options.color);else{var i=e.theme.seriesDefaults.labels;t.color=t.color||i.color,t.background=t.background||i.background}this.label=new be(n,j({},t,{align:c,vAlign:"",animation:{type:"fadeIn",delay:this.animationDelay}}),o),this.append(this.label)}}},e.prototype.reflow=function(t){this.render(),this.box=t,this.reflowLabel()},e.prototype.reflowLabel=function(){var t=this.options.labels,e=this.label,n=this.sector.clone(),r=t.distance,o=n.middle();if(e){var i,a=e.box.height(),s=e.box.width();if(t.position===c)n.radius=Math.abs((n.radius-a)/2)+a,i=n.point(o),e.reflow(new Zt(i.x,i.y-a/2,i.x,i.y));else if("insideEnd"===t.position)n.radius=n.radius-a/2,i=n.point(o),e.reflow(new Zt(i.x,i.y-a/2,i.x,i.y));else{var l;(i=n.clone().expand(r).point(o)).x>=n.center.x?(l=i.x+s,e.orientation=v):(l=i.x-s,e.orientation=d),e.reflow(new Zt(l,i.y-a,i.x,i.y))}}},e.prototype.createVisual=function(){var e=this,n=this.sector,r=this.options;if(t.prototype.createVisual.call(this),this.value)if(r.visual){var o=(n.startAngle+180)%360,i=r.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new _.geometry.Point(n.center.x,n.center.y),radius:n.radius,innerRadius:n.innerRadius,startAngle:o,endAngle:o+n.angle,options:r,sender:this.getSender(),createVisual:function(){var t=new _.drawing.Group;return e.createSegmentVisual(t),t}});i&&this.visual.append(i)}else this.createSegmentVisual(this.visual)},e.prototype.createSegmentVisual=function(t){var e=this.sector,n=this.options,r=n.border||{},o=r.width>0?{stroke:{color:r.color,width:r.width,opacity:r.opacity,dashType:r.dashType}}:{},i=n.color,a={color:i,opacity:n.opacity},s=this.createSegment(e,j({fill:a,stroke:{opacity:n.opacity},zIndex:n.zIndex},o));t.append(s),Fr(n)&&t.append(this.createGradientOverlay(s,{baseColor:i,fallbackFill:a},j({center:[e.center.x,e.center.y],innerRadius:e.innerRadius,radius:e.radius,userSpace:!0},n.overlay)))},e.prototype.createSegment=function(t,e){return e.singleSegment?new _.drawing.Circle(new _.geometry.Circle(new _.geometry.Point(t.center.x,t.center.y),t.radius),e):ee.current.createRing(t,e)},e.prototype.createAnimation=function(){var e=this.options,n=this.sector.center;j(e,{animation:{center:[n.x,n.y],delay:this.animationDelay}}),t.prototype.createAnimation.call(this)},e.prototype.createHighlight=function(t){var e=this.options.highlight||{},n=e.border||{};return this.createSegment(this.sector,j({},t,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:n.opacity,width:n.width,color:n.color}}))},e.prototype.highlightVisual=function(){return this.visual.children[0]},e.prototype.highlightVisualArgs=function(){var t=this.sector;return{options:this.options,radius:t.radius,innerRadius:t.innerRadius,center:new _.geometry.Point(t.center.x,t.center.y),startAngle:t.startAngle,endAngle:t.angle+t.startAngle,visual:this.visual}},e.prototype.tooltipAnchor=function(){var t=this.sector.clone().expand(5),e=t.middle();return{point:t.point(e),align:na(e+180)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}},e}(re),ta=Dt(Tt(30),10),ea=Dt(Tt(60),10);function na(t){var e=Tt(t),n=Dt(Math.sin(e),10),r=Dt(Math.cos(e),10);return{horizontal:Math.abs(n)>ea?c:r<0?v:d,vertical:Math.abs(n)<ta?c:n<0?l:g}}Rt(Qi,{color:b,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:"12px sans-serif",margin:z(.5),align:u,zIndex:1,position:"outsideEnd"},animation:{type:tr},highlight:{visible:!0,border:{width:1}},visible:!0}),j(Qi.prototype,pr);var ra=Qi,oa={createLegendItem:function(t,e,n){var r=this.options.legend||{},o=r.labels||{},i=r.inactiveItems||{},a=i.labels||{};if(n&&!1!==n.visibleInLegend){var s,l,c=!1!==n.visible,u=c?rt(o):rt(a)||rt(o),p=n.category;u&&(p=u({text:p,series:n.series,dataItem:n.dataItem,percentage:n.percentage,value:t})),c?(s={},l=e.color):(s={color:a.color,font:a.font},l=(i.markers||{}).color),oo(p)&&""!==p&&this.legendItems.push({active:c,pointIndex:n.index,text:p,series:n.series,markerColor:l,labels:s})}}},ia=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this.points=[],this.legendItems=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.traverseDataPoints=function(t){var e=this.options,n=this.plotArea.options.seriesColors;void 0===n&&(n=[]);for(var r=n.length,o=e.series,i=o.length,a=0;a<i;a++){var s=o[a],l=s.data,u=Po(s),p=u.total,h=u.points,d=u.count,f=360/p,m=void 0;isFinite(f)||(m=360/d);var v=void 0;v=xt(s.startAngle)?s.startAngle:e.startAngle,a!==i-1&&"outsideEnd"===s.labels.position&&(s.labels.position=c);for(var g=0;g<h.length;g++){var y=h[g];if(y){var b=y.fields,x=y.value,w=y.visible,k=0!==x?m||x*f:0,O=1!==l.length&&Boolean(b.explode);P(s.color)||(s.color=b.color||n[g%r]),t(y.valueFields.value,new Qt(null,0,0,v,k),{owner:this,category:xt(b.category)?b.category:"",index:g,series:s,seriesIx:a,dataItem:l[g],percentage:0!==p?x/p:0,explode:O,visibleInLegend:b.visibleInLegend,visible:w,zIndex:i-a,animationDelay:this.animationDelay(g,a,i)}),!1!==w&&(v+=k)}}}},e.prototype.evalSegmentOptions=function(t,e,n){var r=n.series;sr(t,{value:e,series:r,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:r._defaults,excluded:["data","content","template","visual","toggle"]})},e.prototype.addValue=function(t,e,n){var r=j({},n.series,{index:n.index});if(this.evalSegmentOptions(r,t,n),this.createLegendItem(t,r,n),!1!==n.visible){var o=new ra(t,e,r);Object.assign(o,n),this.append(o),this.points.push(o)}},e.prototype.reflow=function(t){var e=this.options,n=this.points,r=this.seriesConfigs;void 0===r&&(r=[]);var o=n.length,i=t.clone(),a=Math.min(i.width(),i.height()),s=a/2,l=a-.85*a,c=new Zt(i.x1,i.y1,i.x1+a,i.y1+a),u=c.center(),p=i.center(),h=e.series.length,d=[],f=[],m=At(e.padding,l);this.targetBox=t,m=m>s-5?s-5:m,c.translate(p.x-u.x,p.y-u.y);for(var g=s-m,y=new Xt(g+c.x1+m,g+c.y1+m),b=0;b<o;b++){var x=n[b],w=x.sector,k=x.seriesIx;if(w.radius=g,w.center=y,r.length){var O=r[k];w.innerRadius=O.innerRadius,w.radius=O.radius}k===h-1&&x.explode&&(w.center=w.clone().setRadius(.15*w.radius).point(w.middle())),x.reflow(c);var C=x.label;C&&"outsideEnd"===C.options.position&&k===h-1&&(C.orientation===v?f.push(C):d.push(C))}d.length>0&&(d.sort(this.labelComparator(!0)),this.leftLabelsReflow(d)),f.length>0&&(f.sort(this.labelComparator(!1)),this.rightLabelsReflow(f)),this.box=c},e.prototype.leftLabelsReflow=function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},e.prototype.rightLabelsReflow=function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},e.prototype.distanceBetweenLabels=function(t){var e=St(this.points),n=e.sector,r=t.length-1,o=n.radius+e.options.labels.distance,i=[],a=t[0].box,s=Dt(a.y1-(n.center.y-o-a.height()-a.height()/2));i.push(s);for(var l=0;l<r;l++){var c=t[l+1].box;a=t[l].box,s=Dt(c.y1-a.y2),i.push(s)}return s=Dt(n.center.y+o-t[r].box.y2-t[r].box.height()/2),i.push(s),i},e.prototype.distributeLabels=function(t,e){for(var n,r,o,i=t.length,a=0;a<i;a++)for(o=-t[a],n=r=a;o>0&&(n>=0||r<i);)o=this._takeDistance(t,a,--n,o),o=this._takeDistance(t,a,++r,o);this.reflowLabels(t,e)},e.prototype._takeDistance=function(t,e,n,r){var o=r;if(t[n]>0){var i=Math.min(t[n],o);o-=i,t[n]-=i,t[e]+=i}return o},e.prototype.reflowLabels=function(t,e){var n,r=St(this.points),o=r.sector,i=r.options.labels,a=e.length,s=i.distance,l=o.center.y-(o.radius+s)-e[0].box.height();t[0]+=2;for(var c=0;c<a;c++){var p=e[c],h=p.box;l+=t[c],n=this.hAlignLabel(h.x2,o.clone().expand(s),l,l+h.height(),p.orientation===v),p.orientation===v?(i.align!==u&&(n=o.radius+o.center.x+s),p.reflow(new Zt(n+h.width(),l,n,l))):(i.align!==u&&(n=o.center.x-o.radius-s),p.reflow(new Zt(n-h.width(),l,n,l))),l+=h.height()}},e.prototype.createVisual=function(){var e=this.options.connectors,n=this.points,r=n.length;t.prototype.createVisual.call(this),this._connectorLines=[];for(var o=0;o<r;o++){var i=n[o],a=i.sector,s=i.label,l=a.middle(),c=(i.options.connectors||{}).color||e.color;if(s){var u=new _.drawing.Path({stroke:{color:c,width:e.width},animation:{type:"fadeIn",delay:i.animationDelay}});if("outsideEnd"===s.options.position){var p=s.box,h=a.center,d=a.point(l),f=new Xt(p.x1,p.center().y),m=void 0,g=void 0,y=void 0;d=a.clone().expand(e.padding).point(l),u.moveTo(d.x,d.y),s.orientation===v?(y=aa(h,d,f,g=new Xt(p.x1-e.padding,p.center().y)),f=new Xt(g.x-4,g.y),(y=y||f).x=Math.min(y.x,f.x),this.pointInCircle(y,a.center,a.radius+4)||y.x<a.center.x?(m=a.center.x+a.radius+4,i.options.labels.align!==Jn?m<f.x?u.lineTo(m,d.y):u.lineTo(d.x+8,d.y):u.lineTo(m,d.y),u.lineTo(f.x,g.y)):(y.y=g.y,u.lineTo(y.x,y.y))):(y=aa(h,d,f,g=new Xt(p.x2+e.padding,p.center().y)),f=new Xt(g.x+4,g.y),(y=y||f).x=Math.max(y.x,f.x),this.pointInCircle(y,a.center,a.radius+4)||y.x>a.center.x?(m=a.center.x-a.radius-4,i.options.labels.align!==Jn?m>f.x?u.lineTo(m,d.y):u.lineTo(d.x-8,d.y):u.lineTo(m,d.y),u.lineTo(f.x,g.y)):(y.y=g.y,u.lineTo(y.x,y.y))),u.lineTo(g.x,g.y),this._connectorLines.push(u),this.visual.append(u)}}}},e.prototype.renderVisual=function(){if(t.prototype.renderVisual.call(this),Ft(this.options.series,(function(t){return t.autoFit}))){var e=this.targetBox,n=this.box.center(),r=this.visual.bbox();if(!r)return;var o=r.bottomRight(),i=Math.min((n.y-e.y1)/(n.y-r.origin.y),(e.y2-n.y)/(o.y-n.y),(n.x-e.x1)/(n.x-r.origin.x),(e.x2-n.x)/(o.x-n.x));i<1&&this.visual.transform(_.geometry.transform().scale(i,i,[n.x,n.y]))}},e.prototype.labelComparator=function(t){var e=t?-1:1;return function(t,n){return((t.parent.sector.middle()+270)%360-(n.parent.sector.middle()+270)%360)*e}},e.prototype.hAlignLabel=function(t,e,n,r,o){var i=e.radius,a=e.center,s=a.x,l=a.y,c=Math.min(Math.abs(l-n),Math.abs(l-r));return c>i?t:s+Math.sqrt(i*i-c*c)*(o?1:-1)},e.prototype.pointInCircle=function(t,e,n){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(n,2)},e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value)},e.prototype.animationDelay=function(t){return 70*t},e.prototype.stackRoot=function(){return this},e}(re);function aa(t,e,n,r){var o,i=(r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x),a=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y);if(0!==a){var s=i/a;o=new Xt(t.x+s*(e.x-t.x),t.y+s*(e.y-t.y))}return o}Rt(ia,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),j(ia.prototype,oa),ia.prototype.isStackRoot=!0;var sa=ia,la=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createPieChart(this.series)},e.prototype.createPieChart=function(t){var e=t[0],n=new sa(this,{series:t,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(n)},e.prototype.appendChart=function(e,n){t.prototype.appendChart.call(this,e,n),yt(this.options.legend.items,e.legendItems)},e}(Ko),ca=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowLabel=function(){var e=this.options.labels,n=this.label,r=this.sector.clone(),o=r.middle();if(n){var i=n.box.height();if(e.position===c){r.radius-=(r.radius-r.innerRadius)/2;var a=r.point(o);n.reflow(new Zt(a.x,a.y-i/2,a.x,a.y))}else t.prototype.reflowLabel.call(this)}},e.prototype.createSegment=function(t,e){return ee.current.createRing(t,e)},e}(ra);Rt(ca,{overlay:{gradient:"roundedGlass"},labels:{position:c},animation:{type:tr}}),j(ca.prototype,pr);var ua=ca,pa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addValue=function(t,e,n){var r=j({},n.series,{index:n.index});if(this.evalSegmentOptions(r,t,n),this.createLegendItem(t,r,n),t&&!1!==n.visible){var o=new ua(t,e,r);Object.assign(o,n),this.append(o),this.points.push(o)}},e.prototype.reflow=function(e){for(var n,r=this.options,o=e.clone(),i=Math.min(o.width(),o.height()),a=i/2,s=i-.85*i,l=r.series,c=l.length,u=At(r.padding,s),p=a-(u=u>a-5?a-5:u),h=0,d=0;d<c;d++){var f=l[d];0===d&&xt(f.holeSize)&&(n=f.holeSize,p-=f.holeSize),xt(f.size)?p-=f.size:h++,xt(f.margin)&&d!==c-1&&(p-=f.margin)}xt(n)||(p-=n=.75*((a-u)/(c+.75)));var m,v=n,g=0;this.seriesConfigs=[];for(var y=0;y<c;y++){var b=l[y];m=(v+=g)+At(b.size,p/h),this.seriesConfigs.push({innerRadius:v,radius:m}),g=b.margin||0,v=m}t.prototype.reflow.call(this,e)},e.prototype.animationDelay=function(t,e,n){return 50*t+600*(e+1)/(n+1)},e}(sa);Rt(pa,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});var ha=pa,da=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createDonutChart(this.series)},e.prototype.createDonutChart=function(t){var e=t[0],n=new ha(this,{series:t,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(n)},e}(la),fa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.valueAxisRangeTracker=new Mr},e.prototype.render=function(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()},e.prototype.alignAxes=function(){var t=this.valueAxis,e=t.range(),n=t.options.reverse?e.max:e.min,r=t.getSlot(n),o=this.polarAxis.getSlot(0).center,i=t.box.translate(o.x-r.x1,o.y-r.y1);t.reflow(i)},e.prototype.createValueAxis=function(){var t,e,n=this.valueAxisRangeTracker,r=n.query(),o=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});"log"===o.type?(t=Pn,e={min:.1,max:1}):(t=Tn,e={min:0,max:1});var i=n.query(name)||r||e;i&&r&&(i.min=Math.min(i.min,r.min),i.max=Math.max(i.max,r.max));var a=new t(i.min,i.max,o,this.chartService);this.valueAxis=a,this.appendAxis(a)},e.prototype.reflowAxes=function(){var t=this.options.plotArea,e=this.valueAxis,n=this.polarAxis,r=this.box,o=.15*Math.min(r.width(),r.height()),i=z(t.padding||{},o),a=r.clone().unpad(i),s=a.clone();s.y2=s.y1+Math.min(s.width(),s.height()),s.align(a,w,c);var l=s.clone().shrink(0,s.height()/2);n.reflow(s),e.reflow(l);var u=e.lineBox().height()-e.box.height();e.reflow(e.box.unpad({top:u})),this.axisBox=s,this.alignAxes(s)},e.prototype.backgroundBox=function(){return this.box},e.prototype.detachLabels=function(){},e}(Ko),ma=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointSlot=function(t,e){var n=t.center.y-e.y1,r=Xt.onCircle(t.center,t.startAngle,n);return new Zt(r.x,r.y,r.x,r.y)},e}(ao);Rt(ma,{clip:!1});var va=ma,ga=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Xi);ga.prototype.pointSlot=va.prototype.pointSlot,Rt(ga,{clip:!1});var ya=ga,ba=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(t){var e=this._polarAxisCenter();t.lineTo(e.x,e.y)},e.prototype._polarAxisCenter=function(){return this.parent.plotArea.polarAxis.box.center()},e.prototype.strokeSegments=function(){var t=this._strokeSegments;if(!t){var e=this._polarAxisCenter(),n=new jn(!1),r=this.points();r.push(e),(t=this._strokeSegments=n.process(r)).pop()}return t},e}(Ar),xa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(t){var e=this.parent.plotArea.polarAxis.box.center(),n=new _.geometry.Segment([e.x,e.y]);t.segments.unshift(n),t.segments.push(n)},e}(Tr);function wa(t,e){return t.value.x-e.value.x}var ka=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,n){return"smooth"===(e.line||{}).style?new ba(t,e,n):new xa(t,e,n)},e.prototype.createMissingValue=function(t,e){var n;return oo(t.x)&&"interpolate"!==e&&(n={x:t.x,y:t.y},e===$n&&(n.y=0)),n},e.prototype.seriesMissingValues=function(t){return t.missingValues||$n},e.prototype._hasMissingValuesGap=function(){for(var t=this.options.series,e=0;e<t.length;e++)if("gap"===this.seriesMissingValues(t[e]))return!0},e.prototype.sortPoints=function(t){if(t.sort(wa),this._hasMissingValuesGap())for(var e=0;e<t.length;e++){var n=t[e];if(n)oo(n.value.y)||"gap"!==this.seriesMissingValues(n.series)||delete t[e]}return t},e}(ya),Oa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createPolarAxis=function(){var t=new _n(this.options.xAxis,this.chartService);this.polarAxis=t,this.axisX=t,this.appendAxis(t)},e.prototype.valueAxisOptions=function(t){return j(t,{majorGridLines:{type:a},minorGridLines:{type:a}},this.options.yAxis)},e.prototype.createValueAxis=function(){t.prototype.createValueAxis.call(this),this.axisY=this.valueAxis},e.prototype.appendChart=function(t,e){this.valueAxisRangeTracker.update(t.yAxisRanges),Ko.prototype.appendChart.call(this,t,e)},e.prototype.createCharts=function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart(jo(t,["polarLine"]),e),this.createScatterChart(jo(t,["polarScatter"]),e),this.createAreaChart(jo(t,["polarArea"]),e)},e.prototype.createLineChart=function(t,e){if(0!==t.length){var n=new ya(this,{series:t});this.appendChart(n,e)}},e.prototype.createScatterChart=function(t,e){if(0!==t.length){var n=new va(this,{series:t});this.appendChart(n,e)}},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var n=new ka(this,{series:t});this.appendChart(n,e)}},e.prototype._dispatchEvent=function(t,e,n){var r=t._eventCoordinates(e),o=new Xt(r.x,r.y),i=this.axisX.getValue(o),a=this.axisY.getValue(o);null!==i&&null!==a&&t.trigger(n,{element:Ct(e),x:i,y:a})},e.prototype.createCrosshairs=function(){},e}(fa);Rt(Oa,{xAxis:{},yAxis:{}}),j(Oa.prototype,Go);var Ca=Oa;var _a=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointSlot=function(t,e){var n=t.center.y-e.y1,r=Xt.onCircle(t.center,t.middle(),n);return new Zt(r.x,r.y,r.x,r.y)},e.prototype.renderSegments=function(){if(t.prototype.renderSegments.call(this),this._segments&&this._segments.length>1)for(var e=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e[r.seriesIx]=e[r.seriesIx]||[],e[r.seriesIx].push(r)}return e}(this._segments),n=0;n<e.length;n++){var r=e[n];if(r&&r.length>1){var o=r[0].linePoints[0],i=St(r),a=St(i.linePoints),s=0===o.categoryIx,l=a.categoryIx===a.categoriesCount-1;s&&l&&St(r).linePoints.push(o)}}},e.prototype.createSegment=function(t,e,n){var r=new("smooth"===e.style?wr:vr)(t,e,n),o=this.seriesMissingValues(e);return t.length!==e.data.length&&"interpolate"!==o||(r.options.closed=!0),r},e}(Ir);Rt(_a,{clip:!1,limitPoints:!1});var Sa=_a,Ea=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(){},e}(Ar),Ia=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(){},e}(Tr),Ta=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,n,r){var o,i,a,s=this.options.isStacked,l=(e.line||{}).style;return s&&n>0&&r&&(i=r.linePoints.slice(0),o=r),"smooth"===l?(a=new Ea(t,e,n,o,i)).options.closed=!0:(t.push(t[0]),a=new Ia(t,e,n,o,i)),a},e.prototype.seriesMissingValues=function(t){return t.missingValues||$n},e}(Sa),Da=function(t){function e(e,n){t.call(this,e,null,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ua);Rt(Da,{overlay:{gradient:"none"},labels:{distance:10}});var Pa=Da,Aa=function(t){function e(e){t.call(this,e),this.forEach=e.rtl?Vr:Br}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=this.children,r=e.gap,o=e.spacing,i=n.length,a=i+r+o*(i-1),s=t.angle/a,l=t.startAngle+s*(r/2);this.forEach(n,(function(e){var n=t.clone();n.startAngle=l,n.angle=s,e.sector&&(n.radius=e.sector.radius),e.reflow(n),e.sector=n,l+=s+s*o}))},e}(re);Rt(Aa,{gap:1,spacing:0});var ja=Aa,Ma=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options.reverse,n=this.children,r=n.length,o=e?r-1:0,i=e?-1:1;this.box=new Zt;for(var a=o;a>=0&&a<r;a+=i){var s=n[a].sector;s.startAngle=t.startAngle,s.angle=t.angle}},e}(re),Ra=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return Pa},e.prototype.clusterType=function(){return ja},e.prototype.stackType=function(){return Ma},e.prototype.categorySlot=function(t,e){return t.getSlot(e)},e.prototype.pointSlot=function(t,e){var n=t.clone(),r=t.center.y;return n.radius=r-e.y1,n.innerRadius=r-e.y2,n},e.prototype.reflowPoint=function(t,e){t.sector=e,t.reflow()},e.prototype.createAnimation=function(){this.options.animation.center=this.box.toRect().center(),t.prototype.createAnimation.call(this)},e}(Gr);Ra.prototype.reflow=ur.prototype.reflow,Rt(Ra,{clip:!1,limitPoints:!1,animation:{type:"pie"}});var Na=Ra,Fa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createPolarAxis=function(){var t=new On(this.options.categoryAxis,this.chartService);this.polarAxis=t,this.categoryAxis=t,this.appendAxis(t),this.aggregateCategories(),this.createCategoryAxesLabels()},e.prototype.valueAxisOptions=function(t){return this._hasBarCharts&&j(t,{majorGridLines:{type:a},minorGridLines:{type:a}}),this._isStacked100&&j(t,{roundToMajorUnit:!1,labels:{format:"P0"}}),j(t,this.options.valueAxis)},e.prototype.aggregateCategories=function(){wi.prototype.aggregateCategories.call(this,this.panes)},e.prototype.createCategoryAxesLabels=function(){wi.prototype.createCategoryAxesLabels.call(this,this.panes)},e.prototype.filterSeries=function(t){return t},e.prototype.createCharts=function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart(jo(t,["radarArea"]),e),this.createLineChart(jo(t,["radarLine"]),e),this.createBarChart(jo(t,["radarColumn"]),e)},e.prototype.chartOptions=function(t){var e={series:t},n=t[0];if(n){var r=this.filterVisibleSeries(t),o=n.stack;e.isStacked=o&&r.length>1,e.isStacked100=o&&"100%"===o.type&&r.length>1,e.isStacked100&&(this._isStacked100=!0)}return e},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var n=new Ta(this,this.chartOptions(t));this.appendChart(n,e)}},e.prototype.createLineChart=function(t,e){if(0!==t.length){var n=new Sa(this,this.chartOptions(t));this.appendChart(n,e)}},e.prototype.createBarChart=function(t,e){if(0!==t.length){var n=t[0],r=this.chartOptions(t);r.gap=n.gap,r.spacing=n.spacing;var o=new Na(this,r);this.appendChart(o,e),this._hasBarCharts=!0}},e.prototype.seriesCategoryAxis=function(){return this.categoryAxis},e.prototype._dispatchEvent=function(t,e,n){var r=t._eventCoordinates(e),o=new Xt(r.x,r.y),i=this.categoryAxis.getCategory(o),a=this.valueAxis.getValue(o);null!==i&&null!==a&&t.trigger(n,{element:Ct(e),category:i,value:a})},e.prototype.createCrosshairs=function(){},e}(fa);j(Fa.prototype,Go,{appendChart:wi.prototype.appendChart,aggregateSeries:wi.prototype.aggregateSeries,seriesSourcePoints:wi.prototype.seriesSourcePoints}),Rt(Fa,{categoryAxis:{categories:[]},valueAxis:{}});var La=Fa,za=function(t){function e(e,n,r){t.call(this,n),this.value=e,this.options.index=r.index}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.points,n=this.children[0];this.box=new Zt(e[0].x,e[0].y,e[1].x,e[2].y),n&&n.reflow(new Zt(t.x1,e[0].y,t.x2,e[2].y))},e.prototype.createVisual=function(){var e,n=this,r=this.options;t.prototype.createVisual.call(this),(e=r.visual?r.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:r,sender:this.getSender(),createVisual:function(){return n.createPath()}}):this.createPath())&&this.visual.append(e)},e.prototype.createPath=function(){var t=this.options,e=t.border;return _.drawing.Path.fromPoints(this.points,{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close()},e.prototype.createHighlight=function(t){return _.drawing.Path.fromPoints(this.points,t)},e.prototype.highlightVisual=function(){return this.visual.children[0]},e.prototype.highlightVisualArgs=function(){var t=_.drawing.Path.fromPoints(this.points).close();return{options:this.options,path:t}},e.prototype.tooltipAnchor=function(){var t=this.box;return{point:new Xt(t.center().x,t.y1),align:{horizontal:"center",vertical:"top"}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e}(re);Rt(za,{color:b,border:{width:1}}),j(za.prototype,pr);var Ba=za,Va=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.points=[],this.labels=[],this.legendItems=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value)},e.prototype.render=function(){var t=this.options,e=this.plotArea.options.seriesColors;void 0===e&&(e=[]);var n=t.series[0],r=n.data;if(r)for(var o=Po(n),i=o.total,a=o.points,s=0;s<a.length;s++){var l=a[s];if(l){var c=l.fields;P(n.color)||(n.color=c.color||e[s%e.length]),c=j({index:s,owner:this,series:n,dataItem:r[s],percentage:l.value/i},c,{visible:l.visible});var u=l.valueFields.value,p=this.createSegment(u,c),h=this.createLabel(u,c);p&&h&&p.append(h)}}},e.prototype.evalSegmentOptions=function(t,e,n){var r=n.series;sr(t,{value:e,series:r,dataItem:n.dataItem,index:n.index},{defaults:r._defaults,excluded:["data","content","template","toggle","visual"]})},e.prototype.createSegment=function(t,e){var n=j({},e.series);if(this.evalSegmentOptions(n,t,e),this.createLegendItem(t,n,e),!1!==e.visible){var r=new Ba(t,n,e);return Object.assign(r,e),this.append(r),this.points.push(r),r}},e.prototype.createLabel=function(t,e){var n=e.series,r=e.dataItem,o=j({},this.options.labels,n.labels),i=t;if(o.visible){var a=rt(o),s={dataItem:r,value:t,percentage:e.percentage,category:e.category,series:n};a?i=a(s):o.format&&(i=this.plotArea.chartService.format.auto(o.format,i)),o.color||(o.color=Vt(n.color),o.background||(o.background=n.color)),this.evalSegmentOptions(o,t,e);var l=new be(i,j({vAlign:o.position},o),s);return this.labels.push(l),l}},e.prototype.labelPadding=function(){for(var t=this.labels,e={left:0,right:0},n=0;n<t.length;n++){var r=t[n].options.align;if(r!==c){var o=t[n].box.width();r===d?e.left=Math.max(e.left,o):e.right=Math.max(e.right,o)}}return e},e.prototype.dynamicSlopeReflow=function(t,e,n){for(var r=this.options,o=this.points,i=o.length,a=o[0],s=a,l=0;l<o.length;l++)o[l].percentage>s.percentage&&(s=o[l]);for(var c=a.percentage/s.percentage*e,u=(e-c)/2,p=0,h=0;h<i;h++){var d=o[h].percentage,f=o[h+1],m=f?f.percentage:d,v=o[h].points=[],g=r.dynamicHeight?n*d:n/i,y=void 0;y=Et(y=d?(e-c*(m/d))/2:m?0:e/2,0,e),v.push(new _.geometry.Point(t.x1+u,t.y1+p)),v.push(new _.geometry.Point(t.x1+e-u,t.y1+p)),v.push(new _.geometry.Point(t.x1+e-y,t.y1+g+p)),v.push(new _.geometry.Point(t.x1+y,t.y1+g+p)),u=y,p+=g+r.segmentSpacing,c=Et(e-2*y,0,e)}},e.prototype.constantSlopeReflow=function(t,e,n){for(var r=this.options,o=this.points,i=o.length,a=r.neckRatio<=1,s=a?r.neckRatio*e:e,l=a?0:(e-e/r.neckRatio)/2,c=((a?e:e-2*l)-s)/2,u=0,p=0;p<i;p++){var h=o[p].points=[],d=o[p].percentage,f=r.dynamicHeight?c*d:c/i,m=r.dynamicHeight?n*d:n/i;h.push(new _.geometry.Point(t.x1+l,t.y1+u)),h.push(new _.geometry.Point(t.x1+e-l,t.y1+u)),h.push(new _.geometry.Point(t.x1+e-l-f,t.y1+m+u)),h.push(new _.geometry.Point(t.x1+l+f,t.y1+m+u)),l+=f,u+=m+r.segmentSpacing}},e.prototype.reflow=function(t){var e=this.points,n=e.length;if(n){var r=this.options,o=t.clone().unpad(this.labelPadding()),i=o.height()-r.segmentSpacing*(n-1),a=o.width();r.dynamicSlope?this.dynamicSlopeReflow(o,a,i):this.constantSlopeReflow(o,a,i);for(var s=0;s<n;s++)e[s].reflow(t)}},e}(re);Rt(Va,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:c,position:c,zIndex:1}}),j(Va.prototype,oa);var Ha=Va,Ua=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createFunnelChart(this.series)},e.prototype.createFunnelChart=function(t){var e=t[0],n=new Ha(this,{series:t,legend:this.options.legend,neckRatio:e.neckRatio,dynamicHeight:e.dynamicHeight,dynamicSlope:e.dynamicSlope,segmentSpacing:e.segmentSpacing,highlight:e.highlight});this.appendChart(n)},e.prototype.appendChart=function(e,n){t.prototype.appendChart.call(this,e,n),yt(this.options.legend.items,e.legendItems)},e}(Ko),Wa=function(t,e){void 0===e&&(e=.05);var n=Object(_.parseColor)(t),r=1-e;return function(t){var e=n.toHSL(),o=100-e.l,i=r-t;return e.l+=Math.min(i*o,o),e.toCss()}},qa=function(t){function e(e,n){t.call(this),this.options=n,this.color=n.color||b,this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())},e.prototype.createLabel=function(){var t=this.options.labels;if(t.visible){var e,n=this.pointData(),r=rt(t),o=t.color;e=r?r(n):this.formatValue(t.format),o||(o=Vt(this.color)),this.label=new be(e,j({align:c,vAlign:c,margin:{left:5,right:5},zIndex:At(t.zIndex,this.series.zIndex)},t,{color:o}),n),this.append(this.label)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.reflow=function(t){this.render();var e=this.label;this.box=t,e&&e.reflow(this.markerBox()),this.note&&this.note.reflow(t),this.marker.reflow(this.markerBox())},e.prototype.markerBox=function(){var t=this.options.markers,e=t.border,n=this.box.toRect(),r="roundedRect"===At(t.type,"rect"),o=At(e.width,r?1:0),i=Math.round(o/2);if(t.size){var a=n.center();n.size.width=n.size.height=t.size,n.origin.x=Math.round(a.x-n.size.width/2),n.origin.y=Math.round(a.y-n.size.height/2)}return n.size.width-=o,n.size.height-=o,n.origin.y+=i+.5,n.origin.x+=i+.5,ge(n)},e.prototype.markerBorder=function(){var t=this.options,e=t.markers.border,n=At(e.opacity,t.opacity);return{color:e.color||this.color,width:e.width,opacity:n,dashType:e.dashType}},e.prototype.createMarker=function(){var t=this.options,e=t.markers,n=new se({type:At(e.type,"rect"),width:e.size,height:e.size,rotation:e.rotation,background:this.color,border:this.markerBorder(),borderRadius:e.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:At(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=n,this.append(n)},e.prototype.createHighlight=function(t){var e=this.options,n=this.options.highlight.markers||this.options.markers,r=new se({type:At(n.type,"rect"),width:n.size,height:n.size,rotation:n.rotation,background:n.color||this.color,border:this.markerBorder(),borderRadius:n.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:At(e.zIndex,this.series.zIndex)});r.reflow(this.markerBox());var o=r.getElement();return o.options.fill=t.fill,o.options.stroke=t.stroke,o},e.prototype.highlightVisual=function(){return this.rectVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},e.prototype.tooltipAnchor=function(){var t=this.box.center().x,e=this.box.y1-5;return{point:new Xt(t,e),align:{horizontal:c,vertical:l}}},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.unclipElements=function(){},e.prototype.pointData=function(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}},e}(re);j(qa.prototype,pr),j(qa.prototype,hr),qa.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}}};var Ka=qa,Ga=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this.points=[],this.seriesOptions=[],this.valueRange={min:f,max:m},this._evalSeries=[]},e.prototype.render=function(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))},e.prototype.setRange=function(){for(var t=this.options.series,e=0;e<t.length;e++)for(var n=t[e],r=0;r<n.data.length;r++){var o=this._bindPoint(n,e,r).valueFields;this.valueRange.min=Math.min(this.valueRange.min,o.value),this.valueRange.max=Math.max(this.valueRange.max,o.value)}},e.prototype.addValue=function(t,e){var n;t&&(n=this.createPoint(t,e))&&Object.assign(n,e),this.points.push(n)},e.prototype.evalPointOptions=function(t,e,n){var r=n.series,o=n.seriesIx,i={defaults:r._defaults,excluded:["data","tooltip","content","template","visual","toggle"]},a=this._evalSeries[o];xt(a)||(this._evalSeries[o]=a=sr(t,{},i,!0));var s=t;return a&&sr(s=j({},t),{value:e,series:r,dataItem:n.dataItem,min:this.valueRange.min,max:this.valueRange.max},i),s},e.prototype.pointType=function(){return Ka},e.prototype.pointOptions=function(t,e){var n=this.seriesOptions[e];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[e]=n=j({},r,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return n},e.prototype.createPoint=function(t,e){var n=e.series,r=this.pointOptions(n,e.seriesIx),o=e.color||n.color;(r=this.evalPointOptions(r,t,e),P(n.color))?o=r.color:o=Wa(o)(t.value/this.valueRange.max);var i=new Ka(t,r);return i.color=o,this.append(i),i},e.prototype.seriesAxes=function(t){var e=t.xAxis,n=t.yAxis,r=this.plotArea,o=e?r.namedXAxes[e]:r.axisX,i=n?r.namedYAxes[n]:r.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!i)throw new Error("Unable to locate Y axis with name "+n);return{xAxis:o,yAxis:i}},e.prototype.reflow=function(t){var e=this,n=this.points,r=!this.options.clip,o=0;this.traverseDataPoints((function(t,i){var a=n[o++],s=e.seriesAxes(i.series),l=s.xAxis,c=s.yAxis,u=l.categoryIndex(t.x),p=c.categoryIndex(t.y),h=l.getSlot(u,u,r),d=c.getSlot(p,p,r);if(a)if(h&&d){var f=e.pointSlot(h,d);a.reflow(f)}else a.visible=!1})),this.box=t},e.prototype.pointSlot=function(t,e){return new Zt(t.x1,e.y1,t.x2,e.y2)},e.prototype.traverseDataPoints=function(t){for(var e=this.options.series,n=0;n<e.length;n++)for(var r=e[n],o=this.seriesAxes(r),i=o.xAxis,a=o.yAxis,s=i.currentRangeIndices(),l=a.currentRangeIndices(),c=0;c<r.data.length;c++){var u=this._bindPoint(r,n,c),p=u.valueFields,h=u.fields,d=i.totalIndex(p.x),f=a.totalIndex(p.y),m=s.min<=d&&d<=s.max,v=l.min<=f&&f<=l.max;m&&v&&t(p,j({pointIx:c,series:r,seriesIx:n,dataItem:r.data[c],owner:this},h))}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.x,n.y,n.value)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++)e.push((t[n]||{}).marker);return e},e}(re);Rt(Ga,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0}),j(Ga.prototype,{_bindPoint:ur.prototype._bindPoint});var Ya=Ga,Xa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={}},e.prototype.render=function(t){void 0===t&&(t=this.panes),this.bindCategories(),this.createAxes(t),this.createCharts(t),this.createAxisLabels()},e.prototype.bindCategories=function(){for(var t=this.srcSeries||this.series,e=0;e<t.length;e++){for(var n=t[e],r=n.data||[],o=this.seriesAxes(n),i=o.xAxis,a=o.yAxis,s=Gt(i.categories||[]),l=Gt(a.categories||[]),c=0;c<r.length;c++){var u=Wn.current.bindPoint(n,c).valueFields,p=u.x,h=u.y;s.has(p)||s.add(p),l.has(h)||l.add(h)}i.categories=s.values(),a.categories=l.values()}},e.prototype.createCharts=function(t){for(var e=this.groupSeriesByPane(),n=0;n<t.length;n++){var r=t[n],o=e[r.options.name||"default"]||[];this.addToLegend(o);var i=this.filterVisibleSeries(o);i&&this.createHeatmapChart(jo(i,["heatmap"]),r)}},e.prototype.createHeatmapChart=function(t,e){var n=new Ya(this,{series:t});this.appendChart(n,e)},e.prototype.seriesPaneName=function(t){var e=this.options,n=t.xAxis,r=st([].concat(e.xAxis),(function(t){return t.name===n}))[0],o=t.yAxis,i=st([].concat(e.yAxis),(function(t){return t.name===o}))[0],a=(e.panes||[{}])[0].name||"default";return(r||{}).pane||(i||{}).pane||a},e.prototype.seriesAxes=function(t){var e,n,r=this.options,o=[].concat(r.xAxis),i=t.xAxis;e=i?o.find((function(t){return t.name===i})):o[0];var a=[].concat(r.yAxis),s=t.yAxis;if(n=s?a.find((function(t){return t.name===s})):a[0],!e)throw new Error("Unable to locate X axis with name "+i);if(!n)throw new Error("Unable to locate Y axis with name "+s);return{xAxis:e,yAxis:n}},e.prototype.createAxisLabels=function(){for(var t=this.axes,e=0;e<t.length;e++)t[e].createLabels()},e.prototype.createXYAxis=function(t,e,n){for(var r,o=t.name,i=e?this.namedYAxes:this.namedXAxes,a=Object.assign({axisCrossingValue:0},t,{vertical:e,reverse:e||this.chartService.rtl?!t.reverse:t.reverse,justified:!1}),s=a.categories?a.categories[0]:null,l=[a.min,a.max,s],c=this.series,u=0;u<c.length;u++){var h=c[u],d=h[e?"yAxis":"xAxis"];if(d===a.name||0===n&&!d){var f=Wn.current.bindPoint(h,0).valueFields;l.push(f[e?"y":"x"]);break}}for(var m=0;m<l.length;m++)if(l[m]instanceof Date){r=!0;break}var v=new(Ao(a.type,p)||!a.type&&r?sn:Ze)(a,this.chartService);if(v.axisIndex=n,o){if(i[o])throw new Error((e?"Y":"X")+" axis with name "+o+" is already defined");i[o]=v}return this.appendAxis(v),v.mapCategories(),v},e.prototype.createAxes=function(t){for(var e=this.options,n=[].concat(e.xAxis),r=[],o=[].concat(e.yAxis),i=[],a=0;a<n.length;a++){pt(this.findPane(n[a].pane),t)&&r.push(this.createXYAxis(n[a],!1,a))}for(var s=0;s<o.length;s++){pt(this.findPane(o[s].pane),t)&&i.push(this.createXYAxis(o[s],!0,s))}this.axisX=this.axisX||r[0],this.axisY=this.axisY||i[0]},e.prototype.removeAxis=function(e){var n=e.options.name;t.prototype.removeAxis.call(this,e),e.options.vertical?delete this.namedYAxes[n]:delete this.namedXAxes[n],e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY},e.prototype._dispatchEvent=function(t,e,n){for(var r=t._eventCoordinates(e),o=new Xt(r.x,r.y),i=this.axes,a=i.length,s=[],l=[],c=0;c<a;c++){var u=i[c];To(u.options.vertical?l:s,u.getCategory(o))}s.length>0&&l.length>0&&t.trigger(n,{element:Ct(e),originalEvent:e,x:No(s),y:No(l)})},e.prototype.updateAxisOptions=function(t,e){var n=t.options.vertical,r=this.groupAxes(this.panes),o=(n?r.y:r.x).indexOf(t);$a(this.options,o,n,e),$a(this.originalOptions,o,n,e)},e.prototype.crosshairOptions=function(t){return Object.assign({},t.options.crosshair,{zIndex:0})},e}(Ko);function $a(t,e,n,r){j([].concat(n?t.yAxis:t.xAxis)[e],r)}Rt(Xa,{xAxis:{},yAxis:{}}),j(Xa.prototype,Go);var Za=Xa,Ja="color",Qa="first",ts="max";Ni.current.register(wi,[Zn,Jn,Qn,er,"area","verticalArea","candlestick","ohlc","bullet","verticalBullet","boxPlot","verticalBoxPlot","rangeColumn","rangeBar","waterfall","horizontalWaterfall","rangeArea","verticalRangeArea"]),Ni.current.register(Ji,["scatter","scatterLine","bubble"]),Ni.current.register(la,[tr]),Ni.current.register(da,["donut"]),Ni.current.register(Ua,["funnel"]),Ni.current.register(Ca,["polarArea","polarLine","polarScatter"]),Ni.current.register(La,["radarArea","radarColumn","radarLine"]),Ni.current.register(Za,["heatmap"]),Wn.current.register([Zn,Jn,Qn,er,"area","verticalArea"],[y],["category",Ja,"noteText","errorLow","errorHigh"]),Wn.current.register(["rangeColumn","rangeBar","rangeArea","verticalRangeArea"],["from","to"],["category",Ja,"noteText"]),Wn.current.register(["waterfall","horizontalWaterfall"],[y],["category",Ja,"noteText","summary"]),Wn.current.register(["polarArea","polarLine","polarScatter"],[x,w],[Ja]),Wn.current.register(["radarArea","radarColumn","radarLine"],[y],[Ja]),Wn.current.register(["funnel"],[y],["category",Ja,"visibleInLegend","visible"]),Zo.current.register([Zn,Jn,Qn,er,"area","verticalArea","waterfall","horizontalWaterfall"],{value:ts,color:Qa,noteText:Qa,errorLow:"min",errorHigh:ts}),Zo.current.register(["rangeColumn","rangeBar","rangeArea","verticalRangeArea"],{from:"min",to:ts,color:Qa,noteText:Qa}),Zo.current.register(["radarArea","radarColumn","radarLine"],{value:ts,color:Qa}),Wn.current.register(["scatter","scatterLine","bubble"],[x,w],[Ja,"noteText","xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),Wn.current.register(["bubble"],[x,w,"size"],[Ja,"category","noteText"]),Wn.current.register(["heatmap"],[x,w,y],[Ja,"noteText"]),Wn.current.register(["candlestick","ohlc"],["open","high","low","close"],["category",Ja,"downColor","noteText"]),Zo.current.register(["candlestick","ohlc"],{open:ts,high:ts,low:"min",close:ts,color:Qa,downColor:Qa,noteText:Qa}),Wn.current.register(["boxPlot","verticalBoxPlot"],["lower","q1","median","q3","upper","mean","outliers"],["category",Ja,"noteText"]),Zo.current.register(["boxPlot","verticalBoxPlot"],{lower:ts,q1:ts,median:ts,q3:ts,upper:ts,mean:ts,outliers:Qa,color:Qa,noteText:Qa}),Wn.current.register(["bullet","verticalBullet"],["current","target"],["category",Ja,"visibleInLegend","noteText"]),Zo.current.register(["bullet","verticalBullet"],{current:ts,target:ts,color:Qa,noteText:Qa}),Wn.current.register([tr,"donut"],[y],["category",Ja,"explode","visibleInLegend","visible"]);var es=["category",y,x,w],ns=function(t){function e(e,n,r,o){var i=this;void 0===o&&(o={}),t.call(this),this.observers=[],this.addObserver(o.observer),this.chartService=new Z(this,o),this.chartService.theme=r,this._initElement(e);var a=j({},this.options,n);this._originalOptions=j({},a),this._theme=r,this._initTheme(a,r),this._initHandlers(),this._initSurface(),this.bindCategories(),Mt.preloadFonts(n,(function(){i.fontLoaded=!0,i._destroyed||(i.trigger("init"),i._redraw(),i._attachEvents())}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initElement=function(t){for(this._setElementClass(t),t.style.position="relative";t.firstChild;)t.removeChild(t.firstChild);this.element=t},e.prototype._setElementClass=function(t){O(t,"k-chart")},e.prototype._initTheme=function(t,e){for(var n=[],r=t.series||[],o=0;o<r.length;o++)n.push(Object.assign({},r[o]));t.series=n,function(t){for(var e=es,n=0;n<e.length;n++){var r=e[n]+"Axes";t[r]&&(t[e[n]+"Axis"]=t[r],delete t[r])}}(t),this.applyDefaults(t,e),null===t.seriesColors&&delete t.seriesColors,this.options=j({},e,t),this.applySeriesColors()},e.prototype.getSize=function(){var t=this.options.chartArea||{};return{width:t.width?parseInt(t.width,10):Math.floor(this.element.offsetWidth),height:t.height?parseInt(t.height,10):Math.floor(this.element.offsetHeight)}},e.prototype.resize=function(t){var e=this.getSize(),n=this._size,r=e.width>0||e.height>0;t||r&&(!n||e.width!==n.width||e.height!==n.height)?(this._size=e,this._resize(e,t),this.trigger("resize",e)):r&&this._selections&&Ft(this._selections,(function(t){return!t.visible}))&&(this._destroySelections(),this._setupSelection())},e.prototype._resize=function(){this._noTransitionsRedraw()},e.prototype.redraw=function(t){if(this.applyDefaults(this.options),this.applySeriesColors(),t){var e=this._model._plotArea,n=e.findPane(t);e.redraw(n)}else this._redraw()},e.prototype.getAxis=function(t){return Rn(t,this._plotArea.axes)},e.prototype.findAxisByName=function(t){return this.getAxis(t)},e.prototype.findPaneByName=function(t){for(var e=this._plotArea.panes,n=0;n<e.length;n++)if(e[n].options.name===t)return new Fn(e[n])},e.prototype.findPaneByIndex=function(t){var e=this._plotArea.panes;if(e[t])return new Fn(e[t])},e.prototype.plotArea=function(){return new Ln(this._plotArea)},e.prototype.toggleHighlight=function(t,e){var n,r,o,i=this._plotArea,a=(i.srcSeries||i.series||[])[0];P(e)?n=i.filterPoints(e):(M(e)?(r=e.series,o=e.category):r=o=e,n="donut"===a.type?rs(i.pointsBySeriesName(r),o):a.type===tr||"funnel"===a.type?rs((i.charts[0]||{}).points,o):i.pointsBySeriesName(r));n&&this.togglePointsHighlight(t,n)},e.prototype.togglePointsHighlight=function(t,e){for(var n=this._highlight,r=0;r<e.length;r++)n.togglePointHighlight(e[r],t)},e.prototype.showTooltip=function(t){var e,n,r=this._sharedTooltip(),o=this._tooltip,i=this._plotArea;if(P(t)?(e=i.findPoint(t))&&r&&(n=e.categoryIx):r&&xt(t)&&(n=i.categoryAxis.categoryIndex(t)),r){if(n>=0){var a=this._plotArea.pointsByCategoryIndex(n);o.showAt(a)}}else e&&o.show(e)},e.prototype.hideTooltip=function(){this._tooltip.hide()},e.prototype._initSurface=function(){var t=this.surface,e=this._surfaceWrap(),n=this.options.chartArea||{};n.width&&Ot(e,{width:n.width}),n.height&&Ot(e,{height:n.height}),t&&t.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=_.drawing.Surface.create(e,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))},e.prototype._surfaceWrap=function(){return this.element},e.prototype._redraw=function(){var t=this._getModel();this._size={width:t.options.width,height:t.options.height},this._destroyView(),this._model=t,this._plotArea=t._plotArea,t.renderVisual(),!1!==this.options.transitions&&t.traverse((function(t){t.animation&&t.animation.setup()})),this._initSurface(),this.surface.draw(t.visual),!1!==this.options.transitions&&t.traverse((function(t){t.animation&&t.animation.play()})),this._tooltip=this._createTooltip(),this._highlight=new Oi,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),ls(this._plotArea.panes),this._navState||this._cancelDomEvents()},e.prototype.exportVisual=function(t){var e;if(t&&(t.width||t.height||t.options)){var n=this.options,r=j({},t.options,{chartArea:{width:t.width,height:t.height}});ss(this._originalOptions,r),this.options=j({},this._originalOptions,r),this._initTheme(this.options,this._theme),this.bindCategories();var o=this._getModel();o.renderVisual(),ls(o._plotArea.panes),e=o.visual,this.options=n}else e=this.surface.exportVisual();return e},e.prototype._sharedTooltip=function(){return this._plotArea instanceof wi&&this.options.tooltip&&this.options.tooltip.shared},e.prototype._createPannable=function(){var t=this.options;!1!==t.pannable&&(this._pannable=new Ei(this._plotArea,t.pannable))},e.prototype._createZoomSelection=function(){var t=this.options.zoomable,e=(t||{}).selection;!1!==t&&!1!==e&&(this._zoomSelection=new Ti(this,e))},e.prototype._createMousewheelZoom=function(){var t=this.options.zoomable,e=(t||{}).mousewheel;!1!==t&&!1!==e&&(this._mousewheelZoom=new Di(this,e))},e.prototype._toggleDragZoomEvents=function(){var t=this.options.pannable,e=this.options.zoomable,n=(e||{}).selection,r=(e||{}).mousewheel,o=!(t||!1!==e&&!1!==n||this.requiresHandlers(["dragStart","drag","dragEnd"])),i=(!1===e||!1===r)&&!this.requiresHandlers(["zoomStart","zoom","zoomEnd"]),a=this.element;this._dragZoomEnabled&&o&&i?(a.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):this._dragZoomEnabled||o&&i||(a.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!o,!i)},e.prototype._toggleDomEvents=function(t,e){var n=this.domEvents;n&&(n.toggleDrag&&n.toggleDrag(t),n.toggleZoom&&n.toggleZoom(e))},e.prototype._createTooltip=function(){var t=this.options.tooltip;return this._sharedTooltip()?this._createSharedTooltip(t):new Vi(this.chartService,t)},e.prototype._createSharedTooltip=function(t){return new Ui(this._plotArea,t)},e.prototype.applyDefaults=function(t,e){!function(t,e){var n,r,o,i=(e||{}).axisDefaults||{};function a(t){var e=(t||{}).color||r.color,o=j({},i,i[n],r,r[n],{line:{color:e},labels:{color:e},title:{color:e}},t);return delete o[n],o}for(var s=0;s<es.length;s++)n=es[s]+"Axis",r=t.axisDefaults||{},o=(o=[].concat(t[n])).map(a),t[n]=o.length>1?o:o[0]}(t,e),function(t,e){var n=t.series,r=n.length,o=t.seriesDefaults,i=j({},t.seriesDefaults),a=e?j({},e.seriesDefaults):{},s=j({},a);os(i),os(s);for(var l=0;l<r;l++){var c=n[l].type||t.seriesDefaults.type,u=j({data:[]},s,a[c],{tooltip:t.tooltip},i,o[c]);n[l]._defaults=u,n[l]=j({},u,n[l]),n[l].data=n[l].data||[]}}(t,e)},e.prototype.applySeriesColors=function(){for(var t=this.options,e=t.series,n=t.seriesColors||[],r=0;r<e.length;r++){var o=e[r],i=n[r%n.length],a=o._defaults;o.color=o.color||i,a&&(a.color=a.color||i)}},e.prototype._getModel=function(){var t=this.options,e=this._createPlotArea(),n=new pe(this._modelOptions());return n.chart=this,n._plotArea=e,we.buildTitle(t.title,n),t.legend&&t.legend.visible&&n.append(new Mi(e.options.legend,this.chartService)),n.append(e),n.reflow(),n},e.prototype._modelOptions=function(){var t=this.options,e=this.getSize();return j({transitions:t.transitions,width:e.width||600,height:e.height||400},t.chartArea)},e.prototype._createPlotArea=function(t){var e=this.options;return Ni.current.create(t?[]:e.series,e,this.chartService)},e.prototype._setupSelection=function(){for(var t=this._plotArea.axes,e=this._selections=[],n=0;n<t.length;n++){var r=t[n],o=r.options;if(r instanceof Ze&&o.select&&!o.vertical){var i=r.range(),a=new Bi(this,r,j({min:i.min,max:i.max},o.select));e.push(a)}}},e.prototype._selectStart=function(t){return this.trigger("selectStart",t)},e.prototype._select=function(t){return this.trigger("select",t)},e.prototype._selectEnd=function(t){return this.trigger("selectEnd",t)},e.prototype._initHandlers=function(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=Object(_.throttle)(this._mousemove.bind(this),20)},e.prototype.addObserver=function(t){t&&this.observers.push(t)},e.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)},e.prototype.requiresHandlers=function(t){for(var e=this.observers,n=0;n<e.length;n++)if(e[n].requiresHandlers(t))return!0},e.prototype.trigger=function(t,e){void 0===e&&(e={}),"showTooltip"===t&&(e.anchor.point=this._toDocumentCoordinates(e.anchor.point)),e.sender=this;for(var n=this.observers,r=!1,o=0;o<n.length;o++)n[o].trigger(t,e)&&(r=!0);return r},e.prototype._attachEvents=function(){var t,e,n=this.element;this._touchAction=n.style.touchAction,bt(n,((t={}).contextmenu=this._clickHandler,t[rr]=this._mousewheelHandler,t.mouseleave=this._mouseleaveHandler,t)),this._shouldAttachMouseMove()&&bt(n,((e={}).mousemove=this._mousemove,e)),this.domEvents=Q.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()},e.prototype._mouseleave=function(t){this._hoveredPoint&&(this._hoveredPoint.out(this,t),this._hoveredPoint=null),this._plotArea.hovered&&(this.trigger("plotAreaLeave"),this._plotArea.hovered=!1)},e.prototype._cancelDomEvents=function(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()},e.prototype._gesturestart=function(t){this._mousewheelZoom&&!this._stopChartHandlers(t)&&(this._gestureDistance=t.distance,this._unsetActivePoint(),this.surface.suspendTracking())},e.prototype._gestureend=function(t){this._zooming&&!this._stopChartHandlers(t)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger("zoomEnd",{}))},e.prototype._gesturechange=function(t){var e=this._mousewheelZoom;if(e&&!this._stopChartHandlers(t)){t.preventDefault();var n=this._gestureDistance,r=-t.distance/n+1;if(Math.abs(r)>=.1){r=Math.round(10*r),this._gestureDistance=t.distance;var o={delta:r,axisRanges:is(this._plotArea.axes),originalEvent:t};if(this._zooming||!this.trigger("zoomStart",o))this._zooming||(this._zooming=!0),(o.axisRanges=e.updateRanges(r))&&!this.trigger("zoom",o)&&e.zoom()}}},e.prototype._mouseout=function(t){if(t.element){var e=this._drawingChartElement(t.element,t);e&&e.leave&&e.leave(this,t.originalEvent)}},e.prototype._start=function(t){var e=this._eventCoordinates(t);!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(e)&&(this.requiresHandlers(["dragStart","drag","dragEnd"])&&this._startNavigation(t,e,"dragStart"),this._pannable&&this._pannable.start(t)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(t)&&this.trigger("zoomStart",{axisRanges:is(this._plotArea.axes),originalEvent:t}))},e.prototype._move=function(t){var e=this._navState,n=this._pannable;if(!this._stopChartHandlers(t)){if(n){var r=n.move(t);r&&!this.trigger("drag",{axisRanges:r,originalEvent:t})&&n.pan()}else if(e){for(var o={},i=e.axes,a=0;a<i.length;a++){var s=i[a];if(s.options.name){var l=s.options.vertical?t.y:t.x,c=l.startLocation-l.location;0!==c&&(o[s.options.name]=s.translateRange(c))}}e.axisRanges=o,this.trigger("drag",{axisRanges:o,originalEvent:t})}this._zoomSelection&&this._zoomSelection.move(t)}},e.prototype._end=function(t){if(!this._stopChartHandlers(t)){var e=this._pannable;if(e&&e.end(t)?(this.surface.resumeTracking(),this.trigger("dragEnd",{axisRanges:is(this._plotArea.axes),originalEvent:t}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(t,"dragEnd"),this._zoomSelection){var n=this._zoomSelection.end(t);n&&!this.trigger("zoom",{axisRanges:n,originalEvent:t})&&(this._zoomSelection.zoom(),this.trigger("zoomEnd",{axisRanges:n,originalEvent:t}))}}},e.prototype._stopChartHandlers=function(t){var e=this._selections||[];if(!e.length)return!1;var n=this._eventCoordinates(t),r=this._plotArea.paneByPoint(n);if(r)for(var o=0;o<e.length;o++)if(e[o].onPane(r))return!0},e.prototype._mousewheel=function(t){var e=this,n=vt(t),r=this._mousewheelZoom,o=this._eventCoordinates(t);if(!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(o))if(r){var i={delta:n,axisRanges:is(this._plotArea.axes),originalEvent:t};!this._zooming&&this.trigger("zoomStart",i)||(t.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),i.axisRanges=r.updateRanges(n),i.axisRanges&&!this.trigger("zoom",i)&&r.zoom(),this._mwTimeout=setTimeout((function(){e.trigger("zoomEnd",i),e._zooming=!1,e.surface&&e.surface.resumeTracking()}),150))}else{var a=this._navState;if(!a)this._startNavigation(t,o,"zoomStart")||(a=this._navState);if(a){var s=a.totalDelta||n;a.totalDelta=s+n;for(var l=this._navState.axes,c={},u=0;u<l.length;u++){var p=l[u],h=p.options.name;h&&(c[h]=p.scaleRange(-s))}this.trigger("zoom",{delta:n,axisRanges:c,originalEvent:t}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){e._endNavigation(t,"zoomEnd")}),150)}}},e.prototype._startNavigation=function(t,e,n){var r=this._model._plotArea,o=r.findPointPane(e),i=r.axes.slice(0);if(o){var a=is(i);this.trigger(n,{axisRanges:a,originalEvent:t})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:a,pane:o,axes:i})}},e.prototype._endNavigation=function(t,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:t}),this._suppressHover=!1,this._navState=null)},e.prototype._getChartElement=function(t,e){var n=this.surface.eventTarget(t);if(n)return this._drawingChartElement(n,t,e)},e.prototype._drawingChartElement=function(t,e,n){for(var r,o=t;o&&!r;)r=o.chartElement,o=o.parent;if(r)return r.aliasFor&&(r=r.aliasFor(e,this._eventCoordinates(e))),n&&(r=r.closest(n))&&r.aliasFor&&(r=r.aliasFor()),r},e.prototype._eventCoordinates=function(t){var e=_t(t);return this._toModelCoordinates(e.x,e.y)},e.prototype._elementPadding=function(){if(!this._padding){var t=L(this.element,["paddingLeft","paddingTop"]),e=t.paddingLeft,n=t.paddingTop;this._padding={top:n,left:e}}return this._padding},e.prototype._toDocumentCoordinates=function(t){var e=this._elementPadding(),n=kt(this.element);return{left:Dt(t.x+e.left+n.left),top:Dt(t.y+e.top+n.top)}},e.prototype._toModelCoordinates=function(t,e){var n=this.element,r=kt(n),o=this._elementPadding(),i=function(t){if(!t)return Lt.unit();for(var e=Bt(t),n=t.parentElement;n;){var r=Bt(n);e=e.multiplyCopy(r),n=n.parentElement}return e.b=e.c=e.e=e.f=0,e}(n).invert(),a=new _.geometry.Point(t-r.left-o.left,e-r.top-o.top).transform(i);return new Xt(a.x,a.y)},e.prototype._tap=function(t){var e=this,n=this.surface.eventTarget(t),r=this._drawingChartElement(n,t),o=this._sharedTooltip();this._startHover(n,t)||o||this._unsetActivePoint(),o&&this._trackSharedTooltip(this._eventCoordinates(t),t,!0),this._propagateClick(r,t),this.handlingTap=!0,setTimeout((function(){e.handlingTap=!1}),0)},e.prototype._click=function(t){var e=this._getChartElement(t);this._propagateClick(e,t)},e.prototype._propagateClick=function(t,e){for(var n=t;n;)n.click&&n.click(this,e),n=n.parent},e.prototype._startHover=function(t,e){if(this._suppressHover)return!1;var n=this._drawingChartElement(t,e,(function(t){return(t.hover||t.over)&&!(t instanceof Ko)})),r=this._activePoint,o=this._plotArea.series.length>1,i=this._hasInactiveOpacity();return this._updateHoveredPoint(n,e),n&&r!==n&&n.hover?(this._activePoint=n,this._sharedTooltip()||n.hover(this,e)||(this._displayTooltip(n),i?this._displayInactiveOpacity(n,o):this._highlight.show(n))):!n&&i&&(o&&this._activeChartInstance&&(this._updateSeriesOpacity(n,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null),n},e.prototype._displayTooltip=function(t){j({},this.options.tooltip,t.options.tooltip).visible&&this._tooltip.show(t)},e.prototype._displayInactiveOpacity=function(t,e,n){var r=this._activeChartInstance=this._chartInstanceFromPoint(t);if(r)if(e)this._updateSeriesOpacity(t),this._applySeriesOpacity(r.children,null,!0),this._applySeriesOpacity(r.children,t.series),this._highlight.show(n||t);else{var o;if(!r.supportsPointInactiveOpacity())return void this._highlight.show(t);(o=this._getInactivePoints(t,r))&&o.length&&this._highlight.show(o,1-this._getInactiveOpacityForSeries(t.series))}},e.prototype._getInactivePoints=function(t,e){return this._getAllPointsOfType(e,t.constructor).filter((function(e){return e!==t}))},e.prototype._getAllPointsOfType=function(t,e){for(var n=[],r=0;r<t.children.length;r++){var o=t.children[r];o.constructor===e?n.push(o):o.children&&o.children.length&&(n=n.concat(this._getAllPointsOfType(o,e)))}return n},e.prototype._updateHoveredPoint=function(t,e){var n=this._hoveredPoint;n&&n!==t&&(n.out(this,e),this._hoveredPoint=null),t&&n!==t&&t.over&&(this._hoveredPoint=t,t.over(this,e))},e.prototype._updateSeriesOpacity=function(t,e){for(var n=this._plotArea,r=n.series.length,o=0;o<r;o++){var i=n.series[o],a=this._getDefaultOpacityForSeries(i),s=this._getInactiveOpacityForSeries(i);e||i===t.series?(i.opacity=a,i.line&&(i.line.opacity=a)):(i.defaultOpacity=a,i.opacity=s,i.line&&(i.line.opacity=s))}},e.prototype._applySeriesOpacity=function(t,e,n,r){for(var o=0;o<t.length;o++){var i=t[o],a=i.series||r;if(a&&i.visual){var s=r?r.opacity:i.series.opacity;(a!==e||n)&&i.visual.opacity(n?1:s)}i.children&&i.children.length&&this._applySeriesOpacity(i.children,e,n,i.series)}},e.prototype._chartInstanceFromPoint=function(t){for(var e=t.parent;e&&!e.plotArea;)e=e.parent;return e},e.prototype._hasInactiveOpacity=function(){var t=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,e=this.options.series.filter((function(t){return void 0!==t.highlight.inactiveOpacity})).length>0;return t||e},e.prototype._getInactiveOpacityForSeries=function(t){var e=this.options.seriesDefaults.highlight.inactiveOpacity;return t.highlight.inactiveOpacity||e||t.opacity||1},e.prototype._getDefaultOpacityForSeries=function(t){return t.defaultOpacity||t.opacity||1},e.prototype._mouseover=function(t){var e,n=this._startHover(t.element,t.originalEvent);n&&n.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),bt(document,((e={}).mousemove=this._mouseMoveTrackHandler,e)))},e.prototype._mouseMoveTracking=function(t){var e,n=this.options,r=this._tooltip,o=this._highlight,i=this._activePoint,a=this._eventCoordinates(t);if(this._plotArea.box.containsPoint(a)){if(i&&i.tooltipTracking&&i.series&&i.parent.getNearestPoint){var s=i.parent.getNearestPoint(a.x,a.y,i.seriesIx);if(s&&s!==i)if(this._activePoint=s,!s.hover(this,t))j({},n.tooltip,s.options.tooltip).visible&&r.show(s),o.show(s)}}else Pt(document,((e={}).mousemove=this._mouseMoveTrackHandler,e)),this._unsetActivePoint(),this._mouseMoveTrackHandler=null},e.prototype._mousemove=function(t){var e=this._eventCoordinates(t),n=this._plotArea;if(this._trackCrosshairs(e),n.hover){var r=n.backgroundContainsPoint(e);r?(n.hovered=!0,this._plotArea.hover(this,t)):n.hovered&&!r&&(this.trigger("plotAreaLeave"),n.hovered=!1)}this._sharedTooltip()&&this._trackSharedTooltip(e,t)},e.prototype._trackCrosshairs=function(t){for(var e=this._plotArea.crosshairs,n=0;n<e.length;n++){var r=e[n];r.box.containsPoint(t)?r.showAt(t):r.hide()}},e.prototype._trackSharedTooltip=function(t,e,n){if(!this._suppressHover){var r=this.options.tooltip,o=this._plotArea,i=this._plotArea.categoryAxis,a=this._tooltip,s=this._highlight;if(o.backgroundContainsPoint(t)){var l=i.pointCategoryIndex(t);if(l!==this._tooltipCategoryIx||!this._sharedHighlight&&n){var c=o.pointsByCategoryIndex(l),u=c.map((function(t){return t.eventArgs(e)})),p=u[0]||{};p.categoryPoints=u,c.length>0&&!this.trigger("seriesHover",p)?(r.visible&&a.showAt(c,t),s.show(c),this._sharedHighlight=!0):a.hide(),this._tooltipCategoryIx=l}else n&&this._sharedHighlight&&(s.hide(),a.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(s.hide(),a.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}},e.prototype.hideElements=function(t){var e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint(t)},e.prototype._unsetActivePoint=function(t){var e=this._tooltip,n=this._highlight;this._activePoint=null,this._hoveredPoint=null,!e||t&&t.keepTooltipOpen||e.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,n&&n.hide()},e.prototype._deferRedraw=function(){this._redraw()},e.prototype._clearRedrawTimeout=function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},e.prototype.bindCategories=function(){for(var t=this.options,e=[].concat(t.categoryAxis),n=0;n<e.length;n++){var r=e[n];!1!==r.autoBind&&this.bindCategoryAxisFromSeries(r,n)}},e.prototype.bindCategoryAxisFromSeries=function(t,e){for(var n,r=this.options.series,o=r.length,i=new ut,a=[],s=!1,l=0;l<o;l++){var c=r[l],u=c.categoryAxis===t.name||!c.categoryAxis&&0===e,p=c.data,h=p.length,d=c.categoryField&&u;if(s=d||s,d&&h>0)for(var f=(n=Ro(t,Hn(c.categoryField,p[0])))?Mo:Hn,m=0;m<h;m++){var v=p[m],g=f(c.categoryField,v,this.chartService.intl);!n&&i.get(g)||(a.push([g,v]),n||i.set(g,!0))}}if(a.length>0){n&&(a=function(t,e){void 0===e&&(e=Be);for(var n=function(t,e){void 0===e&&(e=Be);for(var n=1,r=t.length;n<r;n++)if(e(t[n],t[n-1])<0){t.sort(e);break}return t}(t,e),r=n.length,o=r>0?[n[0]]:[],i=1;i<r;i++)0!==e(n[i],St(o))&&o.push(n[i]);return o}(a,(function(t,e){return Be(t[0],e[0])})));var y=function(t){for(var e=t.length,n=[],r=0;r<e;r++)for(var o=t[r],i=o.length,a=0;a<i;a++)n[a]=n[a]||[],n[a].push(o[a]);return n}(a);t.categories=y[0]}else s&&(t.categories=[])},e.prototype._isBindable=function(t){for(var e=Wn.current.valueFields(t),n=!0,r=0;r<e.length;r++){var o=e[r];if(o===y?o="field":o+="Field",!xt(t[o])){n=!1;break}}return n},e.prototype._noTransitionsRedraw=function(){var t,e=this.options;!1!==e.transitions&&(e.transitions=!1,t=!0),this._redraw(),t&&(e.transitions=!0)},e.prototype._legendItemHover=function(t,e){var n,r=this._plotArea,o=this._highlight,i=(r.srcSeries||r.series)[t];if(n=pt(i.type,[tr,"donut","funnel"])?r.findPoint((function(n){return n.series.index===t&&n.index===e})):r.pointsBySeriesIndex(t),this._hasInactiveOpacity()&&i.visible&&n){var a=r.series.length>1,s=n.length?n[0]:n;this._displayInactiveOpacity(s,a,n)}else o.show(n)},e.prototype._shouldAttachMouseMove=function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers(["plotAreaHover","plotAreaLeave"])},e.prototype.updateMouseMoveHandler=function(){var t,e;Pt(this.element,((t={}).mousemove=this._mousemove,t)),this._shouldAttachMouseMove()&&bt(this.element,((e={}).mousemove=this._mousemove,e))},e.prototype.applyOptions=function(t,e){ss(this._originalOptions,t),this._originalOptions=j(this._originalOptions,t),this.options=j({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()},e.prototype.setOptions=function(t,e){this.applyOptions(t,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()},e.prototype.setDirection=function(t){this.chartService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&this._destroySurface()},e.prototype.setIntlService=function(t){this.chartService.intl=t},e.prototype.noTransitionsRedraw=function(){this._noTransitionsRedraw()},e.prototype.destroy=function(){var t,e;this._destroyed=!0,Pt(this.element,((t={}).contextmenu=this._clickHandler,t[rr]=this._mousewheelHandler,t.mousemove=this._mousemove,t.mouseleave=this._mouseleaveHandler,t)),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&Pt(document,((e={}).mousemove=this._mouseMoveTrackHandler,e)),this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()},e.prototype._destroySurface=function(){var t=this.surface;t&&(t.unbind("mouseenter",this._surfaceMouseenterHandler),t.unbind("mouseleave",this._surfaceMouseleaveHandler),t.destroy(),this.surface=null)},e.prototype._destroySelections=function(){var t=this._selections;if(t)for(;t.length>0;)t.shift().destroy()},e.prototype._destroyView=function(){var t=this._model;t&&(t.destroy(),this._model=null),this._unsetActivePoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)},e}(_.Class);function rs(t,e){if(t)for(var n=0;n<t.length;n++)if(t[n].category===e)return[t[n]]}function os(t){delete t.bar,delete t.column,delete t.rangeColumn,delete t.line,delete t.verticalLine,delete t.pie,delete t.donut,delete t.area,delete t.verticalArea,delete t.scatter,delete t.scatterLine,delete t.bubble,delete t.candlestick,delete t.ohlc,delete t.boxPlot,delete t.bullet,delete t.verticalBullet,delete t.polarArea,delete t.polarLine,delete t.radarArea,delete t.radarLine,delete t.waterfall}function is(t){for(var e={},n=0;n<t.length;n++){var r=t[n],o=r.options.name;o&&(e[o]=r.range())}return e}var as=["data","categories"];function ss(t,e){for(var n in e)if(!pt(n,as)&&e.hasOwnProperty(n)){var r=e[n],o=t[n];if(xt(o)){var i=null===r;i||!xt(r)?(delete t[n],i&&delete e[n]):o&&M(r)&&M(o)&&ss(o,r)}}}function ls(t){for(var e=0;e<t.length;e++)t[e].notifyRender()}Rt(ns,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:Jn,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});var cs=ns,us=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._slotAnchor=function(t,e){var n=this.plotArea.categoryAxis.options.vertical,r=n?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};return{point:n?new Xt(this.plotArea.box.x2,e.center().y):new Xt(e.center().x,-2),align:r}},e.prototype._defaultAnchor=function(t,e){return this._slotAnchor({},e)},e}(Ui),ps=[Zn,"bullet"];function hs(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e[n]=r.style.display,r.style.display="none"}return e}function ds(t,e){for(var n=0;n<t.length;n++)t[n].style.display=e[n]}function fs(t){return I(t)?[t]:t}var ms=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._setElementClass=function(t){O(t,"k-sparkline")},e.prototype._initElement=function(e){t.prototype._initElement.call(this,e),this._initialWidth=Math.floor(Ot(e).width)},e.prototype._resize=function(){var e=this.element,n=hs(e.childNodes);this._initialWidth=Math.floor(Ot(e).width),ds(e.childNodes,n),t.prototype._resize.call(this)},e.prototype._modelOptions=function(){var t=this.options,e=this._surfaceWrap(),n=hs(e.childNodes),r=document.createElement("span");r.innerHTML="&nbsp;",e.appendChild(r);var o=j({width:this._autoWidth,height:Ot(e).height,transitions:t.transitions},t.chartArea,{inline:!0,align:!1});return Ot(e,{width:o.width,height:o.height}),e.removeChild(r),ds(e.childNodes,n),this.surface&&this.surface.resize(),o},e.prototype._surfaceWrap=function(){if(!this.stage){var t=this.stage=document.createElement("span");this.element.appendChild(t)}return this.stage},e.prototype._createPlotArea=function(e){var n=t.prototype._createPlotArea.call(this,e);return this._autoWidth=this._initialWidth||this._calculateWidth(n),n},e.prototype._calculateWidth=function(t){for(var e=this.options,n=z(e.chartArea.margin),r=t.charts,o=this._surfaceWrap(),i=0,a=0;a<r.length;a++){var s=r[a],l=(s.options.series||[])[0];if(l){if(l.type===Zn)return 150;if("bullet"===l.type)return 150;if(l.type===tr)return Ot(o).height;var c=s.categoryAxis;if(c){var u=c.categoriesCount()*(!s.options.isStacked&&pt(l.type,[Jn,"verticalBullet"])?s.seriesOptions.length:1);i=Math.max(i,u)}}}var p=i*e.pointWidth;return p>0&&(p+=n.left+n.right),p},e.prototype._createSharedTooltip=function(t){return new us(this._plotArea,t)},e.normalizeOptions=function(t){var e=fs(t);return(e=k(e)?{seriesDefaults:{data:e}}:j({},e)).series||(e.series=[{data:fs(e.data)}]),j(e,{seriesDefaults:{type:e.type}}),(pt(e.series[0].type,ps)||pt(e.seriesDefaults.type,ps))&&(e=j({},{categoryAxis:{crosshair:{visible:!1}}},e)),e},e}(cs);Rt(ms,{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});var vs=ms,gs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this._initialOpacity=parseFloat(L(this.element,"opacity").opacity)},e.prototype.step=function(t){L(this.element,{opacity:String(ht(this._initialOpacity,0,t))})},e.prototype.abort=function(){t.prototype.abort.call(this),L(this.element,{display:"none",opacity:String(this._initialOpacity)})},e.prototype.cancel=function(){t.prototype.abort.call(this),L(this.element,{opacity:String(this._initialOpacity)})},e}(_.drawing.Animation);function ys(t,e){var n=document.createElement("div");return n.className=t,e&&(n.style.cssText=e),n}var bs=function(t){function e(e,n,r){t.call(this),this.options=j({},this.options,r),this.container=e,this.chartService=n;var o=L(e,["paddingLeft","paddingTop"]);this.chartPadding={top:o.paddingTop,left:o.paddingLeft},this.createElements(),e.appendChild(this.element)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createElements=function(){var t=this.element=ys("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=ys("k-tooltip k-chart-tooltip"),n=this.scroll=ys("k-scroll");e.innerHTML="&nbsp;",t.appendChild(e),t.appendChild(n)},e.prototype.show=function(t,e,n){var r=this.element,o=this.options,i=this.scroll,a=this.tooltip,s=Re(He(t)+He(e-t)/2),l=.4*n.width(),c=n.center().x-l,u=(n.center().x-c)/(o.max-o.min),p=s-o.min,h=this.chartService.intl.format(o.format,t,e),d=rt(o);this.clearHideTimeout(),this._visible||(L(r,{visibility:"hidden",display:"block"}),this._visible=!0),d&&(h=d({from:t,to:e})),a.innerHTML=h,L(a,{left:n.center().x-a.offsetWidth/2,top:n.y1});var f=L(a,["marginTop","borderTopWidth","height"]);L(i,{width:l,left:c+p*u,top:n.y1+f.marginTop+f.borderTopWidth+f.height/2}),L(r,{visibility:"visible"})},e.prototype.clearHideTimeout=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()},e.prototype.hide=function(){var t=this;this.clearHideTimeout(),this._hideTimeout=setTimeout((function(){t._visible=!1,t._hideAnimation=new gs(t.element),t._hideAnimation.setup(),t._hideAnimation.play()}),this.options.hideDelay)},e.prototype.destroy=function(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll},e}(_.Class);Rt(bs,{format:"{0:d} - {1:d}",hideDelay:500});var xs=bs;function ws(){}var ks=function(t){function e(e){var n;t.call(this),this.chart=e;var r=this.options=j({},this.options,e.options.navigator),o=r.select;o&&(o.from=this.parseDate(o.from),o.to=this.parseDate(o.to)),xt(r.hint.visible)||(r.hint.visible=r.visible),this.chartObserver=new ft(this,((n={}).drag="_drag",n.dragEnd="_dragEnd",n.zoom="_zoom",n.zoomEnd="_zoomEnd",n)),e.addObserver(this.chartObserver)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseDate=function(t){return Ge(this.chart.chartService.intl,t)},e.prototype.clean=function(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)},e.prototype.destroy=function(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()},e.prototype.redraw=function(){this._redrawSelf(),this.initSelection()},e.prototype.initSelection=function(){var t,e=this.chart,n=this.options,r=this.mainAxis(),o=r.roundedRange(),i=o.min,a=o.max,s=n.select,l=s.from,c=s.to,u=s.mousewheel,p=(t=r,ws.prototype=t,new ws);0!==r.categoriesCount()&&(this.clean(),p.box=r.box,this.selection=new Bi(e,p,{min:i,max:a,from:l||i,to:c||a,mousewheel:At(u,{zoom:"left"}),visible:n.visible},new ft(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),n.hint.visible&&(this.hint=new xs(e.element,e.chartService,{min:i,max:a,template:rt(n.hint),format:n.hint.format})))},e.prototype.setRange=function(){var t=this.chart._createPlotArea(!0).namedCategoryAxes._navigator.roundedRange(),e=t.min,n=t.max,r=this.options.select||{},o=r.from||e;o<e&&(o=e);var i=r.to||n;i>n&&(i=n),this.options.select=j({},r,{from:o,to:i}),this.filterAxes()},e.prototype._redrawSelf=function(t){var e=this.chart._plotArea;e&&e.redraw(St(e.panes),t)},e.prototype.redrawSlaves=function(){var t=this.chart,e=t._plotArea,n=e.panes.slice(0,-1);e.srcSeries=t.options.series,e.options.categoryAxis=t.options.categoryAxis,e.clearSeriesPointsCache(),e.redraw(n)},e.prototype._drag=function(t){var e,n=this.chart,r=this.selection,o=n._eventCoordinates(t.originalEvent),i=this.mainAxis(),a=i.roundedRange(),s=i.pane.box.containsPoint(o),l=n._plotArea.categoryAxis,c=t.axisRanges[l.options.name],u=this.options.select;if(c&&!s&&r){e=u.from&&u.to?He(u.to)-He(u.from):He(r.options.to)-He(r.options.from);var p=Re(Et(He(c.min),a.min,He(a.max)-e)),h=Re(Et(He(p)+e,He(a.min)+e,a.max));this.options.select={from:p,to:h},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),r.set(p,h),this.showHint(p,h)}},e.prototype._dragEnd=function(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()},e.prototype.readSelection=function(){var t=this.selection.options,e=t.from,n=t.to,r=this.options.select;r.from=e,r.to=n},e.prototype.filterAxes=function(){var t=this.options.select;void 0===t&&(t={});for(var e=this.chart.options.categoryAxis,n=t.from,r=t.to,o=0;o<e.length;o++){var i=e[o];"_navigator"!==i.pane&&(i.min=n,i.max=r)}},e.prototype.filter=function(){var t=this.chart,e=this.options.select;if(t.requiresHandlers(["navigatorFilter"])){var n=this.mainAxis(),r={from:e.from,to:e.to};if("category"!==n.options.type){var o=new sn(j({baseUnit:"fit"},t.options.categoryAxis[0],{categories:[e.from,e.to]}),t.chartService).options;r.from=Fe(o.min,-o.baseUnitStep,o.baseUnit),r.to=Fe(o.max,o.baseUnitStep,o.baseUnit)}this.chart.trigger("navigatorFilter",r)}},e.prototype._zoom=function(t){var e=this.chart._plotArea.categoryAxis,n=this.selection,r=this.options,o=r.select,i=r.liveDrag,a=this.mainAxis(),s=t.delta;if(n){var l=a.categoryIndex(n.options.from),c=a.categoryIndex(n.options.to);t.originalEvent.preventDefault(),Math.abs(s)>1&&(s*=3),c-l>1?(n.expand(s),this.readSelection()):(e.options.min=o.from,o.from=e.scaleRange(-t.delta).min),i&&(this.filterAxes(),this.redrawSlaves()),n.set(o.from,o.to),this.showHint(this.options.select.from,this.options.select.to)}},e.prototype._zoomEnd=function(t){this._dragEnd(t)},e.prototype.showHint=function(t,e){var n=this.chart._plotArea;this.hint&&this.hint.show(t,e,n.backgroundBox())},e.prototype._selectStart=function(t){return this.chart._selectStart(t)},e.prototype._select=function(t){return this.showHint(t.from,t.to),this.chart._select(t)},e.prototype._selectEnd=function(t){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(t)},e.prototype.mainAxis=function(){var t=this.chart._plotArea;if(t)return t.namedCategoryAxes._navigator},e.prototype.select=function(t,e){var n=this.options.select;return t&&e&&(n.from=this.parseDate(t),n.to=this.parseDate(e),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(t,e)),{from:n.from,to:n.to}},e.setup=function(t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!t.__navi){t.__navi=!0;var r=j({},n.navigator,t.navigator),o=t.panes=[].concat(t.panes),i=j({},r.pane,{name:"_navigator"});r.visible||(i.visible=!1,i.height=.1),o.push(i),e.attachAxes(t,r),e.attachSeries(t,r,n)}},e.attachAxes=function(t,e){var n=e.series||[],r=t.categoryAxis=[].concat(t.categoryAxis),o=t.valueAxis=[].concat(t.valueAxis),i=0===jo(n,nr).length,a=j({type:"date",pane:"_navigator",roundToBaseUnit:!i,justified:i,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:e.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),s=e.categoryAxis;r.push(j({},a,{maxDateGroups:200},s,{name:"_navigator",title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),j({},a,s,{name:"_navigator_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),j({},a,s,{name:"_navigator_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),o.push(j({name:"_navigator",pane:"_navigator",majorGridLines:{visible:!1},visible:!1},e.valueAxis))},e.attachSeries=function(t,e,n){for(var r=t.series=t.series||[],o=[].concat(e.series||[]),i=n.seriesColors,a=e.seriesDefaults,s=0;s<o.length;s++)r.push(j({color:i[s%i.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},a,o[s],{axis:"_navigator",categoryAxis:"_navigator",autoBind:e.autoBindElements}))},e}(_.Class),Os=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyDefaults=function(e,n){var r=Ot(this.element).width||600,o=n,i={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(r/28)}}};o&&(o=j({},o,i)),ks.setup(e,o),t.prototype.applyDefaults.call(this,e,o)},e.prototype._setElementClass=function(t){O(t,"k-chart k-stockchart")},e.prototype.setOptions=function(e){this.destroyNavigator(),t.prototype.setOptions.call(this,e)},e.prototype.noTransitionsRedraw=function(){var t=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=t},e.prototype._resize=function(){this.noTransitionsRedraw()},e.prototype._redraw=function(){var t=this.navigator;!this._dirty()&&t&&t.options.partialRedraw?t.redrawSlaves():this._fullRedraw()},e.prototype._dirty=function(){var t=this.options,e=st([].concat(t.series,t.navigator.series),(function(t){return t&&t.visible})).length,n=this._seriesCount!==e;return this._seriesCount=e,n},e.prototype._fullRedraw=function(){var e=this.navigator;e||(e=this.navigator=new ks(this),this.trigger("navigatorCreated",{navigator:e})),e.clean(),e.setRange(),t.prototype._redraw.call(this),e.initSelection()},e.prototype._trackSharedTooltip=function(e){var n=this._plotArea.paneByPoint(e);n&&"_navigator"===n.options.name?this._unsetActivePoint():t.prototype._trackSharedTooltip.call(this,e)},e.prototype.bindCategories=function(){t.prototype.bindCategories.call(this),this.copyNavigatorCategories()},e.prototype.copyNavigatorCategories=function(){for(var t,e=[].concat(this.options.categoryAxis),n=0;n<e.length;n++){var r=e[n];"_navigator"===r.name?t=r.categories:t&&"_navigator"===r.pane&&(r.categories=t)}},e.prototype.destroyNavigator=function(){this.navigator&&(this.navigator.destroy(),this.navigator=null)},e.prototype.destroy=function(){this.destroyNavigator(),t.prototype.destroy.call(this)},e.prototype._stopChartHandlers=function(e){var n=this._eventCoordinates(e),r=this._plotArea.paneByPoint(n);return t.prototype._stopChartHandlers.call(this,e)||r&&"_navigator"===r.options.name},e.prototype._toggleDragZoomEvents=function(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)},e}(cs);Rt(Os,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});var Cs=Os,_s=Math.PI/180;function Ss(t,e){var n=t.getOrigin(),r=t.getSize(),o=z(e);return t.setOrigin([n.x-o.left,n.y-o.top]),t.setSize([r.width+(o.left+o.right),r.height+(o.top+o.bottom)]),t}var Es=_.drawing.Group,Is=_.drawing.Path,Ts=_.drawing.Text;function Ds(t,e){var n=t.box,r=t.children[0].box,o=e.border||{},i=e.background||"",a=Is.fromRect(new _.geometry.Rect([n.x1,n.y1],[n.width(),n.height()]),{stroke:{}}),s=new Ts(t.text,new _.geometry.Point(r.x1,r.y1),{font:e.font,fill:{color:e.color}}),l=Ss(s.bbox().clone(),e.padding),c=Is.fromRect(l,{stroke:{color:o.width?o.color:"",width:o.width,opacity:o.opacity,dashType:o.dashType,lineJoin:"round",lineCap:"round"},fill:{color:i}}),u=new Es;return u.append(a),u.append(c),u.append(s),u}function Ps(t,e,n){var r=xt(t.from)?t.from:m,o=xt(t.to)?t.to:f;return t.from=Math.max(Math.min(o,r),e),t.to=Math.min(Math.max(o,r),n),t}function As(t,e){var n=z(e);return n.left=-n.left,n.top=-n.top,n.right=-n.right,n.bottom=-n.bottom,Ss(t,n)}var js=_.drawing.Path,Ms=_.drawing.Surface,Rs=function(t){function e(e,n,r,o){void 0===o&&(o={}),t.call(this),this.element=e,this.theme=r,this.contextService=new Z(this,o),this._originalOptions=j({},this.options,n),this.options=j({},this._originalOptions),this._initTheme(r),this.redraw()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement},e.prototype.value=function(t){var e=this.pointers[0];if(0===arguments.length)return e.value();e.value(t),this._setValueOptions(t)},e.prototype._draw=function(){var t=this.surface;t.clear(),t.draw(this._visuals)},e.prototype.exportVisual=function(){return this._visuals},e.prototype.allValues=function(t){var e=this.pointers,n=[];if(0===arguments.length){for(var r=0;r<e.length;r++)n.push(e[r].value());return n}if(k(t))for(var o=0;o<t.length;o++)I(t[o])&&e[o].value(t[o]);this._setValueOptions(t)},e.prototype._setValueOptions=function(t){for(var e=[].concat(this.options.pointer),n=[].concat(t),r=0;r<n.length;r++)e[r].value=n[r]},e.prototype.resize=function(){this.noTransitionsRedraw()},e.prototype.noTransitionsRedraw=function(){var t=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(t)},e.prototype.redraw=function(){var t=this._surfaceSize(),e=new _.geometry.Rect([0,0],[t.width,t.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();var n=As(e.bbox(),this._gaugeAreaMargin);this.reflow(n)},e.prototype.setOptions=function(t,e){this._originalOptions=j(this._originalOptions,t),this.options=j({},this._originalOptions),this._initTheme(e),this.redraw()},e.prototype.setDirection=function(t){this.contextService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)},e.prototype.setIntlService=function(t){this.contextService.intl=t},e.prototype._initTheme=function(t){var e=t||this.theme||{};this.theme=e,this.options=j({},e,this.options);var n=this.options,r=n.pointer;if(k(r)){for(var o=[],i=0;i<r.length;i++)o.push(j({},e.pointer,r[i]));n.pointer=o}},e.prototype._createGaugeArea=function(){var t=this.options.gaugeArea,e=this.surface.size(),n=t.border||{},r=new _.geometry.Rect([0,0],[e.width,e.height]);return this._gaugeAreaMargin=t.margin||5,n.width>0&&(r=As(r,n.width)),js.fromRect(r,{stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:t.background}})},e.prototype._initSurface=function(){var t=this.options,e=this.surface,n=this._surfaceElement(),r=this._surfaceSize();Ot(n,r),e&&e.options.type===t.renderAs?(this.surface.clear(),this.surface.resize()):(e&&e.destroy(),this.surface=Ms.create(n,{type:t.renderAs}))},e.prototype._surfaceSize=function(){var t=this.options,e=this._getSize();return t.gaugeArea&&j(e,t.gaugeArea),e},e.prototype._surfaceElement=function(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement},e.prototype.getSize=function(){return this._getSize()},e.prototype._getSize=function(){var t=this.element,e=this._defaultSize(),n=t.offsetWidth,r=t.offsetHeight;return n||(n=e.width),r||(r=e.height),{width:n,height:r}},e.prototype._defaultSize=function(){return{width:200,height:200}},e.prototype._toggleTransitions=function(t){this.options.transitions=t;for(var e=0;e<this.pointers.length;e++)this.pointers[e].options.animation.transitions=t},e}(_.Class);Rt(Rs,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});var Ns=Rs,Fs=_.drawing.Path,Ls=_.drawing.Group,zs=_.geometry.Point;function Bs(t,e){var n,r,o=t.position,i=t.tickX,a=t.tickY;return t.vertical?(n=new zs(i,o),r=new zs(i+e.size,o)):(n=new zs(o,a),r=new zs(o,a+e.size)),new Fs({stroke:{color:e.color,width:e.width}}).moveTo(n).lineTo(r)}function Vs(t,e,n,r){var o=e.length;if(r.visible)for(var i=n.mirror,a=n.lineBox,s=r.skip;s<o;s+=r.step)s%r.skipUnit!=0&&(n.tickX=i?a.x2:a.x2-r.size,n.tickY=i?a.y1-r.size:a.y1,n.position=e[s],t.append(Bs(n,r)))}var Hs=function(t){function e(e,n){var r=e||{};!xt(r.reverse)&&!1===r.vertical&&(n||{}).rtl&&(r=Object.assign({},r,{reverse:!0})),t.call(this,0,1,r,n),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=j({},this.options,t);return(e=j({},e,{labels:{mirror:e.mirror}})).majorUnit=e.majorUnit||Yt(e.min,e.max),e},e.prototype.initFields=function(){},e.prototype.render=function(){var t=this.elements=new Ls,e=this.renderLabels(),n=this.renderLine(),r=this.renderTicks(),o=this.renderRanges();return t.append(n,e,r,o),t},e.prototype.renderRanges=function(){for(var t=this.options,e=t.min,n=t.max,r=t.vertical,o=t.labels.mirror,i=t.ranges||[],a=new Ls,s=i.length,l=t.rangeSize||t.minorTicks.size/2,c=0;c<s;c++){var u=Ps(i[c],e,n),p=this.getSlot(u.from,u.to),h=r?this.lineBox():p,d=r?p:this.lineBox();r?h.x1-=l*(o?-1:1):d.y2+=l*(o?-1:1),a.append(Fs.fromRect(new _.geometry.Rect([h.x1,d.y1],[h.x2-h.x1,d.y2-d.y1]),{fill:{color:u.color,opacity:u.opacity},stroke:{}}))}return a},e.prototype.renderLabels=function(){for(var t=this.labels,e=this.options,n=new Ls,r=0;r<t.length;r++)n.append(Ds(t[r],e.labels));return n},e.prototype.renderLine=function(){var t=this.options.line,e=this.lineBox(),n=new Ls;if(t.width>0&&t.visible){var r=new Fs({stroke:{color:t.color,dashType:t.dashType,width:t.width}});r.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),n.append(r)}return n},e.prototype.renderTicks=function(){var t=new Ls,e=this.options,n=e.majorTicks.visible?e.majorUnit:0,r={vertical:e.vertical,mirror:e.labels.mirror,lineBox:this.lineBox()};return Vs(t,this.getMajorTickPositions(),r,e.majorTicks),Vs(t,this.getMinorTickPositions(),r,j({},{skipUnit:n/e.minorUnit},e.minorTicks)),t},e}(fn);Rt(Hs,{min:0,max:50,majorTicks:{size:15,align:"inside",color:s,width:.5,visible:!0},minorTicks:{size:10,align:"inside",color:s,width:.5,visible:!0},line:{width:.5},labels:{position:"inside",padding:2},mirror:!1,_alignLines:!1});var Us=Hs,Ws=function(t){function e(e,n){t.call(this);var r=e.options,o=r.min,i=r.max,a=this.options=j({},this.options,n);a.fill=a.color,this.scale=e,xt(a.value)?a.value=Et(a.value,o,i):a.value=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.value=function(t){var e=this.options,n=e.value;if(0===arguments.length)return n;var r=this.scale.options,o=r.min,i=r.max;e._oldValue=xt(e._oldValue)?e.value:o,e.value=Et(t,o,i),this.elements&&this.repaint()},e}(_.Class);Rt(Ws,{color:s});var qs=Ws,Ks=function(t){function e(e,n){t.call(this,e,n),this.options=j({track:{visible:xt(n.track)}},this.options)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(){var t,e,n,r=this.options,o=this.scale,i=o.options,a=i.mirror,s=i.vertical,l=o.lineBox(),c=r.track.size||r.size,u=r.size/2,p=z(r.margin),h=s?p[a?"left":"right"]:p[a?"bottom":"top"];h=a?-h:h,s?(n=new Zt(l.x1+h,l.y1,l.x1+h,l.y2),a?n.x1-=c:n.x2+=c,"barPointer"!==r.shape&&(t=e=new Zt(l.x2+h,l.y1-u,l.x2+h,l.y2+u))):(n=new Zt(l.x1,l.y1-h,l.x2,l.y1-h),a?n.y2+=c:n.y1-=c,"barPointer"!==r.shape&&(t=e=new Zt(l.x1-u,l.y1-h,l.x2+u,l.y1-h))),this.trackBox=n,this.pointerRangeBox=e,this.box=t||n.clone().pad(r.border.width)},e.prototype.getElementOptions=function(){var t=this.options;return{fill:{color:t.color,opacity:t.opacity},stroke:xt(t.border)?{color:t.border.width?t.border.color||t.color:"",width:t.border.width,dashType:t.border.dashType,opacity:t.opacity}:null}},e.prototype._margin=function(){var t=this.scale,e=this.options,n=t.options,r=n.mirror,o=n.vertical,i=z(e.margin);return o?i[r?"left":"right"]:i[r?"bottom":"top"]},e}(qs);Rt(Ks,{shape:"barPointer",track:{border:{width:1}},color:s,border:{width:1},opacity:1,margin:z(3),animation:{type:"barPointer"},visible:!0});var Gs=Ks,Ys=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.options,e=t.margin,n=t.from,r=t.to,o=t.vertical,i=o?"x1":"y1";t.mirror===o?(n[i]-=e,r[i]-=e):(n[i]+=e,r[i]+=e);var a=this.fromScale=new _.geometry.Point(n.x1,n.y1),s=this.toScale=new _.geometry.Point(r.x1,r.y1);0!==t.duration&&(t.duration=Math.max(a.distanceTo(s)/t.duration*1e3,1))},e.prototype.step=function(t){var e=ht(this.fromScale.x,this.toScale.x,t),n=ht(this.fromScale.y,this.toScale.y,t);this.element.transform(_.geometry.transform().translate(e,n))},e}(_.drawing.Animation);Rt(Ys,{easing:"linear",duration:250}),_.drawing.AnimationFactory.current.register("arrowPointer",Ys);var Xs=Ys,$s=_.geometry.Point,Zs=_.drawing.Path,Js=function(t){function e(e,n){t.call(this,e,n),xt(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointerShape=function(){var t=this.scale,e=this.options.size,n=e/2,r=t.options.mirror?-1:1;return t.options.vertical?[new $s(0,0-n),new $s(0-r*e,0),new $s(0,0+n)]:[new $s(0-n,0),new $s(0,0+r*e),new $s(0+n,0)]},e.prototype.repaint=function(){var t=this.scale,e=this.options,n=new Xs(this.elements,j(e.animation,{vertical:t.options.vertical,mirror:t.options.mirror,margin:this._margin(e.margin),from:t.getSlot(e._oldValue),to:t.getSlot(e.value)}));!1===e.animation.transitions&&(n.options.duration=0),n.setup(),n.play()},e.prototype.render=function(){var t=this.scale,e=this.options,n=this.getElementOptions(),r=this.pointerShape(e.value);e.animation.type="arrowPointer";var o=new Zs({stroke:n.stroke,fill:n.fill}).moveTo(r[0]).lineTo(r[1]).lineTo(r[2]).close(),i=t.getSlot(e.value);return o.transform(_.geometry.transform().translate(i.x1,i.y1)),this.elements=o,o},e}(Gs),Qs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.options,e=this.axis=t.vertical?w:x,n=this.to=t.newPoints[0][e],r=this.from=t.oldPoints[0][e];0!==t.duration&&(t.duration=Math.max(Math.abs(n-r)/t.speed*1e3,1)),this._set(r)},e.prototype.step=function(t){var e=ht(this.from,this.to,t);this._set(e)},e.prototype._set=function(t){var e="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][e](t),n[1][e](t)},e}(_.drawing.Animation);Rt(Qs,{easing:"linear",speed:250}),_.drawing.AnimationFactory.current.register("barPointer",Qs);var tl=Qs,el=_.drawing.Group,nl=_.drawing.Path,rl=function(t){function e(e,n){t.call(this,e,n),xt(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointerShape=function(t){var e=this.scale,n=this.options,r=e.options,o=r.mirror,i=r.vertical,a=o===i?-1:1,s=n.size*a,l=e.getSlot(e.options.min),c=e.getSlot(t),u=i?w:x,p=i?x:w,h=this._margin()*a,d=new _.geometry.Point;d[u]=l[u+"1"],d[p]=l[p+"1"];var f=new _.geometry.Point;f[u]=c[u+"1"],f[p]=c[p+"1"],i?(d.translate(h,0),f.translate(h,0)):(d.translate(0,h),f.translate(0,h));var m=f.clone(),v=d.clone();return i?(m.translate(s,0),v.translate(s,0)):(m.translate(0,s),v.translate(0,s)),[d,f,m,v]},e.prototype.repaint=function(){var t=this.scale,e=this.options,n=this.pointerShape(e.value),r=this.pointerPath,o=this.pointerShape(e._oldValue);r.moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).lineTo(n[3]).close();var i=new tl(r,j(e.animation,{reverse:t.options.reverse,vertical:t.options.vertical,oldPoints:[o[1],o[2]],newPoints:[n[1],n[2]]}));!1===e.animation.transitions&&(i.options.duration=0),i.setup(),i.play()},e.prototype.render=function(){var t=new el,e=this.getElementOptions();this.options.track.visible&&t.append(this.renderTrack());var n=this.pointerPath=new nl({stroke:e.stroke,fill:e.fill});return t.append(n),this.elements=t,t},e.prototype.renderTrack=function(){var t=this.options.track,e=t.border||{},n=this.trackBox.clone().pad(e.width||0);return new nl.fromRect(n.toRect(),{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.width?e.color||t.color:"",width:e.width,dashType:e.dashType}})},e}(Gs),ol=_.drawing.Group,il=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.pointers,n=t.origin.x,r=t.origin.y,o=new Zt(n,r,n+t.width(),r+t.height());this.scale.reflow(o),this._shrinkScaleWidth(o);for(var i=0;i<e.length;i++)e[i].reflow();this.bbox=this._getBox(o),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()},e.prototype._buildVisual=function(){var t=new ol,e=this.scale.render(),n=this.pointers;t.append(this.gaugeArea),t.append(e);for(var r=0;r<n.length;r++){var o=n[r];t.append(o.render()),o.value(o.options.value)}this._visuals=t},e.prototype._createModel=function(){var t=this.options,e=this.scale=new Us(t.scale,this.contextService);this.pointers=[];var n=t.pointer;n=k(n)?n:[n];for(var r=0;r<n.length;r++){var o=j({},n[r],{animation:{transitions:t.transitions}}),i="arrow"===o.shape?Js:rl;this.pointers.push(new i(e,o))}},e.prototype._defaultSize=function(){var t=this.options.scale.vertical;return{width:t?60:200,height:t?200:60}},e.prototype._getBox=function(t){for(var e,n=this.scale,r=this.pointers,o=t.center(),i=r[0].box.clone().wrap(n.box),a=0;a<r.length;a++)i.wrap(r[a].box.clone());return n.options.vertical?(e=i.width()/2,i=new Zt(o.x-e,t.y1,o.x+e,t.y2)):(e=i.height()/2,i=new Zt(t.x1,o.y-e,t.x2,o.y+e)),i},e.prototype._alignElements=function(){for(var t,e=this.scale,n=this.pointers,r=e.box,o=n[0].box.clone().wrap(e.box),i=this.bbox,a=0;a<n.length;a++)o.wrap(n[a].box.clone());e.options.vertical?(t=i.center().x-o.center().x,e.reflow(new Zt(r.x1+t,i.y1,r.x2+t,i.y2))):(t=i.center().y-o.center().y,e.reflow(new Zt(r.x1,r.y1+t,r.x2,r.y2+t)));for(var s=0;s<n.length;s++)n[s].reflow(this.bbox)},e.prototype._shrinkScaleWidth=function(t){var e=this.scale;if(!e.options.vertical){var n=e.contentBox().width()-t.width();n>0&&(e.box.shrink(n,0),e.box.alignTo(t,"center"),e.reflow(e.box))}},e.prototype._shrinkElements=function(){for(var t=this.scale,e=this.pointers,n=t.box.clone(),r=t.options.vertical?"y":"x",o=e[0].box,i=0;i<e.length;i++)o.wrap(e[i].box.clone());n[r+1]+=Math.max(n[r+1]-o[r+1],0),n[r+2]-=Math.max(o[r+2]-n[r+2],0),t.reflow(n);for(var a=0;a<e.length;a++)e[a].reflow(this.bbox)},e}(Ns);Rt(il,{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});var al=_.drawing.Arc,sl=_.drawing.Path,ll=_.drawing.Group;function cl(t,e,n,r){var o=new ll,i=t.center,a=t.getRadiusX();if(r.visible)for(var s=0;s<e.length;s++){var l=t.pointAt(e[s]),c=new _.geometry.Point(i.x+a-r.size,i.y).rotate(e[s],i);o.append(new sl({stroke:{color:r.color,width:r.width}}).moveTo(l).lineTo(c))}return o}function ul(t,e,n,r){return{from:t,to:e,color:n,opacity:r}}var pl=function(t){function e(e,n){t.call(this,0,1,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=j({},this.options,t);return e.majorUnit=e.majorUnit||Yt(e.min,e.max),e.minorUnit=e.minorUnit||e.majorUnit/10,e},e.prototype.initFields=function(){},e.prototype.render=function(t,e){var n=this.renderArc(t,e);this.bbox=n.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()},e.prototype.reflow=function(t){var e=t.center(),n=Math.min(t.height(),t.width())/2;if(!xt(this.bbox))return this.render(e,n);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()},e.prototype.slotAngle=function(t){var e=this.options,n=e.min,r=e.max,o=e.reverse,i=e.startAngle,a=e.endAngle,s=a-i;return(o?a-(t-n)/(r-n)*s:(t-n)/(r-n)*s+i)+180},e.prototype.hasRanges=function(){var t=this.options.ranges;return t&&t.length},e.prototype.ticksSize=function(){var t=this.options,e=t.majorTicks,n=t.minorTicks,r=0;return e.visible&&(r=e.size),n.visible&&(r=Math.max(n.size,r)),r},e.prototype.labelsCount=function(){var e=t.prototype.labelsCount.call(this),n=this.options;return n.endAngle-n.startAngle>=360&&n.max%n.majorUnit==0&&(e-=1),e},e.prototype.renderLabels=function(){var t=this.options,e=this.arc.clone(),n=e.getRadiusX(),r=this.tickAngles(e,t.majorUnit),o=t.rangeSize=t.rangeSize||.1*n,i=new ll,a=.05*n;xt(t.rangeDistance)?a=t.rangeDistance:t.rangeDistance=a;var s=t.labels,l="inside"===s.position,c=xt(this.labelElements);l&&(n-=this.ticksSize(),this.hasRanges()&&!c&&(n-=o+a),e.setRadiusX(n).setRadiusY(n));for(var u=this.labels,p=u.length,h=z(s.padding),d=(h.left+h.right)/2,f=(h.top+h.bottom)/2,m=0;m<p;m++){var v=u[m],g=v.box.width()/2,y=v.box.height()/2,b=r[m],x=(b-180)*_s,w=e.pointAt(b),k=w.x+Math.cos(x)*(g+d)*(l?1:-1),O=w.y+Math.sin(x)*(y+f)*(l?1:-1);v.reflow(new Zt(k-g,O-y,k+g,O+y));var C=new _.geometry.Point(v.box.x1,v.box.y1),S=void 0;if(c){var E=(S=this.labelElements.children[m]).bbox().origin,I=S.transform()||_.geometry.transform();I.translate(C.x-E.x,C.y-E.y),S.transform(I)}else S=Ds(v,t.labels),i.append(S);this.bbox=_.geometry.Rect.union(this.bbox,S.bbox())}return i},e.prototype.repositionRanges=function(){var t=this.ranges.children;if(t.length>0){var e=this.options,n=e.rangeDistance,r=e.rangeSize,o=this.getRangeRadius();"inside"===this.options.labels.position&&(o+=r+n);for(var i=o+r/2,a=0;a<t.length;a++)t[a]._geometry.setRadiusX(i).setRadiusY(i);this.bbox=_.geometry.Rect.union(this.bbox,this.ranges.bbox())}},e.prototype.renderRanges=function(){var t=this.rangeSegments(),e=t.length,n=new ll;if(e){var r=this.options,o=r.rangeSize,i=r.reverse,a=r.rangeDistance,s=this.getRangeRadius();this.radius(this.radius()-o-a);for(var l=0;l<e;l++){var c=t[l],u=this.slotAngle(c[i?"to":"from"]),p=this.slotAngle(c[i?"from":"to"]);p-u!=0&&n.append(this.createRange(u,p,s,c))}}return n},e.prototype.createRange=function(t,e,n,r){var o=this.options.rangeSize,i=new _.geometry.Arc(this.arc.center,{radiusX:n+o/2,radiusY:n+o/2,startAngle:t,endAngle:e});return new al(i,{stroke:{width:o,color:r.color,opacity:r.opacity,lineCap:r.lineCap}})},e.prototype.rangeSegments=function(){var t=this.options,e=t.ranges||[],n=e.length,r=[];if(n){var o=t.min,i=t.max,a=t.rangePlaceholderColor;r.push(ul(o,i,a));for(var s=0;s<n;s++)for(var l=Ps(e[s],o,i),c=r.length,u=0;u<c;u++){var p=r[u];if(p.from<=l.from&&l.from<=p.to){r.push(ul(l.from,l.to,l.color,l.opacity)),p.from<=l.to&&l.to<=p.to&&r.push(ul(l.to,p.to,a,l.opacity)),p.to=l.from;break}}}return r},e.prototype.getRangeRadius=function(){var t=this.arc,e=this.options,n=e.rangeSize,r=e.rangeDistance,o=e.majorTicks.size;return"outside"===e.labels.position?t.getRadiusX()-o-r-n:t.getRadiusX()-n},e.prototype.renderArc=function(t,e){var n=this.options;return this.arc=new _.geometry.Arc(t,{radiusX:e,radiusY:e,startAngle:n.startAngle+180,endAngle:n.endAngle+180})},e.prototype.renderTicks=function(){var t=this.arc,e=this.options,n=t.clone();this.majorTickAngles=this.tickAngles(t,e.majorUnit),this.majorTicks=cl(n,this.majorTickAngles,e.majorUnit,e.majorTicks);var r=new ll;r.append(this.majorTicks);var o=e.majorTicks.size,i=e.minorTicks.size;if(this._tickDifference=o-i,"outside"===e.labels.position){var a=n.getRadiusX();n.setRadiusX(a-o+i).setRadiusY(a-o+i)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(t,e.minorUnit)),this.minorTicks=cl(n,this.minorTickAngles,e.minorUnit,e.minorTicks),r.append(this.minorTicks),r},e.prototype.normalizeTickAngles=function(t){for(var e=this.options,n=e.majorUnit/e.minorUnit,r=t.length-1;r>=0;r--)r%n==0&&t.splice(r,1);return t},e.prototype.tickAngles=function(t,e){var n=this.options,r=n.reverse,o=n.max-n.min,i=t.endAngle-t.startAngle,a=o/e,s=t.startAngle,l=i/a;r&&(s+=i,l=-l),i>=360&&n.max%e==0&&(a-=1);for(var c=[],u=0;u<a;u++)c.push(Dt(s,3)),s+=l;return Dt(s)<=t.endAngle&&c.push(s),c},e.prototype.radius=function(t){if(!t)return this.arc.getRadiusX();this.arc.setRadiusX(t).setRadiusY(t),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)},e.prototype.repositionTicks=function(t,e,n){var r=n&&this._tickDifference||0,o=this.arc,i=o.getRadiusX();n&&"outside"===this.options.labels.position&&0!==r&&(o=this.arc.clone()).setRadiusX(i-r).setRadiusY(i-r);for(var a=0;a<t.length;a++){var s=o.pointAt(e[a]),l=t[a].segments,c=s.x-l[0].anchor().x,u=s.y-l[0].anchor().y;t[a].transform((new _.geometry.transform).translate(c,u))}},e}(fn);Rt(pl,{min:0,max:100,majorTicks:{size:15,align:"inside",color:s,width:.5,visible:!0},minorTicks:{size:10,align:"inside",color:s,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:"inside",padding:2}});var hl=pl,dl=function(t){function e(e,n){t.call(this,e,n);var r=this.options;r.duration=Math.max(Math.abs(r.newAngle-r.oldAngle)/r.duration*1e3,1)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.step=function(t){var e=this.options,n=ht(e.oldAngle,e.newAngle,t);this.element.transform(_.geometry.transform().rotate(n,e.center))},e}(_.drawing.Animation);Rt(dl,{easing:"linear",duration:150}),_.drawing.AnimationFactory.current.register("radialPointer",dl);var fl=dl,ml=_.drawing.Circle,vl=_.drawing.Group,gl=_.drawing.Path,yl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setAngle=function(t){this.elements.transform(_.geometry.transform().rotate(t,this.center))},e.prototype.repaint=function(){var t=this.scale,e=this.options,n=t.slotAngle(e._oldValue),r=t.slotAngle(e.value);!1===e.animation.transitions?this.setAngle(r):new fl(this.elements,j(e.animation,{oldAngle:n,newAngle:r})).play()},e.prototype.render=function(){var t=this.scale,e=this.options,n=new vl;return!1!==e.animation&&j(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),n.append(this._renderNeedle(),this._renderCap()),this.elements=n,this.setAngle(_s),n},e.prototype.reflow=function(t){var e=this.center=t.center,n=Et(this.options.length||1,.1,1.5),r=this.radius=t.getRadiusX()*n,o=this.capSize=Math.round(r*this.options.cap.size);this.bbox=_.geometry.Rect.fromPoints(new _.geometry.Point(e.x-o,e.y-o),new _.geometry.Point(e.x+o,e.y+o))},e.prototype._renderNeedle=function(){var t=this.scale.options.minorTicks.size,e=this.center,n=this.options.color,r=new gl({fill:{color:n},stroke:{color:n,width:.5}});return r.moveTo(e.x+this.radius-t,e.y).lineTo(e.x,e.y-this.capSize/2).lineTo(e.x,e.y+this.capSize/2).close(),r},e.prototype._renderCap=function(){var t=this.options,e=t.cap.color||t.color,n=new _.geometry.Circle(this.center,this.capSize);return new ml(n,{fill:{color:e},stroke:{color:e}})},e}(qs);Rt(yl,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:"radialPointer",duration:150}});var bl=yl,xl=_.drawing.Group,wl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.pointers;this.scale.reflow(t),this._initialPlotArea=this.scale.bbox;for(var n=0;n<e.length;n++)e[n].reflow(this.scale.arc),this._initialPlotArea=_.geometry.Rect.union(this._initialPlotArea,e[n].bbox);this.fitScale(t),this.alignScale(t),this._buildVisual(this.gaugeArea,e,this.scale),this._draw()},e.prototype._buildVisual=function(t,e,n){var r=this._visuals=new xl;r.append(t),r.append(n.ticks),r.append(n.ranges),this._buildPointers(e),r.append(n.labelElements)},e.prototype._buildPointers=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.render(),this._visuals.append(n.elements),n.value(n.options.value)}},e.prototype.fitScale=function(t){for(var e,n,r,o,i,a=this.scale.arc,s=this._initialPlotArea,l=Math.abs(this.getDiff(s,t)),c=Dt(l,3),u=Dt(-l,3),p=0,h=0;!(!(h++<100)||(p=i===r?p+1:0)>5||c!==o&&0<=(e=this.getPlotBox(c,t,a))&&e<=2||u!==o&&0<=(r=this.getPlotBox(u,t,a))&&r<=2||(o=e>0&&r>0?2*c:e<0&&r<0?2*u:Dt((c+u)/2||1,3),0<=(n=this.getPlotBox(o,t,a))&&n<=2));)i=r,n>0?(u=o,r=n):(c=o,e=n)},e.prototype.getPlotBox=function(t,e,n){var r=this.scale,o=this.pointers,i=n.getRadiusX(),a=n.clone();a.setRadiusX(i+t).setRadiusY(i+t),r.arc=a,r.reflow(e),this.plotBbox=r.bbox;for(var s=0;s<o.length;s++)o[s].reflow(a),this.plotBbox=_.geometry.Rect.union(this.plotBbox,o[s].bbox);return this.getDiff(this.plotBbox,e)},e.prototype.getDiff=function(t,e){return Math.min(e.width()-t.width(),e.height()-t.height())},e.prototype.alignScale=function(t){var e=this.plotBbox.center(),n=t.center(),r=e.x-n.x,o=e.y-n.y,i=this.scale,a=this.pointers;i.arc.center.x-=r,i.arc.center.y-=o,i.reflow(t);for(var s=0;s<a.length;s++)a[s].reflow(i.arc),this.plotBbox=_.geometry.Rect.union(i.bbox,a[s].bbox)},e.prototype._createModel=function(){var t=this.options,e=t.pointer,n=this.scale=new hl(t.scale,this.contextService);this.pointers=[];for(var r=k(e)?e:[e],o=0;o<r.length;o++){var i=new bl(n,j({},r[o],{animation:{transitions:t.transitions}}));this.pointers.push(i)}},e}(Ns);Rt(wl,{transitions:!0,gaugeArea:{background:""}});var kl=wl,Ol=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rangeSegments=function(){var t=this.options;return[{from:t.min,to:t.max,color:t.rangePlaceholderColor,lineCap:t.rangeLineCap}]},e.prototype.hasRanges=function(){return!0},e.prototype.placeholderRangeAngle=function(t){var e=this.ranges.children[0].geometry();this.options.reverse?e.setEndAngle(t):e.setStartAngle(t)},e.prototype.addRange=function(t,e,n){var r=this.options.reverse,o=this.slotAngle(r?e:t),i=this.slotAngle(r?t:e),a=this.createRange(o,i,this.getRangeRadius(),n);return this.ranges.append(a),a},e}(hl);Rt(Ol,{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});var Cl=Ol,_l=function(t){function e(e,n){t.call(this,e,n);var r=this.options,o=Math.abs(r.newAngle-r.oldAngle)/r.duration*1e3;r.duration=Et(o,150,800);var i=e.elements.options.get("stroke.color"),a=e.currentColor();i!==a&&(this.startColor=new _.Color(i),this.color=new _.Color(a))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.step=function(t){var e=this.options,n=this.startColor,r=this.color,o=ht(e.oldAngle,e.newAngle,t);if(this.element.angle(o),r){var i=Dt(ht(n.r,r.r,t)),a=Dt(ht(n.g,r.g,t)),s=Dt(ht(n.b,r.b,t));this.element.stroke(new _.Color(i,a,s).toHex())}},e}(_.drawing.Animation);Rt(_l,{easing:"linear",duration:150}),_.drawing.AnimationFactory.current.register("radialRangePointer",_l);var Sl=_l,El=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.repaint=function(){var t=this.scale,e=this.options,n=t.slotAngle(e._oldValue),r=t.slotAngle(e.value);this.animation&&this.animation.abort(),!1===e.animation.transitions?(this.angle(r),this.stroke(this.currentColor())):(this.animation=new Sl(this,j(e.animation,{oldAngle:n,newAngle:r})),this.animation.play())},e.prototype.angle=function(t){var e=this.elements.geometry();this.scale.options.reverse?e.setStartAngle(t):e.setEndAngle(t),this.scale.placeholderRangeAngle(t)},e.prototype.stroke=function(t){this.elements.stroke(t)},e.prototype.render=function(){if(!this.elements){var t=this.scale,e=this.options;!1!==e.animation&&j(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),this.elements=t.addRange(t.options.min,this.options.value,{color:this.currentColor(),opacity:e.opacity,lineCap:t.options.rangeLineCap})}},e.prototype.currentColor=function(){var t=this.scale.options,e=t.min,n=t.max,r=this.options,o=r.colors,i=r.color,a=r.value,s=I(a)?a:e;if(o)for(var l=0;l<o.length;l++){var c=o[l],u=c.color,p=c.from;void 0===p&&(p=e);var h=c.to;if(void 0===h&&(h=n),p<=s&&s<=h)return u}return i},e.prototype.reflow=function(){this.render(),this.bbox=this.elements.bbox()},e}(qs);Rt(El,{animation:{type:"radialRangePointer",duration:150}});var Il=El,Tl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initTheme=function(e){t.prototype._initTheme.call(this,e),this.options.color=this.options.color||(this.theme.pointer||{}).color},e.prototype._createModel=function(){var t=this.options,e=this.scale=new Cl(t.scale,this.contextService),n=new Il(e,j({},{colors:t.colors,color:t.color,value:t.value,opacity:t.opacity,animation:{transitions:t.transitions}}));this.pointers=[n]},e.prototype._buildPointers=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.render(),n.value(n.options.value)}},e.prototype._setValueOptions=function(t){this.options.value=t},e.prototype.currentColor=function(){var t=this.pointers[0];if(t)return t.currentColor()},e.prototype.centerLabelPosition=function(t,e){var n=this.getSize(),r=this.scale.arc.center,o=r.x-t/2,i=r.y-e/2;if(t<n.width){var a=o+t;o=Math.max(o,0),a>n.width&&(o-=a-n.width)}if(e<n.height){var s=this.scale.bbox,l=s.bottomRight().y,c=i+e;i=Math.max(i,s.origin.y),c>l&&(i-=c-l)}return{left:o,top:i}},e}(kl),Dl=(function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._createModel=function(){var e=this.options.scale;"number"!=typeof e.startAngle&&(e.startAngle=90),e.endAngle=e.startAngle+360,t.prototype._createModel.call(this)}}(Tl),function(t){function e(e){t.call(this),this.setOptions(e),this.initProperties()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){},e.prototype.setOptions=function(t){this.options=Object.assign({},this.options,t),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0},e.prototype.encode=function(t,e,n){var r=xt(t)?String(t):t;return this.initValue(r,e,n),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}},e.prototype.initValue=function(){},e.prototype.addQuietZone=function(){this.pattern.push(this.options.quietZoneLength||10)},e.prototype.addData=function(){},e.prototype.invalidCharacterError=function(t){throw new Error("Character '"+t+"' is not valid for symbology "+this.name)},e}(_.Class));Rt(Dl,{quietZoneLength:10,addQuietZone:!0,addCheckSum:!0});var Pl=Object.assign,Al=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Pl(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})},e.prototype.initValue=function(t,e){this.pattern=[],this.value=t,this.width=e,this.totalUnits=0},e.prototype.addData=function(){var t=this.value;this.addPattern(this.START);for(var e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},e.prototype.addCheckSum=function(){var t=this.value,e=t.length,n=this.getWeightedSum(t,e,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(n),this.addPattern(this.characterMap[n]),++e>=this.kCheckSumMinLength){var r=(n+this.getWeightedSum(t,e,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=r,this.addPattern(this.characterMap[r])}},e.prototype.getWeightedSum=function(t,e,n){for(var r=0,o=0;o<t.length;o++)r+=this.weightedValue(this.getValue(t.charAt(o)),e,o,n);return r},e.prototype.weightedValue=function(t,e,n,r){return((e-n)%r||r)*t},e.prototype.getValue=function(t){return isNaN(t)?(t!==this.DASH&&this.invalidCharacterError(t),this.DASH_VALUE):parseInt(t,10)},e.prototype.addCharacter=function(t){var e=this.getValue(t),n=this.characterMap[e];this.addPattern(n)},e.prototype.addPattern=function(t){for(var e,n=0;n<t.length;n++)e=parseInt(t.charAt(n),10),this.pattern.push(e),this.totalUnits+=e},e}(Dl);Rt(Al,{addCheckSum:!0});var jl=Object.assign,Ml=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),jl(this,{minBaseUnitLength:.7})},e.prototype.addData=function(){var t=this.value;this.addStart();for(var e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()},e.prototype.addCharacter=function(t){var e=this.characterMap[t];e||this.invalidCharacterError(t),this.addBase(e)},e.prototype.addBase=function(){},e}(Dl),Rl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),jl(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})},e.prototype.initValue=function(t,e,n){this.width=e,this.height=n,this.value=t,this.dataLength=t.length,this.pattern=[],this.patternString=""},e.prototype.prepareValues=function(){var t,e=this.minBaseUnitLength,n=this.minRatio,r=Math.max(.15*this.width,24),o=this.maxRatio;if(this.height<r)throw new Error("Insufficient Height. The minimum height for value: "+this.value+" is: "+r);for(t=this.getBaseUnit(o);t<e&&o>n;)o=parseFloat((o-.1).toFixed(1)),t=this.getBaseUnit(o);if(t<e){var i=Math.ceil(this.getBaseWidth(n)*e);throw new Error("Insufficient width. The minimum width for value: "+this.value+" is: "+i)}this.ratio=o,this.baseUnit=t,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,o).split(this.splitCharacter))},e.prototype.getBaseUnit=function(t){return this.width/this.getBaseWidth(t)},e.prototype.getBaseWidth=function(t){var e=3*(t+2);return this.quietZoneLength+e*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)},e.prototype.addStart=function(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()},e.prototype.addBase=function(t){this.addPattern(t.pattern),this.addCharacterGap()},e.prototype.addStop=function(){this.addPattern(this.characterMap.START.pattern)},e.prototype.addPattern=function(t){for(var e=0;e<t.length;e++)this.patternString+=this.patternMappings[t.charAt(e)]},e.prototype.addCharacterGap=function(){this.patternString+=this.gapWidth+this.splitCharacter},e}(Ml);Rt(Rl,{addCheckSum:!1});var Nl={addCharacter:function(t){this.characterMap[t]?this.addBase(this.characterMap[t]):t.charCodeAt(0)>127?this.invalidCharacterError(t):this.addExtended(t.charCodeAt(0))},addExtended:function(t){for(var e,n=0;n<this.extendedMappings.length;n++)if(e=this.extendedMappings[n].call(this,t)){for(var r=0;r<e.length;r++){var o=e[r];this.addBase(o)}return void(this.dataLength+=e.length-1)}},extendedMappings:[function(t){if(97<=t&&t<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(t-32)]]},function(t){if(33<=t&&t<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(t+32)]]},function(t){if(1<=t&&t<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(t+64)]]},function(t){var e,n;if(this.specialAsciiCodes[t]){e=[];for(var r=0;r<this.specialAsciiCodes[t].length;r++)e.push(this.characterMap[this.shiftCharacters[3]]),e.push(this.characterMap[this.specialAsciiCodes[t][r]])}else n=6*Math.floor(t/32)+(t-27)%32+64,e=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(n)]];return e}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},Fl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),j(this,Nl,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})},e}(Rl),Ll=Object.assign,zl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Ll(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})},e.prototype.initValue=function(t,e,n){this.value=t,this.width=e,this.height=n,this.pattern=[],this.values=[],this.dataLength=t.length},e.prototype.prepareValues=function(){var t=Math.max(.15*this.width,24);if(this.height<t)throw new Error("Insufficient Height");if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength)throw new Error("Insufficient Width")},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)},e.prototype.addStart=function(){var t=this.characterMap.START.pattern;this.addPattern(t)},e.prototype.addStop=function(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)},e.prototype.addBase=function(t){this.addPattern(t.pattern),this.values.push(t.value)},e.prototype.pushCheckSum=function(){var t,e=this._getCheckValues();this.checksum=e.join("");for(var n=0;n<e.length;n++)t=this.characterMap[this._findCharacterByValue(e[n])],this.addPattern(t.pattern)},e.prototype._getCheckValues=function(){var t,e,n=this.values,r=n.length,o=0;for(e=r-1;e>=0;e--)o+=this.weightedValue(n[e],r-e,this.cCheckSumTotal);for(t=o%this.checkSumMod,o=this.weightedValue(t,1,this.kCheckSumTotal),e=r-1;e>=0;e--)o+=this.weightedValue(n[e],r-e+1,this.kCheckSumTotal);return[t,o%this.checkSumMod]},e.prototype._findCharacterByValue=function(t){for(var e in this.characterMap)if(this.characterMap[e].value===t)return e},e.prototype.weightedValue=function(t,e,n){return(e%n||n)*t},e.prototype.addPattern=function(t){for(var e,n=0;n<t.length;n++)e=parseInt(t.charAt(n),10),this.pattern.push(e)},e}(Ml),Bl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),j(this,Nl,{name:"Code 93 extended",pushCheckSum:function(){var t,e=this._getCheckValues();this.checksum=e.join("");for(var n=0;n<e.length;n++)if(t=e[n],this.shiftValuesAsciiCodes[t])this.addExtended(this.shiftValuesAsciiCodes[t]);else{var r=this._findCharacterByValue(t);this.addPattern(this.characterMap[r].pattern)}}})},e}(zl),Vl=/^\d+$/,Hl=Object.assign,Ul=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Hl(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})},e.prototype.initValue=function(t,e,n){this.height=n,this.width=e,this.baseHeight=n/2,this.value=t.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()},e.prototype.addData=function(){var t=this.value;this.addPattern(this.START);for(var e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()},e.prototype.addCharacter=function(t){var e=this.characterMap[t];this.checkSum+=parseInt(t,10),this.addPattern(e)},e.prototype.addCheckSum=function(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(10*(this.value.length+1)+3+this.quietZoneLength)},e.prototype.validate=function(t){if(Vl.test(t)||this.invalidCharacterError(t.match(/[^0-9]/)[0]),!pt(t.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(","))},e.prototype.addPattern=function(t){for(var e,n=0;n<t.length;n++)e=this.height-this.baseHeight*t.charAt(n),this.pattern.push({width:1,y1:e,y2:this.height}),this.pattern.push(1)},e}(Dl),Wl=/^\d+$/,ql=/^[a-z0-9]+$/i,Kl=Object.assign,Gl=function(t){function e(e){t.call(this),this.encoding=e,this.initProperties()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){},e.prototype.addStart=function(){},e.prototype.is=function(){},e.prototype.isCode=function(){return!1},e.prototype.move=function(){},e.prototype.pushState=function(){},e}(_.Class),Yl=function(t){function e(e,n){t.call(this,e),this.states=n,this._initMoves(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),j(this,{FNC4:"FNC4",SHIFT:98})},e.prototype.addStart=function(){this.encoding.addPattern(this.START)},e.prototype.is=function(t,e){var n=t.charCodeAt(e);return this.isCode(n)},e.prototype.move=function(t){for(var e=0;!this._moves[e].call(this,t)&&e<this._moves.length;)e++},e.prototype.pushState=function(t){var e,n=this.states,r=t.value,o=r.length;if(pt("C",n)){var i=r.substr(t.index).match(/\d{4,}/g);i&&(o=r.indexOf(i[0],t.index))}for(;(e=t.value.charCodeAt(t.index))>=0&&this.isCode(e)&&t.index<o;)this.encoding.addPattern(this.getValue(e)),t.index++},e.prototype._initMoves=function(t){this._moves=[],pt(this.FNC4,t)&&this._moves.push(this._moveFNC),pt(this.shiftKey,t)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)},e.prototype._moveFNC=function(t){if(t.fnc)return t.fnc=!1,t.previousState===this.key},e.prototype._shiftState=function(t){if(t.previousState===this.shiftKey&&(t.index+1>=t.value.length||this.encoding[this.shiftKey].is(t.value,t.index+1)))return this.encoding.addPattern(this.SHIFT),t.shifted=!0,!0},e.prototype._moveState=function(){return this.encoding.addPattern(this.MOVE),!0},e}(Gl),Xl={};Xl.A=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{key:"A",shiftKey:"B",MOVE:101,START:103})},e.prototype.isCode=function(t){return 0<=t&&t<96},e.prototype.getValue=function(t){return t<32?t+64:t-32},e}(Yl),Xl.B=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{key:"B",shiftKey:"A",MOVE:100,START:104})},e.prototype.isCode=function(t){return 32<=t&&t<128},e.prototype.getValue=function(t){return t-32},e}(Yl),Xl.C=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{key:"C",MOVE:99,START:105})},e.prototype.addStart=function(){this.encoding.addPattern(this.START)},e.prototype.is=function(t,e){var n=nc(t,e,4);return(e+4<=t.length||2===t.length)&&Wl.test(n)},e.prototype.move=function(){this.encoding.addPattern(this.MOVE)},e.prototype.pushState=function(t){for(var e;(e=nc(t.value,t.index,2))&&Wl.test(e)&&2===e.length;)this.encoding.addPattern(parseInt(e,10)),t.index+=2},e.prototype.getValue=function(t){return t},e}(Gl),Xl.FNC4=function(t){function e(e,n){t.call(this,e),this._initSubStates(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{key:"FNC4",dependentStates:["A","B"]})},e.prototype.addStart=function(t){var e=t.value.charCodeAt(0)-128,n=this._getSubState(e);this.encoding[n].addStart()},e.prototype.is=function(t,e){var n=t.charCodeAt(e);return this.isCode(n)},e.prototype.isCode=function(t){return 128<=t&&t<256},e.prototype.pushState=function(t){var e,n=this._initSubState(t),r=this.encoding,o=n.value.length;if(t.index+=o,o<3)for(;n.index<o;n.index++)e=n.value.charCodeAt(n.index),n.state=this._getSubState(e),n.previousState!==n.state&&(n.previousState=n.state,r[n.state].move(n)),r.addPattern(r[n.state].MOVE),r.addPattern(r[n.state].getValue(e));else n.state!==n.previousState&&r[n.state].move(n),this._pushStart(n),r.pushData(n,this.subStates),t.index<t.value.length&&this._pushStart(n);t.fnc=!0,t.state=n.state},e.prototype._pushStart=function(t){this.encoding.addPattern(this.encoding[t.state].MOVE),this.encoding.addPattern(this.encoding[t.state].MOVE)},e.prototype._initSubState=function(t){var e={value:this._getAll(t.value,t.index),index:0};return e.state=this._getSubState(e.value.charCodeAt(0)),e.previousState=t.previousState===this.key?e.state:t.previousState,e},e.prototype._initSubStates=function(t){this.subStates=[];for(var e=0;e<t.length;e++)pt(t[e],this.dependentStates)&&this.subStates.push(t[e])},e.prototype._getSubState=function(t){for(var e=0;e<this.subStates.length;e++)if(this.encoding[this.subStates[e]].isCode(t))return this.subStates[e]},e.prototype._getAll=function(t,e){for(var n,r="",o=e;(n=t.charCodeAt(o++))&&this.isCode(n);)r+=String.fromCharCode(n-128);return r},e}(Gl),Xl.FNC1=function(t){function e(e,n){t.call(this,e),this.states=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})},e.prototype.addStart=function(){this.encoding[this.startState].addStart()},e.prototype.is=function(){return pt(this.key,this.states)},e.prototype.pushState=function(t){var e,n,r,o=this.encoding,i=t.value.replace(/\s/g,""),a=new RegExp("["+this.startAI+this.endAI+"]","g"),s=t.index,l={state:this.startState};o.addPattern(this.START);for(;;){if(l.index=0,(e=(r=i.charAt(s)===this.startAI?2:0)>0?this.getBySeparator(i,s):this.getByLength(i,s)).ai.length)n=s+r+e.id.length+e.ai.length;else if((n=i.indexOf(this.startAI,s+1))<0){if(s+e.ai.max+e.id.length+r<i.length)throw new Error("Separators are required after variable length identifiers");n=i.length}if(l.value=i.substring(s,n).replace(a,""),this.validate(e,l.value),o.pushData(l,this.dependentStates),n>=i.length)break;s=n,l.state!==this.startState&&(o[this.startState].move(l),l.state=this.startState),e.ai.length||o.addPattern(this.START)}t.index=t.value.length},e.prototype.validate=function(t,e){var n=e.substr(t.id.length),r=t.ai;if(!r.type&&!Wl.test(n))throw new Error("Application identifier "+t.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"===r.type&&!ql.test(n))throw new Error("Application identifier "+t.id+" is alphanumeric only but contains non alphanumeric character(s).");if(r.length&&r.length!==n.length)throw new Error("Application identifier "+t.id+" must be "+r.length+" characters long.");if(r.min&&r.min>n.length)throw new Error("Application identifier "+t.id+" must be at least "+r.min+" characters long.");if(r.max&&r.max<n.length)throw new Error("Application identifier "+t.id+" must be at most "+r.max+" characters long.")},e.prototype.getByLength=function(t,e){for(var n,r,o=2;o<=4;o++)if(n=nc(t,e,o),r=this.getApplicationIdentifier(n)||this.getApplicationIdentifier(n.substring(0,n.length-1)))return{id:n,ai:r};this.unsupportedAIError(n)},e.prototype.unsupportedAIError=function(t){throw new Error("'"+t+"' is not a supported Application Identifier")},e.prototype.getBySeparator=function(t,e){var n=t.indexOf(this.startAI,e),r=t.indexOf(this.endAI,n),o=t.substring(n+1,r),i=this.getApplicationIdentifier(o)||this.getApplicationIdentifier(o.substr(o.length-1));return i||this.unsupportedAIError(o),{ai:i,id:o}},e.prototype.getApplicationIdentifier=function(t){var e=this.applicationIdentifiers,n=e.multiKey;if(e[t])return e[t];for(var r=0;r<n.length;r++){if(n[r].ids&&pt(t,n[r].ids))return n[r].type;if(n[r].ranges)for(var o=n[r].ranges,i=0;i<o.length;i++)if(o[i][0]<=t&&t<=o[i][1])return n[r].type}},e}(Gl);var $l=function(t){function e(e){t.call(this,e),this._initStates()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})},e.prototype._initStates=function(){for(var t=0;t<this.states.length;t++)this[this.states[t]]=new Xl[this.states[t]](this,this.states)},e.prototype.initValue=function(t,e,n){this.pattern=[],this.value=t,this.width=e,this.height=n,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1},e.prototype.addData=function(){var t={value:this.value,index:0,state:""};0!==this.value.length&&(t.state=t.previousState=this.getNextState(t,this.states),this.addStart(t),this.pushData(t,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())},e.prototype.pushData=function(t,e){for(;this[t.state].pushState(t),!(t.index>=t.value.length);)if(t.shifted){var n=t.state;t.state=t.previousState,t.previousState=n,t.shifted=!1}else t.previousState=t.state,t.state=this.getNextState(t,e),this[t.state].move(t)},e.prototype.addStart=function(t){this[t.state].addStart(t),this.position=1},e.prototype.addCheckSum=function(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)},e.prototype.addStop=function(){this.addPattern(this.STOP)},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},e.prototype.addPattern=function(t){for(var e,n=this.characterMap[t].toString(),r=0;r<n.length;r++)e=parseInt(n.charAt(r),10),this.pattern.push(e),this.totalUnits+=e;this.checkSum+=t*this.position++},e.prototype.getNextState=function(t,e){for(var n=0;n<e.length;n++)if(this[e[n]].is(t.value,t.index))return e[n];this.invalidCharacterError(t.value.charAt(t.index))},e}(Dl),Zl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{name:"Code 128 A",states:["A"]})},e}($l),Jl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{name:"Code 128 B",states:["B"]})},e}($l),Ql=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{name:"Code 128 C",states:["C"]})},e}($l),tc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{name:"Code 128",states:["C","B","A","FNC4"]})},e}($l),ec=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{name:"Code GS1-128",states:["FNC1","C","B"]})},e}($l);function nc(t,e,n){return t.substring(e,e+n)}var rc=Object.assign,oc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),rc(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:cc})},e.prototype.initValue=function(t,e){this.pattern=[],this.value=t,this.checkSumLength=0,this.width=e},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)},e.prototype.addData=function(){var t=this.value;this.addPattern(this.START);for(var e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},e.prototype.addCharacter=function(t){var e=this.characterMap[t];e||this.invalidCharacterError(t),this.addPattern(e)},e.prototype.addPattern=function(t){for(var e=0;e<t.length;e++)this.pattern.push(parseInt(t.charAt(e),10))},e.prototype.addCheckSum=function(){var t=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=t.join("");for(var e=0;e<t.length;e++)this.checkSumLength++,this.addPattern(this.characterMap[t[e]])},e}(Dl),ic=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),rc(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})},e}(oc),ac=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),rc(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})},e}(oc),sc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),rc(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})},e}(oc),lc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),rc(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})},e}(oc),cc={Modulo10:function(t){var e,n,r,o=[0,""],i=t.length%2;for(e=0;e<t.length;e++)o[(e+i)%2]+=parseInt(t.charAt(e),10);for(r=o[0],n=(2*o[1]).toString(),e=0;e<n.length;e++)r+=parseInt(n.charAt(e),10);return[(10-r%10)%10]},Modulo11:function(t){for(var e,n=0,r=t.length,o=0;o<r;o++)n+=(((r-o)%6||6)+1)*t.charAt(o);return 10!==(e=(11-n%11)%11)?[e]:[1,0]},Modulo11Modulo10:function(t){var e,n=this.Modulo11(t);return e=t+n[0],n.concat(this.Modulo10(e))},Modulo10Modulo10:function(t){var e,n=this.Modulo10(t);return e=t+n[0],n.concat(this.Modulo10(e))}},uc=Object.assign,pc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),uc(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})},e.prototype.initValue=function(t,e,n){var r=String(t);if(12!==r.length||/\D/.test(r))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=n,this.baseUnit=e/(95+this.quietZoneLength),this.value=r,this.checksum=this.calculateChecksum(),this.leftKey=r[0],this.leftPart=r.substr(1,6),this.rightPart=r.substr(7)+this.checksum},e.prototype.addData=function(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)},e.prototype.addSide=function(t,e){for(var n=0;n<t.length;n++)e&&parseInt(this.keyTable[e].charAt(n),10)?this.addPieces(Array.prototype.slice.call(this.characterMap.digits[t.charAt(n)]).reverse(),!0):this.addPieces(this.characterMap.digits[t.charAt(n)],!0)},e.prototype.addPieces=function(t,e){for(var n=0;n<t.length;n++)e?this.pattern.push({y1:0,y2:.95*this.options.height,width:t[n]}):this.pattern.push(t[n])},e.prototype.calculateChecksum=function(){for(var t=0,e=0,n=this.value.split("").reverse().join(""),r=0;r<n.length;r++)r%2?e+=parseInt(n.charAt(r),10):t+=parseInt(n.charAt(r),10);return(10-(3*t+e)%10)%10},e}(Dl),hc=Object.assign,dc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),hc(this,{name:"EAN 8"})},e.prototype.initValue=function(t,e,n){if(7!==t.length||/\D/.test(t))throw new Error("Invalid value provided");this.value=t,this.options.height=n,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=e/(67+this.quietZoneLength)},e}(pc),fc={code11:Al,code39:Rl,code39extended:Fl,code93:zl,code93extended:Bl,code128:tc,code128a:Zl,code128b:Jl,code128c:Ql};fc["gs1-128"]=ec,fc.msimod10=ic,fc.msimod11=ac,fc.msimod1010=sc,fc.msimod1110=lc,fc.postnet=Ul,fc.ean8=dc,fc.ean13=pc;var mc=function(t){function e(e,n){t.call(this),this.options=j({},this.options,n),this.element=e,this._initElement(),this._initSurface(),this._setOptions(n),n&&xt(n.value)&&this.redraw()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._destroySurface()},e.prototype._initElement=function(){O(this.element,"k-barcode"),this.element.style.display="block"},e.prototype._initSurface=function(){var t=this.options,e=this.surface;e&&e.options.type===t.renderAs||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},e.prototype._createSurface=function(){return _.drawing.Surface.create(this.surfaceElement,{type:this.options.renderAs})},e.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},e.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))},e.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},e.prototype.setOptions=function(t){this._setOptions(t),this.redraw()},e.prototype.redraw=function(){var t=this._getSize();this.surface.clear(),this.surface.setSize({width:t.width,height:t.height}),this.createVisual(),this.surface.draw(this.visual)},e.prototype.getSize=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},e.prototype._resize=function(){this.redraw()},e.prototype.createVisual=function(){this.visual=this._render()},e.prototype._render=function(){var t,e,n=this.options,r=n.value,o=n.text,i=z(o.margin),a=this._getSize(),s=n.border||{},l=this.encoding,c=new Zt(0,0,a.width,a.height).unpad(s.width).unpad(n.padding),u=c.height(),p=new _.drawing.Group;return this.contentBox=c,p.append(this._getBackground(a)),o.visible&&(u-=_.drawing.util.measureText(r,{font:o.font}).height+i.top+i.bottom),t=l.encode(r,c.width(),u),o.visible&&(e=r,n.checksum&&xt(l.checksum)&&(e+=" "+l.checksum),p.append(this._getText(e))),this.barHeight=u,this._bandsGroup=this._getBands(t.pattern,t.baseUnit),p.append(this._bandsGroup),p},e.prototype.exportVisual=function(){return this._render()},e.prototype._getSize=function(){var t=this.element,e=t.clientWidth,n=t.clientHeight,r=new _.geometry.Size(300,100);return e>0&&(r.width=e),n&&(r.height=n),this.options.width&&(r.width=this.options.width),this.options.height&&(r.height=this.options.height),r},e.prototype.value=function(t){if(!xt(t))return this.options.value;this.options.value=String(t),this.redraw()},e.prototype._getBands=function(t,e){for(var n,r,o=this.contentBox,i=o.x1,a=new _.drawing.Group,s=0;s<t.length;s++){if(n=(r=M(t[s])?t[s]:{width:t[s],y1:0,y2:this.barHeight}).width*e,s%2){var l=_.geometry.Rect.fromPoints(new _.geometry.Point(i,r.y1+o.y1),new _.geometry.Point(i+n,r.y2+o.y1)),c=_.drawing.Path.fromRect(l,{fill:{color:this.options.color},stroke:null});a.append(c)}i+=n}return a},e.prototype._getBackground=function(t){var e=this.options,n=e.border||{},r=new Zt(0,0,t.width,t.height).unpad(n.width/2);return _.drawing.Path.fromRect(r.toRect(),{fill:{color:e.background},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType}})},e.prototype._getText=function(t){var e=this.options.text,n=this._textbox=new be(t,{font:e.font,color:e.color,align:"center",vAlign:"bottom",margin:e.margin});return n.reflow(this.contentBox),n.renderVisual(),n.visual},e.prototype._setOptions=function(t){if(this.type=(t.type||this.options.type).toLowerCase(),"upca"===this.type&&(this.type="ean13",t.value="0"+t.value),"upce"===this.type&&(this.type="ean8",t.value="0"+t.value),!fc[this.type])throw new Error("Encoding "+this.type+" is not supported.");this.encoding=new fc[this.type],this.options=j({},this.options,t)},e}(_.Class);Rt(mc,{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});var vc="Arial, Helvetica, sans-serif",gc="12px "+vc,yc="16px "+vc,bc=function(){return{icon:{border:{width:1}},label:{font:gc,padding:3},line:{length:10,width:2},visible:!0}},xc=function(t){return{visible:!0,labels:{font:"11px Arial, Helvetica, sans-serif"},overlay:t.gradients?{}:{gradient:"none"},area:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},rangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalRangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},bar:{gap:1.5,spacing:.4},boxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},bubble:{border:{width:0},labels:{background:"transparent"},opacity:.6},bullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},candlestick:{border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:"#000",width:1},spacing:.3},column:{gap:1.5,spacing:.4},heatmap:{labels:{color:"",background:"transparent",visible:!0},highlight:{border:{width:0}}},pie:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},donut:{margin:1},funnel:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},horizontalWaterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4},line:{width:2},notes:bc(),ohlc:{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3},radarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},radarLine:{markers:{visible:!1},width:2},polarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},polarLine:{markers:{visible:!1},width:2},rangeBar:{gap:1.5,spacing:.4},rangeColumn:{gap:1.5,spacing:.4},scatterLine:{width:1},verticalArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalBoxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},verticalBullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},verticalLine:{width:2},waterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4}}},wc=function(t){return void 0===t&&(t={}),{axisDefaults:{labels:{font:gc},notes:bc(),title:{font:yc,margin:5}},categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:xc(t),title:{font:yc},legend:{labels:{font:gc}}}},kc=n(2);function Oc(t,e){for(var n=t;n&&n!==e;)n=n.parentNode;return!!n}function Cc(t,e,n,r){var o=t[e];if(o&&Array.isArray(o))for(var i=0,a=o;i<a.length;i++){var s=a[i];if(!s.type||s.type!==r)return new Error(n+" children should be Array of type "+r.displayName+".")}return null}var _c=function(t){return void 0!==t&&!t},Sc=function(t){return{x:{location:t.pageX},y:{location:t.pageY}}};function Ec(t,e){for(var n=0;n<t.length;n++)if(e[t[n]])return!0;return!1}var Ic,Tc=[{end:"panend",move:"panmove",start:"panstart"},{gesturechange:"pinchmove",gestureend:"pinchend",gesturestart:"pinchstart"},{press:"press"},{tap:"tap"}],Dc=function(){function t(t,e){this.hammerInstance=t,this.eventHandlers={},this.tap=this.tap.bind(this),this.press=this.press.bind(this),this.panstart=this.panstart.bind(this),this.panmove=this.panmove.bind(this),this.panend=this.panend.bind(this),this.pinchstart=this.pinchstart.bind(this),this.pinchmove=this.pinchmove.bind(this),this.pinchend=this.pinchend.bind(this),e&&this.bind(e)}return t.prototype.tap=function(t){this.trigger("tap",t)},t.prototype.press=function(t){this.trigger("press",t)},t.prototype.panstart=function(t){delete this.previous,this.previous=this.trigger("start",t)},t.prototype.panmove=function(t){this.previous=this.trigger("move",t)},t.prototype.panend=function(t){this.trigger("end",t),delete this.previous},t.prototype.pinchstart=function(t){this.trigger("gesturestart",t)},t.prototype.pinchmove=function(t){this.trigger("gesturechange",t)},t.prototype.pinchend=function(t){this.trigger("gestureend",t)},t.prototype.trigger=function(t,e){var n=function(t,e){var n=t.pointers,r=n[0],o=r.pageX,i=r.pageY,a=0;if(n.length>1){var s=n[0],l=n[1];a=Math.sqrt(Math.pow(s.pageX-l.pageX,2)+Math.pow(s.pageY-l.pageY,2))}return{distance:a,event:t.srcEvent,preventDefault:function(){t.preventDefault()},target:t.target,touches:n.map(Sc),type:t.type,x:{delta:e?o-e.x.location:0,initialDelta:t.deltaX,location:o,startLocation:o-t.deltaX},y:{delta:e?i-e.y.location:0,initialDelta:t.deltaY,location:i,startLocation:i-t.deltaY}}}(e,this.previous);return this.eventHandlers[t]&&this.eventHandlers[t](n),n},t.prototype.bind=function(t){void 0===t&&(t={}),this.unbind(),this.eventHandlers=t;for(var e=0;e<Tc.length;e++){var n=Tc[e],r=Object.keys(n);if(Ec(r,t))for(var o=0;o<r.length;o++){var i=n[r[o]];this.hammerInstance.on(i,this[i])}}},t.prototype.unbind=function(){this.hammerInstance&&this.hammerInstance.off(),this.eventHandlers={}},t.prototype.destroy=function(){this.hammerInstance&&(this.hammerInstance.destroy(),delete this.hammerInstance),delete this.eventHandlers},t.prototype.toggleDrag=function(t){this.toggle("pan",t)},t.prototype.toggleZoom=function(t){this.toggle("pinch",t)},t.prototype.toggle=function(t,e){this.hammerInstance&&this.hammerInstance.get(t).set({enable:e})},t}(),Pc=function(){function t(){}return t.create=function(t,e){if("undefined"!=typeof window){var n=window.Hammer;if(!n)return void 0;var r=new n(t,{recognizers:[[n.Tap],[n.Pan],[n.Pinch],[n.Press,{time:0}]]});return new Dc(r,e)}},t}(),Ac=function(t){this.target=t},jc=(Ic=function(t,e){return(Ic=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ic(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mc=function(t){function e(e,n){var r=t.call(this,n)||this;return r.axis=e.axis,r.dataItem=e.dataItem,r.index=e.index,r.text=e.text,r.value=e.value,r}return jc(e,t),e}(Ac),Rc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prevented=!1,e}return Rc(e,t),e.prototype.preventDefault=function(){this.prevented=!0},e.prototype.isDefaultPrevented=function(){return this.prevented},e}(Ac),Fc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lc=function(t){function e(e,n){var r=t.call(this,n)||this;return r.axisRanges=e.axisRanges,r.nativeEvent=e.originalEvent,r}return Fc(e,t),e}(Nc),zc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bc=function(t){function e(e,n){var r=t.call(this,n)||this;return r.axisRanges=e.axisRanges,r.nativeEvent=e.originalEvent,r}return zc(e,t),e}(Ac),Vc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hc=function(t){function e(e,n){var r=t.call(this,n)||this;return r.axisRanges=e.axisRanges,r.nativeEvent=e.originalEvent,r}return Vc(e,t),e}(Nc),Uc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wc=function(t){function e(e,n){var r=t.call(this,n)||this;return r.series=e.series,r.seriesIndex=e.seriesIndex,r.pointIndex=e.pointIndex,r.text=e.text,r}return Uc(e,t),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this)},e}(Nc),qc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kc=function(t){function e(e,n){var r=t.call(this,n)||this;return r.series=e.series,r.seriesIndex=e.seriesIndex,r.pointIndex=e.pointIndex,r.text=e.text,r}return qc(e,t),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this)},e}(Nc),Gc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yc=function(t){function e(e,n){var r=t.call(this,n)||this;return r.series=e.series,r.seriesIndex=e.seriesIndex,r.pointIndex=e.pointIndex,r.text=e.text,r}return Gc(e,t),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this)},e}(Nc),Xc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$c=function(t){function e(e,n){var r=t.call(this,n)||this;return r.from=e.from,r.to=e.to,r}return Xc(e,t),e}(Ac),Zc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jc=function(t){function e(e,n){var r=t.call(this,n)||this;return r.category=e.category,r.dataItem=e.dataItem,r.series=e.series,r.value=e.value,r.visual=e.visual,r}return Zc(e,t),e}(Ac),Qc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tu=function(t){function e(e,n){var r=t.call(this,n)||this;return r.category=e.category,r.dataItem=e.dataItem,r.series=e.series,r.value=e.value,r.visual=e.visual,r}return Qc(e,t),e}(Ac),eu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nu=function(t){function e(e,n){var r=t.call(this,n)||this;return r.category=e.category,r.nativeEvent=e.originalEvent,r.value=e.value,r.x=e.x,r.y=e.y,r}return eu(e,t),e}(Ac),ru=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ou=function(t){function e(e,n){var r=t.call(this,n)||this;return r.category=e.category,r.nativeEvent=e.originalEvent,r.value=e.value,r.x=e.x,r.y=e.y,r}return ru(e,t),e}(Ac),iu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),au=function(t){function e(e,n){return t.call(this,n)||this}return iu(e,t),e}(Ac),su=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lu=function(t){function e(e,n){var r=t.call(this,n)||this;return r.axis=e.axis,r.from=e.from,r.to=e.to,r}return su(e,t),e}(Nc),cu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uu=function(t){function e(e,n){var r=t.call(this,n)||this;return r.axis=e.axis,r.from=e.from,r.to=e.to,r}return cu(e,t),e}(Ac),pu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hu=function(t){function e(e,n){var r=t.call(this,n)||this;return r.axis=e.axis,r.from=e.from,r.to=e.to,r}return pu(e,t),e}(Nc),du=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fu=function(t){function e(e,n){var r=t.call(this,n)||this;return r.category=e.category,r.dataItem=e.dataItem,r.nativeEvent=e.originalEvent,r.percentage=e.percentage,r.point=e.point,r.series=e.series,r.stackValue=e.stackValue,r.value=e.value,r}return du(e,t),e}(Ac),mu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vu=function(t){function e(e,n){var r=t.call(this,n)||this;return r.category=e.category,r.categoryPoints=e.categoryPoints,r.dataItem=e.dataItem,r.nativeEvent=e.originalEvent,r.percentage=e.percentage,r.point=e.point,r.series=e.series,r.stackValue=e.stackValue,r.value=e.value,r}return mu(e,t),e}(Nc),gu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yu=function(t){function e(e,n){var r=t.call(this,n)||this;return r.axisRanges=e.axisRanges,r.delta=e.delta,r.nativeEvent=e.originalEvent,r}return gu(e,t),e}(Nc),bu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xu=function(t){function e(e,n){var r=t.call(this,n)||this;return r.axisRanges=e.axisRanges,r.nativeEvent=e.originalEvent,r}return bu(e,t),e}(Ac),wu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ku=function(t){function e(e,n){var r=t.call(this,n)||this;return r.axisRanges=e.axisRanges,r.nativeEvent=e.originalEvent,r}return wu(e,t),e}(Nc),Ou={axisLabelClick:Mc,drag:Lc,dragEnd:Bc,dragStart:Hc,legendItemHover:Wc,legendItemClick:Kc,legendItemLeave:Yc,navigatorFilter:$c,noteClick:Jc,noteHover:tu,plotAreaClick:nu,plotAreaHover:ou,render:au,select:lu,selectEnd:uu,selectStart:hu,seriesClick:fu,seriesHover:vu,zoom:yu,zoomEnd:xu,zoomStart:ku};var Cu=function(t,e){this.sender=t,this.syntheticEvent=e};function _u(t,e){return new Cu(t,e)}var Su=function(t){return t.fontWeight+" "+t.fontSize+" "+t.fontFamily},Eu=function(t){return window.getComputedStyle(t).backgroundColor},Iu='\n    <div class="k-var--accent"></div>\n    <div class="k-var--base"></div>\n    <div class="k-var--background"></div>\n\n    <div class="k-var--normal-background"></div>\n    <div class="k-var--normal-text-color"></div>\n    <div class="k-var--hover-background"></div>\n    <div class="k-var--hover-text-color"></div>\n    <div class="k-var--selected-background"></div>\n    <div class="k-var--selected-text-color"></div>\n    <div class="k-var--chart-error-bars-background"></div>\n    <div class="k-var--chart-notes-background"></div>\n    <div class="k-var--chart-notes-border"></div>\n    <div class="k-var--chart-notes-lines"></div>\n    <div class="k-var--chart-crosshair-background"></div>\n\n    <div class="k-var--chart-inactive"></div>\n    <div class="k-var--chart-major-lines"></div>\n    <div class="k-var--chart-minor-lines"></div>\n    <div class="k-var--chart-area-opacity"></div>\n    <div class="k-var--chart-area-inactive-opacity"></div>\n    <div class="k-var--chart-line-inactive-opacity"></div>\n\n    <div class="k-widget k-chart">\n        <div class="k-var--chart-font"></div>\n        <div class="k-var--chart-title-font"></div>\n        <div class="k-var--chart-pane-title-font"></div>\n        <div class="k-var--chart-label-font"></div>\n    </div>\n\n    <div class="k-var--series-unset"></div>\n    <div class="k-var--series">\n      '+function(){for(var t='\n      <div class="k-var--series-a"></div>\n      <div class="k-var--series-b"></div>\n      <div class="k-var--series-c"></div>\n      <div class="k-var--series-d"></div>\n      <div class="k-var--series-e"></div>\n      <div class="k-var--series-f"></div>\n',e=0;e<30;e++)t+='\n      <div class="k-var--series-'+(e+1)+'"></div>';return t}()+"\n    </div>\n",Tu=function(){function t(t){this.store=t}return t.prototype.setStyle=function(t,e){this.store.dispatch({type:"set",payload:{field:t,value:e}})},t.prototype.setColors=function(){this.mapColor("axisDefaults.crosshair.color","chart-crosshair-background"),this.mapColor("axisDefaults.labels.color","normal-text-color"),this.mapColor("axisDefaults.line.color","chart-major-lines"),this.mapColor("axisDefaults.majorGridLines.color","chart-major-lines"),this.mapColor("axisDefaults.minorGridLines.color","chart-minor-lines"),this.mapColor("axisDefaults.notes.icon.background","chart-notes-background"),this.mapColor("axisDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("axisDefaults.notes.line.color","chart-notes-lines"),this.mapColor("axisDefaults.title.color","normal-text-color"),this.mapColor("chartArea.background","background"),this.mapColor("legend.inactiveItems.labels.color","chart-inactive"),this.mapColor("legend.inactiveItems.markers.color","chart-inactive"),this.mapColor("legend.labels.color","normal-text-color"),this.mapColor("seriesDefaults.boxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.boxPlot.mean.color","base"),this.mapColor("seriesDefaults.boxPlot.median.color","base"),this.mapColor("seriesDefaults.boxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.bullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.candlestick.downColor","normal-text-color"),this.mapColor("seriesDefaults.candlestick.line.color","normal-text-color"),this.mapColor("seriesDefaults.errorBars.color","chart-error-bars-background"),this.mapColor("seriesDefaults.horizontalWaterfall.line.color","chart-major-lines"),this.mapColor("seriesDefaults.icon.border.color","chart-major-lines"),this.mapColor("seriesDefaults.labels.background","background"),this.mapColor("seriesDefaults.labels.color","normal-text-color"),this.mapColor("seriesDefaults.notes.icon.background","chart-notes-background"),this.mapColor("seriesDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("seriesDefaults.notes.line.color","chart-notes-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.mean.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.median.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.verticalBullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.waterfall.line.color","chart-major-lines"),this.mapColor("title.color","normal-text-color");var t=parseFloat(this.queryStyle("chart-area-opacity").opacity);isNaN(t)||(this.setStyle("seriesDefaults.area.opacity",t),this.setStyle("seriesDefaults.radarArea.opacity",t),this.setStyle("seriesDefaults.verticalArea.opacity",t),this.setStyle("seriesDefaults.labels.opacity",t)),this.setInactiveOpacity(["area","verticalArea"],"chart-area-inactive-opacity"),this.setInactiveOpacity(["line","verticalLine"],"chart-line-inactive-opacity")},t.prototype.setFonts=function(){var t=Su(this.queryStyle("chart-font")),e=Su(this.queryStyle("chart-title-font")),n=Su(this.queryStyle("chart-pane-title-font")),r=Su(this.queryStyle("chart-label-font"));this.setStyle("axisDefaults.labels.font",r),this.setStyle("axisDefaults.notes.label.font",t),this.setStyle("axisDefaults.title.font",t),this.setStyle("legend.labels.font",t),this.setStyle("seriesDefaults.labels.font",r),this.setStyle("seriesDefaults.notes.label.font",t),this.setStyle("title.font",e),this.setStyle("paneDefaults.title.font",n)},t.prototype.setSeriesColors=function(){var t=this.element,e=[].slice.call(t.querySelectorAll(".k-var--series div")),n=Eu(t.querySelector(".k-var--series-unset")),r=e.reduce((function(t,e){var r=function(t){var e=t.match(/series-([a-z])$/);if(null!==e)return e[1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0);var n=t.split("--series-")[1];return parseInt(n,10)-1}(e.className),o=Eu(e);return o!==n&&(t[r]=o),t}),[]);this.setStyle("seriesColors",r)},t.prototype.mapColor=function(t,e){this.setStyle(t,this.queryStyle(e).backgroundColor)},t.prototype.queryStyle=function(t){var e=this.element;return window.getComputedStyle(e.querySelector(".k-var--"+t))},t.prototype.setInactiveOpacity=function(t,e){var n=this,r=parseFloat(this.queryStyle(e).opacity);!isNaN(r)&&r<1&&t.forEach((function(t){return n.setStyle("seriesDefaults."+t+".highlight.inactiveOpacity",r)}))},t}(),Du=function(t){var e,n,r=[],o=function(o){e=t(e,o),kc.e&&(window.clearTimeout(n),n=window.setTimeout((function(){return r.forEach((function(t){return t()}))}),1e3/60))};return o({}),{getState:function(){return e},dispatch:o,subscribe:function(t){return r.push(t),function(){return r=r.filter((function(e){return e!==t}))}}}},Pu=function(t,e){return e.chartCollectionIdxKey?Mu.collectionConfigurationItem(t,e):e.chartKey?Mu.configurationItem(t,e):{}},Au=function(t,e){if(!e.type)return{};switch(e.type){case"set":return Mu.themeItem(t,e);case"push":return Object.assign(t,e.payload);default:return t}},ju=function(t,e){if(!e.type)return[];switch(e.type){case"add":return t.concat([e.payload]);case"remove":return t.filter((function(t){return t!==e.payload}));default:return t}},Mu={configurationItem:function(t,e){var n;return Object.assign(t,((n={})[e.chartKey]=e.payload,n))},collectionConfigurationItem:function(t,e){var n,r=!1,o=e.chartCollectionIdxKey.split("_"),i=o[0],a=o[1],s=t[i].map((function(t,n){return parseInt(a,10)===n?(r=!0,e.payload):t}));return!1===r&&s.splice(parseInt(a,10),0,e.payload),Object.assign(t,((n={})[i]=s,n))},themeItem:function(t,e){for(var n={},r=Object.assign(n,t),o=e.payload,i=o.field,a=o.value,s=i.split("."),l=s.shift();s.length>0;)n=n[l]=n[l]||{},l=s.shift();return n[l]=a,r}},Ru=sn.prototype.options.labels.dateFormats,Nu=vn.prototype.options.labels.dateFormats,Fu={milliseconds:"HH:mm:ss.SSS",seconds:{time:"medium"},minutes:{time:"short"},hours:{time:"short"},days:{skeleton:"Md"},weeks:{skeleton:"Md"},months:{skeleton:"yyMMM"},years:{skeleton:"y"}};Object.assign(Ru,Fu),Object.assign(Nu,Fu);var Lu=function(){function t(t,e){this.value=t.value,this.category=t.category,this.categoryIndex=t.categoryIx,this.series=t.series,this.dataItem=t.dataItem,this.percentage=t.percentage,this.runningTotal=t.runningTotal,this.total=t.total,this.low=t.low,this.high=t.high,this.xLow=t.xLow,this.xHigh=t.xHigh,this.yLow=t.yLow,this.yHigh=t.yHigh,this.point=t,this.format=((t.options||{}).tooltip||{}).format||e}return Object.defineProperty(t.prototype,"formattedValue",{get:function(){return this.format?this.point.formatValue(this.format):String(this.value)},enumerable:!0,configurable:!0}),t}(),zu=function(t){var e=t.categoryText,n=t.colorMarker,o=t.colspan,i=t.nameColumn,a=t.points;return r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{colSpan:o},e))),r.createElement("tbody",null,a.map((function(t,e){return r.createElement("tr",{key:e},n&&r.createElement("td",null,r.createElement("span",{className:"k-chart-shared-tooltip-marker",style:{backgroundColor:t.series.color}})),i&&r.createElement("td",null,t.series.name),r.createElement("td",{dangerouslySetInnerHTML:{__html:t.formattedValue}}))}))))},Bu=n(14),Vu=r.createContext(null);Vu.displayName="ChartContext";var Hu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uu={horizontal:"fit",vertical:"fit"},Wu="k-chart-tooltip",qu=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.onChartMouseLeave=function(t){return!!Oc(t.syntheticEvent.relatedTarget,r.element)},r.onMouseLeave=function(t){var e=_u(r,t);r.context.childrenObserver.trigger("onMouseLeave",e)&&t.preventDefault()},r.chartObserver=new ft(r,{onMouseLeave:"onChartMouseLeave"}),n.observersStore.dispatch({type:"add",payload:r.chartObserver}),r}return Hu(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.popupShown,o=e.popupAlign,i=e.popupOffset,a=e.popupStyles,s=e.popupContent,l=e.className,c=[Wu,l].join(" ").trim();return r.createElement(Bu.Popup,{animate:!1,popupAlign:o,offset:i,show:n,collision:Uu,className:"k-chart-tooltip-wrapper"},r.createElement("div",{className:c,style:a,onMouseLeave:this.onMouseLeave,ref:function(e){return t.element=e}},s()))},e.prototype.componentWillUnmount=function(){this.context.observersStore.dispatch({type:"remove",payload:this.chartObserver})},e.contextType=Vu,e}(r.Component),Ku=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gu=function(){return(Gu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Yu=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Xu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={popupShown:!1},e}return Ku(e,t),e.prototype.componentDidMount=function(){this.chartObserver=new ft(this,{showTooltip:"onShowTooltip",hideTooltip:"onHideTooltip"}),this.context.observersStore.dispatch({type:"add",payload:this.chartObserver})},e.prototype.render=function(){var t,e=this,n=this.state,o=n.popupContext,i=n.shared,a=n.className,s=Yu(n,["popupContext","shared","className"]),l=this.state.popupShown?function(){var t=e.findRenderFunction();if(i)return null!==t?t(o):r.createElement(zu,Gu({},o));var n=o.point,a=e.findRenderFunctionByIndex(n.series.index);return null!==a?a(o):null!==t?t(o):r.createElement("span",{dangerouslySetInnerHTML:{__html:o.point.formattedValue}})}:Function.prototype,c=Object(kc.g)(((t={})["k-chart-shared-tooltip"]=i,t["k-chart-tooltip-inverse"]=!!a,t));return r.createElement(qu,Gu({},s,{popupContent:l,className:c}))},e.prototype.componentWillUnmount=function(){this.context.observersStore.dispatch({type:"remove",payload:this.chartObserver})},e.prototype.onShowTooltip=function(t){var e,n=t.anchor,r=t.style,o=t.shared,i=t.className;t.crosshair||(e=o?this.createSharedTooltipContext(t):this.createTooltipContext(t),this.setState({popupShown:!0,popupAlign:n.align,popupOffset:n.point,popupContext:e,popupStyles:r,className:i,shared:o}))},e.prototype.onHideTooltip=function(){this.setState({popupShown:!1,popupStyles:{},className:void 0})},e.prototype.createSharedTooltipContext=function(t){var e=t.points,n=t.categoryText,r=e.filter((function(t){return void 0!==t.series.name})).length>0,o=t.series.length>1,i=1;return r&&i++,o&&i++,{categoryText:n,colorMarker:o,colspan:i,nameColumn:r,points:t.points.map((function(e){return new Lu(e,t.format)}))}},e.prototype.createTooltipContext=function(t){var e=t.point,n=t.format;return{point:new Lu(e,n)}},e.prototype.findRenderFunctionByIndex=function(t){var e=this.context.optionsStore.getState().series;return void 0!==e&&Array.isArray(e)&&void 0!==e[t]&&e[t].hasOwnProperty("tooltip")&&e[t].tooltip.hasOwnProperty("render")?e[t].tooltip.render:null},e.prototype.findRenderFunction=function(){var t=this.context.optionsStore.getState().tooltip;return void 0!==t&&t.hasOwnProperty("render")?t.render:null},e.contextType=Vu,e}(r.Component),$u=function(t){return t.children};$u.displayName="Container";var Zu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ju=function(){return(Ju=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qu=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},tp=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.state={popupShown:!1},r.chartObserver=new ft(r,{showTooltip:"onShowTooltip",hideTooltip:"onHideTooltip"}),n.observersStore.dispatch({type:"add",payload:r.chartObserver}),r}return Zu(e,t),e.prototype.render=function(){var t,e=this.state,n=e.popupContend,o=e.className,i=Qu(e,["popupContend","className"]),a=this.state.popupShown?function(){return n}:Function.prototype,s=Object(kc.g)(((t={})["k-chart-crosshair-tooltip"]=!0,t["k-chart-tooltip-inverse"]=!!o,t));return r.createElement(qu,Ju({},i,{popupContent:a,className:s}))},e.prototype.componentWillUnmount=function(){this.context.observersStore.dispatch({type:"remove",payload:this.chartObserver})},e.prototype.onShowTooltip=function(t){var e=t.anchor,n=t.style,r=t.className,o=t.crosshair,i=t.axisName,a=t.axisIndex,s=t.value,l=this.props,c=l.name,u=l.index;o&&i===c&&a===u&&this.setState({popupShown:!0,popupAlign:e.align,popupOffset:e.point,popupContend:s,popupStyles:n,className:r})},e.prototype.onHideTooltip=function(){this.setState({popupShown:!1,popupStyles:{},className:void 0})},e.contextType=Vu,e}(r.Component),ep=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),np=function(){return(np=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},rp=["categoryAxis","valueAxis","xAxis","yAxis"];function op(t){for(var e={},n=0;n<rp.length;n++)for(var r=ip(t,rp[n]),o=0;o<r.length;o++){var i=r[o];e[i.name+i.index]=i}return e}function ip(t,e){var n=[];if(t[e])for(var r=[].concat(t[e]),o=0;o<r.length;o++){var i=(r[o].crosshair||{}).tooltip;i&&i.visible&&n.push({index:o,name:e})}return n}var ap=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={tooltips:{}},e.storeUnsubscriber=Function.prototype,e.subscriber=function(){e.setState({tooltips:op(e.context.optionsStore.getState())})},e}return ep(e,t),e.prototype.componentDidMount=function(){this.storeUnsubscriber=this.context.optionsStore.subscribe(this.subscriber)},e.prototype.render=function(){var t=this.state.tooltips,e=Object.keys(t).map((function(e){return r.createElement(tp,np({},t[e],{key:e}))}));return r.createElement($u,null,e)},e.prototype.componentWillUnmount=function(){this.storeUnsubscriber()},e.contextType=Vu,e}(r.Component),sp={name:"@progress/kendo-react-charts",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616418,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},lp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cp=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},up=function(t){function e(e){var n=t.call(this,e)||this;return n.chartInstance=null,n._element=null,n.optionsStore={},n.optionsUnsubscriber=Function.prototype,n.themeStore={},n.themeUnsubscriber=Function.prototype,n.observersStore={},n.suppressTransitions=!1,n.onRender=function(t){null!==n.chartInstance&&(n.surface=t.sender.surface,n.trigger("render",t))},n.onLegendItemClick=function(t){if(null!==n.chartInstance)if(n.props.onLegendItemClick)n.trigger("legendItemClick",t);else{var e=n.optionsStore.getState().series;if(!e)return;var r={},o=t.seriesIndex,i=t.pointIndex,a=e[o];if(void 0===i)r=Object.assign({},a,{visible:_c(a.visible)});else{var s=a.pointVisibility=a.pointVisibility||[];s[i]=_c(s[i]),r=Object.assign({},a)}n.optionsStore.dispatch({chartCollectionIdxKey:"series_"+o,payload:r}),n.suppressTransitions=!0}},n.onWindowResize=function(){null!==n.chartInstance&&n.chartInstance.resize()},n.onChartMouseLeave=function(t){var e=_u(n,t);n.triggerDomEvent("onMouseLeave",e)?t.preventDefault():null!==n.chartInstance&&n.chartInstance.hideElements()},n.onChildMouseLeave=function(t){var e=t.syntheticEvent;return n.chartInstance&&!Oc(e.relatedTarget,n.element)&&n.chartInstance.hideElements(),!1},Object(kc.D)(sp),n.optionsStore=Du(Pu),n.observersStore=Du(ju),n.childrenObserver=new ft(n,{onMouseLeave:"onChildMouseLeave"}),n.contextValue={optionsStore:n.optionsStore,observersStore:n.observersStore,childrenObserver:n.childrenObserver},n.themeStore=Du(Au),n.chartObserver=new ft(n,{render:"onRender",legendItemClick:"onLegendItemClick"}),n}return lp(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){!function(t,e){var n=new Tu(t);if("undefined"!=typeof document){var r=n.element=document.createElement("div");r.style.display="none",r.innerHTML=Iu,document.body.appendChild(r);try{t.dispatch({type:"push",payload:wc()}),n.setColors(),n.setFonts(),n.setSeriesColors()}finally{document.body.removeChild(n.element),delete n.element,e()}}else t.dispatch({type:"push",payload:wc()})}(this.themeStore,this.instantiateCoreChart.bind(this)),this.optionsUnsubscriber=this.optionsStore.subscribe(this.refresh.bind(this)),this.themeUnsubscriber=this.themeStore.subscribe(this.refresh.bind(this)),window.addEventListener("resize",this.onWindowResize)},e.prototype.componentWillUnmount=function(){this.optionsUnsubscriber(),this.themeUnsubscriber(),null!==this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null),window.removeEventListener("resize",this.onWindowResize)},e.prototype.componentDidUpdate=function(t){var e=this.props,n=e.dir,r=(e.children,cp(e,["dir","children"]));if(null!==this.chartInstance){var o=Object(i.provideIntlService)(this),a=this.chartInstance.chartService,s=o.locale!==a._intlService.locale,l=Object.entries(t).filter((function(t){return"dir"!==t[0]&&"children"!==t[0]})).some((function(t){var e=t[0],n=t[1];return!(r.hasOwnProperty(e)&&r[e]===n)}));s&&(this.chartInstance.chartService._intlService=o,this.chartInstance.chartService.format._intlService=o,l||this.chartInstance.noTransitionsRedraw()),l&&this.refresh(),t.dir!==n&&this.chartInstance.setDirection(this.getDirection(n))}},e.prototype.render=function(){var t=this,e=this.props,n=e.style,o=void 0===n?{}:n,i=e.className,a=e.wrapper,s=e.children,l=Object.assign({},o,{position:"relative"}),c=r.createElement(a,{className:i,style:l,key:"chartElement"},r.createElement("div",{onMouseLeave:this.onChartMouseLeave,ref:function(e){return t._element=e},className:"k-chart-surface"},s));return r.createElement(Vu.Provider,{value:this.contextValue},r.createElement(Xu,{key:"seriesTooltip"}),r.createElement(ap,{key:"crosshairTooltips"}),c)},e.prototype.getDirection=function(t){var e=this;return"rtl"===(void 0!==t?t:kc.e&&window.getComputedStyle(e.element).direction||"ltr")},e.prototype.getChartOptions=function(){var t=this.props,e=t.renderAs,n=t.pannable,r=t.zoomable,o=t.paneDefaults,i=t.panes,a=t.transitions,s=t.seriesColors,l=t.seriesDefaults,c=t.axisDefaults,u=t.deriveOptionsFromParent,p={};return void 0!==e&&(p.renderAs=e),void 0!==n&&(p.pannable=n),void 0!==r&&(p.zoomable=r),void 0!==o&&(p.paneDefaults=o),void 0!==i&&(p.panes=i),void 0!==a&&(p.transitions=a),void 0!==s&&(p.seriesColors=s),void 0!==l&&(p.seriesDefaults=l),void 0!==c&&(p.axisDefaults=c),p=Object.assign(p,this.optionsStore.getState()),u&&(p=u(p)),p},e.prototype.refresh=function(){if(null!==this.chartInstance){var t=this.themeStore.getState(),e=this.getChartOptions(),n=e.transitions;this.suppressTransitions&&(e.transitions=!1),this.props.onRefresh?this.props.onRefresh.call(void 0,e,t,this.chartInstance):this.chartInstance.setOptions(e,t),this.suppressTransitions&&(e.transitions=n,this.suppressTransitions=!1)}},e.prototype.instantiateCoreChart=function(){var t=this.props,e=t.dir,n=t.chartConstructor,r=this.getChartOptions();this.chartInstance=new n(this.element,r,this.themeStore.getState(),{rtl:this.getDirection(e),intlService:Object(i.provideIntlService)(this),observer:this.chartObserver,sender:this})},e.prototype.trigger=function(t,e){for(var n=function(t,e,n){if(Ou[t])return new Ou[t](e,n)}(t,e,this.props.getTarget()),r="on"+t.charAt(0).toUpperCase()+t.slice(1),o=this.observersStore.getState(),i=!1,a=0;a<o.length;a++)o[a].trigger(t,e)&&(i=!0);return!1===i&&n&&this.props.hasOwnProperty(r)?(this.props[r].call(void 0,n),n.isDefaultPrevented&&n.isDefaultPrevented()):i},e.prototype.requiresHandlers=function(t){for(var e=0;e<t.length;e++){var n=t[e],r="on"+n.charAt(0).toUpperCase()+n.slice(1);if(this.props.hasOwnProperty(r))return!0}return!1},e.prototype.triggerDomEvent=function(t,e){for(var n=this.observersStore.getState(),r=!1,o=0;o<n.length;o++)n[o].trigger(t,e)&&(r=!0);return r},e.propTypes={dir:o.string,renderAs:o.oneOf(["svg","canvas"])},e.defaultProps={renderAs:"svg"},e}(r.Component);Object(i.registerForIntl)(up),Q.register(Pc);var pp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hp=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.state={donutCenterStyles:null},r.chartObserver=new ft(r,{render:"onRender"}),n.observersStore.dispatch({type:"add",payload:r.chartObserver}),r}return pp(e,t),e.prototype.render=function(){var t=this.props.render,e=this.state.donutCenterStyles,n=null;return t&&e&&(n=r.createElement("div",{className:"k-chart-donut-center",style:e},t())),n},e.prototype.onRender=function(t){var e=this.context.optionsStore.getState().series,n=Array.isArray(e)?e[0]:null,r=t.sender._plotArea.charts;if(n&&"donut"===n.type&&0!==r[0].points.length){var o=r[0].points[0].sector,i=o.innerRadius,a=o.center.y-i,s=o.center.x-i,l=2*i;this.setState({donutCenterStyles:{height:l,left:s,top:a,width:l}})}},e.contextType=Vu,e}(r.Component),dp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fp=function(){return(fp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},mp=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},vp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getTarget=function(){return e},e}return dp(e,t),Object.defineProperty(e.prototype,"chartInstance",{get:function(){return null!==this._baseChart?this._baseChart.chartInstance:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"surface",{get:function(){return null!==this._baseChart?this._baseChart.surface:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return null!==this._baseChart?this._baseChart.element:null},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this,e=this.props,n=e.donutCenterRender,o=e.children,i=e.className,a=mp(e,["donutCenterRender","children","className"]);return r.createElement(up,fp({},a,{ref:function(e){return t._baseChart=e},chartConstructor:cs,getTarget:this.getTarget,wrapper:"div",className:Object(kc.g)("k-chart k-widget",i)}),o,r.createElement(hp,{render:n}))},e}(r.Component),gp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yp=function(){return(yp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},bp=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},xp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.deriveOptionsFromParent=function(t){var n=e.props,r=n.type,o=n.data,i=Object.assign({},t,{type:r,data:o});return vs.normalizeOptions(i)},e.getTarget=function(){return e},e}return gp(e,t),Object.defineProperty(e.prototype,"chartInstance",{get:function(){return null!==this._baseChart?this._baseChart.chartInstance:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"surface",{get:function(){return null!==this._baseChart?this._baseChart.surface:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return null!==this._baseChart?this._baseChart.element:null},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this,e=this.props,n=e.children,o=(e.type,e.className),i=bp(e,["children","type","className"]);return r.createElement(up,yp({},i,{ref:function(e){return t._baseChart=e},chartConstructor:vs,getTarget:this.getTarget,wrapper:"span",deriveOptionsFromParent:this.deriveOptionsFromParent,className:Object(kc.g)("k-sparkline k-widget",o)}),n)},e}(r.Component),wp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kp=function(){return(kp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Op=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Cp={autoBindElements:!0,liveDrag:!1,partialRedraw:!0},_p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.deriveOptionsFromParent=function(t){var e=Object.assign({},t.navigator||{},Cp);return Object.assign({},t,{navigator:e})},e.onRefresh=function(t,n,r){e.props.partialRedraw?(r.applyOptions(t),r.bindCategories(),r.navigator.redrawSlaves()):r.setOptions(t,n)},e.getTarget=function(){return e},e}return wp(e,t),Object.defineProperty(e.prototype,"chartInstance",{get:function(){return null!==this._baseChart?this._baseChart.chartInstance:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"surface",{get:function(){return null!==this._baseChart?this._baseChart.surface:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return null!==this._baseChart?this._baseChart.element:null},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this,e=this.props,n=e.children,o=e.className,i=Op(e,["children","className"]);return r.createElement(up,kp({},i,{ref:function(e){return t._baseChart=e},chartConstructor:Cs,getTarget:this.getTarget,wrapper:"div",deriveOptionsFromParent:this.deriveOptionsFromParent,onRefresh:this.onRefresh,className:Object(kc.g)("k-stockchart k-widget",o)}),n)},e}(r.Component),Sp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ep=function(){return(Ep=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ip=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Tp=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.optionsStore=n.optionsStore,r.childStore=Du(Pu),r}return Sp(e,t),e.prototype.render=function(){var t=this,e=this.props.children;return void 0!==e?r.Children.map(e,(function(e){return r.isValidElement(e)?t.renderChildren(e):e})):null},e.prototype.componentDidMount=function(){this.dispatch()},e.prototype.componentDidUpdate=function(){this.dispatch()},e.prototype.dispatch=function(){var t=this.props,e=t._chartKey,n=t._chartCollectionIdxKey,r=t._parentStore,o=(t.children,Ip(t,["_chartKey","_chartCollectionIdxKey","_parentStore","children"]));(r||this.optionsStore).dispatch({chartKey:e,chartCollectionIdxKey:n,payload:Object.assign({},o,this.childStore.getState())})},e.prototype.renderChildren=function(t){var e=t.props.children,n=Ep({},t.props,{_parentStore:this.childStore});return r.cloneElement(t,n,e)},e.contextType=Vu,e}(r.Component),Dp=function(){return(Dp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Pp=function(t){return r.createElement(Tp,Dp({},t,{_chartKey:"chartArea"}))},Ap=function(){return(Ap=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},jp=function(t){return r.createElement(Tp,Ap({},t,{_chartKey:"axisDefaults"}))},Mp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rp=function(){return(Rp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Np=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.optionsStore=n.optionsStore,r}return Mp(e,t),e.prototype.renderChildren=function(t,e){var n=t.props.children,o=this.props,i=o._chartKey,a=o._parentStore,s=Rp({},t.props,{_chartCollectionIdxKey:i+"_"+e,_parentStore:a});return r.cloneElement(t,s,n)},e.prototype.render=function(){var t=this,e=this.props,n=e._chartKey,o=e._parentStore,i=e.children;return(o||this.optionsStore).dispatch({chartKey:n,payload:[]}),r.Children.map(i,(function(e,n){return r.isValidElement(e)?t.renderChildren(e,n):e}))},e.contextType=Vu,e}(r.Component),Fp=function(){return(Fp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Lp=function(t){return r.createElement(Tp,Fp({},t))};Lp.displayName="ChartCategoryAxisItem";var zp=Lp,Bp=function(){return(Bp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Vp=function(t){return r.createElement(Np,Bp({},t,{_chartKey:"categoryAxis"}))};Vp.propTypes={children:function(t,e,n){return Cc(t,e,n,zp)}};var Hp=Vp,Up=function(){return(Up=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Wp=function(t){return r.createElement(Tp,Up({},t,{_chartKey:"legend"}))};Wp.defaultProps={visible:!0};var qp=Wp,Kp=function(){return(Kp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Gp=function(t){return r.createElement(Tp,Kp({},t,{_chartKey:"navigator"}))};Gp.defaultProps={visible:!0};var Yp=Gp,Xp=function(){return(Xp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},$p=function(t){return r.createElement(Tp,Xp({},t))};$p.displayName="ChartPane";var Zp=$p,Jp=function(){return(Jp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qp=function(t){return r.createElement(Tp,Jp({},t,{_chartKey:"paneDefaults"}))};Qp.displayName="ChartPaneDefaults";var th=Qp,eh=function(){return(eh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},nh=function(t){return r.createElement(Np,eh({},t,{_chartKey:"panes"}))};nh.propTypes={children:function(t,e,n){return Cc(t,e,n,Zp)}};var rh=nh,oh=function(){return(oh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ih=function(t){return r.createElement(Tp,oh({},t,{_chartKey:"plotArea"}))},ah=function(){return(ah=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},sh=function(t){return r.createElement(Tp,ah({},t))};sh.displayName="ChartSeriesItem";var lh=sh,ch=function(){return(ch=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},uh=function(t){return r.createElement(Np,ch({},t,{_chartKey:"series"}))};uh.propTypes={children:function(t,e,n){return Cc(t,e,n,lh)}};var ph=uh,hh=function(){return(hh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},dh=function(t){return r.createElement(Tp,hh({},t,{_chartKey:"seriesDefaults"}))},fh=function(){return(fh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},mh=function(t){return r.createElement(Tp,fh({},t,{_chartKey:"title"}))},vh=function(){return(vh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},gh=function(t){return r.createElement(Tp,vh({},t,{_chartKey:"tooltip"}))};gh.defaultProps={visible:!0};var yh=gh,bh=function(){return(bh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xh=function(t){return r.createElement(Tp,bh({},t))};xh.displayName="ChartValueAxisItem";var wh=xh,kh=function(){return(kh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Oh=function(t){return r.createElement(Np,kh({},t,{_chartKey:"valueAxis"}))};Oh.propTypes={children:function(t,e,n){return Cc(t,e,n,wh)}};var Ch=Oh,_h=function(){return(_h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Sh=function(t){return r.createElement(Tp,_h({},t))};Sh.displayName="ChartXAxisItem";var Eh=Sh,Ih=function(){return(Ih=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Th=function(t){return r.createElement(Np,Ih({},t,{_chartKey:"xAxis"}))};Th.prototype={children:function(t,e,n){return Cc(t,e,n,Eh)}};var Dh=Th,Ph=function(){return(Ph=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ah=function(t){return r.createElement(Tp,Ph({},t))};Ah.displayName="ChartYAxisItem";var jh=Ah,Mh=function(){return(Mh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Rh=function(t){return r.createElement(Np,Mh({},t,{_chartKey:"yAxis"}))};Rh.propTypes={children:function(t,e,n){return Cc(t,e,n,jh)}};var Nh=Rh,Fh=function(){return(Fh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Lh=function(t){return r.createElement(Tp,Fh({},t,{_chartKey:"zoomable"}))},zh=function(){return(zh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Bh=function(t){return r.createElement(Tp,zh({},t,{_chartKey:"title"}))};Bh.displayName="ChartAxisDefaultsTitle";var Vh=Bh,Hh=function(){return(Hh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Uh=function(t){return r.createElement(Tp,Hh({},t,{_chartKey:"labels"}))};Uh.displayName="ChartAxisDefaultsLabels";var Wh=Uh,qh=function(){return(qh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Kh=function(t){return r.createElement(Tp,qh({},t,{_chartKey:"crosshair"}))};Kh.defaultProps={visible:!0},Kh.displayName="ChartAxisDefaultsCrosshair";var Gh=Kh,Yh=function(){return(Yh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Xh=function(t){return r.createElement(Tp,Yh({},t,{_chartKey:"tooltip"}))};Xh.defaultProps={visible:!0},Xh.displayName="ChartAxisDefaultsCrosshairTooltip";var $h=Xh,Zh=function(){return(Zh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Jh=function(t){return r.createElement(Tp,Zh({},t,{_chartKey:"crosshair"}))};Jh.defaultProps={visible:!0};var Qh=Jh,td=function(){return(td=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ed=function(t){return r.createElement(Tp,td({},t,{_chartKey:"tooltip"}))};ed.defaultProps={visible:!0};var nd=ed,rd=function(){return(rd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},od=function(t){return r.createElement(Tp,rd({},t,{_chartKey:"title"}))};od.displayName="ChartCategoryAxisTitle";var id=od,ad=function(){return(ad=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},sd=function(t){return r.createElement(Tp,ad({},t,{_chartKey:"labels"}))};sd.defaultProps={visible:!0};var ld=sd,cd=function(){return(cd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ud=function(t){return r.createElement(Tp,cd({},t,{_chartKey:"notes"}))},pd=function(){return(pd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},hd=function(t){return r.createElement(Tp,pd({},t,{_chartKey:"icon"}))},dd=function(){return(dd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},fd=function(t){return r.createElement(Tp,dd({},t,{_chartKey:"label"}))},md=function(){return(md=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},vd=function(t){return r.createElement(Tp,md({},t,{_chartKey:"rangeLabels"}))};vd.defaultProps={visible:!0};var gd=vd,yd=function(){return(yd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},bd=function(t){return r.createElement(Tp,yd({},t,{_chartKey:"title"}))};bd.displayName="ChartPaneTitle";var xd=bd,wd=function(){return(wd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},kd=function(t){return r.createElement(Tp,wd({},t,{_chartKey:"title"}))};kd.displayName="ChartPaneDefaultsTitle";var Od=kd,Cd=function(){return(Cd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},_d=function(t){return r.createElement(Tp,Cd({},t,{_chartKey:"item"}))};_d.displayName="ChartLegendItem";var Sd=_d,Ed=function(){return(Ed=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Id=function(t){return r.createElement(Tp,Ed({},t,{_chartKey:"title"}))};Id.displayName="ChartLegendTitle";var Td=Id,Dd=function(){return(Dd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Pd=function(t){return r.createElement(Tp,Dd({},t,{_chartKey:"inactiveItems"}))};Pd.displayName="ChartLegendInactiveItems";var Ad=Pd,jd=function(){return(jd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Md=function(t){return r.createElement(Tp,jd({},t,{_chartKey:"tooltip"}))},Rd=function(){return(Rd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Nd=function(t){return r.createElement(Tp,Rd({},t,{_chartKey:"labels"}))};Nd.defaultProps={visible:!0};var Fd=Nd,Ld=function(){return(Ld=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},zd=function(t){return r.createElement(Tp,Ld({},t,{_chartKey:"from"}))},Bd=function(){return(Bd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Vd=function(t){return r.createElement(Tp,Bd({},t,{_chartKey:"to"}))},Hd=function(){return(Hd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ud=function(t){return r.createElement(Tp,Hd({},t,{_chartKey:"notes"}))},Wd=function(){return(Wd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},qd=function(t){return r.createElement(Tp,Wd({},t,{_chartKey:"icon"}))},Kd=function(){return(Kd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Gd=function(t){return r.createElement(Tp,Kd({},t,{_chartKey:"label"}))},Yd=function(){return(Yd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Xd=function(t){return r.createElement(Tp,Yd({},t,{_chartKey:"tooltip"}))},$d=function(){return($d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Zd=function(t){return r.createElement(Tp,$d({},t,{_chartKey:"outliers"}))},Jd=function(){return(Jd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qd=function(t){return r.createElement(Tp,Jd({},t,{_chartKey:"notes"}))},tf=function(){return(tf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ef=function(t){return r.createElement(Tp,tf({},t,{_chartKey:"markers"}))},nf=function(){return(nf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},rf=function(t){return r.createElement(Tp,nf({},t,{_chartKey:"labels"}))};rf.defaultProps={visible:!0};var of=rf,af=function(){return(af=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},sf=function(t){return r.createElement(Tp,af({},t,{_chartKey:"highlight"}))},lf=function(){return(lf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},cf=function(t){return r.createElement(Tp,lf({},t,{_chartKey:"extremes"}))},uf=function(){return(uf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},pf=function(t){return r.createElement(Tp,uf({},t,{_chartKey:"errorBars"}))},hf=function(){return(hf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},df=function(t){return r.createElement(Tp,hf({},t,{_chartKey:"from"}))},ff=function(){return(ff=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},mf=function(t){return r.createElement(Tp,ff({},t,{_chartKey:"to"}))},vf=function(){return(vf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},gf=function(t){return r.createElement(Tp,vf({},t,{_chartKey:"label"}))},yf=function(){return(yf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},bf=function(t){return r.createElement(Tp,yf({},t,{_chartKey:"icon"}))},xf=function(){return(xf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},wf=function(t){return r.createElement(Tp,xf({},t,{_chartKey:"crosshair"}))};wf.defaultProps={visible:!0};var kf=wf,Of=function(){return(Of=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Cf=function(t){return r.createElement(Tp,Of({},t,{_chartKey:"tooltip"}))};Cf.defaultProps={visible:!0};var _f=Cf,Sf=function(){return(Sf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ef=function(t){return r.createElement(Tp,Sf({},t,{_chartKey:"labels"}))};Ef.defaultProps={visible:!0};var If=Ef,Tf=function(){return(Tf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Df=function(t){return r.createElement(Tp,Tf({},t,{_chartKey:"notes"}))},Pf=function(){return(Pf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Af=function(t){return r.createElement(Tp,Pf({},t,{_chartKey:"icon"}))},jf=function(){return(jf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Mf=function(t){return r.createElement(Tp,jf({},t,{_chartKey:"label"}))},Rf=function(){return(Rf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Nf=function(t){return r.createElement(Tp,Rf({},t,{_chartKey:"title"}))};Nf.displayName="ChartValueAxisTitle";var Ff=Nf,Lf=function(){return(Lf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},zf=function(t){return r.createElement(Tp,Lf({},t,{_chartKey:"crosshair"}))};zf.defaultProps={visible:!0};var Bf=zf,Vf=function(){return(Vf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Hf=function(t){return r.createElement(Tp,Vf({},t,{_chartKey:"tooltip"}))};Hf.defaultProps={visible:!0};var Uf=Hf,Wf=function(){return(Wf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},qf=function(t){return r.createElement(Tp,Wf({},t,{_chartKey:"labels"}))};qf.defaultProps={visible:!0};var Kf=qf,Gf=function(){return(Gf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Yf=function(t){return r.createElement(Tp,Gf({},t,{_chartKey:"notes"}))},Xf=function(){return(Xf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},$f=function(t){return r.createElement(Tp,Xf({},t,{_chartKey:"icon"}))},Zf=function(){return(Zf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Jf=function(t){return r.createElement(Tp,Zf({},t,{_chartKey:"label"}))},Qf=function(){return(Qf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},tm=function(t){return r.createElement(Tp,Qf({},t,{_chartKey:"title"}))};tm.displayName="ChartXAxisTitle";var em=tm,nm=function(){return(nm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},rm=function(t){return r.createElement(Tp,nm({},t,{_chartKey:"crosshair"}))};rm.defaultProps={visible:!0};var om=rm,im=function(){return(im=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},am=function(t){return r.createElement(Tp,im({},t,{_chartKey:"tooltip"}))};am.defaultProps={visible:!0};var sm=am,lm=function(){return(lm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},cm=function(t){return r.createElement(Tp,lm({},t,{_chartKey:"labels"}))};cm.defaultProps={visible:!0};var um=cm,pm=function(){return(pm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},hm=function(t){return r.createElement(Tp,pm({},t,{_chartKey:"notes"}))},dm=function(){return(dm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},fm=function(t){return r.createElement(Tp,dm({},t,{_chartKey:"icon"}))},mm=function(){return(mm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},vm=function(t){return r.createElement(Tp,mm({},t,{_chartKey:"label"}))},gm=function(){return(gm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ym=function(t){return r.createElement(Tp,gm({},t,{_chartKey:"title"}))};ym.displayName="ChartYAxisTitle";var bm=ym,xm=function(){return(xm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},wm=function(t){return r.createElement(Tp,xm({},t,{_chartKey:"categoryAxis"}))};wm.displayName="ChartNavigatorCategoryAxis";var km=wm,Om=function(){return(Om=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Cm=function(t){return r.createElement(Tp,Om({},t,{_chartKey:"hint"}))},_m=function(){return(_m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Sm=function(t){return r.createElement(Tp,_m({},t,{_chartKey:"pane"}))};Sm.displayName="ChartNavigatorPane";var Em=Sm,Im=function(){return(Im=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Tm=function(t){return r.createElement(Tp,Im({},t,{_chartKey:"select"}))},Dm=function(){return(Dm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Pm=function(t){return r.createElement(Tp,Dm({},t))};Pm.displayName="ChartNavigatorSeriesItem";var Am=Pm,jm=function(){return(jm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Mm=function(t){return r.createElement(Np,jm({},t,{_chartKey:"series"}))};Mm.propTypes={children:function(t,e,n){return Cc(t,e,n,Am)}};var Rm=Mm,Nm=function(){return(Nm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Fm=function(t){return r.createElement(Tp,Nm({},t,{_chartKey:"crosshair"}))};Fm.defaultProps={visible:!0};var Lm=Fm,zm=function(){return(zm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Bm=function(t){return r.createElement(Tp,zm({},t,{_chartKey:"tooltip"}))};Bm.defaultProps={visible:!0};var Vm=Bm,Hm=function(){return(Hm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Um=function(t){return r.createElement(Tp,Hm({},t,{_chartKey:"title"}))};Um.displayName="ChartNavigatorCategoryAxisTitle";var Wm=Um,qm=function(){return(qm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Km=function(t){return r.createElement(Tp,qm({},t,{_chartKey:"labels"}))};Km.defaultProps={visible:!0};var Gm=Km,Ym=function(){return(Ym=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Xm=function(t){return r.createElement(Tp,Ym({},t,{_chartKey:"notes"}))},$m=function(){return($m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Zm=function(t){return r.createElement(Tp,$m({},t,{_chartKey:"icon"}))},Jm=function(){return(Jm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qm=function(t){return r.createElement(Tp,Jm({},t,{_chartKey:"label"}))},tv=function(){return(tv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ev=function(t){return r.createElement(Tp,tv({},t,{_chartKey:"title"}))};ev.displayName="ChartNavigatorPaneTitle";var nv=ev,rv=function(){return(rv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ov=function(t){return r.createElement(Tp,rv({},t,{_chartKey:"tooltip"}))},iv=function(){return(iv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},av=function(t){return r.createElement(Tp,iv({},t,{_chartKey:"outliers"}))},sv=function(){return(sv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},lv=function(t){return r.createElement(Tp,sv({},t,{_chartKey:"notes"}))},cv=function(){return(cv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},uv=function(t){return r.createElement(Tp,cv({},t,{_chartKey:"markers"}))},pv=function(){return(pv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},hv=function(t){return r.createElement(Tp,pv({},t,{_chartKey:"labels"}))};hv.defaultProps={visible:!0};var dv,fv=hv,mv=function(){return(mv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},vv=function(t){return r.createElement(Tp,mv({},t,{_chartKey:"highlight"}))},gv=function(){return(gv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},yv=function(t){return r.createElement(Tp,gv({},t,{_chartKey:"extremes"}))},bv=function(){return(bv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xv=function(t){return r.createElement(Tp,bv({},t,{_chartKey:"errorBars"}))},wv=function(){return(wv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},kv=function(t){return r.createElement(Tp,wv({},t,{_chartKey:"from"}))},Ov=function(){return(Ov=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Cv=function(t){return r.createElement(Tp,Ov({},t,{_chartKey:"to"}))},_v=function(){return(_v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Sv=function(t){return r.createElement(Tp,_v({},t,{_chartKey:"label"}))},Ev=function(){return(Ev=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Iv=function(t){return r.createElement(Tp,Ev({},t,{_chartKey:"icon"}))};!function(t){t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday"}(dv||(dv={}));var Tv=function(t,e){if(t&&null!==t.chartInstance)return t.chartInstance.findAxisByName(e)},Dv=function(t,e){if(t&&null!==t.chartInstance)return t.chartInstance.findPaneByIndex(e)},Pv=function(t,e){if(t&&null!==t.chartInstance)return t.chartInstance.findPaneByName(e)},Av=function(t,e){if(void 0===e&&(e={}),t&&null!==t.chartInstance)return t.chartInstance.exportVisual(e)}},function(t,e,n){"use strict";n.r(e),n.d(e,"ArcGauge",(function(){return Vc})),n.d(e,"CircularGauge",(function(){return Uc})),n.d(e,"LinearGauge",(function(){return Gc})),n.d(e,"RadialGauge",(function(){return Zc}));var r=n(0),o=n(1),i=n(5),a="arc",s="#000",l="bottom",c="center",u="circle",p="date",h=/\{\d+:?/,d="left",f=Number.MAX_VALUE,m=-Number.MAX_VALUE,v="right",g="top",y="value",b="#fff",x="x",w="y";function k(t){return Array.isArray(t)}function O(t,e){for(var n=k(e)?e:[e],r=0;r<n.length;r++){var o=n[r];-1===t.className.indexOf(o)&&(t.className+=" "+o)}}var C=/\s+/g;var _=n(3);function S(t){var e=.5;t.options.stroke&&_.drawing.util.defined(t.options.stroke.width)&&t.options.stroke.width%2==0&&(e=0);for(var n=0;n<t.segments.length;n++)t.segments[n].anchor().round(0).translate(e,e);return t}function E(t,e){return-t.x*e.y+t.y*e.x<0}function I(t){return"number"==typeof t&&!isNaN(t)}function T(t){return"string"==typeof t}function D(t){return I(t)||T(t)&&isFinite(t)}function P(t){return"function"==typeof t}function A(t,e){for(var n in e){var r=e[n],o=typeof r,i=void 0;if((i="object"===o&&null!==r?r.constructor:null)&&i!==Array)if(r instanceof Date)t[n]=new Date(r.getTime());else if(P(r.clone))t[n]=r.clone();else{var a=t[n];t[n]="object"==typeof a&&a||{},A(t[n],r)}else"undefined"!==o&&(t[n]=r)}return t}function j(t){for(var e=arguments,n=arguments.length,r=1;r<n;r++)A(t,e[r]);return t}function M(t){return"object"==typeof t}function R(t){return I(t)?t+"px":t}var N=/width|height|top|left|bottom|right/i;function F(t){return N.test(t)}function L(t,e){var n=T(e)?[e]:e;if(k(n)){for(var r={},o=window.getComputedStyle(t),i=0;i<n.length;i++){var a=n[i];r[a]=F(a)?parseFloat(o[a]):o[a]}return r}if(M(e))for(var s in e)t.style[s]=R(e[s])}function z(t,e){void 0===e&&(e=0);var n={top:0,right:0,bottom:0,left:0};return"number"==typeof t?n.top=n[v]=n[l]=n[d]=t:(n.top=t.top||e,n[v]=t[v]||e,n[l]=t[l]||e,n[d]=t[d]||e),n}var B={format:function(t,e){return e},toString:function(t){return t},parseDate:function(t){return new Date(t)},firstDay:function(){return 0}},V=function(){},H={implementation:{configurable:!0}};V.register=function(t){B=t},H.implementation.get=function(){return B},Object.defineProperties(V,H);var U=V,W=/\{(\d+)(:[^\}]+)?\}/g,q=function(t){this._intlService=t},K={intl:{configurable:!0}};K.intl.get=function(){return this._intlService||U.implementation},K.intl.set=function(t){this._intlService=t},q.prototype.auto=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=this.intl;return T(t)&&t.match(h)?r.format.apply(r,[t].concat(e)):r.toString(e[0],t)},q.prototype.localeAuto=function(t,e,n){var r=this.intl;return T(t)&&t.match(h)?t.replace(W,(function(t,o,i){var a=e[parseInt(o,10)];return r.toString(a,i?i.substring(1):"",n)})):r.toString(e[0],t,n)},Object.defineProperties(q.prototype,K);var G=q,Y=function(t,e){void 0===e&&(e={}),this._intlService=e.intlService,this.sender=e.sender||t,this.format=new G(e.intlService),this.chart=t,this.rtl=Boolean(e.rtl)},X={intl:{configurable:!0}};X.intl.get=function(){return this._intlService||U.implementation},X.intl.set=function(t){this._intlService=t,this.format.intl=t},Y.prototype.notify=function(t,e){this.chart&&this.chart.trigger(t,e)},Y.prototype.isPannable=function(t){var e=((this.chart||{}).options||{}).pannable;return e&&e.lock!==t},Object.defineProperties(Y.prototype,X);var $,Z=Y,J=function(){};J.register=function(t){$=t},J.create=function(t,e){if($)return $.create(t,e)};var Q=J,tt={compile:function(t){return t}},et=function(){};et.register=function(t){tt=t},et.compile=function(t){return tt.compile(t)};var nt=et;function rt(t){var e;return void 0===t&&(t={}),t.template?t.template=e=nt.compile(t.template):P(t.content)&&(e=t.content),e}var ot=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,it={};function at(t){if(it[t])return it[t];var e=[];return t.replace(ot,(function(t,n,r,o){e.push(_.drawing.util.defined(n)?n:r||o)})),it[t]=function(t){for(var n=t,r=0;r<e.length&&n;r++)n=n[e[r]];return n},it[t]}function st(t,e){for(var n=t.length,r=[],o=0;o<n;o++)e(t[o])&&r.push(t[o]);return r}function lt(t,e){if(t.className)for(var n=e.split(" "),r=0;r<n.length;r++)if(-1!==t.className.indexOf(n[r]))return!0}it[void 0]=function(t){return t};var ct=function(){this._map={}};ct.prototype.get=function(t){return this._map[this._key(t)]},ct.prototype.set=function(t,e){this._map[this._key(t)]=e},ct.prototype._key=function(t){return t instanceof Date?t.getTime():t};var ut=ct;function pt(t,e){if(e)return-1!==e.indexOf(t)}function ht(t,e,n){return _.drawing.util.round(t+(e-t)*n,3)}var dt=function(t,e){this.observer=t,this.handlerMap=j({},this.handlerMap,e)};dt.prototype.trigger=function(t,e){var n,r=this.observer,o=this.handlerMap;return o[t]?n=this.callObserver(o[t],e):r.trigger&&(n=this.callObserver("trigger",t,e)),n},dt.prototype.callObserver=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return this.observer[t].apply(this.observer,e)},dt.prototype.requiresHandlers=function(t){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(t);for(var e=0;e<t.length;e++)if(this.handlerMap[t[e]])return!0};var ft=dt;function mt(t,e){for(var n=t.length,r=[],o=0;o<n;o++){var i=e(t[o]);_.drawing.util.defined(i)&&r.push(i)}return r}function vt(t){var e=0;return t.wheelDelta&&(e=(e=-t.wheelDelta/120)>0?Math.ceil(e):Math.floor(e)),t.detail&&(e=_.drawing.util.round(t.detail/3)),e}var gt=_.drawing.util,yt=gt.append,bt=gt.bindEvents,xt=gt.defined,wt=gt.deg,kt=gt.elementOffset,Ot=gt.elementSize,Ct=gt.eventElement,_t=gt.eventCoordinates,St=gt.last,Et=gt.limitValue,It=gt.objectKey,Tt=gt.rad,Dt=gt.round,Pt=gt.unbindEvents,At=gt.valueOrDefault,jt=function(){};jt.fetchFonts=function(t,e,n){void 0===n&&(n={depth:0});!t||n.depth>5||!document.fonts||Object.keys(t).forEach((function(r){var o=t[r];"dataSource"!==r&&"$"!==r[0]&&o&&("font"===r?e.push(o):"object"==typeof o&&(n.depth++,jt.fetchFonts(o,e,n),n.depth--))}))},jt.loadFonts=function(t,e){var n=[];if(t.length>0&&document.fonts){try{n=t.map((function(t){return document.fonts.load(t)}))}catch(t){Object(_.logToConsole)(t)}Promise.all(n).then(e,e)}else e()},jt.preloadFonts=function(t,e){var n=[];jt.fetchFonts(t,n),jt.loadFonts(n,e)};var Mt=jt;function Rt(t,e){var n=t.prototype;n.options?n.options=j({},n.options,e):n.options=e}function Nt(t){for(var e=f,n=m,r=0,o=t.length;r<o;r++){var i=t[r];null!==i&&isFinite(i)&&(e=Math.min(e,i),n=Math.max(n,i))}return{min:e===f?void 0:e,max:n===m?void 0:n}}function Ft(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e(r,n,t))return r}}var Lt=_.geometry.Matrix,zt=/matrix\((.*)\)/;function Bt(t){var e=getComputedStyle(t).transform;return"none"===e?Lt.unit():function(t){var e=t.match(zt);if(null===e||2!==e.length)return Lt.unit();var n=e[1].split(",").map((function(t){return parseFloat(t)}));return new(Function.prototype.bind.apply(Lt,[null].concat(n)))}(e)}var Vt=function(t){return new _.Color(t).isDark()?b:s},Ht={},Ut=function(t){this._index={},this._values=t?t.slice(0):[];for(var e=0;e<this._values.length;e++)this._index[this._values[e]]=e},Wt={size:{configurable:!0}};Ut.prototype.values=function(){return this._values.filter((function(t){return t!==Ht}))},Ut.prototype.has=function(t){return void 0!==this._index[t]},Ut.prototype.add=function(t){this.has(t)||(this._index[t]=this._values.length,this._values.push(t))},Ut.prototype.delete=function(t){var e=this._index[t];void 0!==e&&(this._values[e]=Ht,delete this._index[t])},Ut.prototype.clear=function(){this._index={},this._values=[]},Wt.size.get=function(){return this._values.length},Object.defineProperties(Ut.prototype,Wt);var qt=function(t){this._set=new Set(t)},Kt={size:{configurable:!0}};function Gt(t){return"function"==typeof Set?new qt(t):new Ut(t)}function Yt(t,e){var n=Dt(e-t,9);if(0===n){if(0===e)return.1;n=Math.abs(e)}var r=Math.pow(10,Math.floor(Math.log(n)/Math.log(10))),o=Dt(n/r,10);return Dt(r*(o<1.904762?.2:o<4.761904?.5:o<9.523809?1:2),10)}qt.prototype.values=function(){return Array.from(this._set)},qt.prototype.has=function(t){return this._set.has(t)},qt.prototype.add=function(t){this._set.add(t)},qt.prototype.delete=function(t){this._set.delete(t)},qt.prototype.clear=function(){this._set.clear()},Kt.size.get=function(){return this._set.size},Object.defineProperties(qt.prototype,Kt);var Xt=function(t){function e(e,n){t.call(this),this.x=e||0,this.y=n||0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y},e.prototype.rotate=function(t,e){var n=Tt(e),r=Math.cos(n),o=Math.sin(n),i=t.x,a=t.y,s=this.x,l=this.y;return this.x=Dt(i+(s-i)*r+(l-a)*o,3),this.y=Dt(a+(l-a)*r-(s-i)*o,3),this},e.prototype.multiply=function(t){return this.x*=t,this.y*=t,this},e.prototype.distanceTo=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},e.onCircle=function(t,n,r){var o=Tt(n);return new e(t.x-r*Math.cos(o),t.y-r*Math.sin(o))},e}(_.Class);function $t(t,e,n,r,o){var i=Tt(o);return new Xt(n+(t-n)*Math.cos(i)+(e-r)*Math.sin(i),r-(t-n)*Math.sin(i)+(e-r)*Math.cos(i))}var Zt=function(t){function e(e,n,r,o){t.call(this),this.x1=e||0,this.y1=n||0,this.x2=r||0,this.y2=o||0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.equals=function(t){return this.x1===t.x1&&this.x2===t.x2&&this.y1===t.y1&&this.y2===t.y2},e.prototype.width=function(){return this.x2-this.x1},e.prototype.height=function(){return this.y2-this.y1},e.prototype.translate=function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},e.prototype.move=function(t,e){var n=this.height(),r=this.width();return xt(t)&&(this.x1=t,this.x2=this.x1+r),xt(e)&&(this.y1=e,this.y2=this.y1+n),this},e.prototype.wrap=function(t){return this.x1=Math.min(this.x1,t.x1),this.y1=Math.min(this.y1,t.y1),this.x2=Math.max(this.x2,t.x2),this.y2=Math.max(this.y2,t.y2),this},e.prototype.wrapPoint=function(t){var n=k(t),r=n?t[0]:t.x,o=n?t[1]:t.y;return this.wrap(new e(r,o,r,o)),this},e.prototype.snapTo=function(t,e){return e!==x&&e||(this.x1=t.x1,this.x2=t.x2),e!==w&&e||(this.y1=t.y1,this.y2=t.y2),this},e.prototype.alignTo=function(t,e){var n=this.height(),r=this.width(),o=e===g||e===l?w:x,i=o===w?n:r;if(e===c){var a=t.center(),s=this.center();this.x1+=a.x-s.x,this.y1+=a.y-s.y}else this[o+1]=e===g||e===d?t[o+1]-i:t[o+2];return this.x2=this.x1+r,this.y2=this.y1+n,this},e.prototype.shrink=function(t,e){return this.x2-=t,this.y2-=e,this},e.prototype.expand=function(t,e){return this.shrink(-t,-e),this},e.prototype.pad=function(t){var e=z(t);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this},e.prototype.unpad=function(t){var e=z(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)},e.prototype.clone=function(){return new e(this.x1,this.y1,this.x2,this.y2)},e.prototype.center=function(){return new Xt(this.x1+this.width()/2,this.y1+this.height()/2)},e.prototype.containsPoint=function(t){return t.x>=this.x1&&t.x<=this.x2&&t.y>=this.y1&&t.y<=this.y2},e.prototype.points=function(){return[new Xt(this.x1,this.y1),new Xt(this.x2,this.y1),new Xt(this.x2,this.y2),new Xt(this.x1,this.y2)]},e.prototype.getHash=function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},e.prototype.overlaps=function(t){return!(t.y2<this.y1||this.y2<t.y1||t.x2<this.x1||this.x2<t.x1)},e.prototype.rotate=function(t){var e=this.width(),n=this.height(),r=this.center(),o=r.x,i=r.y,a=$t(0,0,o,i,t),s=$t(e,0,o,i,t),l=$t(e,n,o,i,t),c=$t(0,n,o,i,t);return e=Math.max(a.x,s.x,l.x,c.x)-Math.min(a.x,s.x,l.x,c.x),n=Math.max(a.y,s.y,l.y,c.y)-Math.min(a.y,s.y,l.y,c.y),this.x2=this.x1+e,this.y2=this.y1+n,this},e.prototype.toRect=function(){return new _.geometry.Rect([this.x1,this.y1],[this.width(),this.height()])},e.prototype.hasSize=function(){return 0!==this.width()&&0!==this.height()},e.prototype.align=function(t,e,n){var r=e+1,o=e+2,i=e===x?"width":"height",a=this[i]();pt(n,[d,g])?(this[r]=t[r],this[o]=this[r]+a):pt(n,[v,l])?(this[o]=t[o],this[r]=this[o]-a):n===c&&(this[r]=t[r]+(t[i]()-a)/2,this[o]=this[r]+a)},e}(_.Class);function Jt(t,e){return t-e}var Qt=function(t){function e(e,n,r,o,i){t.call(this),this.center=e,this.innerRadius=n,this.radius=r,this.startAngle=o,this.angle=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},e.prototype.middle=function(){return this.startAngle+this.angle/2},e.prototype.setRadius=function(t,e){return e?this.innerRadius=t:this.radius=t,this},e.prototype.point=function(t,e){var n=Tt(t),r=Math.cos(n),o=Math.sin(n),i=e?this.innerRadius:this.radius,a=Dt(this.center.x-r*i,3),s=Dt(this.center.y-o*i,3);return new Xt(a,s)},e.prototype.adjacentBox=function(t,e,n){var r=this.clone().expand(t),o=r.middle(),i=r.point(o),a=e/2,s=n/2,l=Math.sin(Tt(o)),c=Math.cos(Tt(o)),u=i.x-a,p=i.y-s;return Math.abs(l)<.9&&(u+=a*-c/Math.abs(c)),Math.abs(c)<.9&&(p+=s*-l/Math.abs(l)),new Zt(u,p,u+e,p+n)},e.prototype.containsPoint=function(t){var e=this.center,n=this.innerRadius,r=this.radius,o=this.startAngle,i=this.startAngle+this.angle,a=t.x-e.x,s=t.y-e.y,l=new Xt(a,s),c=this.point(o),u=new Xt(c.x-e.x,c.y-e.y),p=this.point(i),h=new Xt(p.x-e.x,p.y-e.y),d=Dt(a*a+s*s,3);return(u.equals(l)||E(u,l))&&!E(h,l)&&d>=n*n&&d<=r*r},e.prototype.getBBox=function(){var t,e=new Zt(f,f,m,m),n=Dt(this.startAngle%360),r=Dt((n+this.angle)%360),o=this.innerRadius,i=[0,90,180,270,n,r].sort(Jt),a=i.indexOf(n),s=i.indexOf(r);t=n===r?i:a<s?i.slice(a,s+1):[].concat(i.slice(0,s+1),i.slice(a,i.length));for(var l=0;l<t.length;l++){var c=this.point(t[l]);e.wrapPoint(c),e.wrapPoint(c,o)}return o||e.wrapPoint(this.center),e},e.prototype.expand=function(t){return this.radius+=t,this},e}(_.Class),te=(function(t){function e(e,n,r,o){t.call(this,e,0,n,r,o)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expand=function(e){return t.prototype.expand.call(this,e)},e.prototype.clone=function(){return new e(this.center,this.radius,this.startAngle,this.angle)},e.prototype.setRadius=function(t){return this.radius=t,this}}(Qt),function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRing=function(t,e){var n=t.startAngle+180,r=t.angle+n;t.angle>0&&n===r&&(r+=.001);var o=new _.geometry.Point(t.center.x,t.center.y),i=Math.max(t.radius,0),a=Math.max(t.innerRadius,0),s=new _.geometry.Arc(o,{startAngle:n,endAngle:r,radiusX:i,radiusY:i}),l=_.drawing.Path.fromArc(s,e).close();if(a){s.radiusX=s.radiusY=a;var c=s.pointAt(r);l.lineTo(c.x,c.y),l.arc(r,n,a,a,!0)}else l.lineTo(o.x,o.y);return l},e}(_.Class));te.current=new te;var ee=te,ne=function(t){function e(e){t.call(this),this.children=[],this.options=j({},this.options,this.initUserOptions(e))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){return t},e.prototype.reflow=function(t){for(var e,n=this.children,r=0;r<n.length;r++){var o=n[r];o.reflow(t),e=e?e.wrap(o.box):o.box.clone()}this.box=e||t},e.prototype.destroy=function(){var t=this.children;this.animation&&this.animation.destroy();for(var e=0;e<t.length;e++)t[e].destroy()},e.prototype.getRoot=function(){var t=this.parent;return t?t.getRoot():null},e.prototype.getSender=function(){var t=this.getService();if(t)return t.sender},e.prototype.getService=function(){for(var t=this;t;){if(t.chartService)return t.chartService;t=t.parent}},e.prototype.translateChildren=function(t,e){for(var n=this.children,r=n.length,o=0;o<r;o++)n[o].box.translate(t,e)},e.prototype.append=function(){for(var t=arguments,e=this,n=0;n<arguments.length;n++){var r=t[n];e.children.push(r),r.parent=e}},e.prototype.renderVisual=function(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},e.prototype.addVisual=function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},e.prototype.renderChildren=function(){for(var t=this.children,e=t.length,n=0;n<e;n++)t[n].renderVisual()},e.prototype.createVisual=function(){this.visual=new _.drawing.Group({zIndex:this.options.zIndex,visible:At(this.options.visible,!0)})},e.prototype.createAnimation=function(){this.visual&&this.options.animation&&(this.animation=_.drawing.Animation.create(this.visual,this.options.animation))},e.prototype.appendVisual=function(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.clipRoot().visual.append(t):xt(t.options.zIndex)?this.stackRoot().stackVisual(t):this.isStackRoot?this.stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)},e.prototype.clipRoot=function(){return this.parent?this.parent.clipRoot():this},e.prototype.stackRoot=function(){return this.parent?this.parent.stackRoot():this},e.prototype.stackVisual=function(t){var e,n=t.options.zIndex||0,r=this.visual.children,o=r.length;for(e=0;e<o;e++){var i=r[e];if(At(i.options.zIndex,0)>n)break}this.visual.insert(e,t)},e.prototype.traverse=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++){var o=e[r];t(o),o.traverse&&o.traverse(t)}},e.prototype.closest=function(t){for(var e=this,n=!1;e&&!n;)(n=t(e))||(e=e.parent);if(n)return e},e.prototype.renderComplete=function(){},e.prototype.hasHighlight=function(){var t=(this.options||{}).highlight;return!(!this.createHighlight||t&&!1===t.visible)},e.prototype.toggleHighlight=function(t,e){var n=this,r=(this.options||{}).highlight||{},o=r.visual,i=this._highlight;if(!i){var a={fill:{color:b,opacity:e||.2},stroke:{color:b,width:1,opacity:e||.2}};if(o){if(!(i=this._highlight=o(Object.assign(this.highlightVisualArgs(),{createVisual:function(){return n.createHighlight(a)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total}))))return}else i=this._highlight=this.createHighlight(a);xt(i.options.zIndex)||(i.options.zIndex=At(r.zIndex,this.options.zIndex)),this.appendVisual(i)}i.visible(t)},e.prototype.createGradientOverlay=function(t,e,n){var r=new _.drawing.Path(Object.assign({stroke:{color:"none"},fill:this.createGradient(n),closed:t.options.closed},e));return r.segments.elements(t.segments.elements()),r},e.prototype.createGradient=function(t){if(this.parent)return this.parent.createGradient(t)},e.prototype.supportsPointInactiveOpacity=function(){return!0},e}(_.Class);ne.prototype.options={};var re=ne,oe=function(t){function e(e){t.call(this,e),this.options.margin=z(this.options.margin),this.options.padding=z(this.options.padding)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(e){var n,r=this,o=this.options,i=o.width,a=o.height,s=o.shrinkToFit,l=i&&a,c=o.margin,u=o.padding,p=o.border.width,h=function(){r.align(e,x,o.align),r.align(e,w,o.vAlign),r.paddingBox=n.clone().unpad(c).unpad(p)},d=e.clone();l&&(d.x2=d.x1+i,d.y2=d.y1+a),s&&d.unpad(c).unpad(p).unpad(u),t.prototype.reflow.call(this,d),n=l?this.box=new Zt(0,0,i,a):this.box,s&&l?(h(),d=this.contentBox=this.paddingBox.clone().unpad(u)):(d=this.contentBox=n.clone(),n.pad(u).pad(p).pad(c),h()),this.translateChildren(n.x1-d.x1+c.left+p+u.left,n.y1-d.y1+c.top+p+u.top);for(var f=this.children,m=0;m<f.length;m++){var v=f[m];v.reflow(v.box)}},e.prototype.align=function(t,e,n){this.box.align(t,e,n)},e.prototype.hasBox=function(){var t=this.options;return t.border.width||t.background},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.options.visible&&this.hasBox()&&this.visual.append(_.drawing.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))},e.prototype.visualStyle=function(){var t=this.options,e=t.border||{};return{stroke:{width:e.width,color:e.color,opacity:At(e.opacity,t.opacity),dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}},e}(re);Rt(oe,{align:d,vAlign:g,margin:{},padding:{},border:{color:s,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});var ie=oe,ae=function(t){function e(e,n){t.call(this,e),this.pointData=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){var t=this.options,e=this.paddingBox,n=t.type,r=t.rotation,o=e.center(),i=e.width()/2,a=e.height()/2;if(!t.visible||!this.hasBox())return null;var s,l=this.visualStyle();if(n===u)s=new _.drawing.Circle(new _.geometry.Circle([Dt(e.x1+i,3),Dt(e.y1+a,3)],Math.min(i,a)),l);else if("triangle"===n)s=_.drawing.Path.fromPoints([[e.x1+i,e.y1],[e.x1,e.y2],[e.x2,e.y2]],l).close();else if("cross"===n)(s=new _.drawing.MultiPath(l)).moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),s.moveTo(e.x1,e.y2).lineTo(e.x2,e.y1);else{var c=e.toRect();if("roundedRect"===n){var p=At(t.borderRadius,c.width()/5);c.setCornerRadius(p)}s=_.drawing.Path.fromRect(c,l)}return r&&s.transform(_.geometry.transform().rotate(-r,[o.x,o.y])),s.options.zIndex=t.zIndex,s},e.prototype.createElement=function(){var t=this,e=this.options.visual,n=this.pointData||{};return e?e({value:n.value,dataItem:n.dataItem,sender:this.getSender(),series:n.series,category:n.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return t.getElement()}}):this.getElement()},e.prototype.visualOptions=function(){var t=this.options;return{background:t.background,border:t.border,margin:t.margin,padding:t.padding,type:t.type,size:t.width,visible:t.visible}},e.prototype.createVisual=function(){this.visual=this.createElement()},e}(ie);Rt(ae,{type:u,align:c,vAlign:c});var se=ae,le={glass:{type:"linear",rotation:0,stops:[{offset:0,color:b,opacity:0},{offset:.25,color:b,opacity:.3},{offset:1,color:b,opacity:0}]},sharpBevel:{type:"radial",stops:[{offset:0,color:b,opacity:.55},{offset:.65,color:b,opacity:0},{offset:.95,color:b,opacity:.25}]},roundedBevel:{type:"radial",stops:[{offset:.33,color:b,opacity:.06},{offset:.83,color:b,opacity:.2},{offset:.95,color:b,opacity:0}]},roundedGlass:{type:"radial",supportVML:!1,stops:[{offset:0,color:b,opacity:0},{offset:.5,color:b,opacity:.3},{offset:.99,color:b,opacity:0}]},sharpGlass:{type:"radial",supportVML:!1,stops:[{offset:0,color:b,opacity:.2},{offset:.15,color:b,opacity:.15},{offset:.17,color:b,opacity:.35},{offset:.85,color:b,opacity:.05},{offset:.87,color:b,opacity:.15},{offset:.99,color:b,opacity:0}]},bubbleShadow:{type:"radial",center:[.5,.5],radius:.5}};function ce(t,e){if(t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2)return e;var n=Math.min(t.x1,e.x1),r=Math.max(t.x1,e.x1),o=Math.min(t.x2,e.x2),i=Math.max(t.x2,e.x2),a=Math.min(t.y1,e.y1),s=Math.max(t.y1,e.y1),l=Math.min(t.y2,e.y2),c=Math.max(t.y2,e.y2),u=[];return u[0]=new Zt(r,a,o,s),u[1]=new Zt(n,s,r,l),u[2]=new Zt(o,s,i,l),u[3]=new Zt(r,l,o,c),t.x1===n&&t.y1===a||e.x1===n&&e.y1===a?(u[4]=new Zt(n,a,r,s),u[5]=new Zt(o,l,i,c)):(u[4]=new Zt(o,a,i,s),u[5]=new Zt(n,l,r,c)),st(u,(function(t){return t.height()>0&&t.width()>0}))[0]}var ue=function(t){function e(e){t.call(this,e);var n=this.options;n.width=parseInt(n.width,10),n.height=parseInt(n.height,10),this.gradients={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(){var t=this.options,e=this.children,n=new Zt(0,0,t.width,t.height);this.box=n.unpad(t.margin);for(var r=0;r<e.length;r++)e[r].reflow(n),n=ce(n,e[r].box)||new Zt},e.prototype.createVisual=function(){this.visual=new _.drawing.Group,this.createBackground()},e.prototype.createBackground=function(){var t=this.options,e=t.border||{},n=this.box.clone().pad(t.margin).unpad(e.width),r=_.drawing.Path.fromRect(n.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(r)},e.prototype.getRoot=function(){return this},e.prototype.createGradient=function(t){var e,n=this.gradients,r=It(t),o=le[t.gradient];if(n[r])e=n[r];else{var i=Object.assign({},o,t);"linear"===o.type?e=new _.drawing.LinearGradient(i):(t.innerRadius&&(i.stops=function(t){for(var e=t.stops,n=t.innerRadius/t.radius*100,r=e.length,o=[],i=0;i<r;i++){var a=Object.assign({},e[i]);a.offset=(a.offset*(100-n)+n)/100,o.push(a)}return o}(i)),(e=new _.drawing.RadialGradient(i)).supportVML=!1!==o.supportVML),n[r]=e}return e},e.prototype.cleanGradients=function(){var t=this.gradients;for(var e in t)t[e]._observers=[]},e.prototype.size=function(){var t=this.options;return new Zt(0,0,t.width,t.height)},e}(re);Rt(ue,{width:600,height:400,background:b,border:{color:s,width:0},margin:z(5),zIndex:-2});var pe=ue,he=function(t){function e(e){t.call(this,e),this._initDirection()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initDirection=function(){var t=this.options;t.vertical?(this.groupAxis=x,this.elementAxis=w,this.groupSizeField="width",this.elementSizeField="height",this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=w,this.elementAxis=x,this.groupSizeField="height",this.elementSizeField="width",this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)},e.prototype.reflow=function(t){this.box=t.clone(),this.reflowChildren()},e.prototype.reflowChildren=function(){var t=this.box,e=this.elementAxis,n=this.groupAxis,r=this.elementSizeField,o=this.groupSizeField,i=this.groupOptions(),a=i.groups,s=i.groupsSize,l=i.maxGroupElementsSize,c=a.length,u=t[n+1]+this.alignStart(s,t[o]());if(c){for(var p=u,h=0;h<c;h++){for(var d=a[h],f=d.groupElements,m=t[e+1],v=f.length,g=0;g<v;g++){var y=f[g],b=this.elementSize(y),x=p+this.alignStart(b[o],d.groupSize),w=new Zt;w[n+1]=x,w[n+2]=x+b[o],w[e+1]=m,w[e+2]=m+b[r],y.reflow(w),m+=b[r]+this.elementSpacing}p+=d.groupSize+this.groupSpacing}t[n+1]=u,t[n+2]=u+s,t[e+2]=t[e+1]+l}},e.prototype.alignStart=function(t,e){var n=0,r=this.options.align;return r===v||r===l?n=e-t:r===c&&(n=(e-t)/2),n},e.prototype.groupOptions=function(){for(var t=this.box,e=this.children,n=this.elementSizeField,r=this.groupSizeField,o=this.elementSpacing,i=this.groupSpacing,a=Dt(t[n]()),s=e.length,l=[],c=0,u=0,p=0,h=0,d=[],f=0;f<s;f++){var m=e[f];m.box||m.reflow(t);var v=this.elementSize(m);this.options.wrap&&Dt(u+o+v[n])>a&&(l.push({groupElements:d,groupSize:c,groupElementsSize:u}),h=Math.max(h,u),p+=i+c,c=0,u=0,d=[]),c=Math.max(c,v[r]),u>0&&(u+=o),u+=v[n],d.push(m)}return l.push({groupElements:d,groupSize:c,groupElementsSize:u}),{groups:l,groupsSize:p+=c,maxGroupElementsSize:h=Math.max(h,u)}},e.prototype.elementSize=function(t){return{width:t.box.width(),height:t.box.height()}},e.prototype.createVisual=function(){},e}(re);Rt(he,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});var de=he,fe=_.drawing.Text,me=function(t){function e(e,n){t.call(this,n),this.content=e,this.reflow(new Zt)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=e.size=_.drawing.util.measureText(this.content,{font:e.font});this.baseline=n.baseline,this.box=new Zt(t.x1,t.y1,t.x1+n.width,t.y1+n.height)},e.prototype.createVisual=function(){var t=this.options,e=t.font,n=t.color,r=t.opacity,o=t.cursor;this.visual=new fe(this.content,this.box.toRect().topLeft(),{font:e,fill:{color:n,opacity:r},cursor:o})},e}(re);Rt(me,{font:"12px sans-serif",color:s});var ve=me;function ge(t){var e=t.origin,n=t.bottomRight();return new Zt(e.x,e.y,n.x,n.y)}var ye=/\n/m,be=function(t){function e(e,n,r){t.call(this,n),this.content=e,this.data=r,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new Zt)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initContainer=function(){var t=this.options,e=String(this.content).split(ye),n=new de({vertical:!0,align:t.align,wrap:!1}),r=j({},t,{opacity:1,animation:null});this.container=n,this.append(n);for(var o=0;o<e.length;o++){var i=new ve(e[o].trim(),r);n.append(i)}},e.prototype.reflow=function(e){var n=this.options,r=n.visual;if(this.container.options.align=n.align,r&&!this._boxReflow){var o=e;o.hasSize()||(this._boxReflow=!0,this.reflow(o),this._boxReflow=!1,o=this.box);var i=this.visual=r(this.visualContext(o));i&&(o=ge(i.clippedBBox()||new _.geometry.Rect),i.options.zIndex=n.zIndex),this.box=this.contentBox=this.paddingBox=o}else if(t.prototype.reflow.call(this,e),n.rotation){var a=z(n.margin),s=this.box.unpad(a);this.targetBox=e,this.normalBox=s.clone(),(s=this.rotate()).translate(a.left-a.right,a.top-a.bottom),this.rotatedBox=s.clone(),s.pad(a)}},e.prototype.createVisual=function(){var t=this.options;if(this.visual=new _.drawing.Group({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()){var e=_.drawing.Path.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(e)}},e.prototype.renderVisual=function(){if(this.options.visible)if(this.options.visual){var e=this.visual;e&&!xt(e.options.noclip)&&(e.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else t.prototype.renderVisual.call(this)},e.prototype.visualContext=function(t){var e=this,n={text:this.content,rect:t.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){return e._boxReflow=!0,e.reflow(t),e._boxReflow=!1,e.getDefaultVisual()}};return this.data&&Object.assign(n,this.data),n},e.prototype.getDefaultVisual=function(){this.createVisual(),this.renderChildren();var t=this.visual;return delete this.visual,t},e.prototype.rotate=function(){var t=this.options;return this.box.rotate(t.rotation),this.align(this.targetBox,x,t.align),this.align(this.targetBox,w,t.vAlign),this.box},e.prototype.rotationTransform=function(){var t=this.options.rotation;if(!t)return null;var e=this.normalBox.center(),n=e.x,r=e.y,o=this.rotatedBox.center();return _.geometry.transform().translate(o.x-n,o.y-r).rotate(t,[n,r])},e}(ie),xe=function(t){function e(e){t.call(this,e),this.append(new be(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(e){t.prototype.reflow.call(this,e),this.box.snapTo(e,x)},e.buildTitle=function(t,n,r){var o,i=t;return"string"==typeof t&&(i={text:t}),(i=Object.assign({visible:!0},r,i))&&i.visible&&i.text&&(o=new e(i),n.append(o)),o},e}(re);Rt(xe,{color:s,position:g,align:c,margin:z(5),padding:z(5)});var we=xe,ke=function(t){function e(e,n,r,o,i){t.call(this,n,i),this.text=n,this.value=e,this.index=r,this.dataItem=o,this.reflow(new Zt)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.visualContext=function(e){var n=t.prototype.visualContext.call(this,e);return n.value=this.value,n.dataItem=this.dataItem,n.format=this.options.format,n.culture=this.options.culture,n},e.prototype.click=function(t,e){t.trigger("axisLabelClick",{element:Ct(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},e.prototype.rotate=function(){if(this.options.alignRotation!==c){var e=this.normalBox.toRect(),n=this.rotationTransform();this.box=ge(e.bbox(n.matrix()))}else t.prototype.rotate.call(this);return this.box},e.prototype.rotationTransform=function(){var e=this.options,n=e.rotation;if(!n)return null;if(e.alignRotation===c)return t.prototype.rotationTransform.call(this);var r=_.geometry.transform().rotate(n).matrix(),o=this.normalBox.toRect(),i=this.targetBox.toRect(),a=e.rotationOrigin||g,s=a===g||a===l?x:w,u=a===g||a===l?w:x,p=a===g||a===d?i.origin:i.bottomRight(),h=o.topLeft().transformCopy(r),f=o.topRight().transformCopy(r),m=o.bottomRight().transformCopy(r),v=o.bottomLeft().transformCopy(r),y=_.geometry.Rect.fromPoints(h,f,m,v),b={};b[u]=i.origin[u]-y.origin[u];var k,O,C=Math.abs(h[u]+b[u]-p[u]),S=Math.abs(f[u]+b[u]-p[u]);Dt(C,10)===Dt(S,10)?(k=h,O=f):S<C?(k=f,O=m):(k=h,O=v);var E=k[s]+(O[s]-k[s])/2;return b[s]=i.center()[s]-E,_.geometry.transform().translate(b.x,b.y).rotate(n)},e}(be);Rt(ke,{_autoReflow:!1});var Oe=ke,Ce=function(t){function e(e,n,r){t.call(this,n),this.fields=e,this.chartService=r,this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hide=function(){this.options.visible=!1},e.prototype.show=function(){this.options.visible=!0},e.prototype.render=function(){var t=this,e=this.options;if(e.visible){var n,r,o=e.label,i=e.icon,a=new Zt,s=function(){return t},l=i.size,c=this.fields.text;if(xt(o)&&o.visible){var p=rt(o);p?c=p(this.fields):o.format&&(c=this.chartService.format.auto(o.format,c)),o.color||(o.color="inside"===o.position?"#fff":i.background),this.label=new be(c,j({},o)),this.label.aliasFor=s,"inside"!==o.position||xt(l)||(i.type===u?l=Math.max(this.label.box.width(),this.label.box.height()):(n=this.label.box.width(),r=this.label.box.height()),a.wrap(this.label.box))}i.width=n||l||7,i.height=r||l||7;var h=new se(j({},i));h.aliasFor=s,this.marker=h,this.append(h),this.label&&this.append(this.label),h.reflow(new Zt),this.wrapperBox=a.wrap(h.box)}},e.prototype.reflow=function(t){var e,n,r,o=this.options,i=this.label,a=this.marker,s=this.wrapperBox,c=t.center(),u=o.line.length,p=o.position;o.visible&&(pt(p,[d,v])?p===d?(r=s.alignTo(t,p).translate(-u,t.center().y-s.center().y),o.line.visible&&(e=[t.x1,c.y],this.linePoints=[e,[r.x2,c.y]],n=r.clone().wrapPoint(e))):(r=s.alignTo(t,p).translate(u,t.center().y-s.center().y),o.line.visible&&(e=[t.x2,c.y],this.linePoints=[e,[r.x1,c.y]],n=r.clone().wrapPoint(e))):p===l?(r=s.alignTo(t,p).translate(t.center().x-s.center().x,u),o.line.visible&&(e=[c.x,t.y2],this.linePoints=[e,[c.x,r.y1]],n=r.clone().wrapPoint(e))):(r=s.alignTo(t,p).translate(t.center().x-s.center().x,-u),o.line.visible&&(e=[c.x,t.y1],this.linePoints=[e,[c.x,r.y2]],n=r.clone().wrapPoint(e))),a&&a.reflow(r),i&&(i.reflow(r),a&&("outside"===o.label.position&&i.box.alignTo(a.box,p),i.reflow(i.box))),this.contentBox=r,this.targetBox=t,this.box=n||r)},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()},e.prototype.renderVisual=function(){var e=this,n=this.options,r=n.visual;n.visible&&r?(this.visual=r(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:n.background,border:n.background,icon:n.icon,label:n.label,line:n.line,position:n.position,visible:n.visible},createVisual:function(){e.createVisual(),e.renderChildren();var t=e.visual;return delete e.visual,t}})),this.addVisual()):t.prototype.renderVisual.call(this)},e.prototype.createLine=function(){var t=this.options.line;if(this.linePoints){var e=_.drawing.Path.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});S(e),this.visual.append(e)}},e.prototype.click=function(t,e){var n=this.eventArgs(e);t.trigger("noteClick",n)||e.preventDefault()},e.prototype.over=function(t,e){var n=this.eventArgs(e);t.trigger("noteHover",n)||e.preventDefault()},e.prototype.out=function(t,e){var n=this.eventArgs(e);t.trigger("noteLeave",n)},e.prototype.eventArgs=function(t){var e=this.options;return Object.assign(this.fields,{element:Ct(t),text:xt(e.label)?e.label.text:"",visual:this.visual})},e}(ie);Rt(Ce,{icon:{visible:!0,type:u},label:{position:"inside",visible:!0,align:c,vAlign:c},line:{visible:!0},visible:!0,position:g,zIndex:2});var _e=Ce;function Se(t,e){var n=t.tickX,r=t.tickY,o=t.position,i=new _.drawing.Path({stroke:{width:e.width,color:e.color}});return t.vertical?i.moveTo(n,o).lineTo(n+e.size,o):i.moveTo(o,r).lineTo(o,r+e.size),S(i),i}function Ee(t,e){var n=t.lineStart,r=t.lineEnd,o=t.position,i=new _.drawing.Path({stroke:{width:e.width,color:e.color,dashType:e.dashType}});return t.vertical?i.moveTo(n,o).lineTo(r,o):i.moveTo(o,n).lineTo(o,r),S(i),i}var Ie=function(t){function e(e,n){void 0===n&&(n=new Z),t.call(this,e),this.chartService=n,this.options.visible||(this.options=j({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=j({},{color:this.options.line.color,width:this.options.line.width,visible:"none"!==this.options.minorTickType},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=j({},{color:this.options.line.color,width:this.options.line.width,visible:"none"!==this.options.majorTickType},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){},e.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.labelsCount()}},e.prototype.normalizeLabelRotation=function(t){var e=t.rotation;M(e)&&(t.alignRotation=e.align,t.rotation=e.angle)},e.prototype.createLabels=function(){var t=this.options,e=t.vertical?v:c,n=j({},t.labels,{align:e,zIndex:t.zIndex}),r=Math.max(1,n.step);if(this.clearLabels(),n.visible){this.normalizeLabelRotation(n),"auto"===n.rotation&&(n.rotation=0,t.autoRotateLabels=!0);for(var o=this.labelsRange(),i=o.min;i<o.max;i+=r){var a={index:i,count:o.max},s=this.createAxisLabel(i,n,a);s&&(this.append(s),this.labels.push(s))}}},e.prototype.clearLabels=function(){this.children=st(this.children,(function(t){return!(t instanceof Oe)})),this.labels=[]},e.prototype.clearTitle=function(){var t=this;this.title&&(this.children=st(this.children,(function(e){return e!==t.title})),this.title=void 0)},e.prototype.clear=function(){this.clearLabels(),this.clearTitle()},e.prototype.lineBox=function(){var t=this.options,e=this.box,n=t.vertical,r=t.labels.mirror,o=r?e.x1:e.x2,i=r?e.y2:e.y1,a=t.line.width||0;return n?new Zt(o,e.y1,o,e.y2-a):new Zt(e.x1,i,e.x2-a,i)},e.prototype.createTitle=function(){var t=this.options,e=j({rotation:t.vertical?-90:0,text:"",zIndex:1,visualSize:!0},t.title);if(e.visible&&e.text){var n=new be(e.text,e);this.append(n),this.title=n}},e.prototype.createNotes=function(){var t=this.options,e=t.notes,n=e.data||[];this.notes=[];for(var r=0;r<n.length;r++){var o=j({},e,n[r]);o.value=this.parseNoteValue(o.value);var i=new _e({value:o.value,text:o.label.text,dataItem:o},o,this.chartService);i.options.visible&&(xt(i.options.position)?t.vertical&&!pt(i.options.position,[d,v])?i.options.position=t.reverse?d:v:t.vertical||pt(i.options.position,[g,l])||(i.options.position=t.reverse?l:g):t.vertical?i.options.position=t.reverse?d:v:i.options.position=t.reverse?l:g,this.append(i),this.notes.push(i))}},e.prototype.parseNoteValue=function(t){return t},e.prototype.renderVisual=function(){t.prototype.renderVisual.call(this),this.createPlotBands()},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this.createBackground(),this.createLine()},e.prototype.gridLinesVisual=function(){var t=this._gridLines;return t||(t=this._gridLines=new _.drawing.Group({zIndex:-2}),this.appendVisual(this._gridLines)),t},e.prototype.createTicks=function(t){var e=this.options,n=this.lineBox(),r=e.labels.mirror,o=e.majorTicks.visible?e.majorUnit:0,i={vertical:e.vertical};function a(e,o,a){var s=e.length,l=Math.max(1,o.step);if(o.visible)for(var c=o.skip;c<s;c+=l)xt(a)&&c%a==0||(i.tickX=r?n.x2:n.x2-o.size,i.tickY=r?n.y1-o.size:n.y1,i.position=e[c],t.append(Se(i,o)))}a(this.getMajorTickPositions(),e.majorTicks),a(this.getMinorTickPositions(),e.minorTicks,o/e.minorUnit)},e.prototype.createLine=function(){var t=this.options,e=t.line,n=this.lineBox();if(e.width>0&&e.visible){var r=new _.drawing.Path({stroke:{width:e.width,color:e.color,dashType:e.dashType}});r.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),t._alignLines&&S(r);var o=this._lineGroup=new _.drawing.Group;o.append(r),this.visual.append(o),this.createTicks(o)}},e.prototype.getActualTickSize=function(){var t=this.options,e=0;return t.majorTicks.visible&&t.minorTicks.visible?e=Math.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?e=t.majorTicks.size:t.minorTicks.visible&&(e=t.minorTicks.size),e},e.prototype.createBackground=function(){var t=this.options,e=this.box,n=t.background;n&&(this._backgroundPath=_.drawing.Path.fromRect(e.toRect(),{fill:{color:n},stroke:null}),this.visual.append(this._backgroundPath))},e.prototype.createPlotBands=function(){var t=this,e=this.options,n=e.plotBands||[],r=e.vertical,o=this.plotArea;if(0!==n.length){for(var i=this._plotbandGroup=new _.drawing.Group({zIndex:-1}),a=st(this.pane.axes,(function(e){return e.options.vertical!==t.options.vertical}))[0],s=0;s<n.length;s++){var l=n[s],c=void 0,u=void 0,p=l.label,h=void 0;if(r?(c=(a||o.axisX).lineBox(),u=t.getSlot(l.from,l.to,!0)):(c=t.getSlot(l.from,l.to,!0),u=(a||o.axisY).lineBox()),p&&(p.vAlign=p.position||d,h=t.createPlotBandLabel(p,l,new Zt(c.x1,u.y1,c.x2,u.y2))),0!==c.width()&&0!==u.height()){var f=new _.geometry.Rect([c.x1,u.y1],[c.width(),u.height()]),m=_.drawing.Path.fromRect(f,{fill:{color:l.color,opacity:l.opacity},stroke:null});i.append(m),h&&i.append(h)}}this.appendVisual(i)}},e.prototype.createPlotBandLabel=function(t,e,n){if(!1===t.visible)return null;var r,o=t.text;if(xt(t)&&t.visible){var i=rt(t);i?o=i({text:o,item:e}):t.format&&(o=this.chartService.format.auto(t.format,o)),t.color||(t.color=this.options.labels.color)}return(r=new be(o,t)).reflow(n),r.renderVisual(),r.visual},e.prototype.createGridLines=function(t){var e=this.options,n=e.minorGridLines,r=e.majorGridLines,o=e.minorUnit,i=e.vertical,a=t.options.line.visible,s=r.visible?e.majorUnit:0,l=t.lineBox(),c=l[i?"y1":"x1"],u={lineStart:l[i?"x1":"y1"],lineEnd:l[i?"x2":"y2"],vertical:i},p=[],h=this.gridLinesVisual();function d(t,e,n){var r=t.length,o=Math.max(1,e.step);if(e.visible)for(var i=e.skip;i<r;i+=o){var s=Dt(t[i]);pt(s,p)||i%n==0||a&&c===s||(u.position=s,h.append(Ee(u,e)),p.push(s))}}return d(this.getMajorTickPositions(),r),d(this.getMinorTickPositions(),n,s/o),h.children},e.prototype.reflow=function(t){for(var e=this.options,n=this.labels,r=this.title,o=e.vertical,i=n.length,a=o?"width":"height",s=r?r.box[a]():0,l=this.getActualTickSize()+e.margin+s,c=((this.getRoot()||{}).box||t)[a](),u=0,p=0;p<i;p++){var h=n[p].box[a]();h+l<=c&&(u=Math.max(u,h))}this.box=o?new Zt(t.x1,t.y1,t.x1+u+l,t.y2):new Zt(t.x1,t.y1,t.x2,t.y1+u+l),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()},e.prototype.getLabelsTickPositions=function(){return this.getMajorTickPositions()},e.prototype.labelTickIndex=function(t){return t.index},e.prototype.arrangeLabels=function(){for(var t=this.options,e=this.labels,n=this.labelsBetweenTicks(),r=t.vertical,o=t.labels.mirror,i=this.getLabelsTickPositions(),a=0;a<e.length;a++){var s=e[a],l=this.labelTickIndex(s),c=r?s.box.height():s.box.width(),u=i[l],p=i[l+1],h=void 0,d=void 0;if(r){if(n)h=u+(p-u)/2-c/2;else h=u-c/2;d=h}else n?(h=u,d=p):d=(h=u-c/2)+c;this.positionLabel(s,o,h,d)}},e.prototype.positionLabel=function(t,e,n,r){void 0===r&&(r=n);var o,i=this.options,a=i.vertical,s=this.lineBox(),c=this.getActualTickSize()+i.margin;if(a){var u=s.x2;e?(u+=c,t.options.rotationOrigin=d):(u-=c+t.box.width(),t.options.rotationOrigin=v),o=t.box.move(u,n)}else{var p=s.y1;e?(p-=c+t.box.height(),t.options.rotationOrigin=l):(p+=c,t.options.rotationOrigin=g),o=new Zt(n,p,r,p+t.box.height())}t.reflow(o)},e.prototype.autoRotateLabelAngle=function(t,e){return t.width()<e?0:t.height()>e?-90:-45},e.prototype.autoRotateLabels=function(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;for(var t=this.getMajorTickPositions(),e=this.labels,n=Math.min(e.length,t.length-1),r=0,o=0;o<n;o++){var i=Math.abs(t[o+1]-t[o]),a=e[o].box,s=this.autoRotateLabelAngle(a,i);if(0!==s&&(r=s),-90===r)break}if(0!==r){for(var l=0;l<e.length;l++)e[l].options.rotation=r,e[l].reflow(new Zt);return!0}},e.prototype.arrangeTitle=function(){var t=this.options,e=this.title,n=t.labels.mirror,r=t.vertical;e&&(r?(e.options.align=n?v:d,e.options.vAlign=e.options.position):(e.options.align=e.options.position,e.options.vAlign=n?g:l),e.reflow(this.box))},e.prototype.arrangeNotes=function(){for(var t=0;t<this.notes.length;t++){var e=this.notes[t],n=e.options.value,r=void 0;xt(n)?(this.shouldRenderNote(n)?e.show():e.hide(),r=this.noteSlot(n)):e.hide(),e.reflow(r||this.lineBox())}},e.prototype.noteSlot=function(t){return this.getSlot(t)},e.prototype.alignTo=function(t){var e=t.lineBox(),n=this.options.vertical,r=n?w:x;this.box.snapTo(e,r),n?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[r+1]-=this.lineBox()[r+1]-e[r+1],this.box[r+2]-=this.lineBox()[r+2]-e[r+2]},e.prototype.axisLabelText=function(t,e,n){var r,o=this,i=rt(e),a=function(){return e.format?o.chartService.format.localeAuto(e.format,[t],e.culture):t};i?r=i(Object.assign({},n,{get text(){return a()},value:t,format:e.format,culture:e.culture})):r=a();return r},e.prototype.slot=function(t,e,n){var r=this.getSlot(t,e,n);if(r)return r.toRect()},e.prototype.contentBox=function(){var t=this.box.clone(),e=this.labels;if(e.length){var n=this.options.vertical?w:x;if(this.chartService.isPannable(n)){var r=this.maxLabelOffset();t[n+1]-=r.start,t[n+2]+=r.end}else{e[0].options.visible&&t.wrap(e[0].box);var o=e[e.length-1];o.options.visible&&t.wrap(o.box)}}return t},e.prototype.maxLabelOffset=function(){for(var t=this.options,e=t.vertical,n=t.reverse,r=this.labelsBetweenTicks(),o=this.getLabelsTickPositions(),i=e?w:x,a=this.labels,s=n?1:0,l=n?0:1,c=0,u=0,p=0;p<a.length;p++){var h=a[p],d=this.labelTickIndex(h),f=void 0,m=void 0;r?(f=o[d+s],m=o[d+l]):f=m=o[d],c=Math.max(c,f-h.box[i+1]),u=Math.max(u,h.box[i+2]-m)}return{start:c,end:u}},e.prototype.limitRange=function(t,e,n,r,o){var i=this.options;if(t<n&&o<0&&(!xt(i.min)||i.min<=n)||r<e&&o>0&&(!xt(i.max)||r<=i.max))return null;if(e<n&&o>0||r<t&&o<0)return{min:t,max:e};var a=e-t,s=t,l=e;return t<n&&o<0?(s=Et(t,n,r),l=Et(t+a,n+a,r)):e>r&&o>0&&(l=Et(e,n,r),s=Et(e-a,n,r-a)),{min:s,max:l}},e.prototype.valueRange=function(){return{min:this.seriesMin,max:this.seriesMax}},e.prototype.labelsBetweenTicks=function(){return!this.options.justified},e.prototype.prepareUserOptions=function(){},e}(re);Rt(Ie,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:s,visible:!0},title:{visible:!0,position:c},majorTicks:{align:"outside",size:4,skip:0,step:1},minorTicks:{align:"outside",size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:"outside",minorTickType:"none",majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:s,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});var Te=Ie,De="days",Pe="years",Ae={years:31536e6,months:26784e5,weeks:6048e5,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1};function je(t,e){return t.getTime()-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset())}function Me(t,e){return new Date(t.getTime()+e)}function Re(t){var e;return t instanceof Date?e=t:t&&(e=new Date(t)),e}function Ne(t,e){return 0===e&&23===t.getHours()&&(t.setHours(t.getHours()+2),!0)}function Fe(t,e,n,r){var o=t;if(t){var i=Re(t),a=i.getHours();n===Pe?Ne(o=new Date(i.getFullYear()+e,0,1),0):"months"===n?Ne(o=new Date(i.getFullYear(),i.getMonth()+e,1),a):"weeks"===n?Ne(o=Fe(function(t,e){void 0===e&&(e=0);var n=0,r=t.getDay();if(!isNaN(r))for(;r!==e;)0===r?r=6:r--,n++;return Me(t,864e5*-n)}(i,r),7*e,De),a):n===De?Ne(o=new Date(i.getFullYear(),i.getMonth(),i.getDate()+e),a):"hours"===n?o=function(t,e){var n=new Date(t);n.setMinutes(0,0,0);var r=6e4*(t.getTimezoneOffset()-n.getTimezoneOffset());return Me(n,r+36e5*e)}(i,e):"minutes"===n?(o=Me(i,6e4*e)).getSeconds()>0&&o.setSeconds(0):"seconds"===n?o=Me(i,1e3*e):"milliseconds"===n&&(o=Me(i,e)),"milliseconds"!==n&&o.getMilliseconds()>0&&o.setMilliseconds(0)}return o}function Le(t,e,n){return Fe(Re(t),0,e,n)}function ze(t,e,n){var r=Re(t);return r&&Le(r,e,n).getTime()===r.getTime()?r:Fe(r,1,e,n)}function Be(t,e){return t&&e?t.getTime()-e.getTime():-1}function Ve(t,e){return t.getTime()-e}function He(t){if(k(t)){for(var e=[],n=0;n<t.length;n++)e.push(He(t[n]));return e}if(t)return Re(t).getTime()}function Ue(t,e){return t&&e?He(t)===He(e):t===e}function We(t,e,n){return je(t,e)/Ae[n]}function qe(t,e,n,r){var o=Re(t),i=Re(e);return("months"===n?o.getMonth()-i.getMonth()+12*(o.getFullYear()-i.getFullYear())+We(o,new Date(o.getFullYear(),o.getMonth()),De)/new Date(o.getFullYear(),o.getMonth()+1,0).getDate():n===Pe?o.getFullYear()-i.getFullYear()+qe(o,new Date(o.getFullYear(),0),"months",1)/12:n===De||"weeks"===n?We(o,i,n):Ve(o,e)/Ae[n])/r}function Ke(t,e,n){return n===Pe?e.getFullYear()-t.getFullYear():"months"===n?12*Ke(t,e,Pe)+e.getMonth()-t.getMonth():n===De?Math.floor(Ve(e,t)/864e5):Math.floor(Ve(e,t)/Ae[n])}function Ge(t,e){return T(e)&&t.parseDate(e)||Re(e)}function Ye(t,e){if(k(e)){for(var n=[],r=0;r<e.length;r++)n.push(Ge(t,e[r]));return n}return Ge(t,e)}function Xe(t,e){return I(t.weekStartDay)?t.weekStartDay:e&&e.firstDay?e.firstDay():0}var $e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this._ticks={}},e.prototype.categoriesHash=function(){return""},e.prototype.clone=function(){var t=new e(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return t.createLabels(),t},e.prototype.initUserOptions=function(t){var e=t.categories||[],n=xt(t.min),r=xt(t.max);if(t.srcCategories=t.categories=e,(n||r)&&e.length){var o,i=n?Math.floor(t.min):0;o=r?t.justified?Math.floor(t.max)+1:Math.ceil(t.max):e.length,t.categories=t.categories.slice(i,o)}return t},e.prototype.rangeIndices=function(){var t=this.options,e=t.categories.length||1;return{min:I(t.min)?t.min%1:0,max:I(t.max)&&t.max%1!=0&&t.max<this.totalRange().max?e-(1-t.max%1):e-(t.justified?1:0)}},e.prototype.totalRangeIndices=function(t){var e,n=this.options,r=I(n.min)?n.min:0;if(e=I(n.max)?n.max:I(n.min)?r+n.categories.length:this.totalRange().max||1,t){var o=this.totalRange();r=Et(r,0,o.max),e=Et(e,0,o.max)}return{min:r,max:e}},e.prototype.range=function(){var t=this.options;return{min:I(t.min)?t.min:0,max:I(t.max)?t.max:this.totalRange().max}},e.prototype.roundedRange=function(){return this.range()},e.prototype.totalRange=function(){var t=this.options;return{min:0,max:Math.max(this._seriesMax||0,t.srcCategories.length)-(t.justified?1:0)}},e.prototype.scaleOptions=function(){var t=this.rangeIndices(),e=t.min,n=t.max,r=this.lineBox();return{scale:(this.options.vertical?r.height():r.width())/(n-e||1)*(this.options.reverse?-1:1),box:r,min:e,max:n}},e.prototype.arrangeLabels=function(){t.prototype.arrangeLabels.call(this),this.hideOutOfRangeLabels()},e.prototype.hideOutOfRangeLabels=function(){var t=this.box,e=this.labels;if(e.length>0){var n=this.options.vertical?w:x,r=t[n+1],o=t[n+2],i=e[0],a=St(e);(i.box[n+1]>o||i.box[n+2]<r)&&(i.options.visible=!1),(a.box[n+1]>o||a.box[n+2]<r)&&(a.options.visible=!1)}},e.prototype.getMajorTickPositions=function(){return this.getTicks().majorTicks},e.prototype.getMinorTickPositions=function(){return this.getTicks().minorTicks},e.prototype.getLabelsTickPositions=function(){return this.getTicks().labelTicks},e.prototype.tickIndices=function(t){for(var e=this.rangeIndices(),n=e.min,r=e.max,o=Math.ceil(r),i=Math.floor(n),a=[];i<=o;)a.push(i),i+=t;return a},e.prototype.getTickPositions=function(t){for(var e=this.options,n=e.vertical,r=e.reverse,o=this.scaleOptions(),i=o.scale,a=o.box,s=o.min,l=a[(n?w:x)+(r?2:1)],c=this.tickIndices(t),u=[],p=0;p<c.length;p++)u.push(l+Dt(i*(c[p]-s),3));return u},e.prototype.getTicks=function(){var t=this.options,e=this._ticks,n=this.rangeIndices(),r=this.lineBox(),o=r.getHash()+n.min+","+n.max+t.reverse+t.justified;if(e._hash!==o){var i=t.minorTicks.visible||t.minorGridLines.visible;e._hash=o,e.labelTicks=this.getTickPositions(1),e.majorTicks=this.filterOutOfRangePositions(e.labelTicks,r),e.minorTicks=i?this.filterOutOfRangePositions(this.getTickPositions(.5),r):[]}return e},e.prototype.filterOutOfRangePositions=function(t,e){if(!t.length)return t;for(var n=this.options.vertical?w:x,r=function(t){return e[n+1]<=t&&t<=e[n+2]},o=t.length-1,i=0;!r(t[i])&&i<=o;)i++;for(var a=o;!r(t[a])&&a>=0;)a--;return t.slice(i,a+1)},e.prototype.getSlot=function(t,e,n){var r=this.options,o=r.reverse,i=r.justified,a=r.vertical,s=this.scaleOptions(),l=s.scale,c=s.box,u=s.min,p=a?w:x,h=c[p+(o?2:1)],d=c.clone(),f=!xt(e),m=At(t,0),v=At(e,m);v=Math.max(v-1,m);var g=h+(m-u)*l,y=h+((v=Math.max(m,v))+1-u)*l;return f&&i&&(y=g),n&&(g=Et(g,c[p+1],c[p+2]),y=Et(y,c[p+1],c[p+2])),d[p+1]=o?y:g,d[p+2]=o?g:y,d},e.prototype.limitSlot=function(t){var e=this.options.vertical?w:x,n=this.lineBox(),r=t.clone();return r[e+1]=Et(t[e+1],n[e+1],n[e+2]),r[e+2]=Et(t[e+2],n[e+1],n[e+2]),r},e.prototype.slot=function(e,n,r){var o=Math.floor(this.options.min||0),i=e,a=n;return"string"==typeof i?i=this.categoryIndex(i):I(i)&&(i-=o),"string"==typeof a?a=this.categoryIndex(a):I(a)&&(a-=o),t.prototype.slot.call(this,i,a,r)},e.prototype.pointCategoryIndex=function(t){var e=this.options,n=e.reverse,r=e.justified,o=e.vertical?w:x,i=this.scaleOptions(),a=i.scale,s=i.box,l=i.min,c=i.max,u=n?c:l,p=s[o+1],h=s[o+2],d=t[o];if(d<p||d>h)return null;var f=u+(d-p)/a,m=f%1;return r?f=Math.round(f):0===m&&f>0&&f--,Math.floor(f)},e.prototype.getCategory=function(t){var e=this.pointCategoryIndex(t);return null===e?null:this.options.categories[e]},e.prototype.categoryIndex=function(t){return this.totalIndex(t)-Math.floor(this.options.min||0)},e.prototype.categoryAt=function(t,e){var n=this.options;return(e?n.srcCategories:n.categories)[t]},e.prototype.categoriesCount=function(){return(this.options.categories||[]).length},e.prototype.translateRange=function(t){var e=this.options,n=this.lineBox(),r=e.vertical?n.height():n.width(),o=e.categories.length,i=Dt(t/(r/o),10);return{min:i,max:o+i}},e.prototype.zoomRange=function(t){var e=this.totalRangeIndices(),n=this.totalRange(),r=n.min,o=n.max,i=Et(e.min+t,r,o),a=Et(e.max-t,r,o);if(a-i>0)return{min:i,max:a}},e.prototype.scaleRange=function(t){var e=this.options.categories.length,n=t*e;return{min:-n,max:e+n}},e.prototype.labelsCount=function(){var t=this.labelsRange();return t.max-t.min},e.prototype.labelsRange=function(){var t=this.options,e=t.justified,n=t.labels,r=this.totalRangeIndices(!0),o=r.min,i=r.max,a=Math.floor(o);return e?(o=Math.ceil(o),i=Math.floor(i)):(o=Math.floor(o),i=Math.ceil(i)),{min:(o>n.skip?n.skip+n.step*Math.ceil((o-n.skip)/n.step):n.skip)-a,max:(t.categories.length?i+(e?1:0):0)-a}},e.prototype.createAxisLabel=function(t,e,n){var r=this.options,o=r.dataItems?r.dataItems[t]:null,i=At(r.categories[t],"");n.dataItem=o;var a=this.axisLabelText(i,e,n);return new Oe(i,a,t,o,e)},e.prototype.shouldRenderNote=function(t){var e=this.totalRangeIndices();return Math.floor(e.min)<=t&&t<=Math.ceil(e.max)},e.prototype.noteSlot=function(t){var e=this.options,n=t-Math.floor(e.min||0);return this.getSlot(n)},e.prototype.arrangeNotes=function(){t.prototype.arrangeNotes.call(this),this.hideOutOfRangeNotes()},e.prototype.hideOutOfRangeNotes=function(){var t=this.notes,e=this.box;if(t&&t.length)for(var n=this.options.vertical?w:x,r=e[n+1],o=e[n+2],i=0;i<t.length;i++){var a=t[i];a.box&&(o<a.box[n+1]||a.box[n+2]<r)&&a.hide()}},e.prototype.pan=function(t){var e=this.totalRangeIndices(!0),n=this.scaleOptions().scale,r=Dt(t/n,10),o=this.totalRange(),i=e.min+r,a=e.max+r;return this.limitRange(i,a,0,o.max,r)},e.prototype.pointsRange=function(t,e){var n=this.options,r=n.reverse,o=n.vertical?w:x,i=this.totalRangeIndices(!0),a=this.scaleOptions(),s=a.scale,l=a.box[o+(r?2:1)],c=t[o]-l,u=e[o]-l,p=i.min+c/s,h=i.min+u/s,d=Math.min(p,h),f=Math.max(p,h);if(f-d>=.01)return{min:d,max:f}},e.prototype.valueRange=function(){return this.range()},e.prototype.totalIndex=function(t){var e=this.options;return this._categoriesMap?this._categoriesMap.get(t):function(t,e){if(t instanceof Date){for(var n=e.length,r=0;r<n;r++)if(Ue(e[r],t))return r;return-1}return e.indexOf(t)}(t,e.srcCategories)},e.prototype.currentRangeIndices=function(){var t=this.options,e=0;return I(t.min)&&(e=Math.floor(t.min)),{min:e,max:I(t.max)?t.justified?Math.floor(t.max):Math.ceil(t.max)-1:this.totalCount()-1}},e.prototype.mapCategories=function(){if(!this._categoriesMap)for(var t=this._categoriesMap=new ut,e=this.options.srcCategories,n=0;n<e.length;n++)t.set(e[n],n)},e.prototype.totalCount=function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)},e}(Te);Rt($e,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:s},labels:{zIndex:1},justified:!1,_deferLabels:!0});var Ze=$e,Je={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Qe=["milliseconds","seconds","minutes","hours",De,"weeks","months",Pe];function tn(t){var e=t._range;return e||((e=t._range=Nt(t)).min=Re(e.min),e.max=Re(e.max)),e}var en=function(t){this.options=t};en.prototype.displayIndices=function(){return{min:0,max:1}},en.prototype.displayRange=function(){return{}},en.prototype.total=function(){return{}},en.prototype.valueRange=function(){return{}},en.prototype.valueIndex=function(){return-1},en.prototype.values=function(){return[]},en.prototype.totalIndex=function(){return-1},en.prototype.valuesCount=function(){return 0},en.prototype.totalCount=function(){return 0},en.prototype.dateAt=function(){return null};var nn=function(t,e,n){this.options=n,n.baseUnitStep=n.baseUnitStep||1;var r=n.roundToBaseUnit,o=n.justified;this.start=Fe(t,0,n.baseUnit,n.weekStartDay);var i=this.roundToTotalStep(e),a=!o&&Ue(e,i)&&!n.justifyEnd;this.end=this.roundToTotalStep(e,!o,a?1:0);var s=n.min||t;this.valueStart=this.roundToTotalStep(s),this.displayStart=r?this.valueStart:s;var l=n.max;if(l){var c=!o&&Ue(l,this.roundToTotalStep(l))?-1:0;this.valueEnd=this.roundToTotalStep(l,!1,c),this.displayEnd=r?this.roundToTotalStep(l,!o):n.max}else this.valueEnd=i,this.displayEnd=r||a?this.end:e;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))};function rn(t,e,n){for(var r,o,i,a=tn(t.categories),s=(t.max||a.max)-(t.min||a.min),l=t.autoBaseUnitSteps,c=t.maxDateGroups,u="fit"===t.baseUnit,p=e?Qe.indexOf(e):0,h=u?Qe[p++]:t.baseUnit,d=s/Ae[h],f=d;!o||d>=c;){r=r||l[h].slice(0);do{i=r.shift()}while(i&&e===h&&i<n);if(i)d=f/(o=i);else{if(h===St(Qe)){o=Math.ceil(f/c);break}if(!u){d>c&&(o=Math.ceil(f/c));break}h=Qe[p++]||St(Qe),f=s/Ae[h],r=null}}t.baseUnitStep=o,t.baseUnit=h}function on(t){var e=(t.baseUnit||"").toLowerCase();return"fit"!==e&&!pt(e,Qe)&&function(t){for(var e,n,r=t.categories,o=xt(r)?r.length:0,i=f,a=0;a<o;a++){var s=r[a];if(s&&e){var l=je(s,e);l>0&&(n=(i=Math.min(i,l))>=31536e6?Pe:i>=24192e5?"months":i>=6048e5?"weeks":i>=864e5?De:i>=36e5?"hours":i>=6e4?"minutes":"seconds")}e=s}t.baseUnit=n||De}(t),"fit"!==e&&"auto"!==t.baseUnitStep||rn(t),t}nn.prototype.displayRange=function(){return{min:this.displayStart,max:this.displayEnd}},nn.prototype.displayIndices=function(){if(!this._indices){var t=this.options,e=t.baseUnit,n=t.baseUnitStep,r=qe(this.displayStart,this.valueStart,e,n),o=qe(this.displayEnd,this.valueStart,e,n);this._indices={min:r,max:o}}return this._indices},nn.prototype.total=function(){return{min:this.start,max:this.end}},nn.prototype.totalCount=function(){return this.totalIndex(this.end)+(this.options.justified?1:0)},nn.prototype.valueRange=function(){return{min:this.valueStart,max:this.valueEnd}},nn.prototype.valueIndex=function(t){var e=this.options;return Math.floor(qe(t,this.valueStart,e.baseUnit,e.baseUnitStep))},nn.prototype.totalIndex=function(t){var e=this.options;return Math.floor(qe(t,this.start,e.baseUnit,e.baseUnitStep))},nn.prototype.dateIndex=function(t){var e=this.options;return qe(t,this.valueStart,e.baseUnit,e.baseUnitStep)},nn.prototype.valuesCount=function(){return this.valueIndex(this.valueEnd)+1},nn.prototype.values=function(){var t=this._values;if(!t){var e=this.options,n=this.valueRange();this._values=t=[];for(var r=n.min;r<=n.max;)t.push(r),r=Fe(r,e.baseUnitStep,e.baseUnit,e.weekStartDay)}return t},nn.prototype.dateAt=function(t,e){var n=this.options;return Fe(e?this.start:this.valueStart,n.baseUnitStep*t,n.baseUnit,n.weekStartDay)},nn.prototype.roundToTotalStep=function(t,e,n){var r=this.options,o=r.baseUnit,i=r.baseUnitStep,a=r.weekStartDay,s=this.start,l=qe(t,s,o,i),c=e?Math.ceil(l):Math.floor(l);return n&&(c+=n),Fe(s,c*i,o,a)};var an=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(Object.assign({},this.options),this.chartService);return t.createLabels(),t},e.prototype.categoriesHash=function(){var t=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+t},e.prototype.initUserOptions=function(t){return t},e.prototype.initFields=function(){t.prototype.initFields.call(this);var e=this.chartService,n=e.intl,r=this.options,o=r.categories||[];if(o._parsed||((o=Ye(n,o))._parsed=!0),r=j({roundToBaseUnit:!0},r,{categories:o,min:Ge(n,r.min),max:Ge(n,r.max),weekStartDay:Xe(r,n)}),e.panning&&e.isPannable(r.vertical?w:x)&&(r.roundToBaseUnit=!1),r.userSetBaseUnit=r.userSetBaseUnit||r.baseUnit,r.userSetBaseUnitStep=r.userSetBaseUnitStep||r.baseUnitStep,this.options=r,r.srcCategories=o,o.length>0){var i=tn(o),a=r.maxDivisions;if(this.dataRange=new nn(i.min,i.max,on(r)),a){var s=this.dataRange.displayRange(),l=Object.assign({},r,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:s.min,max:s.max,maxDateGroups:a}),c=this.dataRange.options;rn(l,c.baseUnit,c.baseUnitStep),this.divisionRange=new nn(i.min,i.max,l)}else this.divisionRange=this.dataRange}else r.baseUnit=r.baseUnit||De,this.dataRange=this.divisionRange=new en(r);this.rangeLabels=[]},e.prototype.tickIndices=function(e){var n=this.dataRange,r=this.divisionRange,o=r.valuesCount();if(!this.options.maxDivisions||!o)return t.prototype.tickIndices.call(this,e);var i=[],a=r.values(),s=0;this.options.justified||(a=a.concat(r.dateAt(o)),s=.5);for(var l=0;l<a.length;l++)if(i.push(n.dateIndex(a[l])+s),1!==e&&l>=1){var c=i.length-1;i.splice(l,0,i[c-1]+(i[c]-i[c-1])*e)}return i},e.prototype.shouldRenderNote=function(t){var e=this.range(),n=this.options.categories||[];return Be(t,e.min)>=0&&Be(t,e.max)<=0&&n.length},e.prototype.parseNoteValue=function(t){return Ge(this.chartService.intl,t)},e.prototype.noteSlot=function(t){return this.getSlot(t)},e.prototype.translateRange=function(t){var e=this.options,n=e.baseUnit,r=e.weekStartDay,o=e.vertical,i=this.lineBox(),a=o?i.height():i.width(),s=this.range(),l=a/(s.max-s.min),c=Dt(t/l,10);if(s.min&&s.max){var u=Me(e.min||s.min,c),p=Me(e.max||s.max,c);s={min:Fe(u,0,n,r),max:Fe(p,0,n,r)}}return s},e.prototype.scaleRange=function(t){var e=Math.abs(t),n=this.range(),r=n.min,o=n.max;if(r&&o){for(;e--;){var i=Ve(r,o),a=Math.round(.1*i);t<0?(r=Me(r,a),o=Me(o,-a)):(r=Me(r,-a),o=Me(o,a))}n={min:r,max:o}}return n},e.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}},e.prototype.pan=function(t){if(this.isEmpty())return null;var e=this.options,n=this.lineBox(),r=e.vertical?n.height():n.width(),o=this.dataRange.displayRange(),i=o.min,a=o.max,s=this.dataRange.total(),l=Dt(t/(r/(a-i)),10)*(e.reverse?-1:1),c=Me(i,l),u=Me(a,l),p=this.limitRange(He(c),He(u),He(s.min),He(s.max),l);return p?(p.min=Re(p.min),p.max=Re(p.max),p.baseUnit=e.baseUnit,p.baseUnitStep=e.baseUnitStep||1,p.userSetBaseUnit=e.userSetBaseUnit,p.userSetBaseUnitStep=e.userSetBaseUnitStep,p):void 0},e.prototype.pointsRange=function(e,n){if(this.isEmpty())return null;var r=t.prototype.pointsRange.call(this,e,n),o=this.dataRange.displayRange(),i=this.dataRange.displayIndices(),a=Ve(o.max,o.min)/(i.max-i.min),s=this.options;return{min:Me(o.min,r.min*a),max:Me(o.min,r.max*a),baseUnit:s.userSetBaseUnit||s.baseUnit,baseUnitStep:s.userSetBaseUnitStep||s.baseUnitStep}},e.prototype.zoomRange=function(t){if(this.isEmpty())return null;var e=this.options,n="fit"===e.userSetBaseUnit,r=this.dataRange.total(),o=this.dataRange.displayRange(),i=o.min,a=o.max,s=this.dataRange.options,l=s.weekStartDay,c=s.baseUnit,u=s.baseUnitStep,p=Fe(i,t*u,c,l),h=Fe(a,-t*u,c,l);if(n){var d,f,m=e.autoBaseUnitSteps,v=e.maxDateGroups,g=St(m[c])*v*Ae[c],y=Ve(a,i),b=Ve(h,p),x=Qe.indexOf(c);if(b<Ae[c]&&"milliseconds"!==c)c=Qe[x-1],p=Me(i,f=(y-(v-1)*(d=St(m[c]))*Ae[c])/2),h=Me(a,-f);else if(b>g&&c!==Pe){var w=0;do{x++,c=Qe[x],w=0,f=2*Ae[c];do{d=m[c][w],w++}while(w<m[c].length&&f*d<y)}while(c!==Pe&&f*d<y);(f=(f*d-y)/2)>0&&(p=Me(i,-f),h=Me(a,f),p=Me(p,Et(h,r.min,r.max)-h),h=Me(h,Et(p,r.min,r.max)-p))}}return p<r.min&&(p=r.min),h>r.max&&(h=r.max),p&&h&&Ve(h,p)>0?{min:p,max:h,baseUnit:e.userSetBaseUnit||e.baseUnit,baseUnitStep:e.userSetBaseUnitStep||e.baseUnitStep}:void 0},e.prototype.range=function(){return this.dataRange.displayRange()},e.prototype.createLabels=function(){t.prototype.createLabels.call(this),this.createRangeLabels()},e.prototype.clearLabels=function(){t.prototype.clearLabels.call(this),this.rangeLabels=[]},e.prototype.arrangeLabels=function(){this.arrangeRangeLabels(),t.prototype.arrangeLabels.call(this)},e.prototype.arrangeRangeLabels=function(){var t=this.options,e=this.rangeLabels;if(0!==e.length){var n=this.lineBox(),r=t.vertical,o=t.rangeLabels.mirror||t.labels.mirror,i=e[0];if(i){var a=r?n.y1-i.box.height()/2:n.x1;this.positionLabel(i,o,a)}var s=e[1];if(s){var l=r?n.y2-s.box.height()/2:n.x2;this.positionLabel(s,o,l)}}},e.prototype.autoRotateLabels=function(){t.prototype.autoRotateLabels.call(this),this.autoRotateRangeLabels()},e.prototype.hideOutOfRangeLabels=function(){t.prototype.hideOutOfRangeLabels.call(this),this.hideOverlappingLabels()},e.prototype.hideOverlappingLabels=function(){var t=this.rangeLabels,e=this.labels;if(0!==t.length){var n=t[0];if(n&&n.options.visible)for(var r=0;r<e.length;r++){if(!a(n,e[r]))break}var o=t[1];if(o&&o.options.visible)for(var i=e.length-1;i>0;--i){if(!a(o,e[i]))break}}function a(t,e){return!(e.options.visible&&!e.box.overlaps(t.box))&&(e.options.visible=!1,!0)}},e.prototype.contentBox=function(){for(var e=t.prototype.contentBox.call(this),n=this.rangeLabels,r=0;r<n.length;r++){var o=n[r];o.options.visible&&e.wrap(o.box)}return e},e.prototype.createAxisLabel=function(t,e,n){void 0===n&&(n={});var r=this.options,o=r.dataItems&&!r.maxDivisions?r.dataItems[t]:null,i=this.divisionRange.dateAt(t),a=e.dateFormats[this.divisionRange.options.baseUnit];e.format=e.format||a,n.dataItem=o;var s=this.axisLabelText(i,e,n);if(s)return new Oe(i,s,t,o,e)},e.prototype.createRangeLabels=function(){var t=this,e=this.divisionRange,n=e.displayStart,r=e.displayEnd,o=this.options,i=Object.assign({},o.labels,o.rangeLabels,{align:c,zIndex:o.zIndex});if(!0===i.visible){this.normalizeLabelRotation(i),i.alignRotation=c,"auto"===i.rotation&&(i.rotation=0,o.autoRotateRangeLabels=!0);var a=i.dateFormats[this.divisionRange.options.baseUnit];i.format=i.format||a;var s=function(e,n,r){if(r){var o=new Oe(n,r,e,null,i);t.append(o),t.rangeLabels.push(o)}};s(0,n,this.axisLabelText(n,i,{index:0,count:2})),s(1,r,this.axisLabelText(r,i,{index:1,count:2}))}},e.prototype.autoRotateRangeLabels=function(){var t=this,e=this.rangeLabels;if(this.options.autoRotateRangeLabels&&!this.options.vertical&&2===e.length){var n=function(e,n,r){var o=2*Math.abs(n[r+1]-n[r]),i=t.autoRotateLabelAngle(e.box,o);0!==i&&(e.options.rotation=i,e.reflow(new Zt))},r=this.getMajorTickPositions();n(e[0],r,0),n(e[1],r,r.length-2)}},e.prototype.categoryIndex=function(t){return this.dataRange.valueIndex(t)},e.prototype.slot=function(t,e,n){var r=this.dataRange,o=t,i=e;o instanceof Date&&(o=r.dateIndex(o)),i instanceof Date&&(i=r.dateIndex(i));var a=this.getSlot(o,i,n);if(a)return a.toRect()},e.prototype.getSlot=function(e,n,r){var o=e,i=n;return"object"==typeof o&&(o=this.categoryIndex(o)),"object"==typeof i&&(i=this.categoryIndex(i)),t.prototype.getSlot.call(this,o,i,r)},e.prototype.valueRange=function(){var t=tn(this.options.srcCategories);return{min:Re(t.min),max:Re(t.max)}},e.prototype.categoryAt=function(t,e){return this.dataRange.dateAt(t,e)},e.prototype.categoriesCount=function(){return this.dataRange.valuesCount()},e.prototype.rangeIndices=function(){return this.dataRange.displayIndices()},e.prototype.labelsBetweenTicks=function(){return!this.divisionRange.options.justified},e.prototype.prepareUserOptions=function(){this.isEmpty()||(this.options.categories=this.dataRange.values())},e.prototype.getCategory=function(t){var e=this.pointCategoryIndex(t);return null===e?null:this.dataRange.dateAt(e)},e.prototype.totalIndex=function(t){return this.dataRange.totalIndex(t)},e.prototype.currentRangeIndices=function(){var t=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}},e.prototype.totalRange=function(){return this.dataRange.total()},e.prototype.totalCount=function(){return this.dataRange.totalCount()},e.prototype.isEmpty=function(){return!this.options.srcCategories.length},e.prototype.roundedRange=function(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();var t=this.options,e=tn(t.srcCategories);return new nn(e.min,e.max,Object.assign({},t,{justified:!1,roundToBaseUnit:!0,justifyEnd:t.justified})).displayRange()},e}(Ze);Rt(an,{type:p,labels:{dateFormats:Je},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});var sn=an;function ln(t,e){return Dt(Math.floor(t/e)*e,10)}function cn(t,e){return Dt(Math.ceil(t/e)*e,10)}function un(t){return Math.max(Math.min(t,3e5),-3e5)}var pn=Math.pow(10,-9),hn=function(t){function e(e,n,r,o){t.call(this,Object.assign({},r,{seriesMin:e,seriesMax:n}),o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=function(t,e,n){var r=n.narrowRange,o=function(t,e,n){if(!t&&!e)return 0;var r;if(t>=0&&e>=0){var o=t===e?0:t;if(!1===n||!n&&(e-o)/e>.2)return 0;r=Math.max(0,o-(e-o)/2)}else r=t;return r}(t,e,r),i=function(t,e,n){if(!t&&!e)return 1;var r;if(t<=0&&e<=0){var o=t===e?0:e,i=Math.abs((o-t)/o);if(!1===n||!n&&i>.2)return 0;r=Math.min(0,o-(t-o)/2)}else r=e;return r}(t,e,r),a=Yt(o,i),s={majorUnit:a};!1!==n.roundToMajorUnit&&(o<0&&dn(o,a,1/3)&&(o-=a),i>0&&dn(i,a,1/3)&&(i+=a));return s.min=ln(o,a),s.max=cn(i,a),s}(t.seriesMin,t.seriesMax,t);return this.totalOptions=function(t,e){return{min:xt(e.min)?Math.min(t.min,e.min):t.min,max:xt(e.max)?Math.max(t.max,e.max):t.max,majorUnit:t.majorUnit}}(e,t),function(t,e){var n,r,o=e;if(e){!function(t,e){for(var n=0;n<e.length;n++){var r=e[n];null===t[r]&&(t[r]=void 0)}}(e,["min","max"]),n=xt(e.min),r=xt(e.max);var i=n||r;i&&e.min===e.max&&(e.min>0?e.min=0:e.max=1),e.majorUnit?(t.min=ln(t.min,e.majorUnit),t.max=cn(t.max,e.majorUnit)):i&&(o=j(t,e),t.majorUnit=Yt(o.min,o.max))}t.minorUnit=(o.majorUnit||t.majorUnit)/5;var a=j(t,o);a.min>=a.max&&(n&&!r?a.max=a.min+a.majorUnit:!n&&r&&(a.min=a.max-a.majorUnit));return a}(e,t)},e.prototype.initFields=function(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax},e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.startValue=function(){return 0},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.getDivisions=function(t){if(0===t)return 1;var e=this.options,n=e.max-e.min;return Math.floor(Dt(n/t,3))+1},e.prototype.getTickPositions=function(t,e){var n=this.options,r=n.vertical,o=n.reverse,i=this.lineBox(),a=t*((r?i.height():i.width())/(n.max-n.min)),s=this.getDivisions(t),l=(r?-1:1)*(o?-1:1),c=[],u=i[(r?w:x)+(1===l?1:2)],p=0;e&&(p=e/t);for(var h=0;h<s;h++)h%p!=0&&c.push(Dt(u,3)),u+=a*l;return c},e.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},e.prototype.getSlot=function(t,e,n){void 0===n&&(n=!1);var r,o,i=this.options,a=i.vertical,s=i.reverse,l=a?w:x,c=this.lineBox(),u=c[l+(s?2:1)],p=(s?-1:1)*((a?c.height():c.width())/(i.max-i.min)),h=new Zt(c.x1,c.y1,c.x1,c.y1),d=t,f=e;return xt(d)||(d=f||0),xt(f)||(f=d||0),n&&(d=Math.max(Math.min(d,i.max),i.min),f=Math.max(Math.min(f,i.max),i.min)),a?(r=i.max-Math.max(d,f),o=i.max-Math.min(d,f)):(r=Math.min(d,f)-i.min,o=Math.max(d,f)-i.min),h[l+1]=un(u+p*(s?o:r)),h[l+2]=un(u+p*(s?r:o)),h},e.prototype.getValue=function(t){var e=this.options,n=e.vertical,r=e.reverse,o=Number(e.max),i=Number(e.min),a=n?w:x,s=this.lineBox(),l=s[a+(r?2:1)],c=n?s.height():s.width(),u=(r?-1:1)*(t[a]-l),p=u*((o-i)/c);return u<0||u>c?null:Dt(n?o-p:i+p,10)},e.prototype.translateRange=function(t){var e=this.options,n=e.vertical,r=e.reverse,o=e.max,i=e.min,a=this.lineBox(),s=n?a.height():a.width(),l=Dt(t/(s/(o-i)),10);return!n&&!r||n&&r||(l=-l),{min:i+l,max:o+l,offset:l}},e.prototype.scaleRange=function(t){var e=this.options,n=-t*e.majorUnit;return{min:e.min-n,max:e.max+n}},e.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},e.prototype.createAxisLabel=function(t,e,n){var r=this.options,o=Dt(r.min+t*r.majorUnit,10),i=this.axisLabelText(o,e,n);return new Oe(o,i,t,null,e)},e.prototype.shouldRenderNote=function(t){var e=this.range();return e.min<=t&&t<=e.max},e.prototype.pan=function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)},e.prototype.pointsRange=function(t,e){var n=this.getValue(t),r=this.getValue(e),o=Math.min(n,r),i=Math.max(n,r);if(this.isValidRange(o,i))return{min:o,max:i}},e.prototype.zoomRange=function(t){var e=this.totalMin,n=this.totalMax,r=this.scaleRange(t),o=Et(r.min,e,n),i=Et(r.max,e,n);if(this.isValidRange(o,i))return{min:o,max:i}},e.prototype.isValidRange=function(t,e){return e-t>pn},e}(Te);function dn(t,e,n){var r=Dt(Math.abs(t%e),10);return 0===r||r>e*(1-n)}Rt(hn,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:s},labels:{format:"#.####################"},zIndex:1});var fn=hn,mn=function(t){function e(e,n,r,o){var i=Re(e),a=Re(n),s=o.intl,l=r||{};l=function(t,e,n){var r=n.min||t,o=n.max||e,i=n.baseUnit||(o&&r?function(t){var e="hours";t>=31536e6?e=Pe:t>=26784e5?e="months":t>=6048e5?e="weeks":t>=864e5&&(e=De);return e}(je(o,r)):"hours"),a=Ae[i],s=n.weekStartDay||0,l=Le(He(r)-1,i,s)||Re(o),c=ze(He(o)+1,i,s),u=(n.majorUnit?n.majorUnit:void 0)||cn(Yt(l.getTime(),c.getTime()),a)/a,p=Ke(l,c,i),h=cn(p,u)-p,d=Math.floor(h/2),f=h-d;n.baseUnit||delete n.baseUnit;return n.baseUnit=n.baseUnit||i,n.min=n.min||Fe(l,-d,i,s),n.max=n.max||Fe(c,f,i,s),n.minorUnit=n.minorUnit||u/5,n.majorUnit=u,n}(i,a,l=j(l||{},{min:Ge(s,l.min),max:Ge(s,l.max),axisCrossingValue:Ye(s,l.axisCrossingValues||l.axisCrossingValue),weekStartDay:Xe(l,s)})),t.call(this,l,o),this.intlService=s,this.seriesMin=i,this.seriesMax=a;var c=l.weekStartDay||0;this.totalMin=He(Le(He(i)-1,l.baseUnit,c)),this.totalMax=He(ze(He(a)+1,l.baseUnit,c))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.getDivisions=function(t){var e=this.options;return Math.floor(Ke(e.min,e.max,e.baseUnit)/t+1)},e.prototype.getTickPositions=function(t){for(var e=this.options,n=e.vertical,r=this.lineBox(),o=(n?-1:1)*(e.reverse?-1:1),i=r[(n?w:x)+(1===o?1:2)],a=this.getDivisions(t),s=Ve(e.max,e.min),l=(n?r.height():r.width())/s,c=e.weekStartDay||0,u=[i],p=1;p<a;p++){var h=i+Ve(Fe(e.min,p*t,e.baseUnit,c),e.min)*l*o;u.push(Dt(h,3))}return u},e.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},e.prototype.getSlot=function(t,e,n){return fn.prototype.getSlot.call(this,Ge(this.intlService,t),Ge(this.intlService,e),n)},e.prototype.getValue=function(t){var e=fn.prototype.getValue.call(this,t);return null!==e?Re(e):null},e.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},e.prototype.createAxisLabel=function(t,e,n){var r=this.options,o=t*r.majorUnit,i=r.weekStartDay||0,a=r.min;o>0&&(a=Fe(a,o,r.baseUnit,i));var s=e.dateFormats[r.baseUnit];e.format=e.format||s;var l=this.axisLabelText(a,e,n);return new Oe(a,l,t,null,e)},e.prototype.translateRange=function(t,e){var n=this.options,r=n.baseUnit,o=n.weekStartDay||0,i=this.lineBox(),a=n.vertical?i.height():i.width(),s=this.range(),l=a/Ve(s.max,s.min),c=Dt(t/l,10)*(n.reverse?-1:1),u=Me(n.min,c),p=Me(n.max,c);return e||(u=Fe(u,0,r,o),p=Fe(p,0,r,o)),{min:u,max:p,offset:c}},e.prototype.scaleRange=function(t){for(var e=this.options,n=e.min,r=e.max,o=Math.abs(t);o--;){var i=Ve(n,r),a=Math.round(.1*i);t<0?(n=Me(n,a),r=Me(r,-a)):(n=Me(n,-a),r=Me(r,a))}return{min:n,max:r}},e.prototype.shouldRenderNote=function(t){var e=this.range();return Be(t,e.min)>=0&&Be(t,e.max)<=0},e.prototype.pan=function(t){var e=this.translateRange(t,!0),n=this.limitRange(He(e.min),He(e.max),this.totalMin,this.totalMax,e.offset);if(n)return{min:Re(n.min),max:Re(n.max)}},e.prototype.pointsRange=function(t,e){var n=this.getValue(t),r=this.getValue(e),o=Math.min(n,r),i=Math.max(n,r);return{min:Re(o),max:Re(i)}},e.prototype.zoomRange=function(t){var e=this.scaleRange(t);return{min:Re(Et(He(e.min),this.totalMin,this.totalMax)),max:Re(Et(He(e.max),this.totalMin,this.totalMax))}},e}(Te);Rt(mn,{type:p,majorGridLines:{visible:!0,width:1,color:s},labels:{dateFormats:Je}});var vn=mn,gn=function(t){function e(e,n,r,o){var i=j({majorUnit:10,min:e,max:n},r),a=i.majorUnit,s=function(t,e){var n,r=Dt(bn(t,e),10)%1;n=t<=0?e:0!==r&&(r<.3||r>.9)?Math.pow(e,bn(t,e)+.2):Math.pow(e,Math.ceil(bn(t,e)));return n}(n,a),l=function(t,e,n){var r=n.majorUnit,o=t;t<=0?o=e<=1?Math.pow(r,-2):1:n.narrowRange||(o=Math.pow(r,Math.floor(bn(t,r))));return o}(e,n,i),c=function(t,e,n,r){var o=n.min,i=n.max;xt(n.axisCrossingValue)&&n.axisCrossingValue<=0&&yn();xt(r.max)?r.max<=0&&yn():i=e;xt(r.min)?r.min<=0&&yn():o=t;return{min:o,max:i}}(l,s,i,r);i.max=c.max,i.min=c.min,i.minorUnit=r.minorUnit||Dt(a-1,10),t.call(this,i,o),this.totalMin=xt(r.min)?Math.min(l,r.min):l,this.totalMax=xt(r.max)?Math.max(s,r.max):s,this.logMin=Dt(bn(c.min,a),10),this.logMax=Dt(bn(c.max,a),10),this.seriesMin=e,this.seriesMax=n,this.createLabels()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},e.prototype.startValue=function(){return this.options.min},e.prototype.getSlot=function(t,e,n){var r,o,i=this.options,a=this.logMin,s=this.logMax,l=i.reverse,c=i.vertical,u=i.majorUnit,p=c?w:x,h=this.lineBox(),d=h[p+(l?2:1)],f=(l?-1:1)*((c?h.height():h.width())/(s-a)),m=new Zt(h.x1,h.y1,h.x1,h.y1),v=t,g=e;return xt(v)||(v=g||1),xt(g)||(g=v||1),v<=0||g<=0?null:(n&&(v=Math.max(Math.min(v,i.max),i.min),g=Math.max(Math.min(g,i.max),i.min)),v=bn(v,u),g=bn(g,u),c?(r=s-Math.max(v,g),o=s-Math.min(v,g)):(r=Math.min(v,g)-a,o=Math.max(v,g)-a),m[p+1]=un(d+f*(l?o:r)),m[p+2]=un(d+f*(l?r:o)),m)},e.prototype.getValue=function(t){var e=this.options,n=this.logMin,r=this.logMax,o=e.reverse,i=e.vertical,a=e.majorUnit,s=this.lineBox(),l=i===o?1:-1,c=1===l?1:2,u=i?s.height():s.width(),p=(r-n)/u,h=i?w:x,d=s[h+c],f=l*(t[h]-d);if(f<0||f>u)return null;var m=n+f*p;return Dt(Math.pow(a,m),10)},e.prototype.range=function(){var t=this.options;return{min:t.min,max:t.max}},e.prototype.scaleRange=function(t){var e=this.options.majorUnit,n=-t;return{min:Math.pow(e,this.logMin-n),max:Math.pow(e,this.logMax+n)}},e.prototype.translateRange=function(t){var e=this.options,n=this.logMin,r=this.logMax,o=e.reverse,i=e.vertical,a=e.majorUnit,s=this.lineBox(),l=i?s.height():s.width(),c=Dt(t/(l/(r-n)),10);return!i&&!o||i&&o||(c=-c),{min:Math.pow(a,n+c),max:Math.pow(a,r+c),offset:c}},e.prototype.labelsCount=function(){var t=Math.floor(this.logMax);return Math.floor(t-this.logMin)+1},e.prototype.getMajorTickPositions=function(){var t=[];return this.traverseMajorTicksPositions((function(e){t.push(e)}),{step:1,skip:0}),t},e.prototype.createTicks=function(t){var e=this.options,n=e.majorTicks,r=e.minorTicks,o=e.vertical,i=e.labels.mirror,a=this.lineBox(),s={vertical:o};function l(e,n){s.tickX=i?a.x2:a.x2-n.size,s.tickY=i?a.y1-n.size:a.y1,s.position=e,t.append(Se(s,n))}return n.visible&&this.traverseMajorTicksPositions(l,n),r.visible&&this.traverseMinorTicksPositions(l,r),[]},e.prototype.createGridLines=function(t){var e=this.options,n=e.minorGridLines,r=e.majorGridLines,o=e.vertical,i=t.lineBox(),a={lineStart:i[o?"x1":"y1"],lineEnd:i[o?"x2":"y2"],vertical:o},s=[],l=this.gridLinesVisual();function c(t,e){pt(t,s)||(a.position=t,l.append(Ee(a,e)),s.push(t))}return r.visible&&this.traverseMajorTicksPositions(c,r),n.visible&&this.traverseMinorTicksPositions(c,n),l.children},e.prototype.traverseMajorTicksPositions=function(t,e){for(var n=this._lineOptions(),r=n.lineStart,o=n.step,i=this.logMin,a=this.logMax,s=Math.ceil(i)+e.skip;s<=a;s+=e.step){t(Dt(r+o*(s-i),10),e)}},e.prototype.traverseMinorTicksPositions=function(t,e){for(var n=this.options,r=n.min,o=n.max,i=n.minorUnit,a=n.majorUnit,s=this._lineOptions(),l=s.lineStart,c=s.step,u=this.logMin,p=this.logMax,h=Math.floor(u);h<p;h++)for(var d=this._minorIntervalOptions(h),f=e.skip;f<i;f+=e.step){var m=d.value+f*d.minorStep;if(m>o)break;if(m>=r)t(Dt(l+c*(bn(m,a)-u),10),e)}},e.prototype.createAxisLabel=function(t,e,n){var r=Math.ceil(this.logMin+t),o=Math.pow(this.options.majorUnit,r),i=this.axisLabelText(o,e,n);return new Oe(o,i,t,null,e)},e.prototype.shouldRenderNote=function(t){var e=this.range();return e.min<=t&&t<=e.max},e.prototype.pan=function(t){var e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)},e.prototype.pointsRange=function(t,e){var n=this.getValue(t),r=this.getValue(e);return{min:Math.min(n,r),max:Math.max(n,r)}},e.prototype.zoomRange=function(t){var e=this.options,n=this.totalMin,r=this.totalMax,o=this.scaleRange(t),i=Et(o.min,n,r),a=Et(o.max,n,r),s=e.majorUnit,l=a>i&&e.min&&e.max&&Dt(bn(e.max,s)-bn(e.min,s),10)<1,c=!(e.min===n&&e.max===r)&&Dt(bn(a,s)-bn(i,s),10)>=1;if(l||c)return{min:i,max:a}},e.prototype._minorIntervalOptions=function(t){var e=this.options,n=e.minorUnit,r=e.majorUnit,o=Math.pow(r,t);return{value:o,minorStep:(Math.pow(r,t+1)-o)/n}},e.prototype._lineOptions=function(){var t=this.options,e=t.reverse,n=t.vertical,r=n?w:x,o=this.lineBox(),i=n===e?1:-1,a=1===i?1:2;return{step:i*((n?o.height():o.width())/(this.logMax-this.logMin)),lineStart:o[r+a],lineBox:o}},e}(Te);function yn(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function bn(t,e){return Math.log(t)/Math.log(e)}Rt(gn,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:s},zIndex:1,_deferLabels:!0});var xn=gn,wn={createGridLines:function(t){var e,n,r=this.options,o=Math.abs(this.box.center().y-t.lineBox().y1),i=[],a=!1;return r.majorGridLines.visible&&(e=this.majorGridLineAngles(t),a=!0,i=this.renderMajorGridLines(e,o,r.majorGridLines)),r.minorGridLines.visible&&(n=this.minorGridLineAngles(t,a),yt(i,this.renderMinorGridLines(n,o,r.minorGridLines,t,a))),i},renderMajorGridLines:function(t,e,n){return this.renderGridLines(t,e,n)},renderMinorGridLines:function(t,e,n,r,o){var i=this.radiusCallback&&this.radiusCallback(e,r,o);return this.renderGridLines(t,e,n,i)},renderGridLines:function(t,e,n,r){for(var o={stroke:{width:n.width,color:n.color,dashType:n.dashType}},i=this.box.center(),a=new _.geometry.Circle([i.x,i.y],e),s=this.gridLinesVisual(),l=0;l<t.length;l++){var c=new _.drawing.Path(o);r&&(a.radius=r(t[l])),c.moveTo(a.center).lineTo(a.pointAt(t[l]+180)),s.append(c)}return s.children},gridLineAngles:function(t,e,n,r,o){var i=this,a=this.intervals(e,n,r,o),s=t.options,l=s.visible&&!1!==(s.line||{}).visible;return mt(a,(function(t){var e=i.intervalAngle(t);if(!l||90!==e)return e}))}},kn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.range=function(){return{min:0,max:this.options.categories.length}},e.prototype.reflow=function(t){this.box=t,this.reflowLabels()},e.prototype.lineBox=function(){return this.box},e.prototype.reflowLabels=function(){for(var t=this.labels,e=this.options.labels,n=e.skip||0,r=e.step||1,o=new Zt,i=0;i<t.length;i++){t[i].reflow(o);var a=t[i].box;t[i].reflow(this.getSlot(n+i*r).adjacentBox(0,a.width(),a.height()))}},e.prototype.intervals=function(t,e,n,r){void 0===r&&(r=!1);for(var o=this.options,i=o.categories.length/t||1,a=360/i,s=n||1,l=[],c=0,u=e||0;u<i;u+=s)c=o.reverse?360-u*a:u*a,c=Dt(c,3)%360,r&&pt(c,r)||l.push(c);return l},e.prototype.majorIntervals=function(){return this.intervals(1)},e.prototype.minorIntervals=function(){return this.intervals(.5)},e.prototype.intervalAngle=function(t){return(360+t+this.options.startAngle)%360},e.prototype.majorAngles=function(){var t=this;return mt(this.majorIntervals(),(function(e){return t.intervalAngle(e)}))},e.prototype.createLine=function(){return[]},e.prototype.majorGridLineAngles=function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,1,e.skip,e.step)},e.prototype.minorGridLineAngles=function(t,e){var n=this.options,r=n.minorGridLines,o=n.majorGridLines,i=e?this.intervals(1,o.skip,o.step):null;return this.gridLineAngles(t,.5,r.skip,r.step,i)},e.prototype.radiusCallback=function(t,e,n){if(e.options.type!==a){var r=Tt(360/(2*this.options.categories.length)),o=Math.cos(r)*t,i=this.majorAngles(),s=function(e){return!n&&pt(e,i)?t:o};return s}},e.prototype.createPlotBands=function(){for(var t=this.options.plotBands||[],e=this._plotbandGroup=new _.drawing.Group({zIndex:-1}),n=0;n<t.length;n++){var r=t[n],o=this.plotBandSlot(r),i=this.getSlot(r.from),a=r.from-Math.floor(r.from);o.startAngle+=a*i.angle;var s=Math.ceil(r.to)-r.to;o.angle-=(s+a)*i.angle;var l=ee.current.createRing(o,{fill:{color:r.color,opacity:r.opacity},stroke:{opacity:r.opacity}});e.append(l)}this.appendVisual(e)},e.prototype.plotBandSlot=function(t){return this.getSlot(t.from,t.to-1)},e.prototype.getSlot=function(t,e){var n=this.options,r=n.justified,o=this.box,i=this.majorAngles(),a=i.length,s=360/a,l=t;n.reverse&&!r&&(l=(l+1)%a);var c=i[l=Et(Math.floor(l),0,a-1)];r&&(c-=s/2)<0&&(c+=360);var u=s*(Et(Math.ceil(e||l),l,a-1)-l+1);return new Qt(o.center(),0,o.height()/2,c,u)},e.prototype.slot=function(t,e){var n=this.getSlot(t,e),r=n.startAngle+180,o=r+n.angle;return new _.geometry.Arc([n.center.x,n.center.y],{startAngle:r,endAngle:o,radiusX:n.radius,radiusY:n.radius})},e.prototype.pointCategoryIndex=function(t){for(var e=this.options.categories.length,n=null,r=0;r<e;r++){if(this.getSlot(r).containsPoint(t)){n=r;break}}return n},e}(Ze);Rt(kn,{startAngle:90,labels:{margin:z(10)},majorGridLines:{visible:!0},justified:!0}),j(kn.prototype,wn);var On=kn,Cn=function(t){function e(e,n){t.call(this,e,n);var r=this.options;r.minorUnit=r.minorUnit||r.majorUnit/2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDivisions=function(t){return fn.prototype.getDivisions.call(this,t)-1},e.prototype.reflow=function(t){this.box=t,this.reflowLabels()},e.prototype.reflowLabels=function(){for(var t=this.options,e=this.labels,n=this.options.labels,r=n.skip||0,o=n.step||1,i=new Zt,a=this.intervals(t.majorUnit,r,o),s=0;s<e.length;s++){e[s].reflow(i);var l=e[s].box;e[s].reflow(this.getSlot(a[s]).adjacentBox(0,l.width(),l.height()))}},e.prototype.lineBox=function(){return this.box},e.prototype.intervals=function(t,e,n,r){void 0===r&&(r=!1);for(var o=this.options.min,i=this.getDivisions(t),a=[],s=n||1,l=e||0;l<i;l+=s){var c=(360+o+l*t)%360;r&&pt(c,r)||a.push(c)}return a},e.prototype.majorIntervals=function(){return this.intervals(this.options.majorUnit)},e.prototype.minorIntervals=function(){return this.intervals(this.options.minorUnit)},e.prototype.intervalAngle=function(t){return(540-t-this.options.startAngle)%360},e.prototype.createLine=function(){return[]},e.prototype.majorGridLineAngles=function(t){var e=this.options.majorGridLines;return this.gridLineAngles(t,this.options.majorUnit,e.skip,e.step)},e.prototype.minorGridLineAngles=function(t,e){var n=this.options,r=n.minorGridLines,o=n.majorGridLines,i=e?this.intervals(n.majorUnit,o.skip,o.step):null;return this.gridLineAngles(t,n.minorUnit,r.skip,r.step,i)},e.prototype.plotBandSlot=function(t){return this.getSlot(t.from,t.to)},e.prototype.getSlot=function(t,e){var n=this.options,r=this.box,o=n.startAngle,i=Et(t,n.min,n.max),a=Et(e||i,i,n.max);if(n.reverse&&(i*=-1,a*=-1),(a=(540-a-o)%360)<(i=(540-i-o)%360)){var s=i;i=a,a=s}return new Qt(r.center(),0,r.height()/2,i,a-i)},e.prototype.slot=function(t,e){void 0===e&&(e=t);var n,r,o=this.options,i=360-o.startAngle,a=this.getSlot(t,e),s=Math.min(t,e),l=Math.max(t,e);return o.reverse?(n=s,r=l):(n=360-l,r=360-s),n=(n+i)%360,r=(r+i)%360,new _.geometry.Arc([a.center.x,a.center.y],{startAngle:n,endAngle:r,radiusX:a.radius,radiusY:a.radius})},e.prototype.getValue=function(t){var e=this.options,n=this.box.center(),r=t.x-n.x,o=t.y-n.y,i=Math.round(wt(Math.atan2(o,r))),a=e.startAngle;return e.reverse||(i*=-1,a*=-1),(i+a+360)%360},e.prototype.valueRange=function(){return{min:0,max:2*Math.PI}},e}(Te);Rt(Cn,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:z(10)},majorGridLines:{color:s,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),j(Cn.prototype,wn,{createPlotBands:On.prototype.createPlotBands,majorAngles:On.prototype.majorAngles,range:fn.prototype.range,labelsCount:fn.prototype.labelsCount,createAxisLabel:fn.prototype.createAxisLabel});var _n=Cn;function Sn(t,e){return 180-Math.abs(Math.abs(t-e)-180)}var En={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var t=this.options,e=t.majorGridLines.type,n=t.plotBands;void 0===n&&(n=[]);for(var r=this.plotArea.polarAxis,o=r.majorAngles(),i=r.box.center(),s=this._plotbandGroup=new _.drawing.Group({zIndex:-1}),l=0;l<n.length;l++){var c=n[l],u={fill:{color:c.color,opacity:c.opacity},stroke:{opacity:c.opacity}},p=this.getSlot(c.from,c.to,!0),h=new Qt(i,i.y-p.y2,i.y-p.y1,0,360),d=void 0;d=e===a?ee.current.createRing(h,u):_.drawing.Path.fromPoints(this.plotBandPoints(h,o),u).close(),s.append(d)}this.appendVisual(s)},plotBandPoints:function(t,e){for(var n=[],r=[],o=[t.center.x,t.center.y],i=new _.geometry.Circle(o,t.innerRadius),a=new _.geometry.Circle(o,t.radius),s=0;s<e.length;s++)n.push(i.pointAt(e[s]+180)),r.push(a.pointAt(e[s]+180));return n.reverse(),n.push(n[0]),r.push(r[0]),r.concat(n)},createGridLines:function(t){var e=this.options,n=this.radarMajorGridLinePositions(),r=t.majorAngles(),o=t.box.center(),i=[];if(e.majorGridLines.visible&&(i=this.renderGridLines(o,n,r,e.majorGridLines)),e.minorGridLines.visible){var a=this.radarMinorGridLinePositions();yt(i,this.renderGridLines(o,a,r,e.minorGridLines))}return i},renderGridLines:function(t,e,n,r){var o={stroke:{width:r.width,color:r.color,dashType:r.dashType}},i=r.skip;void 0===i&&(i=0);var s=r.step;void 0===s&&(s=0);for(var l=this.gridLinesVisual(),c=i;c<e.length;c+=s){var u=t.y-e[c];if(u>0){var p=new _.geometry.Circle([t.x,t.y],u);if(r.type===a)l.append(new _.drawing.Circle(p,o));else{for(var h=new _.drawing.Path(o),d=0;d<n.length;d++)h.lineTo(p.pointAt(n[d]+180));h.close(),l.append(h)}}}return l.children},getValue:function(t){var e=this.lineBox(),n=this.plotArea.polarAxis,r=n.majorAngles(),o=n.box.center(),i=t.distanceTo(o),s=i;if(this.options.majorGridLines.type!==a&&r.length>1){var l=t.x-o.x,c=t.y-o.y,u=(wt(Math.atan2(c,l))+540)%360;r.sort((function(t,e){return Sn(t,u)-Sn(e,u)}));var p=90-Sn(r[0],r[1])/2,h=180-Sn(u,r[0])-p;s=i*(Math.sin(Tt(h))/Math.sin(Tt(p)))}return this.axisType().prototype.getValue.call(this,new Xt(e.x1,e.y2-s))}},In=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radarMajorGridLinePositions=function(){return this.getTickPositions(this.options.majorUnit)},e.prototype.radarMinorGridLinePositions=function(){var t=this.options,e=0;return t.majorGridLines.visible&&(e=t.majorUnit),this.getTickPositions(t.minorUnit,e)},e.prototype.axisType=function(){return t},e}(fn);j(In.prototype,En);var Tn=In,Dn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.radarMajorGridLinePositions=function(){var t=[];return this.traverseMajorTicksPositions((function(e){t.push(e)}),this.options.majorGridLines),t},e.prototype.radarMinorGridLinePositions=function(){var t=[];return this.traverseMinorTicksPositions((function(e){t.push(e)}),this.options.minorGridLines),t},e.prototype.axisType=function(){return t},e}(xn);j(Dn.prototype,En);var Pn=Dn;function An(t){return t<=0?-1:1}var jn=function(t){function e(e){t.call(this),this.closed=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.process=function(t){var e=t.slice(0),n=[],r=this.closed,o=e.length;if(o>2&&(this.removeDuplicates(0,e),o=e.length),o<2||2===o&&e[0].equals(e[1]))return n;var i,a,s=e[0],l=e[1],c=e[2];for(n.push(new _.geometry.Segment(s));s.equals(e[o-1]);)r=!0,e.pop(),o--;if(2===o){var u=this.tangent(s,l,x,w);return St(n).controlOut(this.firstControlPoint(u,s,l,x,w)),n.push(new _.geometry.Segment(l,this.secondControlPoint(u,s,l,x,w))),n}if(r){s=e[o-1],l=e[0],c=e[1];var p=this.controlPoints(s,l,c);i=p[1],a=p[0]}else{var h=this.tangent(s,l,x,w);i=this.firstControlPoint(h,s,l,x,w)}for(var d=i,f=0;f<=o-3;f++)if(this.removeDuplicates(f,e),f+3<=(o=e.length)){s=e[f],l=e[f+1],c=e[f+2];var m=this.controlPoints(s,l,c);St(n).controlOut(d),d=m[1];var v=m[0];n.push(new _.geometry.Segment(l,v))}if(r){s=e[o-2],l=e[o-1],c=e[0];var g=this.controlPoints(s,l,c);St(n).controlOut(d),n.push(new _.geometry.Segment(l,g[0])),St(n).controlOut(g[1]),n.push(new _.geometry.Segment(c,a))}else{var y=this.tangent(l,c,x,w);St(n).controlOut(d),n.push(new _.geometry.Segment(c,this.secondControlPoint(y,l,c,x,w)))}return n},e.prototype.removeDuplicates=function(t,e){for(;e[t+1]&&(e[t].equals(e[t+1])||e[t+1].equals(e[t+2]));)e.splice(t+1,1)},e.prototype.invertAxis=function(t,e,n){var r=!1;if(t.x===e.x)r=!0;else if(e.x===n.x)(e.y<n.y&&t.y<=e.y||n.y<e.y&&e.y<=t.y)&&(r=!0);else{var o=this.lineFunction(t,e),i=this.calculateFunction(o,n.x);t.y<=e.y&&n.y<=i||e.y<=t.y&&n.y>=i||(r=!0)}return r},e.prototype.isLine=function(t,e,n){var r=this.lineFunction(t,e),o=this.calculateFunction(r,n.x);return t.x===e.x&&e.x===n.x||Dt(o,1)===Dt(n.y,1)},e.prototype.lineFunction=function(t,e){var n=(e.y-t.y)/(e.x-t.x);return[t.y-n*t.x,n]},e.prototype.controlPoints=function(t,e,n){var r,o=x,i=w,a=!1,s=!1;if(this.isLine(t,e,n))r=this.tangent(t,e,x,w);else{var l={x:this.isMonotonicByField(t,e,n,x),y:this.isMonotonicByField(t,e,n,w)};if(l.x&&l.y)r=this.tangent(t,n,x,w),a=!0;else if(this.invertAxis(t,e,n)&&(o=w,i=x),l[o])r=0;else r=.01*(n[i]<t[i]&&t[i]<=e[i]||t[i]<n[i]&&e[i]<=t[i]?An((n[i]-t[i])*(e[o]-t[o])):-An((n[o]-t[o])*(e[i]-t[i]))),s=!0}var c=this.secondControlPoint(r,t,e,o,i);if(s){var u=o;o=i,i=u}var p=this.firstControlPoint(r,e,n,o,i);return a&&(this.restrictControlPoint(t,e,c,r),this.restrictControlPoint(e,n,p,r)),[c,p]},e.prototype.restrictControlPoint=function(t,e,n,r){t.y<e.y?e.y<n.y?(n.x=t.x+(e.y-t.y)/r,n.y=e.y):n.y<t.y&&(n.x=e.x-(e.y-t.y)/r,n.y=t.y):n.y<e.y?(n.x=t.x-(t.y-e.y)/r,n.y=e.y):t.y<n.y&&(n.x=e.x+(t.y-e.y)/r,n.y=t.y)},e.prototype.tangent=function(t,e,n,r){var o,i=e[n]-t[n],a=e[r]-t[r];return o=0===i?0:a/i,o},e.prototype.isMonotonicByField=function(t,e,n,r){return n[r]>e[r]&&e[r]>t[r]||n[r]<e[r]&&e[r]<t[r]},e.prototype.firstControlPoint=function(t,e,n,r,o){var i=e[r],a=.333*(n[r]-i);return this.point(i+a,e[o]+a*t,r,o)},e.prototype.secondControlPoint=function(t,e,n,r,o){var i=e[r],a=n[r],s=.333*(a-i);return this.point(a-s,n[o]-s*t,r,o)},e.prototype.point=function(t,e,n,r){var o=new _.geometry.Point;return o[n]=t,o[r]=e,o},e.prototype.calculateFunction=function(t,e){for(var n=t.length,r=0,o=0;o<n;o++)r+=Math.pow(e,o)*t[o];return r},e}(_.Class),Mn=function(t){function e(e){t.call(this),this._axis=e,this.options=e.options}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.value=function(t){var e=this._axis,n=e.getCategory?e.getCategory(t):e.getValue(t);return n},e.prototype.slot=function(t,e,n){return void 0===n&&(n=!0),this._axis.slot(t,e,n)},e.prototype.range=function(){return this._axis.range()},e.prototype.valueRange=function(){return this._axis.valueRange()},e}(_.Class);function Rn(t,e){for(var n=0;n<e.length;n++)if(e[n].options.name===t)return e[n].prepareUserOptions(),new Mn(e[n])}var Nn=function(t){this.visual=t.visual,this.chartsVisual=t.chartContainer.visual,this._pane=t};Nn.prototype.findAxisByName=function(t){return Rn(t,this._pane.axes)};var Fn=Nn,Ln=function(t){function e(e){t.call(this),this._plotArea=e,this.visual=e.visual,this.backgroundVisual=e._bgVisual}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(_.Class);function zn(t){for(var e=t.length,n=0,r=0;r<e;r++){I(t[r])&&n++}return n}var Bn={min:function(t){for(var e=t.length,n=f,r=0;r<e;r++){var o=t[r];I(o)&&(n=Math.min(n,o))}return n===f?t[0]:n},max:function(t){for(var e=t.length,n=m,r=0;r<e;r++){var o=t[r];I(o)&&(n=Math.max(n,o))}return n===m?t[0]:n},sum:function(t){for(var e=t.length,n=0,r=0;r<e;r++){var o=t[r];I(o)&&(n+=o)}return n},sumOrNull:function(t){var e=null;return zn(t)&&(e=Bn.sum(t)),e},count:function(t){for(var e=t.length,n=0,r=0;r<e;r++){var o=t[r];null!==o&&xt(o)&&n++}return n},avg:function(t){var e=zn(t),n=t[0];return e>0&&(n=Bn.sum(t)/e),n},first:function(t){for(var e=t.length,n=0;n<e;n++){var r=t[n];if(null!==r&&xt(r))return r}return t[0]}},Vn=Bn;function Hn(t,e){return null===e?e:at(t)(e)}var Un=function(t){function e(){t.call(this),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e,n){void 0===e&&(e=[y]),void 0===n&&(n={});for(var r=0;r<t.length;r++){var o=t[r];this._valueFields[o]=e,this._otherFields[o]=n,this._nullValue[o]=this._makeValue(e,null),this._undefinedValue[o]=this._makeValue(e,void 0)}},e.prototype.canonicalFields=function(t){return this.valueFields(t).concat(this.otherFields(t))},e.prototype.valueFields=function(t){return this._valueFields[t.type]||[y]},e.prototype.otherFields=function(t){return this._otherFields[t.type]||[y]},e.prototype.bindPoint=function(t,e,n){var r,o,i=t.data,a=xt(n)?n:i[e],s={valueFields:{value:a}},l=this.valueFields(t),c=this._otherFields[t.type];if(null===a)o=this._nullValue[t.type];else if(xt(a)){if(Array.isArray(a)){var u=a.slice(l.length);o=this._bindFromArray(a,l),r=this._bindFromArray(u,c)}else if("object"==typeof a){var p=this.sourceFields(t,l),h=this.sourceFields(t,c);o=this._bindFromObject(a,l,p),r=this._bindFromObject(a,c,h)}}else o=this._undefinedValue[t.type];return xt(o)&&(1===l.length?s.valueFields.value=o[l[0]]:s.valueFields=o),s.fields=r||{},s},e.prototype._makeValue=function(t,e){for(var n={},r=t.length,o=0;o<r;o++){n[t[o]]=e}return n},e.prototype._bindFromArray=function(t,e){var n={};if(e)for(var r=Math.min(e.length,t.length),o=0;o<r;o++)n[e[o]]=t[o];return n},e.prototype._bindFromObject=function(t,e,n){void 0===n&&(n=e);var r={};if(e)for(var o=e.length,i=0;i<o;i++){var a=e[i],s=n[i];null!==s&&(r[a]=Hn(s,t))}return r},e.prototype.sourceFields=function(t,e){var n=[];if(e)for(var r=e.length,o=0;o<r;o++){var i=e[o],a=i===y?"field":i+"Field";n.push(null!==t[a]?t[a]||i:null)}return n},e}(_.Class);Un.current=new Un;var Wn=Un,qn=/percent(?:\w*)\((\d+)\)/,Kn=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),Gn=function(t){function e(e,n,r){t.call(this),this.initGlobalRanges(e,n,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initGlobalRanges=function(t,e,n){var r=e.data,o=Kn.exec(t);if(o){this.valueGetter=this.createValueGetter(e,n);var i=this.getAverage(r),a=this.getStandardDeviation(r,i,!1),s=o[1]?parseFloat(o[1]):1,l={low:i.value-a*s,high:i.value+a*s};this.globalRange=function(){return l}}else if(t.indexOf&&t.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(e,n);var c=this.getStandardError(r,this.getAverage(r));this.globalRange=function(t){return{low:t-c,high:t+c}}}},e.prototype.createValueGetter=function(t,e){var n,r=t.data,o=Wn.current,i=o.valueFields(t),a=xt(r[0])?r[0]:{};if(k(a))n=at("["+(e?i.indexOf(e):0)+"]");else if(I(a))n=at();else if("object"==typeof a){n=at(o.sourceFields(t,i)[i.indexOf(e)])}return n},e.prototype.getErrorRange=function(t,e){var n,r,o;if(!xt(e))return null;if(this.globalRange)return this.globalRange(t);if(k(e))n=t-e[0],r=t+e[1];else if(I(o=parseFloat(e)))n=t-o,r=t+o;else{if(!(o=qn.exec(e)))throw new Error("Invalid ErrorBar value: "+e);var i=t*(parseFloat(o[1])/100);n=t-Math.abs(i),r=t+Math.abs(i)}return{low:n,high:r}},e.prototype.getStandardError=function(t,e){return this.getStandardDeviation(t,e,!0)/Math.sqrt(e.count)},e.prototype.getStandardDeviation=function(t,e,n){for(var r=t.length,o=n?e.count-1:e.count,i=0,a=0;a<r;a++){var s=this.valueGetter(t[a]);I(s)&&(i+=Math.pow(s-e.value,2))}return Math.sqrt(i/o)},e.prototype.getAverage=function(t){for(var e=t.length,n=0,r=0,o=0;o<e;o++){var i=this.valueGetter(t[o]);I(i)&&(n+=i,r++)}return{value:n/r,count:r}},e}(_.Class),Yn=_.support.browser||{},Xn=Yn.msie?.001:0,$n="zero",Zn="bar",Jn="column",Qn="line",tr="pie",er="verticalLine",nr=[Zn,Jn,"ohlc","candlestick","boxPlot","verticalBoxPlot","bullet","rangeColumn","rangeBar","waterfall","horizontalWaterfall"],rr="DOMMouseScroll mousewheel",or=function(t){function e(e,n,r,o,i,a){t.call(this,a),this.low=e,this.high=n,this.isVertical=r,this.chart=o,this.series=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e,n=this.options.endCaps,r=this.isVertical,o=this.getAxis().getSlot(this.low,this.high),i=t.center(),a=this.getCapsWidth(t,r),s=r?i.x:i.y,l=s-a,c=s+a;r?(e=[new Xt(i.x,o.y1),new Xt(i.x,o.y2)],n&&e.push(new Xt(l,o.y1),new Xt(c,o.y1),new Xt(l,o.y2),new Xt(c,o.y2)),this.box=new Zt(l,o.y1,c,o.y2)):(e=[new Xt(o.x1,i.y),new Xt(o.x2,i.y)],n&&e.push(new Xt(o.x1,l),new Xt(o.x1,c),new Xt(o.x2,l),new Xt(o.x2,c)),this.box=new Zt(o.x1,l,o.x2,c)),this.linePoints=e},e.prototype.getCapsWidth=function(t,e){var n=e?t.width():t.height();return Math.min(Math.floor(n/2),4)||4},e.prototype.createVisual=function(){var t=this,e=this.options,n=e.visual;n?this.visual=n({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:e.endCaps,color:e.color,line:e.line},createVisual:function(){t.createDefaultVisual();var e=t.visual;return delete t.visual,e}}):this.createDefaultVisual()},e.prototype.createDefaultVisual=function(){var e=this.options,n=this.linePoints,r={stroke:{color:e.color,width:e.line.width,dashType:e.line.dashType}};t.prototype.createVisual.call(this);for(var o=0;o<n.length;o+=2){var i=new _.drawing.Path(r).moveTo(n[o].x,n[o].y).lineTo(n[o+1].x,n[o+1].y);S(i),this.visual.append(i)}},e}(re);Rt(or,{animation:{type:"fadeIn",delay:600},endCaps:!0,line:{width:2},zIndex:1});var ir=or,ar=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAxis=function(){return this.chart.seriesValueAxis(this.series)},e}(ir);function sr(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var o=n.defaults=n.defaults||{},i=n.depth=n.depth||0,a=!1;if(n.excluded=n.excluded||[],i>5)return null;for(var s in t)if(!pt(s,n.excluded)&&t.hasOwnProperty(s)){var l=t[s];P(l)?(a=!0,r||(t[s]=At(l(e),o[s]))):M(l)&&(r||(n.defaults=o[s]),n.depth++,a=sr(l,e,n,r)||a,n.depth--)}return a}function lr(t){for(var e=t.length,n=0,r=0;r<e;r++)n=Math.max(n,t[r].data.length);return n}var cr=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this.categoryAxis=e.seriesCategoryAxis(n.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.pointOptions=function(t,e){var n=this.seriesOptions[e];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[e]=n=j({},r,{vertical:!this.options.invertAxes},t)}return n},e.prototype.plotValue=function(t){if(!t)return 0;if(this.options.isStacked100&&I(t.value)){for(var e=t.categoryIx,n=this.categoryPoints[e],r=[],o=0,i=0;i<n.length;i++){var a=n[i];if(a){var s=t.series.stack,l=a.series.stack;if(s&&l&&s.group!==l.group)continue;I(a.value)&&(o+=Math.abs(a.value),r.push(Math.abs(a.value)))}}if(o>0)return t.value/o}return t.value},e.prototype.plotRange=function(t,e){void 0===e&&(e=0);var n=this.categoryPoints[t.categoryIx];if(this.options.isStacked){for(var r=this.plotValue(t),o=r>=0,i=e,a=!1,s=0;s<n.length;s++){var l=n[s];if(t===l)break;var c=t.series.stack,u=l.series.stack;if(c&&u){if("string"==typeof c&&c!==u)continue;if(c.group&&c.group!==u.group)continue}var p=this.plotValue(l);(p>=0&&o||p<0&&!o)&&(i+=p,r+=p,a=!0,this.options.isStacked100&&(r=Math.min(r,1)))}return a&&(i-=e),[i,r]}var h=t.series,d=this.seriesValueAxis(h),f=this.categoryAxisCrossingValue(d);return[f,D(t.value)?t.value:f]},e.prototype.stackLimits=function(t,e){for(var n=f,r=m,o=0;o<this.categoryPoints.length;o++){var i=this.categoryPoints[o];if(i)for(var a=0;a<i.length;a++){var s=i[a];if(s&&(s.series.stack===e||s.series.axis===t)){var l=this.plotRange(s,0)[1];xt(l)&&isFinite(l)&&(r=Math.max(r,l),n=Math.min(n,l))}}}return{min:n,max:r}},e.prototype.updateStackRange=function(){var t=this.options,e=t.isStacked,n=t.series,r={};if(e)for(var o=0;o<n.length;o++){var i=n[o],a=i.axis,s=a+i.stack,l=r[s];if(!l){l=this.stackLimits(a,i.stack);var c=this.errorTotals;c&&(c.negative.length&&(l.min=Math.min(l.min,Nt(c.negative).min)),c.positive.length&&(l.max=Math.max(l.max,Nt(c.positive).max))),l.min!==f||l.max!==m?r[s]=l:l=null}l&&(this.valueAxisRanges[a]=l)}},e.prototype.addErrorBar=function(t,e,n){var r,o=t.value,i=t.series,a=t.seriesIx,s=t.options.errorBars,l=e.fields.errorLow,c=e.fields.errorHigh;I(l)&&I(c)?r={low:l,high:c}:s&&xt(s.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[a]=this.seriesErrorRanges[a]||new Gn(s.value,i,y),r=this.seriesErrorRanges[a].getErrorRange(o,s.value)),r&&(t.low=r.low,t.high=r.high,this.addPointErrorBar(t,n))},e.prototype.addPointErrorBar=function(t,e){var n=!this.options.invertAxes,r=t.options.errorBars,o=t.series,i=t.low,a=t.high;if(this.options.isStacked){var s=this.stackedErrorRange(t,e);i=s.low,a=s.high}else{var l={categoryIx:e,series:o};this.updateRange({value:i},l),this.updateRange({value:a},l)}var c=new ar(i,a,n,this,o,r);t.errorBars=[c],t.append(c)},e.prototype.stackedErrorRange=function(t,e){var n=this.plotRange(t,0)[1]-t.value,r=t.low+n,o=t.high+n;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},r<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,r)),o>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,o)),{low:r,high:o}},e.prototype.addValue=function(t,e){var n=e.categoryIx,r=e.series,o=e.seriesIx,i=this.categoryPoints[n];i||(this.categoryPoints[n]=i=[]);var a=this.seriesPoints[o];a||(this.seriesPoints[o]=a=[]);var s=this.createPoint(t,e);s&&(Object.assign(s,e),s.owner=this,s.noteText=t.fields.noteText,xt(s.dataItem)||(s.dataItem=r.data[n]),this.addErrorBar(s,t,n)),this.points.push(s),a.push(s),i.push(s),this.updateRange(t.valueFields,e)},e.prototype.evalPointOptions=function(t,e,n,r,o,i){var a={defaults:o._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},s=this._evalSeries[i];xt(s)||(this._evalSeries[i]=s=sr(t,{},a,!0));var l=t;return s&&sr(l=j({},l),{value:e,category:n,index:r,series:o,dataItem:o.data[r]},a),l},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=t.value,o=this.valueAxisRanges[n];isFinite(r)&&null!==r&&((o=this.valueAxisRanges[n]=o||{min:f,max:m}).min=Math.min(o.min,r),o.max=Math.max(o.max,r))},e.prototype.seriesValueAxis=function(t){var e=this.plotArea,n=t.axis,r=n?e.namedValueAxes[n]:e.valueAxis;if(!r)throw new Error("Unable to locate value axis with name "+n);return r},e.prototype.reflow=function(t){var e=this,n=this.categorySlots=[],r=this.points,o=this.categoryAxis,i=0;this.traverseDataPoints((function(t,a){var s=a.categoryIx,l=a.series,c=e.seriesValueAxis(l),u=r[i++],p=n[s];if(p||(n[s]=p=e.categorySlot(o,s,c)),u){var h=e.plotRange(u,c.startValue()),d=e.valueSlot(c,h);if(d){var f=e.pointSlot(p,d);u.aboveAxis=e.aboveAxis(u,c),u.stackValue=h[1],e.options.isStacked100&&(u.percentage=e.plotValue(u)),e.reflowPoint(u,f)}else u.visible=!1}})),this.reflowCategories(n),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=t},e.prototype.valueSlot=function(t,e){return t.getSlot(e[0],e[1],!this.options.clip)},e.prototype.limitPoints=function(){for(var t=this.categoryPoints,e=t[0].concat(St(t)),n=0;n<e.length;n++)e[n]&&this.limitPoint(e[n])},e.prototype.limitPoint=function(t){var e=this.categoryAxis.limitSlot(t.box);e.equals(t.box)||t.reflow(e)},e.prototype.aboveAxis=function(t,e){var n=this.categoryAxisCrossingValue(e),r=t.value;return e.options.reverse?r<n:r>=n},e.prototype.categoryAxisCrossingValue=function(t){var e=this.categoryAxis,n=t.options;return[].concat(n.axisCrossingValues||n.axisCrossingValue)[e.axisIndex||0]||0},e.prototype.reflowPoint=function(t,e){t.reflow(e)},e.prototype.reflowCategories=function(){},e.prototype.pointSlot=function(t,e){var n=this.options.invertAxes,r=n?e:t,o=n?t:e;return new Zt(r.x1,o.y1,r.x2,o.y2)},e.prototype.categorySlot=function(t,e){return t.getSlot(e)},e.prototype.traverseDataPoints=function(t){for(var e=this.options.series,n=lr(e),r=e.length,o=0;o<r;o++)this._outOfRangeCallback(e[o],"_outOfRangeMinPoint",o,t);for(var i=0;i<n;i++)for(var a=0;a<r;a++){var s=e[a],l=this.categoryAxis.categoryAt(i);t(this._bindPoint(s,a,i),{category:l,categoryIx:i,categoriesCount:n,series:s,seriesIx:a})}for(var c=0;c<r;c++)this._outOfRangeCallback(e[c],"_outOfRangeMaxPoint",c,t)},e.prototype._outOfRangeCallback=function(t,e,n,r){var o=t[e];if(o){var i=o.categoryIx;r(this._bindPoint(t,n,i,o.item),{category:o.category,categoryIx:i,series:t,seriesIx:n,dataItem:o.item})}},e.prototype._bindPoint=function(t,e,n,r){this._bindCache||(this._bindCache=[]);var o=this._bindCache[e];o||(o=this._bindCache[e]=[]);var i=o[n];return i||(i=o[n]=Wn.current.bindPoint(t,n,r)),i},e.prototype.formatPointValue=function(t,e){return null===t.value?"":this.chartService.format.auto(e,t.value)},e.prototype.pointValue=function(t){return t.valueFields.value},e}(re);Rt(cr,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});var ur=cr,pr={click:function(t,e){return t.trigger("seriesClick",this.eventArgs(e))},hover:function(t,e){return t.trigger("seriesHover",this.eventArgs(e))},over:function(t,e){return t.trigger("seriesOver",this.eventArgs(e))},out:function(t,e){return t.trigger("seriesLeave",this.eventArgs(e))},eventArgs:function(t){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:Ct(t),originalEvent:t,point:this}}},hr={createNote:function(){var t=this.options.notes,e=this.noteText||t.label.text;!1!==t.visible&&xt(e)&&null!==e&&(this.note=new _e({value:this.value,text:e,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}},dr=function(t){function e(e,n){t.call(this),this.value=e,this.options=n,this.aboveAxis=At(this.options.aboveAxis,!0),this.tooltipTracking=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options,e=t.markers,n=t.labels;if(!this._rendered){if(this._rendered=!0,e.visible&&e.size&&(this.marker=this.createMarker(),this.append(this.marker)),n.visible){var r=rt(n),o=this.pointData(),i=this.value;r?i=r(o):n.format&&(i=this.formatValue(n.format)),this.label=new be(i,j({align:c,vAlign:c,margin:{left:5,right:5},zIndex:At(n.zIndex,this.series.zIndex)},n),o),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}},e.prototype.markerBorder=function(){var t=this.options.markers,e=t.background,n=j({color:this.color},t.border);return xt(n.color)||(n.color=new _.Color(e).brightness(.8).toHex()),n},e.prototype.createVisual=function(){},e.prototype.createMarker=function(){var t=this.options.markers;return new se({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:this.markerBorder(),opacity:this.series.opacity||t.opacity,zIndex:At(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})},e.prototype.markerBox=function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},e.prototype.reflow=function(t){var e=this.options,n=this.aboveAxis,r=e.vertical;this.render(),this.box=t;var o=t.clone();if(r?n?o.y1-=o.height():o.y2+=o.height():n?o.x1+=o.width():o.x2-=o.width(),this._childBox=o,this.marker&&this.marker.reflow(o),this.reflowLabel(o),this.errorBars)for(var i=0;i<this.errorBars.length;i++)this.errorBars[i].reflow(o);if(this.note){var a=this.markerBox();if(!e.markers.visible||!e.markers.size){var s=a.center();a=new Zt(s.x,s.y,s.x,s.y)}this.note.reflow(a)}},e.prototype.reflowLabel=function(t){var e=this.options,n=this.label,r=e.labels.position;n&&(r="below"===(r="above"===r?g:r)?l:r,n.reflow(t),n.box.alignTo(this.markerBox(),r),n.reflow(n.box))},e.prototype.createHighlight=function(){var t=this.options.highlight.markers,e=this.markerBorder().color,n=this.options.markers,r=n.size+(n.border.width||0)+(t.border.width||0),o=new se({type:n.type,width:r,height:r,rotation:n.rotation,background:t.color||e,border:{color:t.border.color,width:t.border.width,opacity:At(t.border.opacity,1)},opacity:At(t.opacity,1)});return o.reflow(this._childBox),o.getElement()},e.prototype.highlightVisual=function(){return(this.marker||{}).visual},e.prototype.highlightVisualArgs=function(){var t,e,n=this.marker;if(n)e=n.paddingBox.toRect(),t=n.visual;else{var r=this.options.markers.size,o=r/2,i=this.box.center();e=new _.geometry.Rect([i.x-o,i.y-o],[r,r])}return{options:this.options,rect:e,visual:t}},e.prototype.tooltipAnchor=function(){var t=this.markerBox(),e=this.owner.pane.clipBox();if(!e||e.overlaps(t)){var n,r,o=t.x2+5;return this.aboveAxis?(n=t.y1,r=l):(n=t.y2,r=g),{point:new Xt(o,n),align:{horizontal:"left",vertical:r}}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.markerBox().overlaps(t)},e.prototype.unclipElements=function(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}},e}(re);dr.prototype.defaults={vertical:!0,markers:{visible:!0,background:b,size:8,type:u,border:{width:2},opacity:1},labels:{visible:!1,position:"above",margin:z(3),padding:z(4),animation:{type:"fadeIn",delay:600}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}}},j(dr.prototype,pr),j(dr.prototype,hr);var fr=dr,mr=function(t){function e(e,n,r){t.call(this),this.linePoints=e,this.series=n,this.seriesIx=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.points=function(){return this.toGeometryPoints(this.linePoints)},e.prototype.toGeometryPoints=function(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]&&!1!==t[n].visible&&e.push(t[n]._childBox.toRect().center());return e},e.prototype.createVisual=function(){var t=this,e=this.series.visual;e?(this.visual=e({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:function(){return t.segmentVisual(),t.visual}}),this.visual&&!xt(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()},e.prototype.segmentVisual=function(){var t=this.options,e=this.series,n=e.color,r=e._defaults;P(n)&&r&&(n=r.color);var o=_.drawing.Path.fromPoints(this.points(),{stroke:{color:n,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});t.closed&&o.close(),this.visual=o},e.prototype.aliasFor=function(t,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)},e}(re);Rt(mr,{closed:!1});var vr=mr;function gr(t,e,n,r,o){var i=t.box,a=new _.geometry.Point;return a[e]=i[e+n],a[r]=i[r+o],a}var yr={calculateStepPoints:function(t){for(var e=this.parent.plotArea.seriesCategoryAxis(this.series).options,n=e.justified,r=e.vertical,o=e.reverse,i=r?x:w,a=r?w:x,s=o?2:1,l=s,c=gr(t[0],i,s,a,l),u=[c],p=1;p<t.length;p++){var h=gr(t[p],i,s,a,l);if(c[i]!==h[i]){var d=new _.geometry.Point;d[i]=c[i],d[a]=h[a],u.push(d,h)}c=h}return n?c!==St(u)&&u.push(c):u.push(gr(St(t),i,s,a,o?1:2)),u}},br=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.points=function(){return this.calculateStepPoints(this.linePoints)},e}(vr);j(br.prototype,yr);var xr=br,wr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.segmentVisual=function(){var t=this.series,e=t._defaults,n=t.color;P(n)&&e&&(n=e.color);var r=new jn(this.options.closed).process(this.points()),o=new _.drawing.Path({stroke:{color:n,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});o.segments.push.apply(o.segments,r),this.visual=o},e}(vr),kr={renderSegments:function(){var t,e=this.options,n=this.seriesPoints,r=e.series,o=n.length;this._segments=[];for(var i=0;i<o;i++){for(var a=r[i],s=this.sortPoints(n[i]),l=s.length,c=[],u=0;u<l;u++){var p=s[u];p?c.push(p):"interpolate"!==this.seriesMissingValues(a)&&(c.length>1&&(t=this.createSegment(c,a,i,t),this._addSegment(t)),c=[])}c.length>1&&(t=this.createSegment(c,a,i,t),this._addSegment(t))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(t){this._segments.push(t),t.parent=this},sortPoints:function(t){return t},seriesMissingValues:function(t){var e=t.missingValues;return!e&&this.options.isStacked?$n:e||"interpolate"},getNearestPoint:function(t,e,n){for(var r,o=new Xt(t,e),i=this.seriesPoints[n],a=f,s=0;s<i.length;s++){var l=i[s];if(l&&xt(l.value)&&null!==l.value&&!1!==l.visible){var c=l.box.center().distanceTo(o);c<a&&(r=l,a=c)}}return r}},Or=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this._setEnd(this.options.box.x1)},e.prototype.step=function(t){var e=this.options.box;this._setEnd(ht(e.x1,e.x2,t))},e.prototype._setEnd=function(t){var e=this.element,n=e.segments,r=n[1].anchor(),o=n[2].anchor();e.suspend(),r.setX(t),e.resume(),o.setX(t)},e}(_.drawing.Animation);Rt(Or,{duration:600}),_.drawing.AnimationFactory.current.register("clip",Or);var Cr=Or;function _r(t){for(var e=0;e<t.length;e++)if(xt(t[e].zIndex))return!0}var Sr={createAnimation:function(){var t=this.getRoot();if(t&&!1!==(t.options||{}).transitions){var e=t.size(),n=_.drawing.Path.fromRect(e.toRect());this.visual.clip(n),this.animation=new Cr(n,{box:e}),_r(this.options.series)&&this._setChildrenAnimation(n)}},_setChildrenAnimation:function(t){for(var e=this.animationPoints(),n=0;n<e.length;n++){var r=e[n];r&&r.visual&&xt(r.visual.options.zIndex)&&r.visual.clip(t)}}},Er=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.updateStackRange(),this.renderSegments()},e.prototype.pointType=function(){return fr},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,a=this.seriesMissingValues(o),s=t.valueFields.value;if(!xt(s)||null===s){if(a!==$n)return null;s=0}var l=this.pointOptions(o,i);l=this.evalPointOptions(l,s,r,n,o,i);var c=t.fields.color||o.color;P(o.color)&&(c=l.color);var u=new fr(s,l);return u.color=c,this.append(u),u},e.prototype.plotRange=function(t){var e=this.plotValue(t);if(this.options.isStacked)for(var n=t.categoryIx,r=this.categoryPoints[n],o=0;o<r.length;o++){var i=r[o];if(t===i)break;e+=this.plotValue(i),this.options.isStacked100&&(e=Math.min(e,1))}return[e,e]},e.prototype.createSegment=function(t,e,n){var r=e.style;return new("step"===r?xr:"smooth"===r?wr:vr)(t,e,n)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++)e.push((t[n]||{}).marker);return e.concat(this._segments)},e.prototype.supportsPointInactiveOpacity=function(){return!1},e}(ur);j(Er.prototype,kr,Sr);var Ir=Er,Tr=function(t){function e(e,n,r,o,i){t.call(this,e,n,r),this.prevSegment=o,this.stackPoints=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createVisual=function(){var t=this.series,e=t._defaults,n=t.line||{},r=t.color;P(r)&&e&&(r=e.color),this.visual=new _.drawing.Group({zIndex:t.zIndex}),this.createFill({fill:{color:r,opacity:t.opacity},stroke:null}),n.width>0&&!1!==n.visible&&this.createStroke({stroke:j({color:r,opacity:t.opacity,lineCap:"butt"},n)})},e.prototype.strokeSegments=function(){var t=this._strokeSegments;return t||(t=this._strokeSegments=this.createStrokeSegments()),t},e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.points())},e.prototype.stackSegments=function(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)},e.prototype.createStackSegments=function(t){return this.segmentsFromPoints(this.toGeometryPoints(t)).reverse()},e.prototype.segmentsFromPoints=function(t){return t.map((function(t){return new _.geometry.Segment(t)}))},e.prototype.createStroke=function(t){var e=new _.drawing.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)},e.prototype.hasStackSegment=function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length},e.prototype.createFill=function(t){var e=this.strokeSegments(),n=e.slice(0),r=this.hasStackSegment();if(r){var o=this.stackSegments();yt(n,o)}var i=new _.drawing.Path(t);i.segments.push.apply(i.segments,n),!r&&e.length>1&&this.fillToAxes(i),this.visual.append(i)},e.prototype.fillToAxes=function(t){var e=this.parent,n=e.options.invertAxes,r=e.seriesValueAxis(this.series),o=e.categoryAxisCrossingValue(r),i=r.getSlot(o,o,!0),a=this.strokeSegments(),s=a[0].anchor(),l=St(a).anchor(),c=n?i.x1:i.y1;n?t.lineTo(c,l.y).lineTo(c,s.y):t.lineTo(l.x,c).lineTo(s.x,c)},e}(vr),Dr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))},e.prototype.createStackSegments=function(t){return this.segmentsFromPoints(this.calculateStepPoints(t)).reverse()},e}(Tr);j(Dr.prototype,yr);var Pr=Dr,Ar=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){var t=new jn(this.options.closed),e=this.points();return t.process(e)},e.prototype.createStackSegments=function(){for(var t=this.strokeSegments(),e=[],n=t.length-1;n>=0;n--){var r=t[n];e.push(new _.geometry.Segment(r.anchor(),r.controlOut(),r.controlIn()))}return e},e}(Tr),jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,n,r){var o,i,a=this.options.isStacked,s=(e.line||{}).style;a&&n>0&&r&&("gap"!==this.seriesMissingValues(e)?(i=r.linePoints,o=r):i=this._gapStackPoints(t,n,s));return new("step"===s?Pr:"smooth"===s?Ar:Tr)(t,e,n,o,i)},e.prototype.reflow=function(e){t.prototype.reflow.call(this,e);var n=this._stackPoints;if(n)for(var r=0;r<n.length;r++){var o=n[r],i=this.categoryAxis.getSlot(o.categoryIx);o.reflow(i)}},e.prototype._gapStackPoints=function(t,e,n){var r=this.seriesPoints,o=t[0].categoryIx,i=t.length;o<0&&(o=0,i--);var a=o+i,s=this.seriesOptions[0]._outOfRangeMinPoint?1:0,l=[];this._stackPoints=this._stackPoints||[];for(var c=o;c<a;c++){var u=c+s,p=e,h=void 0;do{h=r[--p][u]}while(p>0&&!h);if(h)"step"!==n&&c>o&&!r[p][u-1]&&l.push(this._previousSegmentPoint(c,u,u-1,p)),l.push(h),"step"!==n&&c+1<a&&!r[p][u+1]&&l.push(this._previousSegmentPoint(c,u,u+1,p));else{var d=this._createGapStackPoint(c);this._stackPoints.push(d),l.push(d)}}return l},e.prototype._previousSegmentPoint=function(t,e,n,r){for(var o,i=this.seriesPoints,a=r;a>0&&!o;)o=i[--a][n];return o?o=i[a][e]:(o=this._createGapStackPoint(t),this._stackPoints.push(o)),o},e.prototype._createGapStackPoint=function(t){var e=this.pointOptions({},0),n=new fr(0,e);return n.categoryIx=t,n.series={},n},e.prototype.seriesMissingValues=function(t){return t.missingValues||$n},e.prototype.supportsPointInactiveOpacity=function(){return!1},e}(Ir),Mr=function(t){function e(){t.call(this),this.axisRanges={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t){var e=this.axisRanges;for(var n in t){var r=t[n],o=e[n];e[n]=o=o||{min:f,max:m},o.min=Math.min(o.min,r.min),o.max=Math.max(o.max,r.max)}},e.prototype.reset=function(t){this.axisRanges[t]=void 0},e.prototype.query=function(t){return this.axisRanges[t]},e}(_.Class),Rr=function(t){function e(e,n,r){t.call(this,n),this.textBox=new be(e,this.options,r),this.append(this.textBox)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createVisual=function(){this.textBox.options.noclip=this.options.noclip},e.prototype.reflow=function(t){var e=this.options,n=e.vertical,r=e.aboveAxis,o=this.children[0],i=o.options,a=o.box,s=o.options.padding,u=t;i.align=n?c:d,i.vAlign=n?g:c,"insideEnd"===e.position?n?(i.vAlign=g,!r&&a.height()<t.height()&&(i.vAlign=l)):i.align=r?v:d:e.position===c?(i.vAlign=c,i.align=c):"insideBase"===e.position?n?i.vAlign=r?l:g:i.align=r?d:v:"outsideEnd"===e.position&&(n?u=r?new Zt(t.x1,t.y1-a.height(),t.x2,t.y1):new Zt(t.x1,t.y2,t.x2,t.y2+a.height()):(i.align=c,u=r?new Zt(t.x2,t.y1,t.x2+a.width(),t.y2):new Zt(t.x1-a.width(),t.y1,t.x1,t.y2))),e.rotation||(n?s.left=s.right=(u.width()-o.contentBox.width())/2:s.top=s.bottom=(u.height()-o.contentBox.height())/2),o.reflow(u)},e.prototype.alignToClipBox=function(t){var e=this.options.vertical?w:x,n=e+"1",r=e+"2",o=this.children[0],i=this.parent.box;if(i[n]<t[n]||t[r]<i[r]){var a=o.paddingBox.clone();a[n]=Math.max(i[n],t[n]),a[r]=Math.min(i[r],t[r]),this.reflow(a)}},e}(re);Rt(Rr,{position:"outsideEnd",margin:z(3),padding:z(4),color:s,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:"fadeIn",delay:600},zIndex:2});var Nr=Rr;function Fr(t){var e=t.overlay;return e&&e.gradient&&"none"!==e.gradient}var Lr=function(t){function e(e,n){t.call(this),this.options=n,this.color=n.color||b,this.aboveAxis=At(this.options.aboveAxis,!0),this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},e.prototype.createLabel=function(){var t=this.options,e=t.labels;if(e.visible){var n,r=this.pointData(),o=rt(e);n=o?o(r):this.formatValue(e.format),this.label=new Nr(n,j({vertical:t.vertical},e),r),this.append(this.label)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.reflow=function(t){this.render();var e=this.label;if(this.box=t,e&&(e.options.aboveAxis=this.aboveAxis,e.reflow(t)),this.note&&this.note.reflow(t),this.errorBars)for(var n=0;n<this.errorBars.length;n++)this.errorBars[n].reflow(t)},e.prototype.createVisual=function(){var e=this,n=this.box,r=this.options,o=r.visual;if(!1!==this.visible)if(t.prototype.createVisual.call(this),o){var i=this.rectVisual=o({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:n.toRect(),createVisual:function(){var t=new _.drawing.Group;return e.createRect(t),t},options:r});i&&this.visual.append(i)}else n.width()>0&&n.height()>0&&this.createRect(this.visual)},e.prototype.createRect=function(t){var e=this.options,n=e.border,r=xt(n.opacity)?n.opacity:e.opacity,o=this.box.toRect();o.size.width=Math.round(o.size.width);var i=this.rectVisual=_.drawing.Path.fromRect(o,{fill:{color:this.color,opacity:e.opacity},stroke:{color:this.getBorderColor(),width:n.width,opacity:r,dashType:n.dashType}}),a=this.box.width(),s=this.box.height();if((e.vertical?a:s)>6&&(S(i),(a<1||s<1)&&(i.options.stroke.lineJoin="round")),t.append(i),Fr(e)){var l=this.createGradientOverlay(i,{baseColor:this.color},j({end:e.vertical?void 0:[0,1]},e.overlay));t.append(l)}},e.prototype.createHighlight=function(t){return S(_.drawing.Path.fromRect(this.box.toRect(),t))},e.prototype.highlightVisual=function(){return this.rectVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},e.prototype.getBorderColor=function(){var t=this.color,e=this.options.border,n=e._brightness||.8,r=e.color;return xt(r)||(r=new _.Color(t).brightness(n).toHex()),r},e.prototype.tooltipAnchor=function(){var t,e,n=this.options,r=this.box,o=this.aboveAxis,i=this.owner.pane.clipBox()||r,a=d,s=g;if(n.vertical)t=Math.min(r.x2,i.x2)+5,o?e=Math.max(r.y1,i.y1):(e=Math.min(r.y2,i.y2),s=l);else{var c=Math.max(r.x1,i.x1),u=Math.min(r.x2,i.x2);n.isStacked?(s=l,o?(a=v,t=u):t=c,e=Math.max(r.y1,i.y1)-5):(o?t=u+5:(t=c-5,a=v),e=Math.max(r.y1,i.y1))}return{point:new Xt(t,e),align:{horizontal:a,vertical:s}}},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}},e}(re);j(Lr.prototype,pr),j(Lr.prototype,hr),Lr.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};var zr=Lr;function Br(t,e){t.forEach(e)}function Vr(t,e){for(var n=t.length,r=n-1;r>=0;r--)e(t[r],r-n-1)}var Hr=function(t){function e(e){t.call(this,e),this.forEach=e.rtl?Vr:Br}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=e.vertical,r=e.gap,o=e.spacing,i=this.children,a=i.length,s=n?w:x,l=a+r+o*(a-1),c=(n?t.height():t.width())/l,u=t[s+1]+c*(r/2);this.forEach(i,(function(e,n){var r=(e.box||t).clone();r[s+1]=u,r[s+2]=u+c,e.reflow(r),n<a-1&&(u+=c*o),u+=c}))},e}(re);Rt(Hr,{vertical:!1,gap:0,spacing:0});var Ur=Hr,Wr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){for(var e=this.options.vertical?x:w,n=this.children,r=n.length,o=this.box=new Zt,i=0;i<r;i++){var a=n[i];if(!1!==a.visible){var s=a.box.clone();s.snapTo(t,e),0===i&&(o=this.box=s.clone()),a.reflow(s),o.wrap(s)}}},e}(re);Rt(Wr,{vertical:!0});var qr=Wr,Kr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.updateStackRange()},e.prototype.pointType=function(){return zr},e.prototype.clusterType=function(){return Ur},e.prototype.stackType=function(){return qr},e.prototype.stackLimits=function(e,n){return t.prototype.stackLimits.call(this,e,n)},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,a=this.options,s=this.children,l=a.isStacked,c=this.pointValue(t),u=this.pointOptions(o,i),p=u.labels;l&&"outsideEnd"===p.position&&(p.position="insideEnd"),u.isStacked=l;var h=t.fields.color||o.color;c<0&&u.negativeColor&&(h=u.negativeColor),u=this.evalPointOptions(u,c,r,n,o,i),P(o.color)&&(h=u.color);var d=new(this.pointType())(c,u);d.color=h;var f=s[n];f||(f=new(this.clusterType())({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(f));l?this.getStackWrap(o,f).append(d):f.append(d);return d},e.prototype.getStackWrap=function(t,e){var n,r=t.stack,o=r&&r.group||r,i=e.children;if("string"==typeof o){for(var a=0;a<i.length;a++)if(i[a]._stackGroup===o){n=i[a];break}}else n=i[0];n||((n=new(this.stackType())({vertical:!this.options.invertAxes}))._stackGroup=o,e.append(n));return n},e.prototype.categorySlot=function(t,e,n){var r=this.options,o=t.getSlot(e),i=n.startValue();if(r.isStacked){var a=n.getSlot(i,i,!0),s=r.invertAxes?x:w;o[s+1]=o[s+2]=a[s+1]}return o},e.prototype.reflowCategories=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++)e[r].reflow(t[r])},e.prototype.createAnimation=function(){this._setAnimationOptions(),t.prototype.createAnimation.call(this),_r(this.options.series)&&this._setChildrenAnimation()},e.prototype._setChildrenAnimation=function(){for(var t=this.points,e=0;e<t.length;e++){var n=t[e],r=n.visual;r&&xt(r.options.zIndex)&&(n.options.animation=this.options.animation,n.createAnimation())}},e.prototype._setAnimationOptions=function(){var t,e=this.options,n=e.animation||{};if(e.isStacked){var r=this.seriesValueAxis(e.series[0]);t=r.getSlot(r.startValue())}else t=this.categoryAxis.getSlot(0);n.origin=new _.geometry.Point(t.x1,t.y1),n.vertical=!e.invertAxes},e}(ur);Rt(Kr,{animation:{type:Zn}});var Gr=Kr,Yr=function(t){function e(e,n){t.call(this,n),this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=this.value,r=this.owner.seriesValueAxis(e),o=r.getSlot(n.open,n.close),i=r.getSlot(n.low,n.high);o.x1=i.x1=t.x1,o.x2=i.x2=t.x2,this.realBody=o;var a=i.center().x,s=[];s.push([[a,i.y1],[a,o.y1]]),s.push([[a,o.y2],[a,i.y2]]),this.lines=s,this.box=i.clone().wrap(o),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()},e.prototype.reflowNote=function(){this.note&&this.note.reflow(this.box)},e.prototype.createVisual=function(){t.prototype.createVisual.call(this),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()},e.prototype.mainVisual=function(t){var e=new _.drawing.Group;return this.createBody(e,t),this.createLines(e,t),e},e.prototype.createBody=function(t,e){var n=_.drawing.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&n.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:At(e.border.opacity,e.opacity)}),S(n),t.append(n),Fr(e)&&t.append(this.createGradientOverlay(n,{baseColor:this.color},j({end:e.vertical?void 0:[0,1]},e.overlay)))},e.prototype.createLines=function(t,e){this.drawLines(t,e,this.lines,e.line)},e.prototype.drawLines=function(t,e,n,r){if(n)for(var o={stroke:{color:r.color||this.color,opacity:At(r.opacity,e.opacity),width:r.width,dashType:r.dashType,lineCap:"butt"}},i=0;i<n.length;i++){var a=_.drawing.Path.fromPoints(n[i],o);S(a),t.append(a)}},e.prototype.getBorderColor=function(){var t=this.options.border,e=t.color;return xt(e)||(e=new _.Color(this.color).brightness(t._brightness).toHex()),e},e.prototype.createOverlay=function(){var t=_.drawing.Path.fromRect(this.box.toRect(),{fill:{color:b,opacity:0},stroke:null});this.visual.append(t)},e.prototype.createHighlight=function(){var t=this.options.highlight,e=this.color;this.color=t.color||this.color;var n=this.mainVisual(j({},this.options,{line:{color:this.getBorderColor()}},t));return this.color=e,n},e.prototype.highlightVisual=function(){return this._mainVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},e.prototype.tooltipAnchor=function(){var t=this.box,e=this.owner.pane.clipBox()||t;return{point:new Xt(t.x2+5,Math.max(t.y1,e.y1)+5),align:{horizontal:d,vertical:g}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e}(re);Rt(Yr,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),j(Yr.prototype,pr),j(Yr.prototype,hr);var Xr=Yr;function $r(t){return zn(t)===t.length}var Zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowCategories=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++)e[r].reflow(t[r])},e.prototype.addValue=function(t,e){var n,r=e.categoryIx,o=e.category,i=e.series,a=e.seriesIx,s=this.children,l=this.options,c=t.valueFields,u=$r(this.splitValue(c)),p=i.data[r],h=this.categoryPoints[r];h||(this.categoryPoints[r]=h=[]),u&&(n=this.createPoint(t,e));var d=s[r];d||(d=new Ur({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),n&&(this.updateRange(c,e),d.append(n),n.categoryIx=r,n.category=o,n.series=i,n.seriesIx=a,n.owner=this,n.dataItem=p,n.noteText=t.fields.noteText),this.points.push(n),h.push(n)},e.prototype.pointType=function(){return Xr},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,a=this.pointType(),s=t.valueFields,l=j({},o),c=t.fields.color||o.color;l=this.evalPointOptions(l,s,r,n,o,i),"candlestick"===o.type&&s.open>s.close&&(c=t.fields.downColor||o.downColor||o.color),P(o.color)&&(c=l.color),l.vertical=!this.options.invertAxes;var u=new a(s,l);return u.color=c,u},e.prototype.splitValue=function(t){return[t.low,t.open,t.close,t.high]},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=this.splitValue(t),o=this.valueAxisRanges[n];o=this.valueAxisRanges[n]=o||{min:f,max:m},o=this.valueAxisRanges[n]={min:Math.min.apply(Math,r.concat([o.min])),max:Math.max.apply(Math,r.concat([o.max]))}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.open,n.high,n.low,n.close,t.category)},e.prototype.animationPoints=function(){return this.points},e}(ur);j(Zr.prototype,Sr);var Jr=Zr,Qr=function(t){function e(e,n){t.call(this,e,n),this.createNote()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e,n,r=this.options,o=this.value,i=this.owner.seriesValueAxis(r);this.boxSlot=n=i.getSlot(o.q1,o.q3),this.realBody=n,this.reflowBoxSlot(t),this.whiskerSlot=e=i.getSlot(o.lower,o.upper),this.reflowWhiskerSlot(t);var a=i.getSlot(o.median);if(o.mean){var s=i.getSlot(o.mean);this.meanPoints=this.calcMeanPoints(t,s)}this.whiskerPoints=this.calcWhiskerPoints(n,e),this.medianPoints=this.calcMedianPoints(t,a),this.box=e.clone().wrap(n),this.reflowNote()},e.prototype.reflowBoxSlot=function(t){this.boxSlot.x1=t.x1,this.boxSlot.x2=t.x2},e.prototype.reflowWhiskerSlot=function(t){this.whiskerSlot.x1=t.x1,this.whiskerSlot.x2=t.x2},e.prototype.calcMeanPoints=function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},e.prototype.calcWhiskerPoints=function(t,e){var n=e.center().x;return[[[n-5,e.y1],[n+5,e.y1],[n,e.y1],[n,t.y1]],[[n-5,e.y2],[n+5,e.y2],[n,e.y2],[n,t.y2]]]},e.prototype.calcMedianPoints=function(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]},e.prototype.renderOutliers=function(t){for(var e=this.value,n=e.outliers||[],r=3*Math.abs(e.q3-e.q1),o=[],i=t.markers||{},a=0;a<n.length;a++){var s=n[a],l=j({},(i=s<e.q3+r&&s>e.q1-r?t.outliers:t.extremes).border);xt(l.color)||(xt(this.color)?l.color=this.color:l.color=new _.Color(i.background).brightness(.8).toHex());var c=new se({type:i.type,width:i.size,height:i.size,rotation:i.rotation,background:i.background,border:l,opacity:i.opacity});c.value=s,o.push(c)}return this.reflowOutliers(o),o},e.prototype.reflowOutliers=function(t){for(var e=this.owner.seriesValueAxis(this.options),n=this.box.center(),r=0;r<t.length;r++){var o=t[r].value,i=e.getSlot(o);this.options.vertical?i.move(n.x):i.move(void 0,n.y),this.box=this.box.wrap(i),t[r].reflow(i)}},e.prototype.mainVisual=function(e){for(var n=t.prototype.mainVisual.call(this,e),r=this.renderOutliers(e),o=0;o<r.length;o++){var i=r[o].getElement();i&&n.append(i)}return n},e.prototype.createLines=function(t,e){this.drawLines(t,e,this.whiskerPoints,e.whiskers),this.drawLines(t,e,this.medianPoints,e.median),this.drawLines(t,e,this.meanPoints,e.mean)},e.prototype.getBorderColor=function(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:t.prototype.getBorderColor.call(this)},e}(Xr);Rt(Qr,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:"cross",background:b,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:u,background:b,border:{width:2,opacity:1},opacity:0}}),j(Qr.prototype,pr);var to=Qr,eo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowBoxSlot=function(t){this.boxSlot.y1=t.y1,this.boxSlot.y2=t.y2},e.prototype.reflowWhiskerSlot=function(t){this.whiskerSlot.y1=t.y1,this.whiskerSlot.y2=t.y2},e.prototype.calcMeanPoints=function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},e.prototype.calcWhiskerPoints=function(t,e){var n=e.center().y;return[[[e.x1,n-5],[e.x1,n+5],[e.x1,n],[t.x1,n]],[[e.x2,n-5],[e.x2,n+5],[e.x2,n],[t.x2,n]]]},e.prototype.calcMedianPoints=function(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]},e}(to),no=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addValue=function(t,e){var n,r=e.categoryIx,o=e.category,i=e.series,a=e.seriesIx,s=this.children,l=this.options,c=t.valueFields,u=$r(this.splitValue(c)),p=i.data[r],h=this.categoryPoints[r];h||(this.categoryPoints[r]=h=[]),u&&(n=this.createPoint(t,e));var d=s[r];d||(d=new Ur({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),n&&(this.updateRange(c,e),d.append(n),n.categoryIx=r,n.category=o,n.series=i,n.seriesIx=a,n.owner=this,n.dataItem=p),this.points.push(n),h.push(n)},e.prototype.pointType=function(){return this.options.invertAxes?eo:to},e.prototype.splitValue=function(t){return[t.lower,t.q1,t.median,t.q3,t.upper]},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=this.valueAxisRanges[n],o=this.splitValue(t).concat(this.filterOutliers(t.outliers));xt(t.mean)&&(o=o.concat(t.mean)),r=this.valueAxisRanges[n]=r||{min:f,max:m},r=this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([r.min])),max:Math.max.apply(Math,o.concat([r.max]))}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,t.category)},e.prototype.filterOutliers=function(t){for(var e=(t||[]).length,n=[],r=0;r<e;r++){var o=t[r];xt(o)&&null!==o&&n.push(o)}return n},e.prototype.supportsPointInactiveOpacity=function(){return!1},e}(Jr),ro=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAxis=function(){var t=this.chart.seriesAxes(this.series);return this.isVertical?t.y:t.x},e}(ir);function oo(t){return xt(t)&&null!==t}var io=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]},e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.addErrorBar=function(t,e,n){var r,o=t.value[e],i=e+"Value",a=e+"ErrorLow",s=e+"ErrorHigh",l=n.seriesIx,c=n.series,u=t.options.errorBars,p=n[a],h=n[s];I(o)&&(I(p)&&I(h)&&(r={low:p,high:h}),u&&xt(u[i])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][l]=this.seriesErrorRanges[e][l]||new Gn(u[i],c,e),r=this.seriesErrorRanges[e][l].getErrorRange(o,u[i])),r&&this.addPointErrorBar(r,t,e))},e.prototype.addPointErrorBar=function(t,e,n){var r=t.low,o=t.high,i=e.series,a=e.options.errorBars,s=n===w,l={};e[n+"Low"]=r,e[n+"High"]=o,e.errorBars=e.errorBars||[];var c=new ro(r,o,s,this,i,a);e.errorBars.push(c),e.append(c),l[n]=r,this.updateRange(l,i),l[n]=o,this.updateRange(l,i)},e.prototype.addValue=function(t,e){var n,r=t.x,o=t.y,i=e.seriesIx,a=this.options.series[i],s=this.seriesMissingValues(a),l=this.seriesPoints[i],c=t;oo(r)&&oo(o)||(c=this.createMissingValue(c,s)),c&&((n=this.createPoint(c,e))&&(Object.assign(n,e),this.addErrorBar(n,x,e),this.addErrorBar(n,w,e)),this.updateRange(c,e.series)),this.points.push(n),l.push(n)},e.prototype.seriesMissingValues=function(t){return t.missingValues},e.prototype.createMissingValue=function(){},e.prototype.updateRange=function(t,e){var n=this.chartService.intl,r=e.xAxis,o=e.yAxis,i=t.x,a=t.y,s=this.xAxisRanges[r],l=this.yAxisRanges[o];oo(i)&&(s=this.xAxisRanges[r]=s||{min:f,max:m},T(i)&&(i=Ge(n,i)),s.min=Math.min(s.min,i),s.max=Math.max(s.max,i)),oo(a)&&(l=this.yAxisRanges[o]=l||{min:f,max:m},T(a)&&(a=Ge(n,a)),l.min=Math.min(l.min,a),l.max=Math.max(l.max,a))},e.prototype.evalPointOptions=function(t,e,n){var r=n.series,o=n.seriesIx,i={defaults:r._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},a=this._evalSeries[o];xt(a)||(this._evalSeries[o]=a=sr(t,{},i,!0));var s=t;return a&&sr(s=j({},t),{value:e,series:r,dataItem:n.dataItem},i),s},e.prototype.pointType=function(){return fr},e.prototype.pointOptions=function(t,e){var n=this.seriesOptions[e];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[e]=n=j({},r,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return n},e.prototype.createPoint=function(t,e){var n=e.series,r=this.pointOptions(n,e.seriesIx),o=e.color||n.color;r=this.evalPointOptions(r,t,e),P(n.color)&&(o=r.color);var i=new fr(t,r);return i.color=o,this.append(i),i},e.prototype.seriesAxes=function(t){var e=t.xAxis,n=t.yAxis,r=this.plotArea,o=e?r.namedXAxes[e]:r.axisX,i=n?r.namedYAxes[n]:r.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!i)throw new Error("Unable to locate Y axis with name "+n);return{x:o,y:i}},e.prototype.reflow=function(t){var e=this,n=this.points,r=!this.options.clip,o=0;this.traverseDataPoints((function(t,i){var a=n[o++],s=e.seriesAxes(i.series),l=s.x.getSlot(t.x,t.x,r),c=s.y.getSlot(t.y,t.y,r);if(a)if(l&&c){var u=e.pointSlot(l,c);a.reflow(u)}else a.visible=!1})),this.box=t},e.prototype.pointSlot=function(t,e){return new Zt(t.x1,e.y1,t.x2,e.y2)},e.prototype.traverseDataPoints=function(t){for(var e=this.options.series,n=this.seriesPoints,r=0;r<e.length;r++){var o=e[r];n[r]||(n[r]=[]);for(var i=0;i<o.data.length;i++){var a=this._bindPoint(o,r,i),s=a.valueFields,l=a.fields;t(s,j({pointIx:i,series:o,seriesIx:r,dataItem:o.data[i],owner:this},l))}}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.x,n.y)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++)e.push((t[n]||{}).marker);return e},e}(re);Rt(io,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),j(io.prototype,Sr,{_bindPoint:ur.prototype._bindPoint});var ao=io,so=function(t){function e(e,n){t.call(this,e,n),this.category=e.category}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createHighlight=function(){var t=this.options.highlight,e=t.border,n=this.options.markers,r=this.box.center(),o=(n.size+n.border.width+e.width)/2,i=new _.drawing.Group,a=new _.drawing.Circle(new _.geometry.Circle([r.x,r.y+o/5+e.width/2],o+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:n.background,stops:[{offset:0,color:n.background,opacity:.3},{offset:1,color:n.background,opacity:0}]})}),s=new _.drawing.Circle(new _.geometry.Circle([r.x,r.y],o),{stroke:{color:e.color||new _.Color(n.background).brightness(.8).toHex(),width:e.width,opacity:e.opacity},fill:{color:n.background,opacity:t.opacity}});return i.append(a,s),i},e}(fr);so.prototype.defaults=j({},so.prototype.defaults,{labels:{position:c},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),so.prototype.defaults.highlight.zIndex=void 0;var lo=so,co=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this._maxSize=m,t.prototype._initFields.call(this)},e.prototype.addValue=function(e,n){null!==e.size&&(e.size>0||e.size<0&&n.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(e.size)),t.prototype.addValue.call(this,e,n)):(this.points.push(null),this.seriesPoints[n.seriesIx].push(null))},e.prototype.reflow=function(e){this.updateBubblesSize(e),t.prototype.reflow.call(this,e)},e.prototype.pointType=function(){return lo},e.prototype.createPoint=function(t,e){var n=e.series,r=n.data.length,o=e.pointIx*(600/r),i={delay:o,duration:600-o,type:"bubble"},a=e.color||n.color;t.size<0&&n.negativeValues.visible&&(a=At(n.negativeValues.color,a));var s=j({labels:{animation:{delay:o,duration:600-o}}},this.pointOptions(n,e.seriesIx),{markers:{type:u,border:n.border,opacity:n.opacity,animation:i}});s=this.evalPointOptions(s,t,e),P(n.color)&&(a=s.color),s.markers.background=a;var l=new lo(t,s);return l.color=a,this.append(l),l},e.prototype.updateBubblesSize=function(t){for(var e=this.options.series,n=Math.min(t.width(),t.height()),r=0;r<e.length;r++)for(var o=e[r],i=this.seriesPoints[r],a=(o.minSize||Math.max(.02*n,10))/2,s=(o.maxSize||.2*n)/2,l=Math.PI*a*a,c=(Math.PI*s*s-l)/this._maxSize,u=0;u<i.length;u++){var p=i[u];if(p){var h=Math.abs(p.value.size)*c,d=Math.sqrt((l+h)/Math.PI),f=At(p.options.zIndex,0)+(1-d/s);j(p.options,{zIndex:f,markers:{size:2*d,zIndex:f},labels:{zIndex:f+1}})}}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.x,n.y,n.size,t.category)},e.prototype.createAnimation=function(){},e.prototype.createVisual=function(){},e}(ao);Rt(co,{tooltip:{format:"{3}"},labels:{format:"{3}"}});var uo=co,po=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(se);j(po.prototype,pr);var ho=po,fo=function(t){function e(e,n){t.call(this,n),this.aboveAxis=this.options.aboveAxis,this.color=n.color||b,this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options;this._rendered||(this._rendered=!0,xt(this.value.target)&&(this.target=new ho({type:t.target.shape,background:t.target.color||this.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:g,align:v}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createNote())},e.prototype.reflow=function(t){this.render();var e=this.options,n=this.target,r=this.owner,o=e.invertAxes,i=r.seriesValueAxis(this.options),a=r.categorySlot(r.categoryAxis,e.categoryIx,i),s=i.getSlot(this.value.target),l=o?s:a,c=o?a:s;if(n){var u=new Zt(l.x1,c.y1,l.x2,c.y2);n.options.height=o?u.height():e.target.line.width,n.options.width=o?e.target.line.width:u.width(),n.reflow(u)}this.note&&this.note.reflow(t),this.box=t},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options,n=_.drawing.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&n.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:At(e.border.opacity,e.opacity)}),this.bodyVisual=n,S(n),this.visual.append(n)},e.prototype.createAnimation=function(){this.bodyVisual&&(this.animation=_.drawing.Animation.create(this.bodyVisual,this.options.animation))},e.prototype.createHighlight=function(t){return _.drawing.Path.fromRect(this.box.toRect(),t)},e.prototype.highlightVisual=function(){return this.bodyVisual},e.prototype.highlightVisualArgs=function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e}(re);fo.prototype.tooltipAnchor=zr.prototype.tooltipAnchor,Rt(fo,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),j(fo.prototype,pr),j(fo.prototype,hr);var mo=fo,vo=function(t){function e(e,n){!function(t){for(var e=t.series,n=0;n<e.length;n++){var r=e[n],o=r.data;!o||k(o[0])||M(o[0])||(r.data=[o])}}(n),t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowCategories=function(t){for(var e=this.children,n=e.length,r=0;r<n;r++)e[r].reflow(t[r])},e.prototype.plotRange=function(t){var e=t.series,n=this.seriesValueAxis(e),r=this.categoryAxisCrossingValue(n);return[r,t.value.current||r]},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,a=this.options,s=this.children,l=t.valueFields,c=j({vertical:!a.invertAxes,overlay:o.overlay,categoryIx:n,invertAxes:a.invertAxes},o),u=t.fields.color||o.color;c=this.evalPointOptions(c,l,r,n,o,i),P(o.color)&&(u=c.color);var p=new mo(l,c);p.color=u;var h=s[n];return h||(h=new Ur({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(h)),h.append(p),p},e.prototype.updateRange=function(t,e){var n=t.current,r=t.target,o=e.series.axis,i=this.valueAxisRanges[o];xt(n)&&!isNaN(n)&&xt(r&&!isNaN(r))&&((i=this.valueAxisRanges[o]=i||{min:f,max:m}).min=Math.min(i.min,n,r),i.max=Math.max(i.max,n,r))},e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value.current,t.value.target)},e.prototype.pointValue=function(t){return t.valueFields.current},e.prototype.aboveAxis=function(t){return t.value.current>0},e.prototype.createAnimation=function(){var t=this.points;this._setAnimationOptions();for(var e=0;e<t.length;e++){var n=t[e];n.options.animation=this.options.animation,n.createAnimation()}},e}(ur);vo.prototype._setAnimationOptions=Gr.prototype._setAnimationOptions,Rt(vo,{animation:{type:Zn}});var go=vo,yo=function(t){function e(e,n){t.call(this),this.chartService=e,this.options=j({},this.options,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStyle=function(t,e){var n=t.background,r=t.border.color;if(e){var o=e.color||e.options.color;n=At(n,o),r=At(r,o)}var i=z(t.padding||{},"auto");return{backgroundColor:n,borderColor:r,font:t.font,color:t.color,opacity:t.opacity,borderWidth:R(t.border.width),paddingTop:R(i.top),paddingBottom:R(i.bottom),paddingLeft:R(i.left),paddingRight:R(i.right)}},e.prototype.show=function(t,e,n){t.format=e.format;var r=this.getStyle(e,n);t.style=r;var o=new _.Color(r.backgroundColor);xt(e.color)||o.isDark()||(t.className="k-chart-tooltip-inverse"),this.chartService.notify("showTooltip",t),this.visible=!0},e.prototype.hide=function(){this.chartService&&this.chartService.notify("hideTooltip"),this.visible=!1},e.prototype.destroy=function(){delete this.chartService},e}(_.Class);Rt(yo,{border:{width:1},opacity:1});var bo=yo,xo=function(t){function e(e,n,r){t.call(this,e,r),this.crosshair=n,this.formatService=e.format,this.initAxisName()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initAxisName=function(){var t,e=this.crosshair.axis;t=e.plotArea.categoryAxis?e.getCategory?"categoryAxis":"valueAxis":e.options.vertical?"yAxis":"xAxis",this.axisName=t},e.prototype.showAt=function(t){var e=this.crosshair.axis,n=this.options,r=e[n.stickyMode?"getCategory":"getValue"](t),o=r;n.format?o=this.formatService.auto(n.format,r):e.options.type===p&&(o=this.formatService.auto(e.options.labels.dateFormats[e.options.baseUnit],r)),this.show({point:t,anchor:this.getAnchor(),crosshair:this.crosshair,value:o,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)},e.prototype.hide=function(){this.chartService.notify("hideTooltip",{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})},e.prototype.getAnchor=function(){var t,e,n,r=this.crosshair,o=this.options,i=o.position,a=o.padding,s=!r.axis.options.vertical,u=r.line.bbox();return s?(t=c,i===l?(e=g,n=u.bottomLeft().translate(0,a)):(e=l,n=u.topLeft().translate(0,-a))):(e=c,i===d?(t=v,n=u.topLeft().translate(-a,0)):(t=d,n=u.topRight().translate(a,0))),{point:n,align:{horizontal:t,vertical:e}}},e}(bo);Rt(xo,{padding:10});var wo=xo,ko=function(t){function e(e,n,r){t.call(this,r),this.axis=n,this.stickyMode=n instanceof Ze;var o=this.options.tooltip;o.visible&&(this.tooltip=new wo(e,this,j({},o,{stickyMode:this.stickyMode})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.showAt=function(t){this.point=t,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(t)},e.prototype.hide=function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},e.prototype.moveLine=function(){var t,e=this.axis,n=this.point,r=e.options.vertical,o=this.getBox(),i=r?w:x,a=new _.geometry.Point(o.x1,o.y1);if(t=r?new _.geometry.Point(o.x2,o.y1):new _.geometry.Point(o.x1,o.y2),n)if(this.stickyMode){var s=e.getSlot(e.pointCategoryIndex(n));a[i]=t[i]=s.center()[i]}else a[i]=t[i]=n[i];this.box=o,this.line.moveTo(a).lineTo(t)},e.prototype.getBox=function(){for(var t,e=this.axis,n=e.pane.axes,r=n.length,o=e.options.vertical,i=e.lineBox().clone(),a=o?x:w,s=0;s<r;s++){var l=n[s];l.options.vertical!==o&&(t?t.wrap(l.lineBox()):t=l.lineBox().clone())}return i[a+1]=t[a+1],i[a+2]=t[a+2],i},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.options;this.line=new _.drawing.Path({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),t.prototype.destroy.call(this)},e}(re);Rt(ko,{color:s,width:2,zIndex:-1,tooltip:{visible:!1}});var Oo=ko,Co=function(t){function e(e,n){t.call(this,e),this.pane=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldClip=function(){for(var t=this.children,e=t.length,n=0;n<e;n++)if(!0===t[n].options.clip)return!0;return!1},e.prototype._clipBox=function(){return this.pane.chartsBox()},e.prototype.createVisual=function(){if(this.visual=new _.drawing.Group({zIndex:0}),this.shouldClip()){var t=(this.clipBox=this._clipBox()).toRect(),e=_.drawing.Path.fromRect(t);S(e),this.visual.clip(e),this.unclipLabels()}},e.prototype.stackRoot=function(){return this},e.prototype.unclipLabels=function(){for(var t=this.children,e=this.clipBox,n=0;n<t.length;n++)for(var r=t[n].points||{},o=r.length,i=0;i<o;i++){var a=r[i];if(a&&!1!==a.visible&&a.overlapsBox&&a.overlapsBox(e))if(a.unclipElements)a.unclipElements();else{var s=a.label,l=a.note;s&&s.options.visible&&(s.alignToClipBox&&s.alignToClipBox(e),s.options.noclip=!0),l&&l.options.visible&&(l.options.noclip=!0)}}},e.prototype.destroy=function(){t.prototype.destroy.call(this),delete this.parent},e}(re);Co.prototype.isStackRoot=!0;var _o=Co,So=function(t){function e(e){t.call(this,e),this.id="pane"+Eo++,this.createTitle(),this.content=new re,this.chartContainer=new _o({},this),this.append(this.content),this.axes=[],this.charts=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createTitle=function(){var t=this.options.title;M(t)&&(t=j({},t,{align:t.position,position:g})),this.title=we.buildTitle(t,this,e.prototype.options.title)},e.prototype.appendAxis=function(t){this.content.append(t),this.axes.push(t),t.pane=this},e.prototype.appendAxisAt=function(t,e){this.content.append(t),this.axes.splice(e,0,t),t.pane=this},e.prototype.appendChart=function(t){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(t),this.chartContainer.append(t),t.pane=this},e.prototype.empty=function(){var t=this.parent;if(t){for(var e=0;e<this.axes.length;e++)t.removeAxis(this.axes[e]);for(var n=0;n<this.charts.length;n++)t.removeChart(this.charts[n])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]},e.prototype.reflow=function(e){var n;St(this.children)===this.content&&(n=this.children.pop()),t.prototype.reflow.call(this,e),n&&this.children.push(n),this.title&&(this.contentBox.y1+=this.title.box.height())},e.prototype.visualStyle=function(){var e=t.prototype.visualStyle.call(this);return e.zIndex=-10,e},e.prototype.renderComplete=function(){this.options.visible&&this.createGridLines()},e.prototype.stackRoot=function(){return this},e.prototype.clipRoot=function(){return this},e.prototype.createGridLines=function(){for(var t=this.axes,e=t.concat(this.parent.axes),n=[],r=[],o=0;o<t.length;o++)for(var i=t[o],a=i.options.vertical,s=a?n:r,l=0;l<e.length;l++)if(0===s.length){var c=e[l];a!==c.options.vertical&&yt(s,i.createGridLines(c))}},e.prototype.refresh=function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()},e.prototype.chartsBox=function(){for(var t=this.axes,e=t.length,n=new Zt,r=0;r<e;r++){var o=t[r],i=o.options.vertical?w:x,a=o.lineBox();n[i+1]=a[i+1],n[i+2]=a[i+2]}if(0===n.x2)for(var s=this.parent.axes,l=s.length,c=0;c<l;c++){var u=s[c];if(!u.options.vertical){var p=u.lineBox();n.x1=p.x1,n.x2=p.x2}}return n},e.prototype.clipBox=function(){return this.chartContainer.clipBox},e.prototype.notifyRender=function(){var t=this.getService();t&&t.notify("paneRender",{pane:new Fn(this),index:this.paneIndex,name:this.options.name})},e}(ie),Eo=1;So.prototype.isStackRoot=!0,Rt(So,{zIndex:-1,shrinkToFit:!0,title:{align:d},visible:!0});var Io=So;function To(t,e){null!==e&&t.push(e)}function Do(t,e,n){var r=e.visible;if(xt(r))return r;var o=t.pointVisibility;return o?o[n]:void 0}function Po(t){for(var e=t.data,n=[],r=0,o=0,i=0;i<e.length;i++){var a=Wn.current.bindPoint(t,i),s=a.valueFields.value;T(s)&&(s=parseFloat(s)),I(s)?(a.visible=!1!==Do(t,a.fields,i),a.value=Math.abs(s),n.push(a),a.visible&&(r+=a.value),0!==s&&o++):n.push(null)}return{total:r,points:n,count:o}}function Ao(t,e){return t&&e?t.toLowerCase()===e.toLowerCase():t===e}function jo(t,e){for(var n=[],r=[].concat(e),o=0;o<t.length;o++){var i=t[o];pt(i.type,r)&&n.push(i)}return n}function Mo(t,e,n){if(null===e)return e;var r="_date_"+t,o=e[r];return o||(o=Ge(n,at(t)(e)),e[r]=o),o}function Ro(t,e){var n=t.type,r=e instanceof Date;return!n&&r||Ao(n,p)}function No(t){return 1===t.length?t[0]:t}var Fo=/area/i;function Lo(t,e){var n=Wn.current.bindPoint(t,null,e).valueFields;for(var r in n)if(D(n[r]))return!0}function zo(t){var e,n,r=t.start,o=t.dir,i=t.min,a=t.max,s=t.getter,l=t.hasItem,c=t.series,u=r;do{l(u+=o)&&(e=Lo(c,(n=s(u)).item))}while(i<=u&&u<=a&&!e);if(e)return n}function Bo(t,e,n,r,o){var i=e.min,a=e.max,s=i>0&&i<n,l=a+1<n;if(s||l){var c,u,p;if("interpolate"!==function(t){return t.missingValues?t.missingValues:Fo.test(t.type)||t.stack?$n:"interpolate"}(t))s&&(c=r(i-1)),l&&(u=r(a+1));else s&&(c=Lo(t,(p=r(i-1)).item)?p:zo({start:i,dir:-1,min:0,max:n-1,getter:r,hasItem:o,series:t})),l&&(u=Lo(t,(p=r(a+1)).item)?p:zo({start:a,dir:1,min:0,max:n-1,getter:r,hasItem:o,series:t}));c&&(t._outOfRangeMinPoint=c),u&&(t._outOfRangeMaxPoint=u)}}var Vo=function(t){function e(e,n,r){t.call(this,n),this.initFields(e,n),this.series=e,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.items=[],this.axes=[],this.crosshairs=[],this.chartService=r,this.originalOptions=n,this.createPanes(),this.render(),this.createCrosshairs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){},e.prototype.initSeries=function(){for(var t=this.series,e=0;e<t.length;e++)t[e].index=e},e.prototype.createPanes=function(){for(var t=this.options.title||{},e=this.options.paneDefaults,n=this.options.panes||[],r=Math.max(n.length,1),o=[],i=j({title:{color:t.color}},e),a=0;a<r;a++){var s=j({},i,n[a]);T(s.title)&&(s.title=j({text:s.title},i.title));var l=new Io(s);l.paneIndex=a,o.push(l),this.append(l)}this.panes=o},e.prototype.crosshairOptions=function(t){return t.options.crosshair},e.prototype.createCrosshairs=function(t){void 0===t&&(t=this.panes);for(var e=0;e<t.length;e++)for(var n=t[e],r=0;r<n.axes.length;r++){var o=n.axes[r],i=this.crosshairOptions(o);if(i&&i.visible){var a=new Oo(this.chartService,o,i);this.crosshairs.push(a),n.content.append(a)}}},e.prototype.removeCrosshairs=function(t){for(var e=this.crosshairs,n=t.axes,r=e.length-1;r>=0;r--)for(var o=0;o<n.length;o++)if(e[r].axis===n[o]){e.splice(r,1);break}},e.prototype.hideCrosshairs=function(){for(var t=this.crosshairs,e=0;e<t.length;e++)t[e].hide()},e.prototype.findPane=function(t){for(var e,n=this.panes,r=0;r<n.length;r++)if(n[r].options.name===t){e=n[r];break}return e||n[0]},e.prototype.findPointPane=function(t){for(var e,n=this.panes,r=0;r<n.length;r++)if(n[r].box.containsPoint(t)){e=n[r];break}return e},e.prototype.appendAxis=function(t){this.findPane(t.options.pane).appendAxis(t),this.axes.push(t),t.plotArea=this},e.prototype.removeAxis=function(t){for(var e=[],n=0;n<this.axes.length;n++){var r=this.axes[n];t!==r?e.push(r):r.destroy()}this.axes=e},e.prototype.appendChart=function(t,e){this.charts.push(t),e?e.appendChart(t):this.append(t)},e.prototype.removeChart=function(t){for(var e=[],n=0;n<this.charts.length;n++){var r=this.charts[n];r!==t?e.push(r):r.destroy()}this.charts=e},e.prototype.addToLegend=function(t){for(var e=t.length,n=this.options.legend,r=n.labels||{},o=n.inactiveItems||{},i=o.labels||{},a=[],s=0;s<e;s++){var l=t[s],c=!1!==l.visible;if(!1!==l.visibleInLegend){var u=l.name,p=c?rt(r):rt(i)||rt(r);p&&(u=p({text:oo(u)?u:"",series:l}));var h=l._defaults,d=l.color;P(d)&&h&&(d=h.color);var f=void 0,m=void 0;c?(f={},m=d):(f={color:i.color,font:i.font},m=o.markers.color),oo(u)&&""!==u&&a.push({text:u,labels:f,markerColor:m,series:l,active:c})}}yt(n.items,a)},e.prototype.groupAxes=function(t){for(var e=[],n=[],r=0;r<t.length;r++)for(var o=t[r].axes,i=0;i<o.length;i++){var a=o[i];a.options.vertical?n.push(a):e.push(a)}return{x:e,y:n,any:e.concat(n)}},e.prototype.groupSeriesByPane=function(){for(var t=this.series,e={},n=0;n<t.length;n++){var r=t[n],o=this.seriesPaneName(r);e[o]?e[o].push(r):e[o]=[r]}return e},e.prototype.filterVisibleSeries=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];!1!==r.visible&&e.push(r)}return e},e.prototype.reflow=function(t){var e=this.options.plotArea,n=this.panes,r=z(e.margin);this.box=t.clone().unpad(r),this.reflowPanes(),this.detachLabels(),this.reflowAxes(n),this.reflowCharts(n)},e.prototype.redraw=function(t){var e=[].concat(t);this.initSeries();var n=this.getRoot();n&&n.cleanGradients();for(var r=0;r<e.length;r++)this.removeCrosshairs(e[r]),e[r].empty();this.render(e),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(e),this.createCrosshairs(e);for(var o=0;o<e.length;o++)e[o].refresh()},e.prototype.axisCrossingValues=function(t,e){for(var n=t.options,r=[].concat(n.axisCrossingValues||n.axisCrossingValue),o=e.length-r.length,i=r[0]||0,a=0;a<o;a++)r.push(i);return r},e.prototype.alignAxisTo=function(t,e,n,r){var o=t.getSlot(n,n,!0),i=t.options.reverse?2:1,a=e.getSlot(r,r,!0),s=e.options.reverse?2:1,l=t.box.translate(a[x+s]-o[x+i],a[w+s]-o[w+i]);t.pane!==e.pane&&l.translate(0,t.pane.box.y1-e.pane.box.y1),t.reflow(l)},e.prototype.alignAxes=function(t,e){for(var n=t[0],r=e[0],o=this.axisCrossingValues(n,e),i=this.axisCrossingValues(r,t),a={},s={},c={},u={},p=0;p<e.length;p++){var h=e[p],f=h.pane,m=f.id,y=!1!==h.options.visible,b=Wo(t,f)||n,x=o;b!==n&&(x=this.axisCrossingValues(b,e)),this.alignAxisTo(h,b,i[p],x[p]),h.options._overlap||(Dt(h.lineBox().x1)===Dt(b.lineBox().x1)&&(a[m]&&h.reflow(h.box.alignTo(a[m].box,d).translate(-h.options.margin,0)),y&&(a[m]=h)),Dt(h.lineBox().x2)===Dt(b.lineBox().x2)&&(h._mirrored||(h.options.labels.mirror=!h.options.labels.mirror,h._mirrored=!0),this.alignAxisTo(h,b,i[p],x[p]),s[m]&&h.reflow(h.box.alignTo(s[m].box,v).translate(h.options.margin,0)),y&&(s[m]=h)),0!==p&&r.pane===h.pane&&(h.alignTo(r),h.reflow(h.box)))}for(var w=0;w<t.length;w++){var k=t[w],O=k.pane,C=O.id,_=!1!==k.options.visible,S=Wo(e,O)||r,E=i;S!==r&&(E=this.axisCrossingValues(S,t)),this.alignAxisTo(k,S,o[w],E[w]),k.options._overlap||(Dt(k.lineBox().y1)===Dt(S.lineBox().y1)&&(k._mirrored||(k.options.labels.mirror=!k.options.labels.mirror,k._mirrored=!0),this.alignAxisTo(k,S,o[w],E[w]),c[C]&&k.reflow(k.box.alignTo(c[C].box,g).translate(0,-k.options.margin)),_&&(c[C]=k)),Dt(k.lineBox().y2,3)===Dt(S.lineBox().y2,3)&&(u[C]&&k.reflow(k.box.alignTo(u[C].box,l).translate(0,k.options.margin)),_&&(u[C]=k)),0!==w&&(k.alignTo(n),k.reflow(k.box)))}},e.prototype.shrinkAxisWidth=function(t){for(var e=this.groupAxes(t).any,n=Uo(e),r=0,o=0;o<t.length;o++){var i=t[o];i.axes.length>0&&(r=Math.max(r,n.width()-i.contentBox.width()))}if(0!==r)for(var a=0;a<e.length;a++){var s=e[a];s.options.vertical||s.reflow(s.box.shrink(r,0))}},e.prototype.shrinkAxisHeight=function(t){for(var e,n=0;n<t.length;n++){var r=t[n],o=r.axes,i=Math.max(0,Uo(o).height()-r.contentBox.height());if(0!==i){for(var a=0;a<o.length;a++){var s=o[a];s.options.vertical&&s.reflow(s.box.shrink(0,i))}e=!0}}return e},e.prototype.fitAxes=function(t){for(var e=this.groupAxes(t).any,n=0,r=0;r<t.length;r++){var o=t[r],i=o.axes,a=o.contentBox;if(i.length>0){var s=Uo(i),l=Math.max(a.y1-s.y1,a.y2-s.y2);n=Math.max(n,a.x1-s.x1);for(var c=0;c<i.length;c++){var u=i[c];u.reflow(u.box.translate(0,l))}}}for(var p=0;p<e.length;p++){var h=e[p];h.reflow(h.box.translate(n,0))}},e.prototype.reflowAxes=function(t){for(var e=this.groupAxes(t),n=0;n<t.length;n++)this.reflowPaneAxes(t[n]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t),this.autoRotateAxisLabels(e),this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t)&&this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t),this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t)&&this.alignAxes(e.x,e.y),this.fitAxes(t))},e.prototype.autoRotateAxisLabels=function(t){for(var e,n=this.panes,r=qo(n),o=0;o<r.length;o++){r[o].autoRotateLabels()&&(e=!0)}if(e){for(var i=0;i<n.length;i++)this.reflowPaneAxes(n[i]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(n))}},e.prototype.reflowPaneAxes=function(t){var e=t.axes,n=e.length;if(n>0)for(var r=0;r<n;r++)e[r].reflow(t.contentBox)},e.prototype.reflowCharts=function(t){for(var e=this.charts,n=e.length,r=this.box,o=0;o<n;o++){var i=e[o].pane;i&&!pt(i,t)||e[o].reflow(r)}},e.prototype.reflowPanes=function(){for(var t=this.box,e=this.panes,n=e.length,r=t.height(),o=0,i=t.y1,a=0;a<n;a++){var s=e[a],l=s.options.height;if(s.options.width=t.width(),s.options.height){if(l.indexOf&&l.indexOf("%")){var c=parseInt(l,10)/100;s.options.height=c*t.height()}s.reflow(t.clone()),r-=s.options.height}else o++}for(var u=0;u<n;u++){var p=e[u];p.options.height||(p.options.height=r/o)}for(var h=0;h<n;h++){var d=e[h],f=t.clone().move(t.x1,i);d.reflow(f),i+=d.options.height}},e.prototype.backgroundBox=function(){for(var t,e=this.axes,n=e.length,r=0;r<n;r++)for(var o=e[r],i=0;i<n;i++){var a=e[i];if(o.options.vertical!==a.options.vertical){var s=o.lineBox().clone().wrap(a.lineBox());t=t?t.wrap(s):s}}return t||this.box},e.prototype.chartsBoxes=function(){for(var t=this.panes,e=[],n=0;n<t.length;n++)e.push(t[n].chartsBox());return e},e.prototype.addBackgroundPaths=function(t){for(var e=this.chartsBoxes(),n=0;n<e.length;n++)t.paths.push(_.drawing.Path.fromRect(e[n].toRect()))},e.prototype.backgroundContainsPoint=function(t){for(var e=this.chartsBoxes(),n=0;n<e.length;n++)if(e[n].containsPoint(t))return!0},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e,n=this.options.plotArea,r=n.opacity,o=n.background,i=n.border;void 0===i&&(i={}),""!==(e=o)&&null!==e&&"none"!==e&&"transparent"!==e&&xt(e)||(o=b,r=0);var a=this._bgVisual=new _.drawing.MultiPath({fill:{color:o,opacity:r},stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType},zIndex:-1});this.addBackgroundPaths(a),this.appendVisual(a)},e.prototype.pointsByCategoryIndex=function(t){var e=this.charts,n=[];if(null!==t)for(var r=0;r<e.length;r++){if("_navigator"!==e[r].pane.options.name){var o=e[r].categoryPoints[t];if(o&&o.length)for(var i=0;i<o.length;i++){var a=o[i];a&&xt(a.value)&&null!==a.value&&n.push(a)}}}return n},e.prototype.pointsBySeriesIndex=function(t){return this.filterPoints((function(e){return e.series.index===t}))},e.prototype.pointsBySeriesName=function(t){return this.filterPoints((function(e){return e.series.name===t}))},e.prototype.filterPoints=function(t){for(var e=this.charts,n=[],r=0;r<e.length;r++)for(var o=e[r].points,i=0;i<o.length;i++){var a=o[i];a&&!1!==a.visible&&t(a)&&n.push(a)}return n},e.prototype.findPoint=function(t){for(var e=this.charts,n=0;n<e.length;n++)for(var r=e[n].points,o=0;o<r.length;o++){var i=r[o];if(i&&!1!==i.visible&&t(i))return i}},e.prototype.paneByPoint=function(t){for(var e=this.panes,n=0;n<e.length;n++){var r=e[n];if(r.box.containsPoint(t))return r}},e.prototype.detachLabels=function(){var t=this.groupAxes(this.panes),e=t.x,n=t.y;this.detachAxisGroupLabels(n,e),this.detachAxisGroupLabels(e,n)},e.prototype.detachAxisGroupLabels=function(t,e){for(var n=0,r=0;r<t.length;r++){var o=t[r],i=o.pane,a=Wo(e,i)||e[0],s=r+n,l=this.createLabelAxis(o,s,a);if(l){n++;var c=i.axes.indexOf(o)+n;i.appendAxisAt(l,c)}}},e.prototype.createLabelAxis=function(t,e,n){var r=t.options.labels,o=r.position,i="end"!==o&&"start"!==o,a=r.visible;if(i||!1===a)return null;var s=this.groupAxes(this.panes),l=n.options.vertical?s.x:s.y,c=this.axisCrossingValues(n,l),u="end"===o,p=n.range(),h=u?p.max:p.min;if(Et(c[e],p.min,p.max)-h==0)return null;c.splice(e+1,0,h),n.options.axisCrossingValues=c;var d=t.clone();return t.clear(),d.options.name=void 0,d.options.line.visible=!1,d.options.crosshair=void 0,d.options.notes=void 0,d.options.plotBands=void 0,d},e}(re);function Ho(t){return!t.pane.axes.some((function(e){return e.options.vertical===t.options.vertical&&e!==t&&!1!==e.options.visible}))}function Uo(t){for(var e,n=t.length,r=0;r<n;r++){var o=t[r],i=!1!==o.options.visible;if(i||Ho(o)){var a=i?o.contentBox():o.lineBox();e?e.wrap(a):e=a.clone()}}return e||new Zt}function Wo(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r&&r.pane===e)return r}}var qo=function(t){return t.reduce((function(t,e){return t.concat(e.axes)}),[])};Rt(Vo,{series:[],plotArea:{margin:{}},background:"",border:{color:s,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});var Ko=Vo,Go={hover:function(t,e){this._dispatchEvent(t,e,"plotAreaHover")},click:function(t,e){this._dispatchEvent(t,e,"plotAreaClick")}};function Yo(t,e,n){var r=e,o=t;if(t.indexOf(".")>-1){for(var i=t.split(".");i.length>1;)o=i.shift(),xt(r[o])||(r[o]={}),r=r[o];o=i.shift()}r[o]=n}var Xo=function(t){function e(e,n,r){t.call(this);var o=n.canonicalFields(e),i=n.valueFields(e),a=n.sourceFields(e,o),s=this._seriesFields=[],l=r.query(e.type),c=e.aggregate||l;this._series=e,this._binder=n;for(var u=0;u<o.length;u++){var p=o[u],h=void 0;if(M(c))h=c[p];else{if(0!==u&&!pt(p,i))break;h=c}h&&s.push({canonicalName:p,name:a[u],transform:P(h)?h:Vn[h]})}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.aggregatePoints=function(t,e){var n=this._series,r=this._seriesFields,o=this._bindPoints(t||[]),i=o.dataItems[0],a={};if(i&&!I(i)&&!k(i)){var s=function(){};s.prototype=i,a=new s}for(var l=0;l<r.length;l++){var c=r[l],u=this._bindField(o.values,c.canonicalName),p=c.transform(u,n,o.dataItems,e);if(!(null===p||!M(p)||xt(p.length)||p instanceof Date)){a=p;break}xt(p)&&Yo(c.name,a,p)}return a},e.prototype._bindPoints=function(t){for(var e=this._binder,n=this._series,r=[],o=[],i=0;i<t.length;i++){var a=t[i];r.push(e.bindPoint(n,a)),o.push(n.data[a])}return{values:r,dataItems:o}},e.prototype._bindField=function(t,e){for(var n=[],r=t.length,o=0;o<r;o++){var i=t[o],a=i.valueFields,s=void 0;s=xt(a[e])?a[e]:i.fields[e],n.push(s)}return n},e}(_.Class),$o=function(t){function e(){t.call(this),this._defaults={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e){for(var n=0;n<t.length;n++)this._defaults[t[n]]=e},e.prototype.query=function(t){return this._defaults[t]},e}(_.Class);$o.current=new $o;var Zo=$o,Jo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLabel=function(){var t=this.options.labels,e=j({},t,t.from),n=j({},t,t.to);e.visible&&(this.labelFrom=this._createLabel(e),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo))},e.prototype._createLabel=function(t){var e,n=rt(t),r=this.pointData();return e=n?n(r):this.formatValue(t.format),new Nr(e,j({vertical:this.options.vertical},t),r)},e.prototype.reflow=function(t){this.render();var e=this.labelFrom,n=this.labelTo,r=this.value;this.box=t,e&&(e.options.aboveAxis=r.from>r.to,e.reflow(t)),n&&(n.options.aboveAxis=r.to>r.from,n.reflow(t)),this.note&&this.note.reflow(t)},e}(zr);Jo.prototype.defaults=j({},Jo.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});var Qo=Jo,ti=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return Qo},e.prototype.pointValue=function(t){return t.valueFields},e.prototype.formatPointValue=function(t,e){return null===t.value.from&&null===t.value.to?"":this.chartService.format.auto(e,t.value.from,t.value.to)},e.prototype.plotRange=function(t){return t?[t.value.from,t.value.to]:0},e.prototype.updateRange=function(t,e){var n=e.series.axis,r=t.from,o=t.to,i=this.valueAxisRanges[n];null!==t&&I(r)&&I(o)&&((i=this.valueAxisRanges[n]=i||{min:f,max:m}).min=Math.min(i.min,r),i.max=Math.max(i.max,r),i.min=Math.min(i.min,o),i.max=Math.max(i.max,o))},e.prototype.aboveAxis=function(t){var e=t.value;return e.from<e.to},e}(Gr);ti.prototype.plotLimits=ur.prototype.plotLimits;var ei=ti,ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.aliasFor=function(){return this.parent},e}(fr),ri=function(t){function e(e,n){t.call(this),this.value=e,this.options=n,this.aboveAxis=At(this.options.aboveAxis,!0),this.tooltipTracking=!0,this.initLabelsFormat()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){if(!this._rendered){this._rendered=!0;var t=this.options,e=t.markers,n=t.labels,r=this.value,o=this.fromPoint=new ni(r,j({},this.options,{labels:n.from,markers:e.from})),i=this.toPoint=new ni(r,j({},this.options,{labels:n.to,markers:e.to}));this.copyFields(o),this.copyFields(i),this.append(o),this.append(i)}},e.prototype.reflow=function(t){this.render();var e=t.from,n=t.to;this.positionLabels(e,n),this.fromPoint.reflow(e),this.toPoint.reflow(n),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())},e.prototype.createHighlight=function(){var t=new _.drawing.Group;return t.append(this.fromPoint.createHighlight()),t.append(this.toPoint.createHighlight()),t},e.prototype.highlightVisual=function(){return this.visual},e.prototype.highlightVisualArgs=function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}},e.prototype.tooltipAnchor=function(){var t=this.owner.pane.clipBox();if(!t||t.overlaps(this.box)){var e,n,r,o=this.box,i=o.center();return this.options.vertical?(e=i.x,n=o.y1-5,r=l):(e=o.x2+5,n=i.y,r=c),{point:new Xt(e,n),align:{horizontal:"left",vertical:r}}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.unclipElements=function(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()},e.prototype.initLabelsFormat=function(){var t=this.options.labels;t.format||(t.from&&t.from.format||(t.from=Object.assign({},t.from,{format:"{0}"})),t.to&&t.to.format||(t.to=Object.assign({},t.to,{format:"{1}"})))},e.prototype.positionLabels=function(t,e){var n,r,o=this.options,i=o.labels,a=o.vertical;"auto"===i.position&&(a?e.y1<=t.y1?(r="above",n="below"):(r="below",n="above"):e.x1<=t.x1?(r=d,n=v):(r=v,n=d),i.from&&i.from.position||(this.fromPoint.options.labels.position=n),i.to&&i.to.position||(this.toPoint.options.labels.position=r))},e.prototype.copyFields=function(t){t.dataItem=this.dataItem,t.category=this.category,t.series=this.series,t.color=this.color,t.owner=this.owner},e}(re);j(ri.prototype,pr),j(ri.prototype,hr),ri.prototype.defaults={markers:{visible:!1,background:b,size:8,type:u,border:{width:2},opacity:1},labels:{visible:!1,margin:z(3),padding:z(4),animation:{type:"fadeIn",delay:600},position:"auto"},notes:{label:{}},highlight:{markers:{border:{color:b,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"}};var oi=ri,ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),t},e.prototype.createStroke=function(t){var e=new _.drawing.Path(t),n=new _.drawing.Path(t);e.segments.push.apply(e.segments,this.strokeSegments()),n.segments.push.apply(n.segments,this.stackSegments()),this.visual.append(e),this.visual.append(n)},e.prototype.hasStackSegment=function(){return!0},e.prototype.fromPoints=function(){return this.linePoints.map((function(t){return t.fromPoint}))},e.prototype.toPoints=function(){return this.linePoints.map((function(t){return t.toPoint}))},e}(Tr),ai=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.createCurveSegments(this.toPoints())},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),t},e.prototype.createCurveSegments=function(t){return(new jn).process(this.toGeometryPoints(t))},e}(ii),si=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))},e.prototype.stackSegments=function(){var t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()))).reverse(),t},e}(ii);j(si.prototype,yr);var li=si,ci=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.renderSegments()},e.prototype.pointType=function(){return oi},e.prototype.createPoint=function(t,e){var n=e.categoryIx,r=e.category,o=e.series,i=e.seriesIx,a=t.valueFields;if(!oo(a.from)&&!oo(a.to)){if(this.seriesMissingValues(o)!==$n)return null;a={from:0,to:0}}var s=this.pointOptions(o,i);s=this.evalPointOptions(s,a,r,n,o,i);var l=t.fields.color||o.color;P(o.color)&&(l=s.color);var c=new oi(a,s);return c.color=l,this.append(c),c},e.prototype.createSegment=function(t,e,n){var r=(e.line||{}).style;return new("smooth"===r?ai:"step"===r?li:ii)(t,e,n)},e.prototype.plotRange=function(t,e){return t?[t.value.from,t.value.to]:[e,e]},e.prototype.valueSlot=function(t,e){var n=t.getSlot(e[0],e[0],!this.options.clip),r=t.getSlot(e[1],e[1],!this.options.clip);if(n&&r)return{from:n,to:r}},e.prototype.pointSlot=function(t,e){var n,r,o=e.from,i=e.to;return this.options.invertAxes?(n=new Zt(o.x1,t.y1,o.x2,t.y2),r=new Zt(i.x1,t.y1,i.x2,t.y2)):(n=new Zt(t.x1,o.y1,t.x2,o.y2),r=new Zt(t.x1,i.y1,t.x2,i.y2)),{from:n,to:r}},e.prototype.addValue=function(e,n){var r=e.valueFields;I(r.from)||(r.from=r.to),I(r.to)||(r.to=r.from),t.prototype.addValue.call(this,e,n)},e.prototype.updateRange=function(t,e){if(null!==t&&I(t.from)&&I(t.to)){var n=e.series.axis,r=this.valueAxisRanges[n]=this.valueAxisRanges[n]||{min:f,max:m},o=t.from,i=t.to;r.min=Math.min(r.min,o,i),r.max=Math.max(r.max,o,i)}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.from,n.to)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++){var r=t[n];r&&(e.push((r.fromPoint||{}).marker),e.push((r.toPoint||{}).marker))}return e.concat(this._segments)},e}(ur);j(ci.prototype,kr,Sr);var ui=ci,pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=this.value,r=this.owner.seriesValueAxis(e),o=[],i=[],a=[],s=r.getSlot(n.low,n.high),l=r.getSlot(n.open,n.open),c=r.getSlot(n.close,n.close);l.x1=c.x1=s.x1=t.x1,l.x2=c.x2=s.x2=t.x2;var u=s.center().x;o.push([l.x1,l.y1]),o.push([u,l.y1]),i.push([u,c.y1]),i.push([c.x2,c.y1]),a.push([u,s.y1]),a.push([u,s.y2]),this.lines=[o,i,a],this.box=s.clone().wrap(l.clone().wrap(c)),this.reflowNote()},e.prototype.createBody=function(){},e}(Xr),hi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return pi},e}(Jr),di=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.series=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linePoints=function(){var t=this.from,e=this.from.box,n=this.to.box,r=[];if(t.isVertical){var o=t.aboveAxis?e.y1:e.y2;r.push([e.x1,o],[n.x2,o])}else{var i=t.aboveAxis?e.x2:e.x1;r.push([i,e.y1],[i,n.y2])}return r},e.prototype.createVisual=function(){t.prototype.createVisual.call(this);var e=this.series.line||{},n=_.drawing.Path.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}});S(n),this.visual.append(n)},e}(re);Rt(di,{animation:{type:"fadeIn",delay:600}});var fi=di,mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.createSegments()},e.prototype.traverseDataPoints=function(t){for(var e=this.options.series,n=lr(e),r=!this.options.invertAxes,o=0;o<e.length;o++)for(var i=e[o],a=0,s=0,l=0;l<n;l++){var c=Wn.current.bindPoint(i,l),u=c.valueFields.value,p=c.fields.summary,h=a,d=void 0;p?"total"===p.toLowerCase()?(c.valueFields.value=a,h=0,d=a):(c.valueFields.value=s,d=h-s,s=0):I(u)&&(s+=u,d=a+=u),t(c,{category:this.categoryAxis.categoryAt(l),categoryIx:l,series:i,seriesIx:o,total:a,runningTotal:s,from:h,to:d,isVertical:r})}},e.prototype.updateRange=function(e,n){t.prototype.updateRange.call(this,{value:n.to},n)},e.prototype.aboveAxis=function(t){return t.value>=0},e.prototype.plotRange=function(t){return[t.from,t.to]},e.prototype.createSegments=function(){for(var t=this.options.series,e=this.seriesPoints,n=this.segments=[],r=0;r<t.length;r++){var o=t[r],i=e[r];if(i)for(var a=void 0,s=0;s<i.length;s++){var l=i[s];if(l&&a){var c=new fi(a,l,o);n.push(c),this.append(c)}a=l}}},e}(Gr),vi=["area","verticalArea","rangeArea","verticalRangeArea"],gi=[Qn,er].concat(vi),yi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(t){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new Mr,t.length>0){this.invertAxes=pt(t[0].type,[Zn,"bullet",er,"verticalArea","verticalRangeArea","rangeBar","horizontalWaterfall","verticalBoxPlot"]);for(var e=0;e<t.length;e++){var n=t[e].stack;if(n&&"100%"===n.type){this.stack100=!0;break}}}},e.prototype.render=function(t){void 0===t&&(t=this.panes),this.createCategoryAxes(t),this.aggregateCategories(t),this.createCategoryAxesLabels(t),this.createCharts(t),this.createValueAxes(t)},e.prototype.removeAxis=function(e){var n=e.options.name;t.prototype.removeAxis.call(this,e),e instanceof Ze?delete this.namedCategoryAxes[n]:(this.valueAxisRangeTracker.reset(n),delete this.namedValueAxes[n]),e===this.categoryAxis&&delete this.categoryAxis,e===this.valueAxis&&delete this.valueAxis},e.prototype.createCharts=function(t){for(var e=this.groupSeriesByPane(),n=0;n<t.length;n++){var r=t[n],o=e[r.options.name||"default"]||[];this.addToLegend(o);var i=this.filterVisibleSeries(o);if(i)for(var a=this.groupSeriesByCategoryAxis(i),s=0;s<a.length;s++)this.createChartGroup(a[s],r)}},e.prototype.createChartGroup=function(t,e){this.createAreaChart(jo(t,["area","verticalArea"]),e),this.createRangeAreaChart(jo(t,["rangeArea","verticalRangeArea"]),e),this.createBarChart(jo(t,[Jn,Zn]),e),this.createRangeBarChart(jo(t,["rangeColumn","rangeBar"]),e),this.createBulletChart(jo(t,["bullet","verticalBullet"]),e),this.createCandlestickChart(jo(t,"candlestick"),e),this.createBoxPlotChart(jo(t,["boxPlot","verticalBoxPlot"]),e),this.createOHLCChart(jo(t,"ohlc"),e),this.createWaterfallChart(jo(t,["waterfall","horizontalWaterfall"]),e),this.createLineChart(jo(t,[Qn,er]),e)},e.prototype.aggregateCategories=function(t){var e=this.srcSeries||this.series,n=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(var r=0;r<e.length;r++){var o=e[r],i=this.seriesCategoryAxis(o),a=this.findPane(i.options.pane);o=(Ao(i.options.type,p)||o.categoryField)&&pt(a,t)?this.aggregateSeries(o,i):this.filterSeries(o,i),n.push(o)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=e,this.series=n},e.prototype.filterSeries=function(t,e){var n=(t.data||{}).length;if(e._seriesMax=Math.max(e._seriesMax||0,n),!I(e.options.min)&&!I(e.options.max))return t;var r=e.currentRangeIndices(),o=pt(t.type,gi),i=j({},t);return i.data=(i.data||[]).slice(r.min,r.max+1),o&&Bo(i,r,n,(function(n){return{item:t.data[n],category:e.categoryAt(n,!0),categoryIx:n-r.min}}),(function(e){return xt(t.data[e])})),i},e.prototype.clearSeriesPointsCache=function(){this._seriesPointsCache={}},e.prototype.seriesSourcePoints=function(t,e){var n=t.index+";"+e.categoriesHash();if(this._seriesPointsCache[n])return this._currentPointsCache[n]=this._seriesPointsCache[n],this._seriesPointsCache[n];var r=e.options,o=r.srcCategories,i=Ao(r.type,p),a=t.data,s=i?Mo:Hn,l=[];i||e.mapCategories();for(var c=0;c<a.length;c++){var u=void 0;if(u=t.categoryField?s(t.categoryField,a[c],this.chartService.intl):o[c],xt(u)&&null!==u){var h=e.totalIndex(u);l[h]=l[h]||{items:[],category:u},l[h].items.push(c)}}return this._currentPointsCache[n]=l,l},e.prototype.aggregateSeries=function(t,e){if(!t.data.length)return t;for(var n=this.seriesSourcePoints(t,e),r=j({},t),o=new Xo(j({},t),Wn.current,Zo.current),i=r.data=[],a=e.options.dataItems||[],s=e.currentRangeIndices(),l=function(t){var r=t-s.min,i=n[t];if(i||(i=n[t]={}),i.categoryIx=r,!i.item){var a=e.categoryAt(t,!0);i.category=a,i.item=o.aggregatePoints(i.items,a)}return i},c=s.min;c<=s.max;c++){var u=l(c);i[u.categoryIx]=u.item,u.items&&u.items.length&&(a[u.categoryIx]=u.item)}return pt(r.type,gi)&&Bo(r,s,e.totalCount(),l,(function(t){return n[t]})),e.options.dataItems=a,r},e.prototype.appendChart=function(e,n){var r=e.options.series,o=this.seriesCategoryAxis(r[0]),i=o.options.categories,a=Math.max(0,lr(r)-i.length);if(a>0)for(i=o.options.categories=o.options.categories.slice(0);a--;)i.push("");this.valueAxisRangeTracker.update(e.valueAxisRanges),t.prototype.appendChart.call(this,e,n)},e.prototype.seriesPaneName=function(t){var e=this.options,n=t.axis,r=st([].concat(e.valueAxis),(function(t){return t.name===n}))[0],o=((e.panes||[{}])[0]||{}).name||"default";return(r||{}).pane||o},e.prototype.seriesCategoryAxis=function(t){var e=t.categoryAxis,n=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!n)throw new Error("Unable to locate category axis with name "+e);return n},e.prototype.stackableChartOptions=function(t,e){var n=t.stack;return{isStacked:n,isStacked100:n&&"100%"===n.type,clip:e.options.clip}},e.prototype.groupSeriesByCategoryAxis=function(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r].categoryAxis||"$$default$$";n.hasOwnProperty(o)||(n[o]=!0,e.push(o))}for(var i=[],a=0;a<e.length;a++){var s=xi(t,e[a],a);0!==s.length&&i.push(s)}return i},e.prototype.createBarChart=function(t,e){if(0!==t.length){var n=t[0],r=new Gr(this,Object.assign({series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing},this.stackableChartOptions(n,e)));this.appendChart(r,e)}},e.prototype.createRangeBarChart=function(t,e){if(0!==t.length){var n=t[0],r=new ei(this,{series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(r,e)}},e.prototype.createBulletChart=function(t,e){if(0!==t.length){var n=t[0],r=new go(this,{series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createLineChart=function(t,e){if(0!==t.length){var n=t[0],r=new Ir(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(n,e)));this.appendChart(r,e)}},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var n=t[0],r=new jr(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(n,e)));this.appendChart(r,e)}},e.prototype.createRangeAreaChart=function(t,e){if(0!==t.length){var n=new ui(this,{invertAxes:this.invertAxes,series:t,clip:e.options.clip});this.appendChart(n,e)}},e.prototype.createOHLCChart=function(t,e){if(0!==t.length){var n=t[0],r=new hi(this,{invertAxes:this.invertAxes,gap:n.gap,series:t,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createCandlestickChart=function(t,e){if(0!==t.length){var n=t[0],r=new Jr(this,{invertAxes:this.invertAxes,gap:n.gap,series:t,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createBoxPlotChart=function(t,e){if(0!==t.length){var n=t[0],r=new no(this,{invertAxes:this.invertAxes,gap:n.gap,series:t,spacing:n.spacing,clip:e.options.clip});this.appendChart(r,e)}},e.prototype.createWaterfallChart=function(t,e){if(0!==t.length){var n=t[0],r=new mi(this,{series:t,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(r,e)}},e.prototype.axisRequiresRounding=function(t,e){for(var n=jo(this.series,nr),r=0;r<this.series.length;r++){var o=this.series[r];if(pt(o.type,vi)){var i=o.line;i&&"step"===i.style&&n.push(o)}}for(var a=0;a<n.length;a++){var s=n[a].categoryAxis||"";if(s===t||!s&&0===e)return!0}},e.prototype.aggregatedAxis=function(t,e){for(var n=this.series,r=0;r<n.length;r++){var o=n[r].categoryAxis||"";if((o===t||!o&&0===e)&&n[r].categoryField)return!0}},e.prototype.createCategoryAxesLabels=function(){for(var t=this.axes,e=0;e<t.length;e++)t[e]instanceof Ze&&t[e].createLabels()},e.prototype.createCategoryAxes=function(t){for(var e=this.invertAxes,n=[].concat(this.options.categoryAxis),r=[],o=0;o<n.length;o++){var i=n[o];if(pt(this.findPane(i.pane),t)){var a=i.name,s=i.categories;void 0===s&&(s=[]),i=j({vertical:e,reverse:!e&&this.chartService.rtl,axisCrossingValue:e?f:0},i),xt(i.justified)||(i.justified=this.isJustified()),this.axisRequiresRounding(a,o)&&(i.justified=!1);var l=void 0;if(l=Ro(i,s[0])?new sn(i,this.chartService):new Ze(i,this.chartService),n[o].categories=l.options.srcCategories,a){if(this.namedCategoryAxes[a])throw new Error("Category axis with name "+a+" is already defined");this.namedCategoryAxes[a]=l}l.axisIndex=o,r.push(l),this.appendAxis(l)}}var c=this.categoryAxis||r[0];this.categoryAxis=c,e?this.axisY=c:this.axisX=c},e.prototype.isJustified=function(){for(var t=this.series,e=0;e<t.length;e++){if(!pt(t[e].type,vi))return!1}return!0},e.prototype.createValueAxes=function(t){var e=this.valueAxisRangeTracker,n=e.query(),r=[].concat(this.options.valueAxis),o=this.invertAxes,i={vertical:!o,reverse:o&&this.chartService.rtl},a=[];this.stack100&&(i.roundToMajorUnit=!1,i.labels={format:"P0"});for(var s=0;s<r.length;s++){var l=r[s];if(pt(this.findPane(l.pane),t)){var c=l.name,u=Ao(l.type,"log")?{min:.1,max:1}:{min:0,max:1},p=e.query(c)||n||u;0===s&&p&&n&&(p.min=Math.min(p.min,n.min),p.max=Math.max(p.max,n.max));var h=new(Ao(l.type,"log")?xn:fn)(p.min,p.max,j({},i,l),this.chartService);if(c){if(this.namedValueAxes[c])throw new Error("Value axis with name "+c+" is already defined");this.namedValueAxes[c]=h}h.axisIndex=s,a.push(h),this.appendAxis(h)}}var d=this.valueAxis||a[0];this.valueAxis=d,o?this.axisX=d:this.axisY=d},e.prototype._dispatchEvent=function(t,e,n){var r=t._eventCoordinates(e),o=new Xt(r.x,r.y),i=this.pointPane(o),a=[],s=[];if(i){for(var l=i.axes,c=0;c<l.length;c++){var u=l[c];u.getValue?To(s,u.getValue(o)):To(a,u.getCategory(o))}0===a.length&&To(a,this.categoryAxis.getCategory(o)),a.length>0&&s.length>0&&t.trigger(n,{element:Ct(e),originalEvent:e,category:No(a),value:No(s)})}},e.prototype.pointPane=function(t){for(var e=this.panes,n=0;n<e.length;n++){var r=e[n];if(r.contentBox.containsPoint(t))return r}},e.prototype.updateAxisOptions=function(t,e){bi(this.options,t,e),bi(this.originalOptions,t,e)},e}(Ko);function bi(t,e,n){j([].concat(e instanceof Ze?t.categoryAxis:t.valueAxis)[e.axisIndex],n)}function xi(t,e,n){return st(t,(function(t){return 0===n&&!t.categoryAxis||t.categoryAxis===e}))}Rt(yi,{categoryAxis:{},valueAxis:{}}),j(yi.prototype,Go);var wi=yi;function ki(){this._defaultPrevented=!0}var Oi=function(t){function e(){t.call(this),this._points=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._points=[]},e.prototype.show=function(t,e){var n=[].concat(t);this.hide();for(var r=0;r<n.length;r++){var o=n[r];o&&o.toggleHighlight&&o.hasHighlight()&&(this.togglePointHighlight(o,!0,e),this._points.push(o))}},e.prototype.togglePointHighlight=function(t,e,n){var r=(t.options.highlight||{}).toggle;if(r){var o={category:t.category,series:t.series,dataItem:t.dataItem,value:t.value,stackValue:t.stackValue,preventDefault:ki,visual:t.highlightVisual(),show:e};r(o),o._defaultPrevented||t.toggleHighlight(e,n)}else t.toggleHighlight(e,n)},e.prototype.hide=function(){for(var t=this._points;t.length;)this.togglePointHighlight(t.pop(),!1)},e.prototype.isHighlighted=function(t){for(var e=this._points,n=0;n<e.length;n++){if(t===e[n])return!0}return!1},e}(_.Class);function Ci(t,e){var n=(e||"").toLowerCase(),r=t.event;return"none"===n&&!(r.ctrlKey||r.shiftKey||r.altKey)||r[n+"Key"]}function _i(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.axis.options.name&&(e[r.axis.options.name]={min:r.range.min,max:r.range.max})}return e}var Si=function(t){function e(e,n){t.call(this),this.plotArea=e,this.options=j({},this.options,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.start=function(t){return this._active=Ci(t,this.options.key),this._active},e.prototype.move=function(t){if(this._active){var e=this.axisRanges=this._panAxes(t,x).concat(this._panAxes(t,w));if(e.length)return this.axisRanges=e,_i(e)}},e.prototype.end=function(){var t=this._active;return this._active=!1,t},e.prototype.pan=function(){var t=this.plotArea,e=this.axisRanges;if(e.length){for(var n=0;n<e.length;n++){var r=e[n];t.updateAxisOptions(r.axis,r.range)}t.redraw(t.panes)}},e.prototype.destroy=function(){delete this.plotArea},e.prototype._panAxes=function(t,e){var n=this.plotArea,r=-t[e].delta,o=(this.options.lock||"").toLowerCase(),i=[];if(0!==r&&(o||"").toLowerCase()!==e)for(var a=n.axes,s=0;s<a.length;s++){var l=a[s];if(e===x&&!l.options.vertical||e===w&&l.options.vertical){var c=l.pan(r);c&&(c.limitRange=!0,i.push({axis:l,range:c}))}}return i},e}(_.Class);Si.prototype.options={key:"none",lock:"none"};var Ei=Si,Ii=function(t){function e(e,n){t.call(this),this.chart=e,this.options=j({},this.options,n),this.createElement()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createElement=function(){var t=this._marquee=document.createElement("div");t.className="k-marquee";var e=document.createElement("div");e.className="k-marquee-color",t.appendChild(e)},e.prototype.removeElement=function(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)},e.prototype.setStyles=function(t){L(this._marquee,t)},e.prototype.start=function(t){if(Ci(t,this.options.key)){var e=this.chart,n=e._eventCoordinates(t),r=this._zoomPane=e._plotArea.paneByPoint(n),o=r?r.chartsBox().clone():null;if(r&&o){var i=this._elementOffset();return o.translate(i.left,i.top),this._zoomPaneClipBox=o,document.body.appendChild(this._marquee),this.setStyles({left:t.pageX+1,top:t.pageY+1,width:0,height:0}),!0}}return!1},e.prototype._elementOffset=function(){var t=this.chart.element,e=L(t,["paddingLeft","paddingTop"]),n=e.paddingLeft,r=e.paddingTop,o=kt(t);return{left:n+o.left,top:r+o.top}},e.prototype.move=function(t){this._zoomPane&&this.setStyles(this._selectionPosition(t))},e.prototype.end=function(t){if(this._zoomPane){var e=this._elementOffset(),n=this._selectionPosition(t);n.left-=e.left,n.top-=e.top;var r={x:n.left,y:n.top},o={x:n.left+n.width,y:n.top+n.height};return this._updateAxisRanges(r,o),this.removeElement(),delete this._zoomPane,_i(this.axisRanges)}},e.prototype.zoom=function(){var t=this.axisRanges;if(t&&t.length){for(var e=this.chart._plotArea,n=0;n<t.length;n++){var r=t[n];e.updateAxisOptions(r.axis,r.range)}e.redraw(e.panes)}},e.prototype.destroy=function(){this.removeElement(),delete this._marquee,delete this.chart},e.prototype._updateAxisRanges=function(t,e){for(var n=(this.options.lock||"").toLowerCase(),r=[],o=this._zoomPane.axes,i=0;i<o.length;i++){var a=o[i],s=a.options.vertical;if((n!==x||s)&&(n!==w||!s)&&xt(a.axisIndex)){var l=a.pointsRange(t,e);l&&r.push({axis:a,range:l})}}this.axisRanges=r},e.prototype._selectionPosition=function(t){var e=this._zoomPaneClipBox,n={x:t.x.startLocation,y:t.y.startLocation},r=t.x.location,o=t.y.location,i=(this.options.lock||"").toLowerCase(),a=Math.min(n.x,r),s=Math.min(n.y,o),l=Math.abs(n.x-r),c=Math.abs(n.y-o);return i===x&&(a=e.x1,l=e.width()),i===w&&(s=e.y1,c=e.height()),r>e.x2&&(l=e.x2-n.x),r<e.x1&&(l=n.x-e.x1),o>e.y2&&(c=e.y2-n.y),o<e.y1&&(c=n.y-e.y1),{left:Math.max(a,e.x1),top:Math.max(s,e.y1),width:l,height:c}},e}(_.Class);Ii.prototype.options={key:"shift",lock:"none"};var Ti=Ii,Di=function(t){function e(e,n){t.call(this),this.chart=e,this.options=j({},this.options,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.updateRanges=function(t){for(var e=(this.options.lock||"").toLowerCase(),n=[],r=this.chart._plotArea.axes,o=0;o<r.length;o++){var i=r[o],a=i.options.vertical;if((e!==x||a)&&(e!==w||!a)&&i.zoomRange){var s=i.zoomRange(-t);s&&n.push({axis:i,range:s})}}return this.axisRanges=n,_i(n)},e.prototype.zoom=function(){var t=this.axisRanges,e=this.chart._plotArea;if(t&&t.length&&e.updateAxisOptions){for(var n=0;n<t.length;n++){var r=t[n];e.updateAxisOptions(r.axis,r.range)}e.redraw(e.panes)}},e.prototype.destroy=function(){delete this.chart},e}(_.Class),Pi=function(t){function e(e,n){t.call(this,e),this.chartService=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.children,e=this.options,n=e.vertical;this.visual=new _.drawing.Layout(null,{spacing:n?0:e.spacing,lineSpacing:n?e.spacing:0,orientation:n?"vertical":"horizontal",reverse:e.rtl,alignItems:n?"start":"center"});for(var r=0;r<t.length;r++){var o=t[r];o.reflow(new Zt),o.renderVisual()}},e.prototype.reflow=function(t){this.visual.rect(t.toRect()),this.visual.reflow();var e=this.visual.clippedBBox();this.box=e?ge(e):new Zt},e.prototype.renderVisual=function(){this.addVisual()},e.prototype.createVisual=function(){},e}(re),Ai=function(t){function e(e){t.call(this,e),this.createContainer(),e.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createContainer=function(){this.container=new de({vertical:!1,wrap:!1,align:c,spacing:this.options.spacing}),this.append(this.container)},e.prototype.createMarker=function(){this.container.append(new se(this.markerOptions()))},e.prototype.markerOptions=function(){var t=this.options,e=t.markerColor;return j({},t.markers,{background:e,border:{color:e}})},e.prototype.createLabel=function(){var t=this.options,e=j({},t.labels);this.container.append(new be(t.text,e))},e.prototype.renderComplete=function(){t.prototype.renderComplete.call(this);var e=this.options.cursor||{},n=this._itemOverlay=_.drawing.Path.fromRect(this.container.box.toRect(),{fill:{color:b,opacity:0},stroke:null,cursor:e.style||e});this.appendVisual(n)},e.prototype.click=function(t,e){var n=this.eventArgs(e);!t.trigger("legendItemClick",n)&&e&&"contextmenu"===e.type&&e.preventDefault()},e.prototype.over=function(t,e){var n=this.eventArgs(e);return t.trigger("legendItemHover",n)||t._legendItemHover(n.seriesIndex,n.pointIndex),!0},e.prototype.out=function(t,e){t._unsetActivePoint(),t.trigger("legendItemLeave",this.eventArgs(e))},e.prototype.eventArgs=function(t){var e=this.options;return{element:Ct(t),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}},e.prototype.renderVisual=function(){var e=this,n=this.options,r=n.visual;r?(this.visual=r({active:n.active,series:n.series,sender:this.getSender(),pointIndex:n.pointIndex,options:{markers:this.markerOptions(),labels:n.labels},createVisual:function(){e.createVisual(),e.renderChildren(),e.renderComplete();var t=e.visual;return delete e.visual,t}}),this.addVisual()):t.prototype.renderVisual.call(this)},e}(ie),ji=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,e),this.chartService=n,pt(this.options.position,[g,v,l,d,"custom"])||(this.options.position=v),this.createContainers(),this.createLegendTitle(e.title),this.createItems()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createContainers=function(){var t=this.options,e=t.position,n=t.align,r=e,o=c;"custom"===e?r=d:pt(e,[g,l])?(r="start"===n?d:"end"===n?v:c,o=e):n&&("start"===n?o=g:"end"===n&&(o=l)),this.container=new ie({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:o,align:r,zIndex:t.zIndex,shrinkToFit:!0}),this.hasTitle()?this.itemsContainer=new ie({vAlign:o,align:r,zIndex:t.zIndex,shrinkToFit:!0}):this.itemsContainer=this.container,this.append(this.container)},e.prototype.createItems=function(){var t=this.getService(),e=this.options,n=this.isVertical(),r=new Pi({vertical:n,spacing:e.spacing,rtl:t.rtl},t),o=e.items;e.reverse&&(o=o.slice(0).reverse());for(var i=o.length,a=0;a<i;a++){var s=o[a];r.append(new Ai(j({},{markers:e.markers,labels:e.labels,rtl:t.rtl},e.item,s)))}r.render(),this.itemsContainer.append(r)},e.prototype.isVertical=function(){var t=this.options,e=t.orientation,n=t.position;return"custom"===n&&"horizontal"!==e||(xt(e)?"horizontal"!==e:pt(n,[d,v]))},e.prototype.hasItems=function(){return this.container.children[0].children.length>0},e.prototype.reflow=function(t){var e=this.options,n=t.clone();this.hasItems()?("custom"===e.position?(this.containerCustomReflow(n),this.box=n):this.containerReflow(n),this.hasTitle()&&this.title.reflow(new Zt(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))):this.box=n},e.prototype.containerReflow=function(t){var e=this.options,n=this.container,r=e.position,o=e.width,i=e.height,a=r===g||r===l?x:w,s=this.isVertical(),c=t.clone(),u=t.clone();r!==d&&r!==v||(u.y1=c.y1=0),s&&i?(u.y2=u.y1+i,u.align(c,w,n.options.vAlign)):!s&&o&&(u.x2=u.x1+o,u.align(c,x,n.options.align)),n.reflow(u);var p=(u=n.box).clone();(e.offsetX||e.offsetY)&&(u.translate(e.offsetX,e.offsetY),n.reflow(u)),p[a+1]=t[a+1],p[a+2]=t[a+2],this.box=p},e.prototype.containerCustomReflow=function(t){var e=this.options,n=this.container,r=e.offsetX,o=e.offsetY,i=e.width,a=e.height,s=this.isVertical(),l=t.clone();s&&a?l.y2=l.y1+a:!s&&i&&(l.x2=l.x1+i),n.reflow(l),l=n.box,n.reflow(new Zt(r,o,r+l.width(),o+l.height()))},e.prototype.renderVisual=function(){this.hasItems()&&t.prototype.renderVisual.call(this)},e.prototype.createLegendTitle=function(t){var e=j({},{color:s,position:g,align:c},t),n=e.text;if(t&&!1!==t.visible){if(xt(e)&&e.visible){var r=rt(e);r?n=r({text:n}):e.format&&(n=this.chartService.format.auto(e.format,n))}this.title=new be(n,e),this.createTitleLayout(),this.appendTitleLayoutContent()}},e.prototype.createTitleLayout=function(){this.layout=new de({vertical:!0,wrap:!1}),this.container.append(this.layout)},e.prototype.hasTitle=function(){return Boolean(this.options.title&&!1!==this.options.title.visible)},e.prototype.appendTitleLayoutContent=function(){this.options.title.position===l?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))},e}(re);Rt(ji,{position:v,items:[],offsetX:0,offsetY:0,margin:z(5),padding:z(5),border:{color:s,width:0},item:{cursor:"pointer",spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:d,vAlign:c}});var Mi=ji,Ri=function(t){function e(){t.call(this),this._registry=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(t,e){this._registry.push({type:t,seriesTypes:e})},e.prototype.create=function(t,e,n){for(var r,o=this._registry,i=o[0],a=0;a<o.length;a++){var s=o[a];if((r=jo(t,s.seriesTypes)).length>0){i=s;break}}return new i.type(r,e,n)},e}(_.Class);Ri.current=new Ri;var Ni=Ri;function Fi(t){var e=document.createElement("div");return t&&(e.className=t),e}function Li(t){for(var e=t;e&&!lt(e,"k-handle");)e=e.parentNode;return e}var zi=function(t){function e(e,n,r,o){t.call(this);var i=e.element;this.options=j({},this.options,r),this.chart=e,this.observer=o,this.chartElement=i,this.categoryAxis=n,this._dateAxis=this.categoryAxis instanceof sn,this.initOptions(),this.visible=this.options.visible&&i.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onPane=function(t){return this.categoryAxis.pane===t},e.prototype.createElements=function(){var t=this.options,e=this.wrapper=Fi("k-selector");L(e,{top:t.offset.top,left:t.offset.left,width:t.width,height:t.height,direction:"ltr"});var n=this.selection=Fi("k-selection");this.leftMask=Fi("k-mask"),this.rightMask=Fi("k-mask"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(n),n.appendChild(Fi("k-selection-bg"));var r=this.leftHandle=Fi("k-handle k-left-handle"),o=this.rightHandle=Fi("k-handle k-right-handle");r.appendChild(Fi()),o.appendChild(Fi()),n.appendChild(r),n.appendChild(o),this.chartElement.appendChild(e);var i=L(n,["borderLeftWidth","borderRightWidth","height"]),a=L(r,"height").height,s=L(o,"height").height;t.selection={border:{left:i.borderLeftWidth,right:i.borderRightWidth}},L(r,{top:(i.height-a)/2}),L(o,{top:(i.height-s)/2}),e.style.cssText=e.style.cssText},e.prototype.bindEvents=function(){var t;!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),bt(this.wrapper,((t={})[rr]=this._mousewheelHandler,t))),this._domEvents=Q.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})},e.prototype.initOptions=function(){var t=this.options,e=this.categoryAxis.pane.chartsBox(),n=this.chart.chartService.intl;this._dateAxis&&j(t,{min:Ge(n,t.min),max:Ge(n,t.max),from:Ge(n,t.from),to:Ge(n,t.to)});var r=L(this.chartElement,["paddingLeft","paddingTop"]),o=r.paddingLeft,i=r.paddingTop;this.options=j({},{width:e.width(),height:e.height()+.1,padding:{left:o,top:i},offset:{left:e.x1+o,top:e.y1+i},from:t.min,to:t.max},t)},e.prototype.destroy=function(){var t;this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(Pt(this.wrapper,((t={})[rr]=this._mousewheelHandler,t)),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)},e.prototype._rangeEventArgs=function(t){return{axis:this.categoryAxis.options,from:this._value(t.from),to:this._value(t.to)}},e.prototype._start=function(t){var e=this.options,n=Ct(t);if(!this._state&&n){this.chart._unsetActivePoint(),this._state={moveTarget:Li(n)||n,startLocation:t.x?t.x.location:0,range:{from:this._index(e.from),to:this._index(e.to)}};var r=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger("selectStart",r)&&(this._state=null)}},e.prototype._press=function(t){var e;(e=this._state?this._state.moveTarget:Li(Ct(t)))&&O(e,"k-handle-active")},e.prototype._move=function(t){if(this._state){var e=this._state,n=this.options,r=this.categoryAxis,o=e.range,i=e.moveTarget,a=r.options.reverse,s=this._index(n.from),l=this._index(n.to),c=this._index(n.min),u=this._index(n.max),p=e.startLocation-t.x.location,h=o.from,d=o.to,f=o.to-o.from,m=L(this.wrapper,"width").width/(r.categoriesCount()-1),v=Math.round(p/m)*(a?-1:1);if(i){var g=lt(i,"k-left-handle"),y=lt(i,"k-right-handle");lt(i,"k-selection k-selection-bg")?(o.from=Math.min(Math.max(c,s-v),u-f),o.to=Math.min(o.from+f,u)):g&&!a||y&&a?(o.from=Math.min(Math.max(c,s-v),u-1),o.to=Math.max(o.from+1,o.to)):(g&&a||y&&!a)&&(o.to=Math.min(Math.max(c+1,l-v),u),o.from=Math.min(o.to-1,o.from)),o.from===h&&o.to===d||(this.move(o.from,o.to),this.trigger("select",this._rangeEventArgs(o)))}}},e.prototype._end=function(){if(this._state){var t=this._state.moveTarget;t&&(r="k-handle-active",(n=t)&&n.className&&(n.className=n.className.replace(r,"").replace(C," ")));var e=this._state.range;this.set(e.from,e.to),this.trigger("selectEnd",this._rangeEventArgs(e)),delete this._state}var n,r},e.prototype._tap=function(t){var e=this.options,n=this.categoryAxis,r=this.chart._eventCoordinates(t),o=n.pointCategoryIndex(new Xt(r.x,n.box.y1)),i=this._index(e.from),a=this._index(e.to),s=this._index(e.min),l=this._index(e.max),c=a-i,u=i+c/2,p={},h=3===t.event.which,d=Math.round(u-o);this._state||h||(this.chart._unsetActivePoint(),n.options.justified||d--,p.from=Math.min(Math.max(s,i-d),l-c),p.to=Math.min(p.from+c,l),this._start(t),this._state&&(this._state.range=p,this.trigger("select",this._rangeEventArgs(p)),this._end()))},e.prototype._mousewheel=function(t){var e=this,n=vt(t);if(this._start({target:this.selection}),this._state){var r=this._state.range;t.preventDefault(),t.stopPropagation(),Math.abs(n)>1&&(n*=3),this.options.mousewheel.reverse&&(n*=-1),this.expand(n)&&this.trigger("select",{axis:this.categoryAxis.options,delta:n,originalEvent:t,from:this._value(r.from),to:this._value(r.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){e._end()}),150)}},e.prototype._gesturestart=function(t){var e=this.options;this._state={range:{from:this._index(e.from),to:this._index(e.to)}};var n=this._rangeEventArgs(this._state.range);this.trigger("selectStart",n)?this._state=null:t.preventDefault()},e.prototype._gestureend=function(){this._state&&(this.trigger("selectEnd",this._rangeEventArgs(this._state.range)),delete this._state)},e.prototype._gesturechange=function(t){var e=this.chart,n=this._state,r=this.options,o=this.categoryAxis,i=n.range,a=e._toModelCoordinates(t.touches[0].x.location).x,s=e._toModelCoordinates(t.touches[1].x.location).x,l=Math.min(a,s),c=Math.max(a,s);t.preventDefault(),i.from=o.pointCategoryIndex(new Xt(l))||r.min,i.to=o.pointCategoryIndex(new Xt(c))||r.max,this.move(i.from,i.to),this.trigger("select",this._rangeEventArgs(i))},e.prototype._index=function(t){var e=t;return t instanceof Date&&(e=this.categoryAxis.categoryIndex(t)),e},e.prototype._value=function(t){var e=t;return this._dateAxis&&(e=this.categoryAxis.categoryAt(t))>this.options.max&&(e=this.options.max),e},e.prototype._slot=function(t){var e=this.categoryAxis,n=this._index(t);return e.getSlot(n,n,!0)},e.prototype.move=function(t,e){var n=this.options,r=this.categoryAxis.options.reverse,o=n.offset,i=n.padding,a=n.selection.border,s=r?e:t,l=r?t:e,c="x"+(r?2:1),u=this._slot(s),p=Dt(u[c]-o.left+i.left);L(this.leftMask,{width:p}),L(this.selection,{left:p}),u=this._slot(l);var h=Dt(n.width-(u[c]-o.left+i.left));L(this.rightMask,{width:h});var d=n.width-h;d!==n.width&&(d+=a.right),L(this.rightMask,{left:d}),L(this.selection,{width:Math.max(n.width-(p+h)-a.right,0)})},e.prototype.set=function(t,e){var n=this.options,r=this._index(n.min),o=this._index(n.max),i=Et(this._index(t),r,o),a=Et(this._index(e),i+1,o);n.visible&&this.move(i,a),n.from=this._value(i),n.to=this._value(a)},e.prototype.expand=function(t){var e=this.options,n=this._index(e.min),r=this._index(e.max),o=e.mousewheel.zoom,i=this._index(e.from),a=this._index(e.to),s={from:i,to:a},l=j({},s);if(this._state&&(s=this._state.range),o!==v&&(s.from=Et(Et(i-t,0,a-1),n,r)),o!==d&&(s.to=Et(Et(a+t,s.from+1,r),n,r)),s.from!==l.from||s.to!==l.to)return this.set(s.from,s.to),!0},e.prototype.trigger=function(t,e){return(this.observer||this.chart).trigger(t,e)},e}(_.Class);Rt(zi,{visible:!0,mousewheel:{zoom:"both"},min:m,max:f});var Bi=zi,Vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.show=function(e){if(e&&e.tooltipAnchor&&(!this._current||this._current!==e)){var n=j({},this.options,e.options.tooltip),r=e.tooltipAnchor();r?(this._current=e,t.prototype.show.call(this,{point:e,anchor:r},n,e)):this.hide()}},e.prototype.hide=function(){delete this._current,t.prototype.hide.call(this)},e}(bo),Hi=function(t){function e(e,n){t.call(this,e.chartService,n),this.plotArea=e,this.formatService=e.chartService.format}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.showAt=function(t,e){var n=st(t,(function(t){var e=t.series.tooltip;return!(e&&!1===e.visible)}));if(n.length>0){var r=n[0],o=this.plotArea.categoryAxis.getSlot(r.categoryIx),i=e?this._slotAnchor(e,o):this._defaultAnchor(r,o);this.show({anchor:i,shared:!0,points:t,category:r.category,categoryText:this.formatService.auto(this.options.categoryFormat,r.category),series:this.plotArea.series},this.options)}},e.prototype._slotAnchor=function(t,e){return this.plotArea.categoryAxis.options.vertical||(t.x=e.center().x),{point:t,align:{horizontal:"left",vertical:"center"}}},e.prototype._defaultAnchor=function(t,e){var n=t.owner.pane.chartsBox(),r=this.plotArea.categoryAxis.options.vertical,o=n.center(),i=e.center();return{point:r?new Xt(o.x,i.y):new Xt(i.x,o.y),align:{horizontal:"center",vertical:"center"}}},e}(bo);Rt(Hi,{categoryFormat:"{0:d}"});var Ui=Hi,Wi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.element,e=this.options;if(t.bbox()){this.origin=e.origin;var n=e.vertical?w:x,r=this.fromScale=new _.geometry.Point(1,1);r[n]=Xn,t.transform(_.geometry.transform().scale(r.x,r.y))}else this.abort()},e.prototype.step=function(t){var e=ht(this.fromScale.x,1,t),n=ht(this.fromScale.y,1,t);this.element.transform(_.geometry.transform().scale(e,n,this.origin))},e.prototype.abort=function(){t.prototype.abort.call(this),this.element.transform(null)},e}(_.drawing.Animation);Rt(Wi,{duration:600}),_.drawing.AnimationFactory.current.register(Zn,Wi);var qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.center=this.element.bbox().center();this.element.transform(_.geometry.transform().scale(Xn,Xn,t))},e.prototype.step=function(t){this.element.transform(_.geometry.transform().scale(t,t,this.center))},e}(_.drawing.Animation);Rt(qi,{easing:"easeOutElastic"}),_.drawing.AnimationFactory.current.register("bubble",qi);var Ki=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},e.prototype.step=function(t){this.element.opacity(t*this.fadeTo)},e}(_.drawing.Animation);Rt(Ki,{duration:200,easing:"linear"}),_.drawing.AnimationFactory.current.register("fadeIn",Ki);var Gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this.element.transform(_.geometry.transform().scale(Xn,Xn,this.options.center))},e.prototype.step=function(t){this.element.transform(_.geometry.transform().scale(t,t,this.options.center))},e}(_.drawing.Animation);Rt(Gi,{easing:"easeOutElastic",duration:600}),_.drawing.AnimationFactory.current.register(tr,Gi);var Yi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){t.prototype.render.call(this),this.renderSegments()},e.prototype.createSegment=function(t,e,n){return new("smooth"===e.style?wr:vr)(t,e,n)},e.prototype.animationPoints=function(){return t.prototype.animationPoints.call(this).concat(this._segments)},e.prototype.createMissingValue=function(t,e){if(e===$n){var n={x:t.x,y:t.y};return oo(n.x)||(n.x=0),oo(n.y)||(n.y=0),n}},e}(ao);j(Yi.prototype,kr);var Xi=Yi,$i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new Mr,this.yAxisRangeTracker=new Mr},e.prototype.render=function(t){void 0===t&&(t=this.panes);for(var e=this.groupSeriesByPane(),n=0;n<t.length;n++){var r=t[n],o=e[r.options.name||"default"]||[];this.addToLegend(o);var i=this.filterVisibleSeries(o);i&&(this.createScatterChart(jo(i,"scatter"),r),this.createScatterLineChart(jo(i,"scatterLine"),r),this.createBubbleChart(jo(i,"bubble"),r))}this.createAxes(t)},e.prototype.appendChart=function(e,n){this.xAxisRangeTracker.update(e.xAxisRanges),this.yAxisRangeTracker.update(e.yAxisRanges),t.prototype.appendChart.call(this,e,n)},e.prototype.removeAxis=function(e){var n=e.options.name;t.prototype.removeAxis.call(this,e),e.options.vertical?(this.yAxisRangeTracker.reset(n),delete this.namedYAxes[n]):(this.xAxisRangeTracker.reset(n),delete this.namedXAxes[n]),e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY},e.prototype.seriesPaneName=function(t){var e=this.options,n=t.xAxis,r=st([].concat(e.xAxis),(function(t){return t.name===n}))[0],o=t.yAxis,i=st([].concat(e.yAxis),(function(t){return t.name===o}))[0],a=(e.panes||[{}])[0].name||"default";return(r||{}).pane||(i||{}).pane||a},e.prototype.createScatterChart=function(t,e){t.length>0&&this.appendChart(new ao(this,{series:t,clip:e.options.clip}),e)},e.prototype.createScatterLineChart=function(t,e){t.length>0&&this.appendChart(new Xi(this,{series:t,clip:e.options.clip}),e)},e.prototype.createBubbleChart=function(t,e){t.length>0&&this.appendChart(new uo(this,{series:t,clip:e.options.clip}),e)},e.prototype.createXYAxis=function(t,e,n){for(var r,o=t.name,i=e?this.namedYAxes:this.namedXAxes,a=e?this.yAxisRangeTracker:this.xAxisRangeTracker,s=j({reverse:!e&&this.chartService.rtl},t,{vertical:e}),l=Ao(s.type,"log"),c=a.query(),u=l?{min:.1,max:1}:{min:0,max:1},h=a.query(o)||c||u,d=[s.min,s.max],f=this.series,m=0;m<f.length;m++){var v=f[m],g=v[e?"yAxis":"xAxis"];if(g===s.name||0===n&&!g){var y=Wn.current.bindPoint(v,0).valueFields;d.push(y[e?"y":"x"]);break}}0===n&&c&&(h.min=Math.min(h.min,c.min),h.max=Math.max(h.max,c.max));for(var b=0;b<d.length;b++)if(d[b]instanceof Date){r=!0;break}var x=new(Ao(s.type,p)||!s.type&&r?vn:l?xn:fn)(h.min,h.max,s,this.chartService);if(x.axisIndex=n,o){if(i[o])throw new Error((e?"Y":"X")+" axis with name "+o+" is already defined");i[o]=x}return this.appendAxis(x),x},e.prototype.createAxes=function(t){for(var e=this.options,n=[].concat(e.xAxis),r=[],o=[].concat(e.yAxis),i=[],a=0;a<n.length;a++){pt(this.findPane(n[a].pane),t)&&r.push(this.createXYAxis(n[a],!1,a))}for(var s=0;s<o.length;s++){pt(this.findPane(o[s].pane),t)&&i.push(this.createXYAxis(o[s],!0,s))}this.axisX=this.axisX||r[0],this.axisY=this.axisY||i[0]},e.prototype._dispatchEvent=function(t,e,n){for(var r=t._eventCoordinates(e),o=new Xt(r.x,r.y),i=this.axes,a=i.length,s=[],l=[],c=0;c<a;c++){var u=i[c],p=u.options.vertical?l:s,h=u.getValue(o);null!==h&&p.push(h)}s.length>0&&l.length>0&&t.trigger(n,{element:Ct(e),originalEvent:e,x:No(s),y:No(l)})},e.prototype.updateAxisOptions=function(t,e){var n=t.options.vertical,r=this.groupAxes(this.panes),o=(n?r.y:r.x).indexOf(t);Zi(this.options,o,n,e),Zi(this.originalOptions,o,n,e)},e}(Ko);function Zi(t,e,n,r){j([].concat(n?t.yAxis:t.xAxis)[e],r)}Rt($i,{xAxis:{},yAxis:{}}),j($i.prototype,Go);var Ji=$i,Qi=function(t){function e(e,n,r){t.call(this,r),this.value=e,this.sector=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.options.labels,e=this.owner.chartService,n=this.value;if(!this._rendered&&!1!==this.visible){this._rendered=!0;var r=rt(t),o=this.pointData();if(r?n=r(o):t.format&&(n=e.format.auto(t.format,n)),t.visible&&(n||0===n)){if(t.position===c||"insideEnd"===t.position)t.color||(t.color=Vt(this.options.color)),t.background||(t.background=this.options.color);else{var i=e.theme.seriesDefaults.labels;t.color=t.color||i.color,t.background=t.background||i.background}this.label=new be(n,j({},t,{align:c,vAlign:"",animation:{type:"fadeIn",delay:this.animationDelay}}),o),this.append(this.label)}}},e.prototype.reflow=function(t){this.render(),this.box=t,this.reflowLabel()},e.prototype.reflowLabel=function(){var t=this.options.labels,e=this.label,n=this.sector.clone(),r=t.distance,o=n.middle();if(e){var i,a=e.box.height(),s=e.box.width();if(t.position===c)n.radius=Math.abs((n.radius-a)/2)+a,i=n.point(o),e.reflow(new Zt(i.x,i.y-a/2,i.x,i.y));else if("insideEnd"===t.position)n.radius=n.radius-a/2,i=n.point(o),e.reflow(new Zt(i.x,i.y-a/2,i.x,i.y));else{var l;(i=n.clone().expand(r).point(o)).x>=n.center.x?(l=i.x+s,e.orientation=v):(l=i.x-s,e.orientation=d),e.reflow(new Zt(l,i.y-a,i.x,i.y))}}},e.prototype.createVisual=function(){var e=this,n=this.sector,r=this.options;if(t.prototype.createVisual.call(this),this.value)if(r.visual){var o=(n.startAngle+180)%360,i=r.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new _.geometry.Point(n.center.x,n.center.y),radius:n.radius,innerRadius:n.innerRadius,startAngle:o,endAngle:o+n.angle,options:r,sender:this.getSender(),createVisual:function(){var t=new _.drawing.Group;return e.createSegmentVisual(t),t}});i&&this.visual.append(i)}else this.createSegmentVisual(this.visual)},e.prototype.createSegmentVisual=function(t){var e=this.sector,n=this.options,r=n.border||{},o=r.width>0?{stroke:{color:r.color,width:r.width,opacity:r.opacity,dashType:r.dashType}}:{},i=n.color,a={color:i,opacity:n.opacity},s=this.createSegment(e,j({fill:a,stroke:{opacity:n.opacity},zIndex:n.zIndex},o));t.append(s),Fr(n)&&t.append(this.createGradientOverlay(s,{baseColor:i,fallbackFill:a},j({center:[e.center.x,e.center.y],innerRadius:e.innerRadius,radius:e.radius,userSpace:!0},n.overlay)))},e.prototype.createSegment=function(t,e){return e.singleSegment?new _.drawing.Circle(new _.geometry.Circle(new _.geometry.Point(t.center.x,t.center.y),t.radius),e):ee.current.createRing(t,e)},e.prototype.createAnimation=function(){var e=this.options,n=this.sector.center;j(e,{animation:{center:[n.x,n.y],delay:this.animationDelay}}),t.prototype.createAnimation.call(this)},e.prototype.createHighlight=function(t){var e=this.options.highlight||{},n=e.border||{};return this.createSegment(this.sector,j({},t,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:n.opacity,width:n.width,color:n.color}}))},e.prototype.highlightVisual=function(){return this.visual.children[0]},e.prototype.highlightVisualArgs=function(){var t=this.sector;return{options:this.options,radius:t.radius,innerRadius:t.innerRadius,center:new _.geometry.Point(t.center.x,t.center.y),startAngle:t.startAngle,endAngle:t.angle+t.startAngle,visual:this.visual}},e.prototype.tooltipAnchor=function(){var t=this.sector.clone().expand(5),e=t.middle();return{point:t.point(e),align:na(e+180)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}},e}(re),ta=Dt(Tt(30),10),ea=Dt(Tt(60),10);function na(t){var e=Tt(t),n=Dt(Math.sin(e),10),r=Dt(Math.cos(e),10);return{horizontal:Math.abs(n)>ea?c:r<0?v:d,vertical:Math.abs(n)<ta?c:n<0?l:g}}Rt(Qi,{color:b,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:"12px sans-serif",margin:z(.5),align:u,zIndex:1,position:"outsideEnd"},animation:{type:tr},highlight:{visible:!0,border:{width:1}},visible:!0}),j(Qi.prototype,pr);var ra=Qi,oa={createLegendItem:function(t,e,n){var r=this.options.legend||{},o=r.labels||{},i=r.inactiveItems||{},a=i.labels||{};if(n&&!1!==n.visibleInLegend){var s,l,c=!1!==n.visible,u=c?rt(o):rt(a)||rt(o),p=n.category;u&&(p=u({text:p,series:n.series,dataItem:n.dataItem,percentage:n.percentage,value:t})),c?(s={},l=e.color):(s={color:a.color,font:a.font},l=(i.markers||{}).color),oo(p)&&""!==p&&this.legendItems.push({active:c,pointIndex:n.index,text:p,series:n.series,markerColor:l,labels:s})}}},ia=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this.points=[],this.legendItems=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},e.prototype.traverseDataPoints=function(t){var e=this.options,n=this.plotArea.options.seriesColors;void 0===n&&(n=[]);for(var r=n.length,o=e.series,i=o.length,a=0;a<i;a++){var s=o[a],l=s.data,u=Po(s),p=u.total,h=u.points,d=u.count,f=360/p,m=void 0;isFinite(f)||(m=360/d);var v=void 0;v=xt(s.startAngle)?s.startAngle:e.startAngle,a!==i-1&&"outsideEnd"===s.labels.position&&(s.labels.position=c);for(var g=0;g<h.length;g++){var y=h[g];if(y){var b=y.fields,x=y.value,w=y.visible,k=0!==x?m||x*f:0,O=1!==l.length&&Boolean(b.explode);P(s.color)||(s.color=b.color||n[g%r]),t(y.valueFields.value,new Qt(null,0,0,v,k),{owner:this,category:xt(b.category)?b.category:"",index:g,series:s,seriesIx:a,dataItem:l[g],percentage:0!==p?x/p:0,explode:O,visibleInLegend:b.visibleInLegend,visible:w,zIndex:i-a,animationDelay:this.animationDelay(g,a,i)}),!1!==w&&(v+=k)}}}},e.prototype.evalSegmentOptions=function(t,e,n){var r=n.series;sr(t,{value:e,series:r,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:r._defaults,excluded:["data","content","template","visual","toggle"]})},e.prototype.addValue=function(t,e,n){var r=j({},n.series,{index:n.index});if(this.evalSegmentOptions(r,t,n),this.createLegendItem(t,r,n),!1!==n.visible){var o=new ra(t,e,r);Object.assign(o,n),this.append(o),this.points.push(o)}},e.prototype.reflow=function(t){var e=this.options,n=this.points,r=this.seriesConfigs;void 0===r&&(r=[]);var o=n.length,i=t.clone(),a=Math.min(i.width(),i.height()),s=a/2,l=a-.85*a,c=new Zt(i.x1,i.y1,i.x1+a,i.y1+a),u=c.center(),p=i.center(),h=e.series.length,d=[],f=[],m=At(e.padding,l);this.targetBox=t,m=m>s-5?s-5:m,c.translate(p.x-u.x,p.y-u.y);for(var g=s-m,y=new Xt(g+c.x1+m,g+c.y1+m),b=0;b<o;b++){var x=n[b],w=x.sector,k=x.seriesIx;if(w.radius=g,w.center=y,r.length){var O=r[k];w.innerRadius=O.innerRadius,w.radius=O.radius}k===h-1&&x.explode&&(w.center=w.clone().setRadius(.15*w.radius).point(w.middle())),x.reflow(c);var C=x.label;C&&"outsideEnd"===C.options.position&&k===h-1&&(C.orientation===v?f.push(C):d.push(C))}d.length>0&&(d.sort(this.labelComparator(!0)),this.leftLabelsReflow(d)),f.length>0&&(f.sort(this.labelComparator(!1)),this.rightLabelsReflow(f)),this.box=c},e.prototype.leftLabelsReflow=function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},e.prototype.rightLabelsReflow=function(t){var e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)},e.prototype.distanceBetweenLabels=function(t){var e=St(this.points),n=e.sector,r=t.length-1,o=n.radius+e.options.labels.distance,i=[],a=t[0].box,s=Dt(a.y1-(n.center.y-o-a.height()-a.height()/2));i.push(s);for(var l=0;l<r;l++){var c=t[l+1].box;a=t[l].box,s=Dt(c.y1-a.y2),i.push(s)}return s=Dt(n.center.y+o-t[r].box.y2-t[r].box.height()/2),i.push(s),i},e.prototype.distributeLabels=function(t,e){for(var n,r,o,i=t.length,a=0;a<i;a++)for(o=-t[a],n=r=a;o>0&&(n>=0||r<i);)o=this._takeDistance(t,a,--n,o),o=this._takeDistance(t,a,++r,o);this.reflowLabels(t,e)},e.prototype._takeDistance=function(t,e,n,r){var o=r;if(t[n]>0){var i=Math.min(t[n],o);o-=i,t[n]-=i,t[e]+=i}return o},e.prototype.reflowLabels=function(t,e){var n,r=St(this.points),o=r.sector,i=r.options.labels,a=e.length,s=i.distance,l=o.center.y-(o.radius+s)-e[0].box.height();t[0]+=2;for(var c=0;c<a;c++){var p=e[c],h=p.box;l+=t[c],n=this.hAlignLabel(h.x2,o.clone().expand(s),l,l+h.height(),p.orientation===v),p.orientation===v?(i.align!==u&&(n=o.radius+o.center.x+s),p.reflow(new Zt(n+h.width(),l,n,l))):(i.align!==u&&(n=o.center.x-o.radius-s),p.reflow(new Zt(n-h.width(),l,n,l))),l+=h.height()}},e.prototype.createVisual=function(){var e=this.options.connectors,n=this.points,r=n.length;t.prototype.createVisual.call(this),this._connectorLines=[];for(var o=0;o<r;o++){var i=n[o],a=i.sector,s=i.label,l=a.middle(),c=(i.options.connectors||{}).color||e.color;if(s){var u=new _.drawing.Path({stroke:{color:c,width:e.width},animation:{type:"fadeIn",delay:i.animationDelay}});if("outsideEnd"===s.options.position){var p=s.box,h=a.center,d=a.point(l),f=new Xt(p.x1,p.center().y),m=void 0,g=void 0,y=void 0;d=a.clone().expand(e.padding).point(l),u.moveTo(d.x,d.y),s.orientation===v?(y=aa(h,d,f,g=new Xt(p.x1-e.padding,p.center().y)),f=new Xt(g.x-4,g.y),(y=y||f).x=Math.min(y.x,f.x),this.pointInCircle(y,a.center,a.radius+4)||y.x<a.center.x?(m=a.center.x+a.radius+4,i.options.labels.align!==Jn?m<f.x?u.lineTo(m,d.y):u.lineTo(d.x+8,d.y):u.lineTo(m,d.y),u.lineTo(f.x,g.y)):(y.y=g.y,u.lineTo(y.x,y.y))):(y=aa(h,d,f,g=new Xt(p.x2+e.padding,p.center().y)),f=new Xt(g.x+4,g.y),(y=y||f).x=Math.max(y.x,f.x),this.pointInCircle(y,a.center,a.radius+4)||y.x>a.center.x?(m=a.center.x-a.radius-4,i.options.labels.align!==Jn?m>f.x?u.lineTo(m,d.y):u.lineTo(d.x-8,d.y):u.lineTo(m,d.y),u.lineTo(f.x,g.y)):(y.y=g.y,u.lineTo(y.x,y.y))),u.lineTo(g.x,g.y),this._connectorLines.push(u),this.visual.append(u)}}}},e.prototype.renderVisual=function(){if(t.prototype.renderVisual.call(this),Ft(this.options.series,(function(t){return t.autoFit}))){var e=this.targetBox,n=this.box.center(),r=this.visual.bbox();if(!r)return;var o=r.bottomRight(),i=Math.min((n.y-e.y1)/(n.y-r.origin.y),(e.y2-n.y)/(o.y-n.y),(n.x-e.x1)/(n.x-r.origin.x),(e.x2-n.x)/(o.x-n.x));i<1&&this.visual.transform(_.geometry.transform().scale(i,i,[n.x,n.y]))}},e.prototype.labelComparator=function(t){var e=t?-1:1;return function(t,n){return((t.parent.sector.middle()+270)%360-(n.parent.sector.middle()+270)%360)*e}},e.prototype.hAlignLabel=function(t,e,n,r,o){var i=e.radius,a=e.center,s=a.x,l=a.y,c=Math.min(Math.abs(l-n),Math.abs(l-r));return c>i?t:s+Math.sqrt(i*i-c*c)*(o?1:-1)},e.prototype.pointInCircle=function(t,e,n){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(n,2)},e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value)},e.prototype.animationDelay=function(t){return 70*t},e.prototype.stackRoot=function(){return this},e}(re);function aa(t,e,n,r){var o,i=(r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x),a=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y);if(0!==a){var s=i/a;o=new Xt(t.x+s*(e.x-t.x),t.y+s*(e.y-t.y))}return o}Rt(ia,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),j(ia.prototype,oa),ia.prototype.isStackRoot=!0;var sa=ia,la=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createPieChart(this.series)},e.prototype.createPieChart=function(t){var e=t[0],n=new sa(this,{series:t,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(n)},e.prototype.appendChart=function(e,n){t.prototype.appendChart.call(this,e,n),yt(this.options.legend.items,e.legendItems)},e}(Ko),ca=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflowLabel=function(){var e=this.options.labels,n=this.label,r=this.sector.clone(),o=r.middle();if(n){var i=n.box.height();if(e.position===c){r.radius-=(r.radius-r.innerRadius)/2;var a=r.point(o);n.reflow(new Zt(a.x,a.y-i/2,a.x,a.y))}else t.prototype.reflowLabel.call(this)}},e.prototype.createSegment=function(t,e){return ee.current.createRing(t,e)},e}(ra);Rt(ca,{overlay:{gradient:"roundedGlass"},labels:{position:c},animation:{type:tr}}),j(ca.prototype,pr);var ua=ca,pa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addValue=function(t,e,n){var r=j({},n.series,{index:n.index});if(this.evalSegmentOptions(r,t,n),this.createLegendItem(t,r,n),t&&!1!==n.visible){var o=new ua(t,e,r);Object.assign(o,n),this.append(o),this.points.push(o)}},e.prototype.reflow=function(e){for(var n,r=this.options,o=e.clone(),i=Math.min(o.width(),o.height()),a=i/2,s=i-.85*i,l=r.series,c=l.length,u=At(r.padding,s),p=a-(u=u>a-5?a-5:u),h=0,d=0;d<c;d++){var f=l[d];0===d&&xt(f.holeSize)&&(n=f.holeSize,p-=f.holeSize),xt(f.size)?p-=f.size:h++,xt(f.margin)&&d!==c-1&&(p-=f.margin)}xt(n)||(p-=n=.75*((a-u)/(c+.75)));var m,v=n,g=0;this.seriesConfigs=[];for(var y=0;y<c;y++){var b=l[y];m=(v+=g)+At(b.size,p/h),this.seriesConfigs.push({innerRadius:v,radius:m}),g=b.margin||0,v=m}t.prototype.reflow.call(this,e)},e.prototype.animationDelay=function(t,e,n){return 50*t+600*(e+1)/(n+1)},e}(sa);Rt(pa,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});var ha=pa,da=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createDonutChart(this.series)},e.prototype.createDonutChart=function(t){var e=t[0],n=new ha(this,{series:t,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(n)},e}(la),fa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.valueAxisRangeTracker=new Mr},e.prototype.render=function(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()},e.prototype.alignAxes=function(){var t=this.valueAxis,e=t.range(),n=t.options.reverse?e.max:e.min,r=t.getSlot(n),o=this.polarAxis.getSlot(0).center,i=t.box.translate(o.x-r.x1,o.y-r.y1);t.reflow(i)},e.prototype.createValueAxis=function(){var t,e,n=this.valueAxisRangeTracker,r=n.query(),o=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});"log"===o.type?(t=Pn,e={min:.1,max:1}):(t=Tn,e={min:0,max:1});var i=n.query(name)||r||e;i&&r&&(i.min=Math.min(i.min,r.min),i.max=Math.max(i.max,r.max));var a=new t(i.min,i.max,o,this.chartService);this.valueAxis=a,this.appendAxis(a)},e.prototype.reflowAxes=function(){var t=this.options.plotArea,e=this.valueAxis,n=this.polarAxis,r=this.box,o=.15*Math.min(r.width(),r.height()),i=z(t.padding||{},o),a=r.clone().unpad(i),s=a.clone();s.y2=s.y1+Math.min(s.width(),s.height()),s.align(a,w,c);var l=s.clone().shrink(0,s.height()/2);n.reflow(s),e.reflow(l);var u=e.lineBox().height()-e.box.height();e.reflow(e.box.unpad({top:u})),this.axisBox=s,this.alignAxes(s)},e.prototype.backgroundBox=function(){return this.box},e.prototype.detachLabels=function(){},e}(Ko),ma=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointSlot=function(t,e){var n=t.center.y-e.y1,r=Xt.onCircle(t.center,t.startAngle,n);return new Zt(r.x,r.y,r.x,r.y)},e}(ao);Rt(ma,{clip:!1});var va=ma,ga=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Xi);ga.prototype.pointSlot=va.prototype.pointSlot,Rt(ga,{clip:!1});var ya=ga,ba=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(t){var e=this._polarAxisCenter();t.lineTo(e.x,e.y)},e.prototype._polarAxisCenter=function(){return this.parent.plotArea.polarAxis.box.center()},e.prototype.strokeSegments=function(){var t=this._strokeSegments;if(!t){var e=this._polarAxisCenter(),n=new jn(!1),r=this.points();r.push(e),(t=this._strokeSegments=n.process(r)).pop()}return t},e}(Ar),xa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(t){var e=this.parent.plotArea.polarAxis.box.center(),n=new _.geometry.Segment([e.x,e.y]);t.segments.unshift(n),t.segments.push(n)},e}(Tr);function wa(t,e){return t.value.x-e.value.x}var ka=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,n){return"smooth"===(e.line||{}).style?new ba(t,e,n):new xa(t,e,n)},e.prototype.createMissingValue=function(t,e){var n;return oo(t.x)&&"interpolate"!==e&&(n={x:t.x,y:t.y},e===$n&&(n.y=0)),n},e.prototype.seriesMissingValues=function(t){return t.missingValues||$n},e.prototype._hasMissingValuesGap=function(){for(var t=this.options.series,e=0;e<t.length;e++)if("gap"===this.seriesMissingValues(t[e]))return!0},e.prototype.sortPoints=function(t){if(t.sort(wa),this._hasMissingValuesGap())for(var e=0;e<t.length;e++){var n=t[e];if(n)oo(n.value.y)||"gap"!==this.seriesMissingValues(n.series)||delete t[e]}return t},e}(ya),Oa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createPolarAxis=function(){var t=new _n(this.options.xAxis,this.chartService);this.polarAxis=t,this.axisX=t,this.appendAxis(t)},e.prototype.valueAxisOptions=function(t){return j(t,{majorGridLines:{type:a},minorGridLines:{type:a}},this.options.yAxis)},e.prototype.createValueAxis=function(){t.prototype.createValueAxis.call(this),this.axisY=this.valueAxis},e.prototype.appendChart=function(t,e){this.valueAxisRangeTracker.update(t.yAxisRanges),Ko.prototype.appendChart.call(this,t,e)},e.prototype.createCharts=function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart(jo(t,["polarLine"]),e),this.createScatterChart(jo(t,["polarScatter"]),e),this.createAreaChart(jo(t,["polarArea"]),e)},e.prototype.createLineChart=function(t,e){if(0!==t.length){var n=new ya(this,{series:t});this.appendChart(n,e)}},e.prototype.createScatterChart=function(t,e){if(0!==t.length){var n=new va(this,{series:t});this.appendChart(n,e)}},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var n=new ka(this,{series:t});this.appendChart(n,e)}},e.prototype._dispatchEvent=function(t,e,n){var r=t._eventCoordinates(e),o=new Xt(r.x,r.y),i=this.axisX.getValue(o),a=this.axisY.getValue(o);null!==i&&null!==a&&t.trigger(n,{element:Ct(e),x:i,y:a})},e.prototype.createCrosshairs=function(){},e}(fa);Rt(Oa,{xAxis:{},yAxis:{}}),j(Oa.prototype,Go);var Ca=Oa;var _a=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointSlot=function(t,e){var n=t.center.y-e.y1,r=Xt.onCircle(t.center,t.middle(),n);return new Zt(r.x,r.y,r.x,r.y)},e.prototype.renderSegments=function(){if(t.prototype.renderSegments.call(this),this._segments&&this._segments.length>1)for(var e=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e[r.seriesIx]=e[r.seriesIx]||[],e[r.seriesIx].push(r)}return e}(this._segments),n=0;n<e.length;n++){var r=e[n];if(r&&r.length>1){var o=r[0].linePoints[0],i=St(r),a=St(i.linePoints),s=0===o.categoryIx,l=a.categoryIx===a.categoriesCount-1;s&&l&&St(r).linePoints.push(o)}}},e.prototype.createSegment=function(t,e,n){var r=new("smooth"===e.style?wr:vr)(t,e,n),o=this.seriesMissingValues(e);return t.length!==e.data.length&&"interpolate"!==o||(r.options.closed=!0),r},e}(Ir);Rt(_a,{clip:!1,limitPoints:!1});var Sa=_a,Ea=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(){},e}(Ar),Ia=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.fillToAxes=function(){},e}(Tr),Ta=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createSegment=function(t,e,n,r){var o,i,a,s=this.options.isStacked,l=(e.line||{}).style;return s&&n>0&&r&&(i=r.linePoints.slice(0),o=r),"smooth"===l?(a=new Ea(t,e,n,o,i)).options.closed=!0:(t.push(t[0]),a=new Ia(t,e,n,o,i)),a},e.prototype.seriesMissingValues=function(t){return t.missingValues||$n},e}(Sa),Da=function(t){function e(e,n){t.call(this,e,null,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ua);Rt(Da,{overlay:{gradient:"none"},labels:{distance:10}});var Pa=Da,Aa=function(t){function e(e){t.call(this,e),this.forEach=e.rtl?Vr:Br}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options,n=this.children,r=e.gap,o=e.spacing,i=n.length,a=i+r+o*(i-1),s=t.angle/a,l=t.startAngle+s*(r/2);this.forEach(n,(function(e){var n=t.clone();n.startAngle=l,n.angle=s,e.sector&&(n.radius=e.sector.radius),e.reflow(n),e.sector=n,l+=s+s*o}))},e}(re);Rt(Aa,{gap:1,spacing:0});var ja=Aa,Ma=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.options.reverse,n=this.children,r=n.length,o=e?r-1:0,i=e?-1:1;this.box=new Zt;for(var a=o;a>=0&&a<r;a+=i){var s=n[a].sector;s.startAngle=t.startAngle,s.angle=t.angle}},e}(re),Ra=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointType=function(){return Pa},e.prototype.clusterType=function(){return ja},e.prototype.stackType=function(){return Ma},e.prototype.categorySlot=function(t,e){return t.getSlot(e)},e.prototype.pointSlot=function(t,e){var n=t.clone(),r=t.center.y;return n.radius=r-e.y1,n.innerRadius=r-e.y2,n},e.prototype.reflowPoint=function(t,e){t.sector=e,t.reflow()},e.prototype.createAnimation=function(){this.options.animation.center=this.box.toRect().center(),t.prototype.createAnimation.call(this)},e}(Gr);Ra.prototype.reflow=ur.prototype.reflow,Rt(Ra,{clip:!1,limitPoints:!1,animation:{type:"pie"}});var Na=Ra,Fa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createPolarAxis=function(){var t=new On(this.options.categoryAxis,this.chartService);this.polarAxis=t,this.categoryAxis=t,this.appendAxis(t),this.aggregateCategories(),this.createCategoryAxesLabels()},e.prototype.valueAxisOptions=function(t){return this._hasBarCharts&&j(t,{majorGridLines:{type:a},minorGridLines:{type:a}}),this._isStacked100&&j(t,{roundToMajorUnit:!1,labels:{format:"P0"}}),j(t,this.options.valueAxis)},e.prototype.aggregateCategories=function(){wi.prototype.aggregateCategories.call(this,this.panes)},e.prototype.createCategoryAxesLabels=function(){wi.prototype.createCategoryAxesLabels.call(this,this.panes)},e.prototype.filterSeries=function(t){return t},e.prototype.createCharts=function(){var t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart(jo(t,["radarArea"]),e),this.createLineChart(jo(t,["radarLine"]),e),this.createBarChart(jo(t,["radarColumn"]),e)},e.prototype.chartOptions=function(t){var e={series:t},n=t[0];if(n){var r=this.filterVisibleSeries(t),o=n.stack;e.isStacked=o&&r.length>1,e.isStacked100=o&&"100%"===o.type&&r.length>1,e.isStacked100&&(this._isStacked100=!0)}return e},e.prototype.createAreaChart=function(t,e){if(0!==t.length){var n=new Ta(this,this.chartOptions(t));this.appendChart(n,e)}},e.prototype.createLineChart=function(t,e){if(0!==t.length){var n=new Sa(this,this.chartOptions(t));this.appendChart(n,e)}},e.prototype.createBarChart=function(t,e){if(0!==t.length){var n=t[0],r=this.chartOptions(t);r.gap=n.gap,r.spacing=n.spacing;var o=new Na(this,r);this.appendChart(o,e),this._hasBarCharts=!0}},e.prototype.seriesCategoryAxis=function(){return this.categoryAxis},e.prototype._dispatchEvent=function(t,e,n){var r=t._eventCoordinates(e),o=new Xt(r.x,r.y),i=this.categoryAxis.getCategory(o),a=this.valueAxis.getValue(o);null!==i&&null!==a&&t.trigger(n,{element:Ct(e),category:i,value:a})},e.prototype.createCrosshairs=function(){},e}(fa);j(Fa.prototype,Go,{appendChart:wi.prototype.appendChart,aggregateSeries:wi.prototype.aggregateSeries,seriesSourcePoints:wi.prototype.seriesSourcePoints}),Rt(Fa,{categoryAxis:{categories:[]},valueAxis:{}});var La=Fa,za=function(t){function e(e,n,r){t.call(this,n),this.value=e,this.options.index=r.index}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.points,n=this.children[0];this.box=new Zt(e[0].x,e[0].y,e[1].x,e[2].y),n&&n.reflow(new Zt(t.x1,e[0].y,t.x2,e[2].y))},e.prototype.createVisual=function(){var e,n=this,r=this.options;t.prototype.createVisual.call(this),(e=r.visual?r.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:r,sender:this.getSender(),createVisual:function(){return n.createPath()}}):this.createPath())&&this.visual.append(e)},e.prototype.createPath=function(){var t=this.options,e=t.border;return _.drawing.Path.fromPoints(this.points,{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close()},e.prototype.createHighlight=function(t){return _.drawing.Path.fromPoints(this.points,t)},e.prototype.highlightVisual=function(){return this.visual.children[0]},e.prototype.highlightVisualArgs=function(){var t=_.drawing.Path.fromPoints(this.points).close();return{options:this.options,path:t}},e.prototype.tooltipAnchor=function(){var t=this.box;return{point:new Xt(t.center().x,t.y1),align:{horizontal:"center",vertical:"top"}}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e}(re);Rt(za,{color:b,border:{width:1}}),j(za.prototype,pr);var Ba=za,Va=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.points=[],this.labels=[],this.legendItems=[],this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.formatPointValue=function(t,e){return this.chartService.format.auto(e,t.value)},e.prototype.render=function(){var t=this.options,e=this.plotArea.options.seriesColors;void 0===e&&(e=[]);var n=t.series[0],r=n.data;if(r)for(var o=Po(n),i=o.total,a=o.points,s=0;s<a.length;s++){var l=a[s];if(l){var c=l.fields;P(n.color)||(n.color=c.color||e[s%e.length]),c=j({index:s,owner:this,series:n,dataItem:r[s],percentage:l.value/i},c,{visible:l.visible});var u=l.valueFields.value,p=this.createSegment(u,c),h=this.createLabel(u,c);p&&h&&p.append(h)}}},e.prototype.evalSegmentOptions=function(t,e,n){var r=n.series;sr(t,{value:e,series:r,dataItem:n.dataItem,index:n.index},{defaults:r._defaults,excluded:["data","content","template","toggle","visual"]})},e.prototype.createSegment=function(t,e){var n=j({},e.series);if(this.evalSegmentOptions(n,t,e),this.createLegendItem(t,n,e),!1!==e.visible){var r=new Ba(t,n,e);return Object.assign(r,e),this.append(r),this.points.push(r),r}},e.prototype.createLabel=function(t,e){var n=e.series,r=e.dataItem,o=j({},this.options.labels,n.labels),i=t;if(o.visible){var a=rt(o),s={dataItem:r,value:t,percentage:e.percentage,category:e.category,series:n};a?i=a(s):o.format&&(i=this.plotArea.chartService.format.auto(o.format,i)),o.color||(o.color=Vt(n.color),o.background||(o.background=n.color)),this.evalSegmentOptions(o,t,e);var l=new be(i,j({vAlign:o.position},o),s);return this.labels.push(l),l}},e.prototype.labelPadding=function(){for(var t=this.labels,e={left:0,right:0},n=0;n<t.length;n++){var r=t[n].options.align;if(r!==c){var o=t[n].box.width();r===d?e.left=Math.max(e.left,o):e.right=Math.max(e.right,o)}}return e},e.prototype.dynamicSlopeReflow=function(t,e,n){for(var r=this.options,o=this.points,i=o.length,a=o[0],s=a,l=0;l<o.length;l++)o[l].percentage>s.percentage&&(s=o[l]);for(var c=a.percentage/s.percentage*e,u=(e-c)/2,p=0,h=0;h<i;h++){var d=o[h].percentage,f=o[h+1],m=f?f.percentage:d,v=o[h].points=[],g=r.dynamicHeight?n*d:n/i,y=void 0;y=Et(y=d?(e-c*(m/d))/2:m?0:e/2,0,e),v.push(new _.geometry.Point(t.x1+u,t.y1+p)),v.push(new _.geometry.Point(t.x1+e-u,t.y1+p)),v.push(new _.geometry.Point(t.x1+e-y,t.y1+g+p)),v.push(new _.geometry.Point(t.x1+y,t.y1+g+p)),u=y,p+=g+r.segmentSpacing,c=Et(e-2*y,0,e)}},e.prototype.constantSlopeReflow=function(t,e,n){for(var r=this.options,o=this.points,i=o.length,a=r.neckRatio<=1,s=a?r.neckRatio*e:e,l=a?0:(e-e/r.neckRatio)/2,c=((a?e:e-2*l)-s)/2,u=0,p=0;p<i;p++){var h=o[p].points=[],d=o[p].percentage,f=r.dynamicHeight?c*d:c/i,m=r.dynamicHeight?n*d:n/i;h.push(new _.geometry.Point(t.x1+l,t.y1+u)),h.push(new _.geometry.Point(t.x1+e-l,t.y1+u)),h.push(new _.geometry.Point(t.x1+e-l-f,t.y1+m+u)),h.push(new _.geometry.Point(t.x1+l+f,t.y1+m+u)),l+=f,u+=m+r.segmentSpacing}},e.prototype.reflow=function(t){var e=this.points,n=e.length;if(n){var r=this.options,o=t.clone().unpad(this.labelPadding()),i=o.height()-r.segmentSpacing*(n-1),a=o.width();r.dynamicSlope?this.dynamicSlopeReflow(o,a,i):this.constantSlopeReflow(o,a,i);for(var s=0;s<n;s++)e[s].reflow(t)}},e}(re);Rt(Va,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:c,position:c,zIndex:1}}),j(Va.prototype,oa);var Ha=Va,Ua=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.createFunnelChart(this.series)},e.prototype.createFunnelChart=function(t){var e=t[0],n=new Ha(this,{series:t,legend:this.options.legend,neckRatio:e.neckRatio,dynamicHeight:e.dynamicHeight,dynamicSlope:e.dynamicSlope,segmentSpacing:e.segmentSpacing,highlight:e.highlight});this.appendChart(n)},e.prototype.appendChart=function(e,n){t.prototype.appendChart.call(this,e,n),yt(this.options.legend.items,e.legendItems)},e}(Ko),Wa=function(t,e){void 0===e&&(e=.05);var n=Object(_.parseColor)(t),r=1-e;return function(t){var e=n.toHSL(),o=100-e.l,i=r-t;return e.l+=Math.min(i*o,o),e.toCss()}},qa=function(t){function e(e,n){t.call(this),this.options=n,this.color=n.color||b,this.value=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())},e.prototype.createLabel=function(){var t=this.options.labels;if(t.visible){var e,n=this.pointData(),r=rt(t),o=t.color;e=r?r(n):this.formatValue(t.format),o||(o=Vt(this.color)),this.label=new be(e,j({align:c,vAlign:c,margin:{left:5,right:5},zIndex:At(t.zIndex,this.series.zIndex)},t,{color:o}),n),this.append(this.label)}},e.prototype.formatValue=function(t){return this.owner.formatPointValue(this,t)},e.prototype.reflow=function(t){this.render();var e=this.label;this.box=t,e&&e.reflow(this.markerBox()),this.note&&this.note.reflow(t),this.marker.reflow(this.markerBox())},e.prototype.markerBox=function(){var t=this.options.markers,e=t.border,n=this.box.toRect(),r="roundedRect"===At(t.type,"rect"),o=At(e.width,r?1:0),i=Math.round(o/2);if(t.size){var a=n.center();n.size.width=n.size.height=t.size,n.origin.x=Math.round(a.x-n.size.width/2),n.origin.y=Math.round(a.y-n.size.height/2)}return n.size.width-=o,n.size.height-=o,n.origin.y+=i+.5,n.origin.x+=i+.5,ge(n)},e.prototype.markerBorder=function(){var t=this.options,e=t.markers.border,n=At(e.opacity,t.opacity);return{color:e.color||this.color,width:e.width,opacity:n,dashType:e.dashType}},e.prototype.createMarker=function(){var t=this.options,e=t.markers,n=new se({type:At(e.type,"rect"),width:e.size,height:e.size,rotation:e.rotation,background:this.color,border:this.markerBorder(),borderRadius:e.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:At(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=n,this.append(n)},e.prototype.createHighlight=function(t){var e=this.options,n=this.options.highlight.markers||this.options.markers,r=new se({type:At(n.type,"rect"),width:n.size,height:n.size,rotation:n.rotation,background:n.color||this.color,border:this.markerBorder(),borderRadius:n.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:At(e.zIndex,this.series.zIndex)});r.reflow(this.markerBox());var o=r.getElement();return o.options.fill=t.fill,o.options.stroke=t.stroke,o},e.prototype.highlightVisual=function(){return this.rectVisual},e.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},e.prototype.tooltipAnchor=function(){var t=this.box.center().x,e=this.box.y1-5;return{point:new Xt(t,e),align:{horizontal:c,vertical:l}}},e.prototype.overlapsBox=function(t){return this.box.overlaps(t)},e.prototype.unclipElements=function(){},e.prototype.pointData=function(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}},e}(re);j(qa.prototype,pr),j(qa.prototype,hr),qa.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}}};var Ka=qa,Ga=function(t){function e(e,n){t.call(this,n),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initFields=function(){this.points=[],this.seriesOptions=[],this.valueRange={min:f,max:m},this._evalSeries=[]},e.prototype.render=function(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))},e.prototype.setRange=function(){for(var t=this.options.series,e=0;e<t.length;e++)for(var n=t[e],r=0;r<n.data.length;r++){var o=this._bindPoint(n,e,r).valueFields;this.valueRange.min=Math.min(this.valueRange.min,o.value),this.valueRange.max=Math.max(this.valueRange.max,o.value)}},e.prototype.addValue=function(t,e){var n;t&&(n=this.createPoint(t,e))&&Object.assign(n,e),this.points.push(n)},e.prototype.evalPointOptions=function(t,e,n){var r=n.series,o=n.seriesIx,i={defaults:r._defaults,excluded:["data","tooltip","content","template","visual","toggle"]},a=this._evalSeries[o];xt(a)||(this._evalSeries[o]=a=sr(t,{},i,!0));var s=t;return a&&sr(s=j({},t),{value:e,series:r,dataItem:n.dataItem,min:this.valueRange.min,max:this.valueRange.max},i),s},e.prototype.pointType=function(){return Ka},e.prototype.pointOptions=function(t,e){var n=this.seriesOptions[e];if(!n){var r=this.pointType().prototype.defaults;this.seriesOptions[e]=n=j({},r,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return n},e.prototype.createPoint=function(t,e){var n=e.series,r=this.pointOptions(n,e.seriesIx),o=e.color||n.color;(r=this.evalPointOptions(r,t,e),P(n.color))?o=r.color:o=Wa(o)(t.value/this.valueRange.max);var i=new Ka(t,r);return i.color=o,this.append(i),i},e.prototype.seriesAxes=function(t){var e=t.xAxis,n=t.yAxis,r=this.plotArea,o=e?r.namedXAxes[e]:r.axisX,i=n?r.namedYAxes[n]:r.axisY;if(!o)throw new Error("Unable to locate X axis with name "+e);if(!i)throw new Error("Unable to locate Y axis with name "+n);return{xAxis:o,yAxis:i}},e.prototype.reflow=function(t){var e=this,n=this.points,r=!this.options.clip,o=0;this.traverseDataPoints((function(t,i){var a=n[o++],s=e.seriesAxes(i.series),l=s.xAxis,c=s.yAxis,u=l.categoryIndex(t.x),p=c.categoryIndex(t.y),h=l.getSlot(u,u,r),d=c.getSlot(p,p,r);if(a)if(h&&d){var f=e.pointSlot(h,d);a.reflow(f)}else a.visible=!1})),this.box=t},e.prototype.pointSlot=function(t,e){return new Zt(t.x1,e.y1,t.x2,e.y2)},e.prototype.traverseDataPoints=function(t){for(var e=this.options.series,n=0;n<e.length;n++)for(var r=e[n],o=this.seriesAxes(r),i=o.xAxis,a=o.yAxis,s=i.currentRangeIndices(),l=a.currentRangeIndices(),c=0;c<r.data.length;c++){var u=this._bindPoint(r,n,c),p=u.valueFields,h=u.fields,d=i.totalIndex(p.x),f=a.totalIndex(p.y),m=s.min<=d&&d<=s.max,v=l.min<=f&&f<=l.max;m&&v&&t(p,j({pointIx:c,series:r,seriesIx:n,dataItem:r.data[c],owner:this},h))}},e.prototype.formatPointValue=function(t,e){var n=t.value;return this.chartService.format.auto(e,n.x,n.y,n.value)},e.prototype.animationPoints=function(){for(var t=this.points,e=[],n=0;n<t.length;n++)e.push((t[n]||{}).marker);return e},e}(re);Rt(Ga,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0}),j(Ga.prototype,{_bindPoint:ur.prototype._bindPoint});var Ya=Ga,Xa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={}},e.prototype.render=function(t){void 0===t&&(t=this.panes),this.bindCategories(),this.createAxes(t),this.createCharts(t),this.createAxisLabels()},e.prototype.bindCategories=function(){for(var t=this.srcSeries||this.series,e=0;e<t.length;e++){for(var n=t[e],r=n.data||[],o=this.seriesAxes(n),i=o.xAxis,a=o.yAxis,s=Gt(i.categories||[]),l=Gt(a.categories||[]),c=0;c<r.length;c++){var u=Wn.current.bindPoint(n,c).valueFields,p=u.x,h=u.y;s.has(p)||s.add(p),l.has(h)||l.add(h)}i.categories=s.values(),a.categories=l.values()}},e.prototype.createCharts=function(t){for(var e=this.groupSeriesByPane(),n=0;n<t.length;n++){var r=t[n],o=e[r.options.name||"default"]||[];this.addToLegend(o);var i=this.filterVisibleSeries(o);i&&this.createHeatmapChart(jo(i,["heatmap"]),r)}},e.prototype.createHeatmapChart=function(t,e){var n=new Ya(this,{series:t});this.appendChart(n,e)},e.prototype.seriesPaneName=function(t){var e=this.options,n=t.xAxis,r=st([].concat(e.xAxis),(function(t){return t.name===n}))[0],o=t.yAxis,i=st([].concat(e.yAxis),(function(t){return t.name===o}))[0],a=(e.panes||[{}])[0].name||"default";return(r||{}).pane||(i||{}).pane||a},e.prototype.seriesAxes=function(t){var e,n,r=this.options,o=[].concat(r.xAxis),i=t.xAxis;e=i?o.find((function(t){return t.name===i})):o[0];var a=[].concat(r.yAxis),s=t.yAxis;if(n=s?a.find((function(t){return t.name===s})):a[0],!e)throw new Error("Unable to locate X axis with name "+i);if(!n)throw new Error("Unable to locate Y axis with name "+s);return{xAxis:e,yAxis:n}},e.prototype.createAxisLabels=function(){for(var t=this.axes,e=0;e<t.length;e++)t[e].createLabels()},e.prototype.createXYAxis=function(t,e,n){for(var r,o=t.name,i=e?this.namedYAxes:this.namedXAxes,a=Object.assign({axisCrossingValue:0},t,{vertical:e,reverse:e||this.chartService.rtl?!t.reverse:t.reverse,justified:!1}),s=a.categories?a.categories[0]:null,l=[a.min,a.max,s],c=this.series,u=0;u<c.length;u++){var h=c[u],d=h[e?"yAxis":"xAxis"];if(d===a.name||0===n&&!d){var f=Wn.current.bindPoint(h,0).valueFields;l.push(f[e?"y":"x"]);break}}for(var m=0;m<l.length;m++)if(l[m]instanceof Date){r=!0;break}var v=new(Ao(a.type,p)||!a.type&&r?sn:Ze)(a,this.chartService);if(v.axisIndex=n,o){if(i[o])throw new Error((e?"Y":"X")+" axis with name "+o+" is already defined");i[o]=v}return this.appendAxis(v),v.mapCategories(),v},e.prototype.createAxes=function(t){for(var e=this.options,n=[].concat(e.xAxis),r=[],o=[].concat(e.yAxis),i=[],a=0;a<n.length;a++){pt(this.findPane(n[a].pane),t)&&r.push(this.createXYAxis(n[a],!1,a))}for(var s=0;s<o.length;s++){pt(this.findPane(o[s].pane),t)&&i.push(this.createXYAxis(o[s],!0,s))}this.axisX=this.axisX||r[0],this.axisY=this.axisY||i[0]},e.prototype.removeAxis=function(e){var n=e.options.name;t.prototype.removeAxis.call(this,e),e.options.vertical?delete this.namedYAxes[n]:delete this.namedXAxes[n],e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY},e.prototype._dispatchEvent=function(t,e,n){for(var r=t._eventCoordinates(e),o=new Xt(r.x,r.y),i=this.axes,a=i.length,s=[],l=[],c=0;c<a;c++){var u=i[c];To(u.options.vertical?l:s,u.getCategory(o))}s.length>0&&l.length>0&&t.trigger(n,{element:Ct(e),originalEvent:e,x:No(s),y:No(l)})},e.prototype.updateAxisOptions=function(t,e){var n=t.options.vertical,r=this.groupAxes(this.panes),o=(n?r.y:r.x).indexOf(t);$a(this.options,o,n,e),$a(this.originalOptions,o,n,e)},e.prototype.crosshairOptions=function(t){return Object.assign({},t.options.crosshair,{zIndex:0})},e}(Ko);function $a(t,e,n,r){j([].concat(n?t.yAxis:t.xAxis)[e],r)}Rt(Xa,{xAxis:{},yAxis:{}}),j(Xa.prototype,Go);var Za=Xa,Ja="color",Qa="first",ts="max";Ni.current.register(wi,[Zn,Jn,Qn,er,"area","verticalArea","candlestick","ohlc","bullet","verticalBullet","boxPlot","verticalBoxPlot","rangeColumn","rangeBar","waterfall","horizontalWaterfall","rangeArea","verticalRangeArea"]),Ni.current.register(Ji,["scatter","scatterLine","bubble"]),Ni.current.register(la,[tr]),Ni.current.register(da,["donut"]),Ni.current.register(Ua,["funnel"]),Ni.current.register(Ca,["polarArea","polarLine","polarScatter"]),Ni.current.register(La,["radarArea","radarColumn","radarLine"]),Ni.current.register(Za,["heatmap"]),Wn.current.register([Zn,Jn,Qn,er,"area","verticalArea"],[y],["category",Ja,"noteText","errorLow","errorHigh"]),Wn.current.register(["rangeColumn","rangeBar","rangeArea","verticalRangeArea"],["from","to"],["category",Ja,"noteText"]),Wn.current.register(["waterfall","horizontalWaterfall"],[y],["category",Ja,"noteText","summary"]),Wn.current.register(["polarArea","polarLine","polarScatter"],[x,w],[Ja]),Wn.current.register(["radarArea","radarColumn","radarLine"],[y],[Ja]),Wn.current.register(["funnel"],[y],["category",Ja,"visibleInLegend","visible"]),Zo.current.register([Zn,Jn,Qn,er,"area","verticalArea","waterfall","horizontalWaterfall"],{value:ts,color:Qa,noteText:Qa,errorLow:"min",errorHigh:ts}),Zo.current.register(["rangeColumn","rangeBar","rangeArea","verticalRangeArea"],{from:"min",to:ts,color:Qa,noteText:Qa}),Zo.current.register(["radarArea","radarColumn","radarLine"],{value:ts,color:Qa}),Wn.current.register(["scatter","scatterLine","bubble"],[x,w],[Ja,"noteText","xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),Wn.current.register(["bubble"],[x,w,"size"],[Ja,"category","noteText"]),Wn.current.register(["heatmap"],[x,w,y],[Ja,"noteText"]),Wn.current.register(["candlestick","ohlc"],["open","high","low","close"],["category",Ja,"downColor","noteText"]),Zo.current.register(["candlestick","ohlc"],{open:ts,high:ts,low:"min",close:ts,color:Qa,downColor:Qa,noteText:Qa}),Wn.current.register(["boxPlot","verticalBoxPlot"],["lower","q1","median","q3","upper","mean","outliers"],["category",Ja,"noteText"]),Zo.current.register(["boxPlot","verticalBoxPlot"],{lower:ts,q1:ts,median:ts,q3:ts,upper:ts,mean:ts,outliers:Qa,color:Qa,noteText:Qa}),Wn.current.register(["bullet","verticalBullet"],["current","target"],["category",Ja,"visibleInLegend","noteText"]),Zo.current.register(["bullet","verticalBullet"],{current:ts,target:ts,color:Qa,noteText:Qa}),Wn.current.register([tr,"donut"],[y],["category",Ja,"explode","visibleInLegend","visible"]);var es=["category",y,x,w],ns=function(t){function e(e,n,r,o){var i=this;void 0===o&&(o={}),t.call(this),this.observers=[],this.addObserver(o.observer),this.chartService=new Z(this,o),this.chartService.theme=r,this._initElement(e);var a=j({},this.options,n);this._originalOptions=j({},a),this._theme=r,this._initTheme(a,r),this._initHandlers(),this._initSurface(),this.bindCategories(),Mt.preloadFonts(n,(function(){i.fontLoaded=!0,i._destroyed||(i.trigger("init"),i._redraw(),i._attachEvents())}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initElement=function(t){for(this._setElementClass(t),t.style.position="relative";t.firstChild;)t.removeChild(t.firstChild);this.element=t},e.prototype._setElementClass=function(t){O(t,"k-chart")},e.prototype._initTheme=function(t,e){for(var n=[],r=t.series||[],o=0;o<r.length;o++)n.push(Object.assign({},r[o]));t.series=n,function(t){for(var e=es,n=0;n<e.length;n++){var r=e[n]+"Axes";t[r]&&(t[e[n]+"Axis"]=t[r],delete t[r])}}(t),this.applyDefaults(t,e),null===t.seriesColors&&delete t.seriesColors,this.options=j({},e,t),this.applySeriesColors()},e.prototype.getSize=function(){var t=this.options.chartArea||{};return{width:t.width?parseInt(t.width,10):Math.floor(this.element.offsetWidth),height:t.height?parseInt(t.height,10):Math.floor(this.element.offsetHeight)}},e.prototype.resize=function(t){var e=this.getSize(),n=this._size,r=e.width>0||e.height>0;t||r&&(!n||e.width!==n.width||e.height!==n.height)?(this._size=e,this._resize(e,t),this.trigger("resize",e)):r&&this._selections&&Ft(this._selections,(function(t){return!t.visible}))&&(this._destroySelections(),this._setupSelection())},e.prototype._resize=function(){this._noTransitionsRedraw()},e.prototype.redraw=function(t){if(this.applyDefaults(this.options),this.applySeriesColors(),t){var e=this._model._plotArea,n=e.findPane(t);e.redraw(n)}else this._redraw()},e.prototype.getAxis=function(t){return Rn(t,this._plotArea.axes)},e.prototype.findAxisByName=function(t){return this.getAxis(t)},e.prototype.findPaneByName=function(t){for(var e=this._plotArea.panes,n=0;n<e.length;n++)if(e[n].options.name===t)return new Fn(e[n])},e.prototype.findPaneByIndex=function(t){var e=this._plotArea.panes;if(e[t])return new Fn(e[t])},e.prototype.plotArea=function(){return new Ln(this._plotArea)},e.prototype.toggleHighlight=function(t,e){var n,r,o,i=this._plotArea,a=(i.srcSeries||i.series||[])[0];P(e)?n=i.filterPoints(e):(M(e)?(r=e.series,o=e.category):r=o=e,n="donut"===a.type?rs(i.pointsBySeriesName(r),o):a.type===tr||"funnel"===a.type?rs((i.charts[0]||{}).points,o):i.pointsBySeriesName(r));n&&this.togglePointsHighlight(t,n)},e.prototype.togglePointsHighlight=function(t,e){for(var n=this._highlight,r=0;r<e.length;r++)n.togglePointHighlight(e[r],t)},e.prototype.showTooltip=function(t){var e,n,r=this._sharedTooltip(),o=this._tooltip,i=this._plotArea;if(P(t)?(e=i.findPoint(t))&&r&&(n=e.categoryIx):r&&xt(t)&&(n=i.categoryAxis.categoryIndex(t)),r){if(n>=0){var a=this._plotArea.pointsByCategoryIndex(n);o.showAt(a)}}else e&&o.show(e)},e.prototype.hideTooltip=function(){this._tooltip.hide()},e.prototype._initSurface=function(){var t=this.surface,e=this._surfaceWrap(),n=this.options.chartArea||{};n.width&&Ot(e,{width:n.width}),n.height&&Ot(e,{height:n.height}),t&&t.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=_.drawing.Surface.create(e,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))},e.prototype._surfaceWrap=function(){return this.element},e.prototype._redraw=function(){var t=this._getModel();this._size={width:t.options.width,height:t.options.height},this._destroyView(),this._model=t,this._plotArea=t._plotArea,t.renderVisual(),!1!==this.options.transitions&&t.traverse((function(t){t.animation&&t.animation.setup()})),this._initSurface(),this.surface.draw(t.visual),!1!==this.options.transitions&&t.traverse((function(t){t.animation&&t.animation.play()})),this._tooltip=this._createTooltip(),this._highlight=new Oi,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),ls(this._plotArea.panes),this._navState||this._cancelDomEvents()},e.prototype.exportVisual=function(t){var e;if(t&&(t.width||t.height||t.options)){var n=this.options,r=j({},t.options,{chartArea:{width:t.width,height:t.height}});ss(this._originalOptions,r),this.options=j({},this._originalOptions,r),this._initTheme(this.options,this._theme),this.bindCategories();var o=this._getModel();o.renderVisual(),ls(o._plotArea.panes),e=o.visual,this.options=n}else e=this.surface.exportVisual();return e},e.prototype._sharedTooltip=function(){return this._plotArea instanceof wi&&this.options.tooltip&&this.options.tooltip.shared},e.prototype._createPannable=function(){var t=this.options;!1!==t.pannable&&(this._pannable=new Ei(this._plotArea,t.pannable))},e.prototype._createZoomSelection=function(){var t=this.options.zoomable,e=(t||{}).selection;!1!==t&&!1!==e&&(this._zoomSelection=new Ti(this,e))},e.prototype._createMousewheelZoom=function(){var t=this.options.zoomable,e=(t||{}).mousewheel;!1!==t&&!1!==e&&(this._mousewheelZoom=new Di(this,e))},e.prototype._toggleDragZoomEvents=function(){var t=this.options.pannable,e=this.options.zoomable,n=(e||{}).selection,r=(e||{}).mousewheel,o=!(t||!1!==e&&!1!==n||this.requiresHandlers(["dragStart","drag","dragEnd"])),i=(!1===e||!1===r)&&!this.requiresHandlers(["zoomStart","zoom","zoomEnd"]),a=this.element;this._dragZoomEnabled&&o&&i?(a.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):this._dragZoomEnabled||o&&i||(a.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!o,!i)},e.prototype._toggleDomEvents=function(t,e){var n=this.domEvents;n&&(n.toggleDrag&&n.toggleDrag(t),n.toggleZoom&&n.toggleZoom(e))},e.prototype._createTooltip=function(){var t=this.options.tooltip;return this._sharedTooltip()?this._createSharedTooltip(t):new Vi(this.chartService,t)},e.prototype._createSharedTooltip=function(t){return new Ui(this._plotArea,t)},e.prototype.applyDefaults=function(t,e){!function(t,e){var n,r,o,i=(e||{}).axisDefaults||{};function a(t){var e=(t||{}).color||r.color,o=j({},i,i[n],r,r[n],{line:{color:e},labels:{color:e},title:{color:e}},t);return delete o[n],o}for(var s=0;s<es.length;s++)n=es[s]+"Axis",r=t.axisDefaults||{},o=(o=[].concat(t[n])).map(a),t[n]=o.length>1?o:o[0]}(t,e),function(t,e){var n=t.series,r=n.length,o=t.seriesDefaults,i=j({},t.seriesDefaults),a=e?j({},e.seriesDefaults):{},s=j({},a);os(i),os(s);for(var l=0;l<r;l++){var c=n[l].type||t.seriesDefaults.type,u=j({data:[]},s,a[c],{tooltip:t.tooltip},i,o[c]);n[l]._defaults=u,n[l]=j({},u,n[l]),n[l].data=n[l].data||[]}}(t,e)},e.prototype.applySeriesColors=function(){for(var t=this.options,e=t.series,n=t.seriesColors||[],r=0;r<e.length;r++){var o=e[r],i=n[r%n.length],a=o._defaults;o.color=o.color||i,a&&(a.color=a.color||i)}},e.prototype._getModel=function(){var t=this.options,e=this._createPlotArea(),n=new pe(this._modelOptions());return n.chart=this,n._plotArea=e,we.buildTitle(t.title,n),t.legend&&t.legend.visible&&n.append(new Mi(e.options.legend,this.chartService)),n.append(e),n.reflow(),n},e.prototype._modelOptions=function(){var t=this.options,e=this.getSize();return j({transitions:t.transitions,width:e.width||600,height:e.height||400},t.chartArea)},e.prototype._createPlotArea=function(t){var e=this.options;return Ni.current.create(t?[]:e.series,e,this.chartService)},e.prototype._setupSelection=function(){for(var t=this._plotArea.axes,e=this._selections=[],n=0;n<t.length;n++){var r=t[n],o=r.options;if(r instanceof Ze&&o.select&&!o.vertical){var i=r.range(),a=new Bi(this,r,j({min:i.min,max:i.max},o.select));e.push(a)}}},e.prototype._selectStart=function(t){return this.trigger("selectStart",t)},e.prototype._select=function(t){return this.trigger("select",t)},e.prototype._selectEnd=function(t){return this.trigger("selectEnd",t)},e.prototype._initHandlers=function(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=Object(_.throttle)(this._mousemove.bind(this),20)},e.prototype.addObserver=function(t){t&&this.observers.push(t)},e.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)},e.prototype.requiresHandlers=function(t){for(var e=this.observers,n=0;n<e.length;n++)if(e[n].requiresHandlers(t))return!0},e.prototype.trigger=function(t,e){void 0===e&&(e={}),"showTooltip"===t&&(e.anchor.point=this._toDocumentCoordinates(e.anchor.point)),e.sender=this;for(var n=this.observers,r=!1,o=0;o<n.length;o++)n[o].trigger(t,e)&&(r=!0);return r},e.prototype._attachEvents=function(){var t,e,n=this.element;this._touchAction=n.style.touchAction,bt(n,((t={}).contextmenu=this._clickHandler,t[rr]=this._mousewheelHandler,t.mouseleave=this._mouseleaveHandler,t)),this._shouldAttachMouseMove()&&bt(n,((e={}).mousemove=this._mousemove,e)),this.domEvents=Q.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()},e.prototype._mouseleave=function(t){this._hoveredPoint&&(this._hoveredPoint.out(this,t),this._hoveredPoint=null),this._plotArea.hovered&&(this.trigger("plotAreaLeave"),this._plotArea.hovered=!1)},e.prototype._cancelDomEvents=function(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()},e.prototype._gesturestart=function(t){this._mousewheelZoom&&!this._stopChartHandlers(t)&&(this._gestureDistance=t.distance,this._unsetActivePoint(),this.surface.suspendTracking())},e.prototype._gestureend=function(t){this._zooming&&!this._stopChartHandlers(t)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger("zoomEnd",{}))},e.prototype._gesturechange=function(t){var e=this._mousewheelZoom;if(e&&!this._stopChartHandlers(t)){t.preventDefault();var n=this._gestureDistance,r=-t.distance/n+1;if(Math.abs(r)>=.1){r=Math.round(10*r),this._gestureDistance=t.distance;var o={delta:r,axisRanges:is(this._plotArea.axes),originalEvent:t};if(this._zooming||!this.trigger("zoomStart",o))this._zooming||(this._zooming=!0),(o.axisRanges=e.updateRanges(r))&&!this.trigger("zoom",o)&&e.zoom()}}},e.prototype._mouseout=function(t){if(t.element){var e=this._drawingChartElement(t.element,t);e&&e.leave&&e.leave(this,t.originalEvent)}},e.prototype._start=function(t){var e=this._eventCoordinates(t);!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(e)&&(this.requiresHandlers(["dragStart","drag","dragEnd"])&&this._startNavigation(t,e,"dragStart"),this._pannable&&this._pannable.start(t)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(t)&&this.trigger("zoomStart",{axisRanges:is(this._plotArea.axes),originalEvent:t}))},e.prototype._move=function(t){var e=this._navState,n=this._pannable;if(!this._stopChartHandlers(t)){if(n){var r=n.move(t);r&&!this.trigger("drag",{axisRanges:r,originalEvent:t})&&n.pan()}else if(e){for(var o={},i=e.axes,a=0;a<i.length;a++){var s=i[a];if(s.options.name){var l=s.options.vertical?t.y:t.x,c=l.startLocation-l.location;0!==c&&(o[s.options.name]=s.translateRange(c))}}e.axisRanges=o,this.trigger("drag",{axisRanges:o,originalEvent:t})}this._zoomSelection&&this._zoomSelection.move(t)}},e.prototype._end=function(t){if(!this._stopChartHandlers(t)){var e=this._pannable;if(e&&e.end(t)?(this.surface.resumeTracking(),this.trigger("dragEnd",{axisRanges:is(this._plotArea.axes),originalEvent:t}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(t,"dragEnd"),this._zoomSelection){var n=this._zoomSelection.end(t);n&&!this.trigger("zoom",{axisRanges:n,originalEvent:t})&&(this._zoomSelection.zoom(),this.trigger("zoomEnd",{axisRanges:n,originalEvent:t}))}}},e.prototype._stopChartHandlers=function(t){var e=this._selections||[];if(!e.length)return!1;var n=this._eventCoordinates(t),r=this._plotArea.paneByPoint(n);if(r)for(var o=0;o<e.length;o++)if(e[o].onPane(r))return!0},e.prototype._mousewheel=function(t){var e=this,n=vt(t),r=this._mousewheelZoom,o=this._eventCoordinates(t);if(!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(o))if(r){var i={delta:n,axisRanges:is(this._plotArea.axes),originalEvent:t};!this._zooming&&this.trigger("zoomStart",i)||(t.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),i.axisRanges=r.updateRanges(n),i.axisRanges&&!this.trigger("zoom",i)&&r.zoom(),this._mwTimeout=setTimeout((function(){e.trigger("zoomEnd",i),e._zooming=!1,e.surface&&e.surface.resumeTracking()}),150))}else{var a=this._navState;if(!a)this._startNavigation(t,o,"zoomStart")||(a=this._navState);if(a){var s=a.totalDelta||n;a.totalDelta=s+n;for(var l=this._navState.axes,c={},u=0;u<l.length;u++){var p=l[u],h=p.options.name;h&&(c[h]=p.scaleRange(-s))}this.trigger("zoom",{delta:n,axisRanges:c,originalEvent:t}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){e._endNavigation(t,"zoomEnd")}),150)}}},e.prototype._startNavigation=function(t,e,n){var r=this._model._plotArea,o=r.findPointPane(e),i=r.axes.slice(0);if(o){var a=is(i);this.trigger(n,{axisRanges:a,originalEvent:t})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:a,pane:o,axes:i})}},e.prototype._endNavigation=function(t,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:t}),this._suppressHover=!1,this._navState=null)},e.prototype._getChartElement=function(t,e){var n=this.surface.eventTarget(t);if(n)return this._drawingChartElement(n,t,e)},e.prototype._drawingChartElement=function(t,e,n){for(var r,o=t;o&&!r;)r=o.chartElement,o=o.parent;if(r)return r.aliasFor&&(r=r.aliasFor(e,this._eventCoordinates(e))),n&&(r=r.closest(n))&&r.aliasFor&&(r=r.aliasFor()),r},e.prototype._eventCoordinates=function(t){var e=_t(t);return this._toModelCoordinates(e.x,e.y)},e.prototype._elementPadding=function(){if(!this._padding){var t=L(this.element,["paddingLeft","paddingTop"]),e=t.paddingLeft,n=t.paddingTop;this._padding={top:n,left:e}}return this._padding},e.prototype._toDocumentCoordinates=function(t){var e=this._elementPadding(),n=kt(this.element);return{left:Dt(t.x+e.left+n.left),top:Dt(t.y+e.top+n.top)}},e.prototype._toModelCoordinates=function(t,e){var n=this.element,r=kt(n),o=this._elementPadding(),i=function(t){if(!t)return Lt.unit();for(var e=Bt(t),n=t.parentElement;n;){var r=Bt(n);e=e.multiplyCopy(r),n=n.parentElement}return e.b=e.c=e.e=e.f=0,e}(n).invert(),a=new _.geometry.Point(t-r.left-o.left,e-r.top-o.top).transform(i);return new Xt(a.x,a.y)},e.prototype._tap=function(t){var e=this,n=this.surface.eventTarget(t),r=this._drawingChartElement(n,t),o=this._sharedTooltip();this._startHover(n,t)||o||this._unsetActivePoint(),o&&this._trackSharedTooltip(this._eventCoordinates(t),t,!0),this._propagateClick(r,t),this.handlingTap=!0,setTimeout((function(){e.handlingTap=!1}),0)},e.prototype._click=function(t){var e=this._getChartElement(t);this._propagateClick(e,t)},e.prototype._propagateClick=function(t,e){for(var n=t;n;)n.click&&n.click(this,e),n=n.parent},e.prototype._startHover=function(t,e){if(this._suppressHover)return!1;var n=this._drawingChartElement(t,e,(function(t){return(t.hover||t.over)&&!(t instanceof Ko)})),r=this._activePoint,o=this._plotArea.series.length>1,i=this._hasInactiveOpacity();return this._updateHoveredPoint(n,e),n&&r!==n&&n.hover?(this._activePoint=n,this._sharedTooltip()||n.hover(this,e)||(this._displayTooltip(n),i?this._displayInactiveOpacity(n,o):this._highlight.show(n))):!n&&i&&(o&&this._activeChartInstance&&(this._updateSeriesOpacity(n,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null),n},e.prototype._displayTooltip=function(t){j({},this.options.tooltip,t.options.tooltip).visible&&this._tooltip.show(t)},e.prototype._displayInactiveOpacity=function(t,e,n){var r=this._activeChartInstance=this._chartInstanceFromPoint(t);if(r)if(e)this._updateSeriesOpacity(t),this._applySeriesOpacity(r.children,null,!0),this._applySeriesOpacity(r.children,t.series),this._highlight.show(n||t);else{var o;if(!r.supportsPointInactiveOpacity())return void this._highlight.show(t);(o=this._getInactivePoints(t,r))&&o.length&&this._highlight.show(o,1-this._getInactiveOpacityForSeries(t.series))}},e.prototype._getInactivePoints=function(t,e){return this._getAllPointsOfType(e,t.constructor).filter((function(e){return e!==t}))},e.prototype._getAllPointsOfType=function(t,e){for(var n=[],r=0;r<t.children.length;r++){var o=t.children[r];o.constructor===e?n.push(o):o.children&&o.children.length&&(n=n.concat(this._getAllPointsOfType(o,e)))}return n},e.prototype._updateHoveredPoint=function(t,e){var n=this._hoveredPoint;n&&n!==t&&(n.out(this,e),this._hoveredPoint=null),t&&n!==t&&t.over&&(this._hoveredPoint=t,t.over(this,e))},e.prototype._updateSeriesOpacity=function(t,e){for(var n=this._plotArea,r=n.series.length,o=0;o<r;o++){var i=n.series[o],a=this._getDefaultOpacityForSeries(i),s=this._getInactiveOpacityForSeries(i);e||i===t.series?(i.opacity=a,i.line&&(i.line.opacity=a)):(i.defaultOpacity=a,i.opacity=s,i.line&&(i.line.opacity=s))}},e.prototype._applySeriesOpacity=function(t,e,n,r){for(var o=0;o<t.length;o++){var i=t[o],a=i.series||r;if(a&&i.visual){var s=r?r.opacity:i.series.opacity;(a!==e||n)&&i.visual.opacity(n?1:s)}i.children&&i.children.length&&this._applySeriesOpacity(i.children,e,n,i.series)}},e.prototype._chartInstanceFromPoint=function(t){for(var e=t.parent;e&&!e.plotArea;)e=e.parent;return e},e.prototype._hasInactiveOpacity=function(){var t=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,e=this.options.series.filter((function(t){return void 0!==t.highlight.inactiveOpacity})).length>0;return t||e},e.prototype._getInactiveOpacityForSeries=function(t){var e=this.options.seriesDefaults.highlight.inactiveOpacity;return t.highlight.inactiveOpacity||e||t.opacity||1},e.prototype._getDefaultOpacityForSeries=function(t){return t.defaultOpacity||t.opacity||1},e.prototype._mouseover=function(t){var e,n=this._startHover(t.element,t.originalEvent);n&&n.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),bt(document,((e={}).mousemove=this._mouseMoveTrackHandler,e)))},e.prototype._mouseMoveTracking=function(t){var e,n=this.options,r=this._tooltip,o=this._highlight,i=this._activePoint,a=this._eventCoordinates(t);if(this._plotArea.box.containsPoint(a)){if(i&&i.tooltipTracking&&i.series&&i.parent.getNearestPoint){var s=i.parent.getNearestPoint(a.x,a.y,i.seriesIx);if(s&&s!==i)if(this._activePoint=s,!s.hover(this,t))j({},n.tooltip,s.options.tooltip).visible&&r.show(s),o.show(s)}}else Pt(document,((e={}).mousemove=this._mouseMoveTrackHandler,e)),this._unsetActivePoint(),this._mouseMoveTrackHandler=null},e.prototype._mousemove=function(t){var e=this._eventCoordinates(t),n=this._plotArea;if(this._trackCrosshairs(e),n.hover){var r=n.backgroundContainsPoint(e);r?(n.hovered=!0,this._plotArea.hover(this,t)):n.hovered&&!r&&(this.trigger("plotAreaLeave"),n.hovered=!1)}this._sharedTooltip()&&this._trackSharedTooltip(e,t)},e.prototype._trackCrosshairs=function(t){for(var e=this._plotArea.crosshairs,n=0;n<e.length;n++){var r=e[n];r.box.containsPoint(t)?r.showAt(t):r.hide()}},e.prototype._trackSharedTooltip=function(t,e,n){if(!this._suppressHover){var r=this.options.tooltip,o=this._plotArea,i=this._plotArea.categoryAxis,a=this._tooltip,s=this._highlight;if(o.backgroundContainsPoint(t)){var l=i.pointCategoryIndex(t);if(l!==this._tooltipCategoryIx||!this._sharedHighlight&&n){var c=o.pointsByCategoryIndex(l),u=c.map((function(t){return t.eventArgs(e)})),p=u[0]||{};p.categoryPoints=u,c.length>0&&!this.trigger("seriesHover",p)?(r.visible&&a.showAt(c,t),s.show(c),this._sharedHighlight=!0):a.hide(),this._tooltipCategoryIx=l}else n&&this._sharedHighlight&&(s.hide(),a.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(s.hide(),a.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}},e.prototype.hideElements=function(t){var e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint(t)},e.prototype._unsetActivePoint=function(t){var e=this._tooltip,n=this._highlight;this._activePoint=null,this._hoveredPoint=null,!e||t&&t.keepTooltipOpen||e.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,n&&n.hide()},e.prototype._deferRedraw=function(){this._redraw()},e.prototype._clearRedrawTimeout=function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},e.prototype.bindCategories=function(){for(var t=this.options,e=[].concat(t.categoryAxis),n=0;n<e.length;n++){var r=e[n];!1!==r.autoBind&&this.bindCategoryAxisFromSeries(r,n)}},e.prototype.bindCategoryAxisFromSeries=function(t,e){for(var n,r=this.options.series,o=r.length,i=new ut,a=[],s=!1,l=0;l<o;l++){var c=r[l],u=c.categoryAxis===t.name||!c.categoryAxis&&0===e,p=c.data,h=p.length,d=c.categoryField&&u;if(s=d||s,d&&h>0)for(var f=(n=Ro(t,Hn(c.categoryField,p[0])))?Mo:Hn,m=0;m<h;m++){var v=p[m],g=f(c.categoryField,v,this.chartService.intl);!n&&i.get(g)||(a.push([g,v]),n||i.set(g,!0))}}if(a.length>0){n&&(a=function(t,e){void 0===e&&(e=Be);for(var n=function(t,e){void 0===e&&(e=Be);for(var n=1,r=t.length;n<r;n++)if(e(t[n],t[n-1])<0){t.sort(e);break}return t}(t,e),r=n.length,o=r>0?[n[0]]:[],i=1;i<r;i++)0!==e(n[i],St(o))&&o.push(n[i]);return o}(a,(function(t,e){return Be(t[0],e[0])})));var y=function(t){for(var e=t.length,n=[],r=0;r<e;r++)for(var o=t[r],i=o.length,a=0;a<i;a++)n[a]=n[a]||[],n[a].push(o[a]);return n}(a);t.categories=y[0]}else s&&(t.categories=[])},e.prototype._isBindable=function(t){for(var e=Wn.current.valueFields(t),n=!0,r=0;r<e.length;r++){var o=e[r];if(o===y?o="field":o+="Field",!xt(t[o])){n=!1;break}}return n},e.prototype._noTransitionsRedraw=function(){var t,e=this.options;!1!==e.transitions&&(e.transitions=!1,t=!0),this._redraw(),t&&(e.transitions=!0)},e.prototype._legendItemHover=function(t,e){var n,r=this._plotArea,o=this._highlight,i=(r.srcSeries||r.series)[t];if(n=pt(i.type,[tr,"donut","funnel"])?r.findPoint((function(n){return n.series.index===t&&n.index===e})):r.pointsBySeriesIndex(t),this._hasInactiveOpacity()&&i.visible&&n){var a=r.series.length>1,s=n.length?n[0]:n;this._displayInactiveOpacity(s,a,n)}else o.show(n)},e.prototype._shouldAttachMouseMove=function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers(["plotAreaHover","plotAreaLeave"])},e.prototype.updateMouseMoveHandler=function(){var t,e;Pt(this.element,((t={}).mousemove=this._mousemove,t)),this._shouldAttachMouseMove()&&bt(this.element,((e={}).mousemove=this._mousemove,e))},e.prototype.applyOptions=function(t,e){ss(this._originalOptions,t),this._originalOptions=j(this._originalOptions,t),this.options=j({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()},e.prototype.setOptions=function(t,e){this.applyOptions(t,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()},e.prototype.setDirection=function(t){this.chartService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&this._destroySurface()},e.prototype.setIntlService=function(t){this.chartService.intl=t},e.prototype.noTransitionsRedraw=function(){this._noTransitionsRedraw()},e.prototype.destroy=function(){var t,e;this._destroyed=!0,Pt(this.element,((t={}).contextmenu=this._clickHandler,t[rr]=this._mousewheelHandler,t.mousemove=this._mousemove,t.mouseleave=this._mouseleaveHandler,t)),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&Pt(document,((e={}).mousemove=this._mouseMoveTrackHandler,e)),this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()},e.prototype._destroySurface=function(){var t=this.surface;t&&(t.unbind("mouseenter",this._surfaceMouseenterHandler),t.unbind("mouseleave",this._surfaceMouseleaveHandler),t.destroy(),this.surface=null)},e.prototype._destroySelections=function(){var t=this._selections;if(t)for(;t.length>0;)t.shift().destroy()},e.prototype._destroyView=function(){var t=this._model;t&&(t.destroy(),this._model=null),this._unsetActivePoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)},e}(_.Class);function rs(t,e){if(t)for(var n=0;n<t.length;n++)if(t[n].category===e)return[t[n]]}function os(t){delete t.bar,delete t.column,delete t.rangeColumn,delete t.line,delete t.verticalLine,delete t.pie,delete t.donut,delete t.area,delete t.verticalArea,delete t.scatter,delete t.scatterLine,delete t.bubble,delete t.candlestick,delete t.ohlc,delete t.boxPlot,delete t.bullet,delete t.verticalBullet,delete t.polarArea,delete t.polarLine,delete t.radarArea,delete t.radarLine,delete t.waterfall}function is(t){for(var e={},n=0;n<t.length;n++){var r=t[n],o=r.options.name;o&&(e[o]=r.range())}return e}var as=["data","categories"];function ss(t,e){for(var n in e)if(!pt(n,as)&&e.hasOwnProperty(n)){var r=e[n],o=t[n];if(xt(o)){var i=null===r;i||!xt(r)?(delete t[n],i&&delete e[n]):o&&M(r)&&M(o)&&ss(o,r)}}}function ls(t){for(var e=0;e<t.length;e++)t[e].notifyRender()}Rt(ns,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:Jn,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});var cs=ns,us=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._slotAnchor=function(t,e){var n=this.plotArea.categoryAxis.options.vertical,r=n?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};return{point:n?new Xt(this.plotArea.box.x2,e.center().y):new Xt(e.center().x,-2),align:r}},e.prototype._defaultAnchor=function(t,e){return this._slotAnchor({},e)},e}(Ui),ps=[Zn,"bullet"];function hs(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e[n]=r.style.display,r.style.display="none"}return e}function ds(t,e){for(var n=0;n<t.length;n++)t[n].style.display=e[n]}function fs(t){return I(t)?[t]:t}var ms=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._setElementClass=function(t){O(t,"k-sparkline")},e.prototype._initElement=function(e){t.prototype._initElement.call(this,e),this._initialWidth=Math.floor(Ot(e).width)},e.prototype._resize=function(){var e=this.element,n=hs(e.childNodes);this._initialWidth=Math.floor(Ot(e).width),ds(e.childNodes,n),t.prototype._resize.call(this)},e.prototype._modelOptions=function(){var t=this.options,e=this._surfaceWrap(),n=hs(e.childNodes),r=document.createElement("span");r.innerHTML="&nbsp;",e.appendChild(r);var o=j({width:this._autoWidth,height:Ot(e).height,transitions:t.transitions},t.chartArea,{inline:!0,align:!1});return Ot(e,{width:o.width,height:o.height}),e.removeChild(r),ds(e.childNodes,n),this.surface&&this.surface.resize(),o},e.prototype._surfaceWrap=function(){if(!this.stage){var t=this.stage=document.createElement("span");this.element.appendChild(t)}return this.stage},e.prototype._createPlotArea=function(e){var n=t.prototype._createPlotArea.call(this,e);return this._autoWidth=this._initialWidth||this._calculateWidth(n),n},e.prototype._calculateWidth=function(t){for(var e=this.options,n=z(e.chartArea.margin),r=t.charts,o=this._surfaceWrap(),i=0,a=0;a<r.length;a++){var s=r[a],l=(s.options.series||[])[0];if(l){if(l.type===Zn)return 150;if("bullet"===l.type)return 150;if(l.type===tr)return Ot(o).height;var c=s.categoryAxis;if(c){var u=c.categoriesCount()*(!s.options.isStacked&&pt(l.type,[Jn,"verticalBullet"])?s.seriesOptions.length:1);i=Math.max(i,u)}}}var p=i*e.pointWidth;return p>0&&(p+=n.left+n.right),p},e.prototype._createSharedTooltip=function(t){return new us(this._plotArea,t)},e.normalizeOptions=function(t){var e=fs(t);return(e=k(e)?{seriesDefaults:{data:e}}:j({},e)).series||(e.series=[{data:fs(e.data)}]),j(e,{seriesDefaults:{type:e.type}}),(pt(e.series[0].type,ps)||pt(e.seriesDefaults.type,ps))&&(e=j({},{categoryAxis:{crosshair:{visible:!1}}},e)),e},e}(cs);Rt(ms,{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});var vs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){this._initialOpacity=parseFloat(L(this.element,"opacity").opacity)},e.prototype.step=function(t){L(this.element,{opacity:String(ht(this._initialOpacity,0,t))})},e.prototype.abort=function(){t.prototype.abort.call(this),L(this.element,{display:"none",opacity:String(this._initialOpacity)})},e.prototype.cancel=function(){t.prototype.abort.call(this),L(this.element,{opacity:String(this._initialOpacity)})},e}(_.drawing.Animation);function gs(t,e){var n=document.createElement("div");return n.className=t,e&&(n.style.cssText=e),n}var ys=function(t){function e(e,n,r){t.call(this),this.options=j({},this.options,r),this.container=e,this.chartService=n;var o=L(e,["paddingLeft","paddingTop"]);this.chartPadding={top:o.paddingTop,left:o.paddingLeft},this.createElements(),e.appendChild(this.element)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createElements=function(){var t=this.element=gs("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=gs("k-tooltip k-chart-tooltip"),n=this.scroll=gs("k-scroll");e.innerHTML="&nbsp;",t.appendChild(e),t.appendChild(n)},e.prototype.show=function(t,e,n){var r=this.element,o=this.options,i=this.scroll,a=this.tooltip,s=Re(He(t)+He(e-t)/2),l=.4*n.width(),c=n.center().x-l,u=(n.center().x-c)/(o.max-o.min),p=s-o.min,h=this.chartService.intl.format(o.format,t,e),d=rt(o);this.clearHideTimeout(),this._visible||(L(r,{visibility:"hidden",display:"block"}),this._visible=!0),d&&(h=d({from:t,to:e})),a.innerHTML=h,L(a,{left:n.center().x-a.offsetWidth/2,top:n.y1});var f=L(a,["marginTop","borderTopWidth","height"]);L(i,{width:l,left:c+p*u,top:n.y1+f.marginTop+f.borderTopWidth+f.height/2}),L(r,{visibility:"visible"})},e.prototype.clearHideTimeout=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()},e.prototype.hide=function(){var t=this;this.clearHideTimeout(),this._hideTimeout=setTimeout((function(){t._visible=!1,t._hideAnimation=new vs(t.element),t._hideAnimation.setup(),t._hideAnimation.play()}),this.options.hideDelay)},e.prototype.destroy=function(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll},e}(_.Class);Rt(ys,{format:"{0:d} - {1:d}",hideDelay:500});var bs=ys;function xs(){}var ws=function(t){function e(e){var n;t.call(this),this.chart=e;var r=this.options=j({},this.options,e.options.navigator),o=r.select;o&&(o.from=this.parseDate(o.from),o.to=this.parseDate(o.to)),xt(r.hint.visible)||(r.hint.visible=r.visible),this.chartObserver=new ft(this,((n={}).drag="_drag",n.dragEnd="_dragEnd",n.zoom="_zoom",n.zoomEnd="_zoomEnd",n)),e.addObserver(this.chartObserver)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseDate=function(t){return Ge(this.chart.chartService.intl,t)},e.prototype.clean=function(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)},e.prototype.destroy=function(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()},e.prototype.redraw=function(){this._redrawSelf(),this.initSelection()},e.prototype.initSelection=function(){var t,e=this.chart,n=this.options,r=this.mainAxis(),o=r.roundedRange(),i=o.min,a=o.max,s=n.select,l=s.from,c=s.to,u=s.mousewheel,p=(t=r,xs.prototype=t,new xs);0!==r.categoriesCount()&&(this.clean(),p.box=r.box,this.selection=new Bi(e,p,{min:i,max:a,from:l||i,to:c||a,mousewheel:At(u,{zoom:"left"}),visible:n.visible},new ft(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),n.hint.visible&&(this.hint=new bs(e.element,e.chartService,{min:i,max:a,template:rt(n.hint),format:n.hint.format})))},e.prototype.setRange=function(){var t=this.chart._createPlotArea(!0).namedCategoryAxes._navigator.roundedRange(),e=t.min,n=t.max,r=this.options.select||{},o=r.from||e;o<e&&(o=e);var i=r.to||n;i>n&&(i=n),this.options.select=j({},r,{from:o,to:i}),this.filterAxes()},e.prototype._redrawSelf=function(t){var e=this.chart._plotArea;e&&e.redraw(St(e.panes),t)},e.prototype.redrawSlaves=function(){var t=this.chart,e=t._plotArea,n=e.panes.slice(0,-1);e.srcSeries=t.options.series,e.options.categoryAxis=t.options.categoryAxis,e.clearSeriesPointsCache(),e.redraw(n)},e.prototype._drag=function(t){var e,n=this.chart,r=this.selection,o=n._eventCoordinates(t.originalEvent),i=this.mainAxis(),a=i.roundedRange(),s=i.pane.box.containsPoint(o),l=n._plotArea.categoryAxis,c=t.axisRanges[l.options.name],u=this.options.select;if(c&&!s&&r){e=u.from&&u.to?He(u.to)-He(u.from):He(r.options.to)-He(r.options.from);var p=Re(Et(He(c.min),a.min,He(a.max)-e)),h=Re(Et(He(p)+e,He(a.min)+e,a.max));this.options.select={from:p,to:h},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),r.set(p,h),this.showHint(p,h)}},e.prototype._dragEnd=function(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()},e.prototype.readSelection=function(){var t=this.selection.options,e=t.from,n=t.to,r=this.options.select;r.from=e,r.to=n},e.prototype.filterAxes=function(){var t=this.options.select;void 0===t&&(t={});for(var e=this.chart.options.categoryAxis,n=t.from,r=t.to,o=0;o<e.length;o++){var i=e[o];"_navigator"!==i.pane&&(i.min=n,i.max=r)}},e.prototype.filter=function(){var t=this.chart,e=this.options.select;if(t.requiresHandlers(["navigatorFilter"])){var n=this.mainAxis(),r={from:e.from,to:e.to};if("category"!==n.options.type){var o=new sn(j({baseUnit:"fit"},t.options.categoryAxis[0],{categories:[e.from,e.to]}),t.chartService).options;r.from=Fe(o.min,-o.baseUnitStep,o.baseUnit),r.to=Fe(o.max,o.baseUnitStep,o.baseUnit)}this.chart.trigger("navigatorFilter",r)}},e.prototype._zoom=function(t){var e=this.chart._plotArea.categoryAxis,n=this.selection,r=this.options,o=r.select,i=r.liveDrag,a=this.mainAxis(),s=t.delta;if(n){var l=a.categoryIndex(n.options.from),c=a.categoryIndex(n.options.to);t.originalEvent.preventDefault(),Math.abs(s)>1&&(s*=3),c-l>1?(n.expand(s),this.readSelection()):(e.options.min=o.from,o.from=e.scaleRange(-t.delta).min),i&&(this.filterAxes(),this.redrawSlaves()),n.set(o.from,o.to),this.showHint(this.options.select.from,this.options.select.to)}},e.prototype._zoomEnd=function(t){this._dragEnd(t)},e.prototype.showHint=function(t,e){var n=this.chart._plotArea;this.hint&&this.hint.show(t,e,n.backgroundBox())},e.prototype._selectStart=function(t){return this.chart._selectStart(t)},e.prototype._select=function(t){return this.showHint(t.from,t.to),this.chart._select(t)},e.prototype._selectEnd=function(t){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(t)},e.prototype.mainAxis=function(){var t=this.chart._plotArea;if(t)return t.namedCategoryAxes._navigator},e.prototype.select=function(t,e){var n=this.options.select;return t&&e&&(n.from=this.parseDate(t),n.to=this.parseDate(e),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(t,e)),{from:n.from,to:n.to}},e.setup=function(t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!t.__navi){t.__navi=!0;var r=j({},n.navigator,t.navigator),o=t.panes=[].concat(t.panes),i=j({},r.pane,{name:"_navigator"});r.visible||(i.visible=!1,i.height=.1),o.push(i),e.attachAxes(t,r),e.attachSeries(t,r,n)}},e.attachAxes=function(t,e){var n=e.series||[],r=t.categoryAxis=[].concat(t.categoryAxis),o=t.valueAxis=[].concat(t.valueAxis),i=0===jo(n,nr).length,a=j({type:"date",pane:"_navigator",roundToBaseUnit:!i,justified:i,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:e.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),s=e.categoryAxis;r.push(j({},a,{maxDateGroups:200},s,{name:"_navigator",title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),j({},a,s,{name:"_navigator_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),j({},a,s,{name:"_navigator_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),o.push(j({name:"_navigator",pane:"_navigator",majorGridLines:{visible:!1},visible:!1},e.valueAxis))},e.attachSeries=function(t,e,n){for(var r=t.series=t.series||[],o=[].concat(e.series||[]),i=n.seriesColors,a=e.seriesDefaults,s=0;s<o.length;s++)r.push(j({color:i[s%i.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},a,o[s],{axis:"_navigator",categoryAxis:"_navigator",autoBind:e.autoBindElements}))},e}(_.Class),ks=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyDefaults=function(e,n){var r=Ot(this.element).width||600,o=n,i={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(r/28)}}};o&&(o=j({},o,i)),ws.setup(e,o),t.prototype.applyDefaults.call(this,e,o)},e.prototype._setElementClass=function(t){O(t,"k-chart k-stockchart")},e.prototype.setOptions=function(e){this.destroyNavigator(),t.prototype.setOptions.call(this,e)},e.prototype.noTransitionsRedraw=function(){var t=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=t},e.prototype._resize=function(){this.noTransitionsRedraw()},e.prototype._redraw=function(){var t=this.navigator;!this._dirty()&&t&&t.options.partialRedraw?t.redrawSlaves():this._fullRedraw()},e.prototype._dirty=function(){var t=this.options,e=st([].concat(t.series,t.navigator.series),(function(t){return t&&t.visible})).length,n=this._seriesCount!==e;return this._seriesCount=e,n},e.prototype._fullRedraw=function(){var e=this.navigator;e||(e=this.navigator=new ws(this),this.trigger("navigatorCreated",{navigator:e})),e.clean(),e.setRange(),t.prototype._redraw.call(this),e.initSelection()},e.prototype._trackSharedTooltip=function(e){var n=this._plotArea.paneByPoint(e);n&&"_navigator"===n.options.name?this._unsetActivePoint():t.prototype._trackSharedTooltip.call(this,e)},e.prototype.bindCategories=function(){t.prototype.bindCategories.call(this),this.copyNavigatorCategories()},e.prototype.copyNavigatorCategories=function(){for(var t,e=[].concat(this.options.categoryAxis),n=0;n<e.length;n++){var r=e[n];"_navigator"===r.name?t=r.categories:t&&"_navigator"===r.pane&&(r.categories=t)}},e.prototype.destroyNavigator=function(){this.navigator&&(this.navigator.destroy(),this.navigator=null)},e.prototype.destroy=function(){this.destroyNavigator(),t.prototype.destroy.call(this)},e.prototype._stopChartHandlers=function(e){var n=this._eventCoordinates(e),r=this._plotArea.paneByPoint(n);return t.prototype._stopChartHandlers.call(this,e)||r&&"_navigator"===r.options.name},e.prototype._toggleDragZoomEvents=function(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)},e}(cs);Rt(ks,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});var Os=Math.PI/180;function Cs(t,e){var n=t.getOrigin(),r=t.getSize(),o=z(e);return t.setOrigin([n.x-o.left,n.y-o.top]),t.setSize([r.width+(o.left+o.right),r.height+(o.top+o.bottom)]),t}var _s=_.drawing.Group,Ss=_.drawing.Path,Es=_.drawing.Text;function Is(t,e){var n=t.box,r=t.children[0].box,o=e.border||{},i=e.background||"",a=Ss.fromRect(new _.geometry.Rect([n.x1,n.y1],[n.width(),n.height()]),{stroke:{}}),s=new Es(t.text,new _.geometry.Point(r.x1,r.y1),{font:e.font,fill:{color:e.color}}),l=Cs(s.bbox().clone(),e.padding),c=Ss.fromRect(l,{stroke:{color:o.width?o.color:"",width:o.width,opacity:o.opacity,dashType:o.dashType,lineJoin:"round",lineCap:"round"},fill:{color:i}}),u=new _s;return u.append(a),u.append(c),u.append(s),u}function Ts(t,e,n){var r=xt(t.from)?t.from:m,o=xt(t.to)?t.to:f;return t.from=Math.max(Math.min(o,r),e),t.to=Math.min(Math.max(o,r),n),t}function Ds(t,e){var n=z(e);return n.left=-n.left,n.top=-n.top,n.right=-n.right,n.bottom=-n.bottom,Cs(t,n)}var Ps=_.drawing.Path,As=_.drawing.Surface,js=function(t){function e(e,n,r,o){void 0===o&&(o={}),t.call(this),this.element=e,this.theme=r,this.contextService=new Z(this,o),this._originalOptions=j({},this.options,n),this.options=j({},this._originalOptions),this._initTheme(r),this.redraw()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement},e.prototype.value=function(t){var e=this.pointers[0];if(0===arguments.length)return e.value();e.value(t),this._setValueOptions(t)},e.prototype._draw=function(){var t=this.surface;t.clear(),t.draw(this._visuals)},e.prototype.exportVisual=function(){return this._visuals},e.prototype.allValues=function(t){var e=this.pointers,n=[];if(0===arguments.length){for(var r=0;r<e.length;r++)n.push(e[r].value());return n}if(k(t))for(var o=0;o<t.length;o++)I(t[o])&&e[o].value(t[o]);this._setValueOptions(t)},e.prototype._setValueOptions=function(t){for(var e=[].concat(this.options.pointer),n=[].concat(t),r=0;r<n.length;r++)e[r].value=n[r]},e.prototype.resize=function(){this.noTransitionsRedraw()},e.prototype.noTransitionsRedraw=function(){var t=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(t)},e.prototype.redraw=function(){var t=this._surfaceSize(),e=new _.geometry.Rect([0,0],[t.width,t.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();var n=Ds(e.bbox(),this._gaugeAreaMargin);this.reflow(n)},e.prototype.setOptions=function(t,e){this._originalOptions=j(this._originalOptions,t),this.options=j({},this._originalOptions),this._initTheme(e),this.redraw()},e.prototype.setDirection=function(t){this.contextService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)},e.prototype.setIntlService=function(t){this.contextService.intl=t},e.prototype._initTheme=function(t){var e=t||this.theme||{};this.theme=e,this.options=j({},e,this.options);var n=this.options,r=n.pointer;if(k(r)){for(var o=[],i=0;i<r.length;i++)o.push(j({},e.pointer,r[i]));n.pointer=o}},e.prototype._createGaugeArea=function(){var t=this.options.gaugeArea,e=this.surface.size(),n=t.border||{},r=new _.geometry.Rect([0,0],[e.width,e.height]);return this._gaugeAreaMargin=t.margin||5,n.width>0&&(r=Ds(r,n.width)),Ps.fromRect(r,{stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:t.background}})},e.prototype._initSurface=function(){var t=this.options,e=this.surface,n=this._surfaceElement(),r=this._surfaceSize();Ot(n,r),e&&e.options.type===t.renderAs?(this.surface.clear(),this.surface.resize()):(e&&e.destroy(),this.surface=As.create(n,{type:t.renderAs}))},e.prototype._surfaceSize=function(){var t=this.options,e=this._getSize();return t.gaugeArea&&j(e,t.gaugeArea),e},e.prototype._surfaceElement=function(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement},e.prototype.getSize=function(){return this._getSize()},e.prototype._getSize=function(){var t=this.element,e=this._defaultSize(),n=t.offsetWidth,r=t.offsetHeight;return n||(n=e.width),r||(r=e.height),{width:n,height:r}},e.prototype._defaultSize=function(){return{width:200,height:200}},e.prototype._toggleTransitions=function(t){this.options.transitions=t;for(var e=0;e<this.pointers.length;e++)this.pointers[e].options.animation.transitions=t},e}(_.Class);Rt(js,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});var Ms=js,Rs=_.drawing.Path,Ns=_.drawing.Group,Fs=_.geometry.Point;function Ls(t,e){var n,r,o=t.position,i=t.tickX,a=t.tickY;return t.vertical?(n=new Fs(i,o),r=new Fs(i+e.size,o)):(n=new Fs(o,a),r=new Fs(o,a+e.size)),new Rs({stroke:{color:e.color,width:e.width}}).moveTo(n).lineTo(r)}function zs(t,e,n,r){var o=e.length;if(r.visible)for(var i=n.mirror,a=n.lineBox,s=r.skip;s<o;s+=r.step)s%r.skipUnit!=0&&(n.tickX=i?a.x2:a.x2-r.size,n.tickY=i?a.y1-r.size:a.y1,n.position=e[s],t.append(Ls(n,r)))}var Bs=function(t){function e(e,n){var r=e||{};!xt(r.reverse)&&!1===r.vertical&&(n||{}).rtl&&(r=Object.assign({},r,{reverse:!0})),t.call(this,0,1,r,n),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=j({},this.options,t);return(e=j({},e,{labels:{mirror:e.mirror}})).majorUnit=e.majorUnit||Yt(e.min,e.max),e},e.prototype.initFields=function(){},e.prototype.render=function(){var t=this.elements=new Ns,e=this.renderLabels(),n=this.renderLine(),r=this.renderTicks(),o=this.renderRanges();return t.append(n,e,r,o),t},e.prototype.renderRanges=function(){for(var t=this.options,e=t.min,n=t.max,r=t.vertical,o=t.labels.mirror,i=t.ranges||[],a=new Ns,s=i.length,l=t.rangeSize||t.minorTicks.size/2,c=0;c<s;c++){var u=Ts(i[c],e,n),p=this.getSlot(u.from,u.to),h=r?this.lineBox():p,d=r?p:this.lineBox();r?h.x1-=l*(o?-1:1):d.y2+=l*(o?-1:1),a.append(Rs.fromRect(new _.geometry.Rect([h.x1,d.y1],[h.x2-h.x1,d.y2-d.y1]),{fill:{color:u.color,opacity:u.opacity},stroke:{}}))}return a},e.prototype.renderLabels=function(){for(var t=this.labels,e=this.options,n=new Ns,r=0;r<t.length;r++)n.append(Is(t[r],e.labels));return n},e.prototype.renderLine=function(){var t=this.options.line,e=this.lineBox(),n=new Ns;if(t.width>0&&t.visible){var r=new Rs({stroke:{color:t.color,dashType:t.dashType,width:t.width}});r.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),n.append(r)}return n},e.prototype.renderTicks=function(){var t=new Ns,e=this.options,n=e.majorTicks.visible?e.majorUnit:0,r={vertical:e.vertical,mirror:e.labels.mirror,lineBox:this.lineBox()};return zs(t,this.getMajorTickPositions(),r,e.majorTicks),zs(t,this.getMinorTickPositions(),r,j({},{skipUnit:n/e.minorUnit},e.minorTicks)),t},e}(fn);Rt(Bs,{min:0,max:50,majorTicks:{size:15,align:"inside",color:s,width:.5,visible:!0},minorTicks:{size:10,align:"inside",color:s,width:.5,visible:!0},line:{width:.5},labels:{position:"inside",padding:2},mirror:!1,_alignLines:!1});var Vs=Bs,Hs=function(t){function e(e,n){t.call(this);var r=e.options,o=r.min,i=r.max,a=this.options=j({},this.options,n);a.fill=a.color,this.scale=e,xt(a.value)?a.value=Et(a.value,o,i):a.value=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.value=function(t){var e=this.options,n=e.value;if(0===arguments.length)return n;var r=this.scale.options,o=r.min,i=r.max;e._oldValue=xt(e._oldValue)?e.value:o,e.value=Et(t,o,i),this.elements&&this.repaint()},e}(_.Class);Rt(Hs,{color:s});var Us=Hs,Ws=function(t){function e(e,n){t.call(this,e,n),this.options=j({track:{visible:xt(n.track)}},this.options)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(){var t,e,n,r=this.options,o=this.scale,i=o.options,a=i.mirror,s=i.vertical,l=o.lineBox(),c=r.track.size||r.size,u=r.size/2,p=z(r.margin),h=s?p[a?"left":"right"]:p[a?"bottom":"top"];h=a?-h:h,s?(n=new Zt(l.x1+h,l.y1,l.x1+h,l.y2),a?n.x1-=c:n.x2+=c,"barPointer"!==r.shape&&(t=e=new Zt(l.x2+h,l.y1-u,l.x2+h,l.y2+u))):(n=new Zt(l.x1,l.y1-h,l.x2,l.y1-h),a?n.y2+=c:n.y1-=c,"barPointer"!==r.shape&&(t=e=new Zt(l.x1-u,l.y1-h,l.x2+u,l.y1-h))),this.trackBox=n,this.pointerRangeBox=e,this.box=t||n.clone().pad(r.border.width)},e.prototype.getElementOptions=function(){var t=this.options;return{fill:{color:t.color,opacity:t.opacity},stroke:xt(t.border)?{color:t.border.width?t.border.color||t.color:"",width:t.border.width,dashType:t.border.dashType,opacity:t.opacity}:null}},e.prototype._margin=function(){var t=this.scale,e=this.options,n=t.options,r=n.mirror,o=n.vertical,i=z(e.margin);return o?i[r?"left":"right"]:i[r?"bottom":"top"]},e}(Us);Rt(Ws,{shape:"barPointer",track:{border:{width:1}},color:s,border:{width:1},opacity:1,margin:z(3),animation:{type:"barPointer"},visible:!0});var qs=Ws,Ks=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.options,e=t.margin,n=t.from,r=t.to,o=t.vertical,i=o?"x1":"y1";t.mirror===o?(n[i]-=e,r[i]-=e):(n[i]+=e,r[i]+=e);var a=this.fromScale=new _.geometry.Point(n.x1,n.y1),s=this.toScale=new _.geometry.Point(r.x1,r.y1);0!==t.duration&&(t.duration=Math.max(a.distanceTo(s)/t.duration*1e3,1))},e.prototype.step=function(t){var e=ht(this.fromScale.x,this.toScale.x,t),n=ht(this.fromScale.y,this.toScale.y,t);this.element.transform(_.geometry.transform().translate(e,n))},e}(_.drawing.Animation);Rt(Ks,{easing:"linear",duration:250}),_.drawing.AnimationFactory.current.register("arrowPointer",Ks);var Gs=Ks,Ys=_.geometry.Point,Xs=_.drawing.Path,$s=function(t){function e(e,n){t.call(this,e,n),xt(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointerShape=function(){var t=this.scale,e=this.options.size,n=e/2,r=t.options.mirror?-1:1;return t.options.vertical?[new Ys(0,0-n),new Ys(0-r*e,0),new Ys(0,0+n)]:[new Ys(0-n,0),new Ys(0,0+r*e),new Ys(0+n,0)]},e.prototype.repaint=function(){var t=this.scale,e=this.options,n=new Gs(this.elements,j(e.animation,{vertical:t.options.vertical,mirror:t.options.mirror,margin:this._margin(e.margin),from:t.getSlot(e._oldValue),to:t.getSlot(e.value)}));!1===e.animation.transitions&&(n.options.duration=0),n.setup(),n.play()},e.prototype.render=function(){var t=this.scale,e=this.options,n=this.getElementOptions(),r=this.pointerShape(e.value);e.animation.type="arrowPointer";var o=new Xs({stroke:n.stroke,fill:n.fill}).moveTo(r[0]).lineTo(r[1]).lineTo(r[2]).close(),i=t.getSlot(e.value);return o.transform(_.geometry.transform().translate(i.x1,i.y1)),this.elements=o,o},e}(qs),Zs=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setup=function(){var t=this.options,e=this.axis=t.vertical?w:x,n=this.to=t.newPoints[0][e],r=this.from=t.oldPoints[0][e];0!==t.duration&&(t.duration=Math.max(Math.abs(n-r)/t.speed*1e3,1)),this._set(r)},e.prototype.step=function(t){var e=ht(this.from,this.to,t);this._set(e)},e.prototype._set=function(t){var e="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][e](t),n[1][e](t)},e}(_.drawing.Animation);Rt(Zs,{easing:"linear",speed:250}),_.drawing.AnimationFactory.current.register("barPointer",Zs);var Js=Zs,Qs=_.drawing.Group,tl=_.drawing.Path,el=function(t){function e(e,n){t.call(this,e,n),xt(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.pointerShape=function(t){var e=this.scale,n=this.options,r=e.options,o=r.mirror,i=r.vertical,a=o===i?-1:1,s=n.size*a,l=e.getSlot(e.options.min),c=e.getSlot(t),u=i?w:x,p=i?x:w,h=this._margin()*a,d=new _.geometry.Point;d[u]=l[u+"1"],d[p]=l[p+"1"];var f=new _.geometry.Point;f[u]=c[u+"1"],f[p]=c[p+"1"],i?(d.translate(h,0),f.translate(h,0)):(d.translate(0,h),f.translate(0,h));var m=f.clone(),v=d.clone();return i?(m.translate(s,0),v.translate(s,0)):(m.translate(0,s),v.translate(0,s)),[d,f,m,v]},e.prototype.repaint=function(){var t=this.scale,e=this.options,n=this.pointerShape(e.value),r=this.pointerPath,o=this.pointerShape(e._oldValue);r.moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).lineTo(n[3]).close();var i=new Js(r,j(e.animation,{reverse:t.options.reverse,vertical:t.options.vertical,oldPoints:[o[1],o[2]],newPoints:[n[1],n[2]]}));!1===e.animation.transitions&&(i.options.duration=0),i.setup(),i.play()},e.prototype.render=function(){var t=new Qs,e=this.getElementOptions();this.options.track.visible&&t.append(this.renderTrack());var n=this.pointerPath=new tl({stroke:e.stroke,fill:e.fill});return t.append(n),this.elements=t,t},e.prototype.renderTrack=function(){var t=this.options.track,e=t.border||{},n=this.trackBox.clone().pad(e.width||0);return new tl.fromRect(n.toRect(),{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.width?e.color||t.color:"",width:e.width,dashType:e.dashType}})},e}(qs),nl=_.drawing.Group,rl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.pointers,n=t.origin.x,r=t.origin.y,o=new Zt(n,r,n+t.width(),r+t.height());this.scale.reflow(o),this._shrinkScaleWidth(o);for(var i=0;i<e.length;i++)e[i].reflow();this.bbox=this._getBox(o),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()},e.prototype._buildVisual=function(){var t=new nl,e=this.scale.render(),n=this.pointers;t.append(this.gaugeArea),t.append(e);for(var r=0;r<n.length;r++){var o=n[r];t.append(o.render()),o.value(o.options.value)}this._visuals=t},e.prototype._createModel=function(){var t=this.options,e=this.scale=new Vs(t.scale,this.contextService);this.pointers=[];var n=t.pointer;n=k(n)?n:[n];for(var r=0;r<n.length;r++){var o=j({},n[r],{animation:{transitions:t.transitions}}),i="arrow"===o.shape?$s:el;this.pointers.push(new i(e,o))}},e.prototype._defaultSize=function(){var t=this.options.scale.vertical;return{width:t?60:200,height:t?200:60}},e.prototype._getBox=function(t){for(var e,n=this.scale,r=this.pointers,o=t.center(),i=r[0].box.clone().wrap(n.box),a=0;a<r.length;a++)i.wrap(r[a].box.clone());return n.options.vertical?(e=i.width()/2,i=new Zt(o.x-e,t.y1,o.x+e,t.y2)):(e=i.height()/2,i=new Zt(t.x1,o.y-e,t.x2,o.y+e)),i},e.prototype._alignElements=function(){for(var t,e=this.scale,n=this.pointers,r=e.box,o=n[0].box.clone().wrap(e.box),i=this.bbox,a=0;a<n.length;a++)o.wrap(n[a].box.clone());e.options.vertical?(t=i.center().x-o.center().x,e.reflow(new Zt(r.x1+t,i.y1,r.x2+t,i.y2))):(t=i.center().y-o.center().y,e.reflow(new Zt(r.x1,r.y1+t,r.x2,r.y2+t)));for(var s=0;s<n.length;s++)n[s].reflow(this.bbox)},e.prototype._shrinkScaleWidth=function(t){var e=this.scale;if(!e.options.vertical){var n=e.contentBox().width()-t.width();n>0&&(e.box.shrink(n,0),e.box.alignTo(t,"center"),e.reflow(e.box))}},e.prototype._shrinkElements=function(){for(var t=this.scale,e=this.pointers,n=t.box.clone(),r=t.options.vertical?"y":"x",o=e[0].box,i=0;i<e.length;i++)o.wrap(e[i].box.clone());n[r+1]+=Math.max(n[r+1]-o[r+1],0),n[r+2]-=Math.max(o[r+2]-n[r+2],0),t.reflow(n);for(var a=0;a<e.length;a++)e[a].reflow(this.bbox)},e}(Ms);Rt(rl,{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});var ol=rl,il=_.drawing.Arc,al=_.drawing.Path,sl=_.drawing.Group;function ll(t,e,n,r){var o=new sl,i=t.center,a=t.getRadiusX();if(r.visible)for(var s=0;s<e.length;s++){var l=t.pointAt(e[s]),c=new _.geometry.Point(i.x+a-r.size,i.y).rotate(e[s],i);o.append(new al({stroke:{color:r.color,width:r.width}}).moveTo(l).lineTo(c))}return o}function cl(t,e,n,r){return{from:t,to:e,color:n,opacity:r}}var ul=function(t){function e(e,n){t.call(this,0,1,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initUserOptions=function(t){var e=j({},this.options,t);return e.majorUnit=e.majorUnit||Yt(e.min,e.max),e.minorUnit=e.minorUnit||e.majorUnit/10,e},e.prototype.initFields=function(){},e.prototype.render=function(t,e){var n=this.renderArc(t,e);this.bbox=n.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()},e.prototype.reflow=function(t){var e=t.center(),n=Math.min(t.height(),t.width())/2;if(!xt(this.bbox))return this.render(e,n);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()},e.prototype.slotAngle=function(t){var e=this.options,n=e.min,r=e.max,o=e.reverse,i=e.startAngle,a=e.endAngle,s=a-i;return(o?a-(t-n)/(r-n)*s:(t-n)/(r-n)*s+i)+180},e.prototype.hasRanges=function(){var t=this.options.ranges;return t&&t.length},e.prototype.ticksSize=function(){var t=this.options,e=t.majorTicks,n=t.minorTicks,r=0;return e.visible&&(r=e.size),n.visible&&(r=Math.max(n.size,r)),r},e.prototype.labelsCount=function(){var e=t.prototype.labelsCount.call(this),n=this.options;return n.endAngle-n.startAngle>=360&&n.max%n.majorUnit==0&&(e-=1),e},e.prototype.renderLabels=function(){var t=this.options,e=this.arc.clone(),n=e.getRadiusX(),r=this.tickAngles(e,t.majorUnit),o=t.rangeSize=t.rangeSize||.1*n,i=new sl,a=.05*n;xt(t.rangeDistance)?a=t.rangeDistance:t.rangeDistance=a;var s=t.labels,l="inside"===s.position,c=xt(this.labelElements);l&&(n-=this.ticksSize(),this.hasRanges()&&!c&&(n-=o+a),e.setRadiusX(n).setRadiusY(n));for(var u=this.labels,p=u.length,h=z(s.padding),d=(h.left+h.right)/2,f=(h.top+h.bottom)/2,m=0;m<p;m++){var v=u[m],g=v.box.width()/2,y=v.box.height()/2,b=r[m],x=(b-180)*Os,w=e.pointAt(b),k=w.x+Math.cos(x)*(g+d)*(l?1:-1),O=w.y+Math.sin(x)*(y+f)*(l?1:-1);v.reflow(new Zt(k-g,O-y,k+g,O+y));var C=new _.geometry.Point(v.box.x1,v.box.y1),S=void 0;if(c){var E=(S=this.labelElements.children[m]).bbox().origin,I=S.transform()||_.geometry.transform();I.translate(C.x-E.x,C.y-E.y),S.transform(I)}else S=Is(v,t.labels),i.append(S);this.bbox=_.geometry.Rect.union(this.bbox,S.bbox())}return i},e.prototype.repositionRanges=function(){var t=this.ranges.children;if(t.length>0){var e=this.options,n=e.rangeDistance,r=e.rangeSize,o=this.getRangeRadius();"inside"===this.options.labels.position&&(o+=r+n);for(var i=o+r/2,a=0;a<t.length;a++)t[a]._geometry.setRadiusX(i).setRadiusY(i);this.bbox=_.geometry.Rect.union(this.bbox,this.ranges.bbox())}},e.prototype.renderRanges=function(){var t=this.rangeSegments(),e=t.length,n=new sl;if(e){var r=this.options,o=r.rangeSize,i=r.reverse,a=r.rangeDistance,s=this.getRangeRadius();this.radius(this.radius()-o-a);for(var l=0;l<e;l++){var c=t[l],u=this.slotAngle(c[i?"to":"from"]),p=this.slotAngle(c[i?"from":"to"]);p-u!=0&&n.append(this.createRange(u,p,s,c))}}return n},e.prototype.createRange=function(t,e,n,r){var o=this.options.rangeSize,i=new _.geometry.Arc(this.arc.center,{radiusX:n+o/2,radiusY:n+o/2,startAngle:t,endAngle:e});return new il(i,{stroke:{width:o,color:r.color,opacity:r.opacity,lineCap:r.lineCap}})},e.prototype.rangeSegments=function(){var t=this.options,e=t.ranges||[],n=e.length,r=[];if(n){var o=t.min,i=t.max,a=t.rangePlaceholderColor;r.push(cl(o,i,a));for(var s=0;s<n;s++)for(var l=Ts(e[s],o,i),c=r.length,u=0;u<c;u++){var p=r[u];if(p.from<=l.from&&l.from<=p.to){r.push(cl(l.from,l.to,l.color,l.opacity)),p.from<=l.to&&l.to<=p.to&&r.push(cl(l.to,p.to,a,l.opacity)),p.to=l.from;break}}}return r},e.prototype.getRangeRadius=function(){var t=this.arc,e=this.options,n=e.rangeSize,r=e.rangeDistance,o=e.majorTicks.size;return"outside"===e.labels.position?t.getRadiusX()-o-r-n:t.getRadiusX()-n},e.prototype.renderArc=function(t,e){var n=this.options;return this.arc=new _.geometry.Arc(t,{radiusX:e,radiusY:e,startAngle:n.startAngle+180,endAngle:n.endAngle+180})},e.prototype.renderTicks=function(){var t=this.arc,e=this.options,n=t.clone();this.majorTickAngles=this.tickAngles(t,e.majorUnit),this.majorTicks=ll(n,this.majorTickAngles,e.majorUnit,e.majorTicks);var r=new sl;r.append(this.majorTicks);var o=e.majorTicks.size,i=e.minorTicks.size;if(this._tickDifference=o-i,"outside"===e.labels.position){var a=n.getRadiusX();n.setRadiusX(a-o+i).setRadiusY(a-o+i)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(t,e.minorUnit)),this.minorTicks=ll(n,this.minorTickAngles,e.minorUnit,e.minorTicks),r.append(this.minorTicks),r},e.prototype.normalizeTickAngles=function(t){for(var e=this.options,n=e.majorUnit/e.minorUnit,r=t.length-1;r>=0;r--)r%n==0&&t.splice(r,1);return t},e.prototype.tickAngles=function(t,e){var n=this.options,r=n.reverse,o=n.max-n.min,i=t.endAngle-t.startAngle,a=o/e,s=t.startAngle,l=i/a;r&&(s+=i,l=-l),i>=360&&n.max%e==0&&(a-=1);for(var c=[],u=0;u<a;u++)c.push(Dt(s,3)),s+=l;return Dt(s)<=t.endAngle&&c.push(s),c},e.prototype.radius=function(t){if(!t)return this.arc.getRadiusX();this.arc.setRadiusX(t).setRadiusY(t),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)},e.prototype.repositionTicks=function(t,e,n){var r=n&&this._tickDifference||0,o=this.arc,i=o.getRadiusX();n&&"outside"===this.options.labels.position&&0!==r&&(o=this.arc.clone()).setRadiusX(i-r).setRadiusY(i-r);for(var a=0;a<t.length;a++){var s=o.pointAt(e[a]),l=t[a].segments,c=s.x-l[0].anchor().x,u=s.y-l[0].anchor().y;t[a].transform((new _.geometry.transform).translate(c,u))}},e}(fn);Rt(ul,{min:0,max:100,majorTicks:{size:15,align:"inside",color:s,width:.5,visible:!0},minorTicks:{size:10,align:"inside",color:s,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:"inside",padding:2}});var pl=ul,hl=function(t){function e(e,n){t.call(this,e,n);var r=this.options;r.duration=Math.max(Math.abs(r.newAngle-r.oldAngle)/r.duration*1e3,1)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.step=function(t){var e=this.options,n=ht(e.oldAngle,e.newAngle,t);this.element.transform(_.geometry.transform().rotate(n,e.center))},e}(_.drawing.Animation);Rt(hl,{easing:"linear",duration:150}),_.drawing.AnimationFactory.current.register("radialPointer",hl);var dl=hl,fl=_.drawing.Circle,ml=_.drawing.Group,vl=_.drawing.Path,gl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setAngle=function(t){this.elements.transform(_.geometry.transform().rotate(t,this.center))},e.prototype.repaint=function(){var t=this.scale,e=this.options,n=t.slotAngle(e._oldValue),r=t.slotAngle(e.value);!1===e.animation.transitions?this.setAngle(r):new dl(this.elements,j(e.animation,{oldAngle:n,newAngle:r})).play()},e.prototype.render=function(){var t=this.scale,e=this.options,n=new ml;return!1!==e.animation&&j(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),n.append(this._renderNeedle(),this._renderCap()),this.elements=n,this.setAngle(Os),n},e.prototype.reflow=function(t){var e=this.center=t.center,n=Et(this.options.length||1,.1,1.5),r=this.radius=t.getRadiusX()*n,o=this.capSize=Math.round(r*this.options.cap.size);this.bbox=_.geometry.Rect.fromPoints(new _.geometry.Point(e.x-o,e.y-o),new _.geometry.Point(e.x+o,e.y+o))},e.prototype._renderNeedle=function(){var t=this.scale.options.minorTicks.size,e=this.center,n=this.options.color,r=new vl({fill:{color:n},stroke:{color:n,width:.5}});return r.moveTo(e.x+this.radius-t,e.y).lineTo(e.x,e.y-this.capSize/2).lineTo(e.x,e.y+this.capSize/2).close(),r},e.prototype._renderCap=function(){var t=this.options,e=t.cap.color||t.color,n=new _.geometry.Circle(this.center,this.capSize);return new fl(n,{fill:{color:e},stroke:{color:e}})},e}(Us);Rt(gl,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:"radialPointer",duration:150}});var yl=gl,bl=_.drawing.Group,xl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.reflow=function(t){var e=this.pointers;this.scale.reflow(t),this._initialPlotArea=this.scale.bbox;for(var n=0;n<e.length;n++)e[n].reflow(this.scale.arc),this._initialPlotArea=_.geometry.Rect.union(this._initialPlotArea,e[n].bbox);this.fitScale(t),this.alignScale(t),this._buildVisual(this.gaugeArea,e,this.scale),this._draw()},e.prototype._buildVisual=function(t,e,n){var r=this._visuals=new bl;r.append(t),r.append(n.ticks),r.append(n.ranges),this._buildPointers(e),r.append(n.labelElements)},e.prototype._buildPointers=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.render(),this._visuals.append(n.elements),n.value(n.options.value)}},e.prototype.fitScale=function(t){for(var e,n,r,o,i,a=this.scale.arc,s=this._initialPlotArea,l=Math.abs(this.getDiff(s,t)),c=Dt(l,3),u=Dt(-l,3),p=0,h=0;!(!(h++<100)||(p=i===r?p+1:0)>5||c!==o&&0<=(e=this.getPlotBox(c,t,a))&&e<=2||u!==o&&0<=(r=this.getPlotBox(u,t,a))&&r<=2||(o=e>0&&r>0?2*c:e<0&&r<0?2*u:Dt((c+u)/2||1,3),0<=(n=this.getPlotBox(o,t,a))&&n<=2));)i=r,n>0?(u=o,r=n):(c=o,e=n)},e.prototype.getPlotBox=function(t,e,n){var r=this.scale,o=this.pointers,i=n.getRadiusX(),a=n.clone();a.setRadiusX(i+t).setRadiusY(i+t),r.arc=a,r.reflow(e),this.plotBbox=r.bbox;for(var s=0;s<o.length;s++)o[s].reflow(a),this.plotBbox=_.geometry.Rect.union(this.plotBbox,o[s].bbox);return this.getDiff(this.plotBbox,e)},e.prototype.getDiff=function(t,e){return Math.min(e.width()-t.width(),e.height()-t.height())},e.prototype.alignScale=function(t){var e=this.plotBbox.center(),n=t.center(),r=e.x-n.x,o=e.y-n.y,i=this.scale,a=this.pointers;i.arc.center.x-=r,i.arc.center.y-=o,i.reflow(t);for(var s=0;s<a.length;s++)a[s].reflow(i.arc),this.plotBbox=_.geometry.Rect.union(i.bbox,a[s].bbox)},e.prototype._createModel=function(){var t=this.options,e=t.pointer,n=this.scale=new pl(t.scale,this.contextService);this.pointers=[];for(var r=k(e)?e:[e],o=0;o<r.length;o++){var i=new yl(n,j({},r[o],{animation:{transitions:t.transitions}}));this.pointers.push(i)}},e}(Ms);Rt(xl,{transitions:!0,gaugeArea:{background:""}});var wl=xl,kl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.rangeSegments=function(){var t=this.options;return[{from:t.min,to:t.max,color:t.rangePlaceholderColor,lineCap:t.rangeLineCap}]},e.prototype.hasRanges=function(){return!0},e.prototype.placeholderRangeAngle=function(t){var e=this.ranges.children[0].geometry();this.options.reverse?e.setEndAngle(t):e.setStartAngle(t)},e.prototype.addRange=function(t,e,n){var r=this.options.reverse,o=this.slotAngle(r?e:t),i=this.slotAngle(r?t:e),a=this.createRange(o,i,this.getRangeRadius(),n);return this.ranges.append(a),a},e}(pl);Rt(kl,{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});var Ol=kl,Cl=function(t){function e(e,n){t.call(this,e,n);var r=this.options,o=Math.abs(r.newAngle-r.oldAngle)/r.duration*1e3;r.duration=Et(o,150,800);var i=e.elements.options.get("stroke.color"),a=e.currentColor();i!==a&&(this.startColor=new _.Color(i),this.color=new _.Color(a))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.step=function(t){var e=this.options,n=this.startColor,r=this.color,o=ht(e.oldAngle,e.newAngle,t);if(this.element.angle(o),r){var i=Dt(ht(n.r,r.r,t)),a=Dt(ht(n.g,r.g,t)),s=Dt(ht(n.b,r.b,t));this.element.stroke(new _.Color(i,a,s).toHex())}},e}(_.drawing.Animation);Rt(Cl,{easing:"linear",duration:150}),_.drawing.AnimationFactory.current.register("radialRangePointer",Cl);var _l=Cl,Sl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.repaint=function(){var t=this.scale,e=this.options,n=t.slotAngle(e._oldValue),r=t.slotAngle(e.value);this.animation&&this.animation.abort(),!1===e.animation.transitions?(this.angle(r),this.stroke(this.currentColor())):(this.animation=new _l(this,j(e.animation,{oldAngle:n,newAngle:r})),this.animation.play())},e.prototype.angle=function(t){var e=this.elements.geometry();this.scale.options.reverse?e.setStartAngle(t):e.setEndAngle(t),this.scale.placeholderRangeAngle(t)},e.prototype.stroke=function(t){this.elements.stroke(t)},e.prototype.render=function(){if(!this.elements){var t=this.scale,e=this.options;!1!==e.animation&&j(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),this.elements=t.addRange(t.options.min,this.options.value,{color:this.currentColor(),opacity:e.opacity,lineCap:t.options.rangeLineCap})}},e.prototype.currentColor=function(){var t=this.scale.options,e=t.min,n=t.max,r=this.options,o=r.colors,i=r.color,a=r.value,s=I(a)?a:e;if(o)for(var l=0;l<o.length;l++){var c=o[l],u=c.color,p=c.from;void 0===p&&(p=e);var h=c.to;if(void 0===h&&(h=n),p<=s&&s<=h)return u}return i},e.prototype.reflow=function(){this.render(),this.bbox=this.elements.bbox()},e}(Us);Rt(Sl,{animation:{type:"radialRangePointer",duration:150}});var El=Sl,Il=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._initTheme=function(e){t.prototype._initTheme.call(this,e),this.options.color=this.options.color||(this.theme.pointer||{}).color},e.prototype._createModel=function(){var t=this.options,e=this.scale=new Ol(t.scale,this.contextService),n=new El(e,j({},{colors:t.colors,color:t.color,value:t.value,opacity:t.opacity,animation:{transitions:t.transitions}}));this.pointers=[n]},e.prototype._buildPointers=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.render(),n.value(n.options.value)}},e.prototype._setValueOptions=function(t){this.options.value=t},e.prototype.currentColor=function(){var t=this.pointers[0];if(t)return t.currentColor()},e.prototype.centerLabelPosition=function(t,e){var n=this.getSize(),r=this.scale.arc.center,o=r.x-t/2,i=r.y-e/2;if(t<n.width){var a=o+t;o=Math.max(o,0),a>n.width&&(o-=a-n.width)}if(e<n.height){var s=this.scale.bbox,l=s.bottomRight().y,c=i+e;i=Math.max(i,s.origin.y),c>l&&(i-=c-l)}return{left:o,top:i}},e}(wl),Tl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._createModel=function(){var e=this.options.scale;"number"!=typeof e.startAngle&&(e.startAngle=90),e.endAngle=e.startAngle+360,t.prototype._createModel.call(this)},e}(Il),Dl=function(t){function e(e){t.call(this),this.setOptions(e),this.initProperties()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){},e.prototype.setOptions=function(t){this.options=Object.assign({},this.options,t),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0},e.prototype.encode=function(t,e,n){var r=xt(t)?String(t):t;return this.initValue(r,e,n),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}},e.prototype.initValue=function(){},e.prototype.addQuietZone=function(){this.pattern.push(this.options.quietZoneLength||10)},e.prototype.addData=function(){},e.prototype.invalidCharacterError=function(t){throw new Error("Character '"+t+"' is not valid for symbology "+this.name)},e}(_.Class);Rt(Dl,{quietZoneLength:10,addQuietZone:!0,addCheckSum:!0});var Pl=Object.assign,Al=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Pl(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})},e.prototype.initValue=function(t,e){this.pattern=[],this.value=t,this.width=e,this.totalUnits=0},e.prototype.addData=function(){var t=this.value;this.addPattern(this.START);for(var e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},e.prototype.addCheckSum=function(){var t=this.value,e=t.length,n=this.getWeightedSum(t,e,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(n),this.addPattern(this.characterMap[n]),++e>=this.kCheckSumMinLength){var r=(n+this.getWeightedSum(t,e,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=r,this.addPattern(this.characterMap[r])}},e.prototype.getWeightedSum=function(t,e,n){for(var r=0,o=0;o<t.length;o++)r+=this.weightedValue(this.getValue(t.charAt(o)),e,o,n);return r},e.prototype.weightedValue=function(t,e,n,r){return((e-n)%r||r)*t},e.prototype.getValue=function(t){return isNaN(t)?(t!==this.DASH&&this.invalidCharacterError(t),this.DASH_VALUE):parseInt(t,10)},e.prototype.addCharacter=function(t){var e=this.getValue(t),n=this.characterMap[e];this.addPattern(n)},e.prototype.addPattern=function(t){for(var e,n=0;n<t.length;n++)e=parseInt(t.charAt(n),10),this.pattern.push(e),this.totalUnits+=e},e}(Dl);Rt(Al,{addCheckSum:!0});var jl=Object.assign,Ml=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),jl(this,{minBaseUnitLength:.7})},e.prototype.addData=function(){var t=this.value;this.addStart();for(var e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()},e.prototype.addCharacter=function(t){var e=this.characterMap[t];e||this.invalidCharacterError(t),this.addBase(e)},e.prototype.addBase=function(){},e}(Dl),Rl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),jl(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})},e.prototype.initValue=function(t,e,n){this.width=e,this.height=n,this.value=t,this.dataLength=t.length,this.pattern=[],this.patternString=""},e.prototype.prepareValues=function(){var t,e=this.minBaseUnitLength,n=this.minRatio,r=Math.max(.15*this.width,24),o=this.maxRatio;if(this.height<r)throw new Error("Insufficient Height. The minimum height for value: "+this.value+" is: "+r);for(t=this.getBaseUnit(o);t<e&&o>n;)o=parseFloat((o-.1).toFixed(1)),t=this.getBaseUnit(o);if(t<e){var i=Math.ceil(this.getBaseWidth(n)*e);throw new Error("Insufficient width. The minimum width for value: "+this.value+" is: "+i)}this.ratio=o,this.baseUnit=t,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,o).split(this.splitCharacter))},e.prototype.getBaseUnit=function(t){return this.width/this.getBaseWidth(t)},e.prototype.getBaseWidth=function(t){var e=3*(t+2);return this.quietZoneLength+e*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)},e.prototype.addStart=function(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()},e.prototype.addBase=function(t){this.addPattern(t.pattern),this.addCharacterGap()},e.prototype.addStop=function(){this.addPattern(this.characterMap.START.pattern)},e.prototype.addPattern=function(t){for(var e=0;e<t.length;e++)this.patternString+=this.patternMappings[t.charAt(e)]},e.prototype.addCharacterGap=function(){this.patternString+=this.gapWidth+this.splitCharacter},e}(Ml);Rt(Rl,{addCheckSum:!1});var Nl={addCharacter:function(t){this.characterMap[t]?this.addBase(this.characterMap[t]):t.charCodeAt(0)>127?this.invalidCharacterError(t):this.addExtended(t.charCodeAt(0))},addExtended:function(t){for(var e,n=0;n<this.extendedMappings.length;n++)if(e=this.extendedMappings[n].call(this,t)){for(var r=0;r<e.length;r++){var o=e[r];this.addBase(o)}return void(this.dataLength+=e.length-1)}},extendedMappings:[function(t){if(97<=t&&t<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(t-32)]]},function(t){if(33<=t&&t<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(t+32)]]},function(t){if(1<=t&&t<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(t+64)]]},function(t){var e,n;if(this.specialAsciiCodes[t]){e=[];for(var r=0;r<this.specialAsciiCodes[t].length;r++)e.push(this.characterMap[this.shiftCharacters[3]]),e.push(this.characterMap[this.specialAsciiCodes[t][r]])}else n=6*Math.floor(t/32)+(t-27)%32+64,e=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(n)]];return e}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},Fl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),j(this,Nl,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})},e}(Rl),Ll=Object.assign,zl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Ll(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})},e.prototype.initValue=function(t,e,n){this.value=t,this.width=e,this.height=n,this.pattern=[],this.values=[],this.dataLength=t.length},e.prototype.prepareValues=function(){var t=Math.max(.15*this.width,24);if(this.height<t)throw new Error("Insufficient Height");if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength)throw new Error("Insufficient Width")},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)},e.prototype.addStart=function(){var t=this.characterMap.START.pattern;this.addPattern(t)},e.prototype.addStop=function(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)},e.prototype.addBase=function(t){this.addPattern(t.pattern),this.values.push(t.value)},e.prototype.pushCheckSum=function(){var t,e=this._getCheckValues();this.checksum=e.join("");for(var n=0;n<e.length;n++)t=this.characterMap[this._findCharacterByValue(e[n])],this.addPattern(t.pattern)},e.prototype._getCheckValues=function(){var t,e,n=this.values,r=n.length,o=0;for(e=r-1;e>=0;e--)o+=this.weightedValue(n[e],r-e,this.cCheckSumTotal);for(t=o%this.checkSumMod,o=this.weightedValue(t,1,this.kCheckSumTotal),e=r-1;e>=0;e--)o+=this.weightedValue(n[e],r-e+1,this.kCheckSumTotal);return[t,o%this.checkSumMod]},e.prototype._findCharacterByValue=function(t){for(var e in this.characterMap)if(this.characterMap[e].value===t)return e},e.prototype.weightedValue=function(t,e,n){return(e%n||n)*t},e.prototype.addPattern=function(t){for(var e,n=0;n<t.length;n++)e=parseInt(t.charAt(n),10),this.pattern.push(e)},e}(Ml),Bl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),j(this,Nl,{name:"Code 93 extended",pushCheckSum:function(){var t,e=this._getCheckValues();this.checksum=e.join("");for(var n=0;n<e.length;n++)if(t=e[n],this.shiftValuesAsciiCodes[t])this.addExtended(this.shiftValuesAsciiCodes[t]);else{var r=this._findCharacterByValue(t);this.addPattern(this.characterMap[r].pattern)}}})},e}(zl),Vl=/^\d+$/,Hl=Object.assign,Ul=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Hl(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})},e.prototype.initValue=function(t,e,n){this.height=n,this.width=e,this.baseHeight=n/2,this.value=t.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()},e.prototype.addData=function(){var t=this.value;this.addPattern(this.START);for(var e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()},e.prototype.addCharacter=function(t){var e=this.characterMap[t];this.checkSum+=parseInt(t,10),this.addPattern(e)},e.prototype.addCheckSum=function(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(10*(this.value.length+1)+3+this.quietZoneLength)},e.prototype.validate=function(t){if(Vl.test(t)||this.invalidCharacterError(t.match(/[^0-9]/)[0]),!pt(t.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(","))},e.prototype.addPattern=function(t){for(var e,n=0;n<t.length;n++)e=this.height-this.baseHeight*t.charAt(n),this.pattern.push({width:1,y1:e,y2:this.height}),this.pattern.push(1)},e}(Dl),Wl=/^\d+$/,ql=/^[a-z0-9]+$/i,Kl=Object.assign,Gl=function(t){function e(e){t.call(this),this.encoding=e,this.initProperties()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){},e.prototype.addStart=function(){},e.prototype.is=function(){},e.prototype.isCode=function(){return!1},e.prototype.move=function(){},e.prototype.pushState=function(){},e}(_.Class),Yl=function(t){function e(e,n){t.call(this,e),this.states=n,this._initMoves(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),j(this,{FNC4:"FNC4",SHIFT:98})},e.prototype.addStart=function(){this.encoding.addPattern(this.START)},e.prototype.is=function(t,e){var n=t.charCodeAt(e);return this.isCode(n)},e.prototype.move=function(t){for(var e=0;!this._moves[e].call(this,t)&&e<this._moves.length;)e++},e.prototype.pushState=function(t){var e,n=this.states,r=t.value,o=r.length;if(pt("C",n)){var i=r.substr(t.index).match(/\d{4,}/g);i&&(o=r.indexOf(i[0],t.index))}for(;(e=t.value.charCodeAt(t.index))>=0&&this.isCode(e)&&t.index<o;)this.encoding.addPattern(this.getValue(e)),t.index++},e.prototype._initMoves=function(t){this._moves=[],pt(this.FNC4,t)&&this._moves.push(this._moveFNC),pt(this.shiftKey,t)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)},e.prototype._moveFNC=function(t){if(t.fnc)return t.fnc=!1,t.previousState===this.key},e.prototype._shiftState=function(t){if(t.previousState===this.shiftKey&&(t.index+1>=t.value.length||this.encoding[this.shiftKey].is(t.value,t.index+1)))return this.encoding.addPattern(this.SHIFT),t.shifted=!0,!0},e.prototype._moveState=function(){return this.encoding.addPattern(this.MOVE),!0},e}(Gl),Xl={};Xl.A=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{key:"A",shiftKey:"B",MOVE:101,START:103})},e.prototype.isCode=function(t){return 0<=t&&t<96},e.prototype.getValue=function(t){return t<32?t+64:t-32},e}(Yl),Xl.B=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{key:"B",shiftKey:"A",MOVE:100,START:104})},e.prototype.isCode=function(t){return 32<=t&&t<128},e.prototype.getValue=function(t){return t-32},e}(Yl),Xl.C=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{key:"C",MOVE:99,START:105})},e.prototype.addStart=function(){this.encoding.addPattern(this.START)},e.prototype.is=function(t,e){var n=nc(t,e,4);return(e+4<=t.length||2===t.length)&&Wl.test(n)},e.prototype.move=function(){this.encoding.addPattern(this.MOVE)},e.prototype.pushState=function(t){for(var e;(e=nc(t.value,t.index,2))&&Wl.test(e)&&2===e.length;)this.encoding.addPattern(parseInt(e,10)),t.index+=2},e.prototype.getValue=function(t){return t},e}(Gl),Xl.FNC4=function(t){function e(e,n){t.call(this,e),this._initSubStates(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{key:"FNC4",dependentStates:["A","B"]})},e.prototype.addStart=function(t){var e=t.value.charCodeAt(0)-128,n=this._getSubState(e);this.encoding[n].addStart()},e.prototype.is=function(t,e){var n=t.charCodeAt(e);return this.isCode(n)},e.prototype.isCode=function(t){return 128<=t&&t<256},e.prototype.pushState=function(t){var e,n=this._initSubState(t),r=this.encoding,o=n.value.length;if(t.index+=o,o<3)for(;n.index<o;n.index++)e=n.value.charCodeAt(n.index),n.state=this._getSubState(e),n.previousState!==n.state&&(n.previousState=n.state,r[n.state].move(n)),r.addPattern(r[n.state].MOVE),r.addPattern(r[n.state].getValue(e));else n.state!==n.previousState&&r[n.state].move(n),this._pushStart(n),r.pushData(n,this.subStates),t.index<t.value.length&&this._pushStart(n);t.fnc=!0,t.state=n.state},e.prototype._pushStart=function(t){this.encoding.addPattern(this.encoding[t.state].MOVE),this.encoding.addPattern(this.encoding[t.state].MOVE)},e.prototype._initSubState=function(t){var e={value:this._getAll(t.value,t.index),index:0};return e.state=this._getSubState(e.value.charCodeAt(0)),e.previousState=t.previousState===this.key?e.state:t.previousState,e},e.prototype._initSubStates=function(t){this.subStates=[];for(var e=0;e<t.length;e++)pt(t[e],this.dependentStates)&&this.subStates.push(t[e])},e.prototype._getSubState=function(t){for(var e=0;e<this.subStates.length;e++)if(this.encoding[this.subStates[e]].isCode(t))return this.subStates[e]},e.prototype._getAll=function(t,e){for(var n,r="",o=e;(n=t.charCodeAt(o++))&&this.isCode(n);)r+=String.fromCharCode(n-128);return r},e}(Gl),Xl.FNC1=function(t){function e(e,n){t.call(this,e),this.states=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})},e.prototype.addStart=function(){this.encoding[this.startState].addStart()},e.prototype.is=function(){return pt(this.key,this.states)},e.prototype.pushState=function(t){var e,n,r,o=this.encoding,i=t.value.replace(/\s/g,""),a=new RegExp("["+this.startAI+this.endAI+"]","g"),s=t.index,l={state:this.startState};o.addPattern(this.START);for(;;){if(l.index=0,(e=(r=i.charAt(s)===this.startAI?2:0)>0?this.getBySeparator(i,s):this.getByLength(i,s)).ai.length)n=s+r+e.id.length+e.ai.length;else if((n=i.indexOf(this.startAI,s+1))<0){if(s+e.ai.max+e.id.length+r<i.length)throw new Error("Separators are required after variable length identifiers");n=i.length}if(l.value=i.substring(s,n).replace(a,""),this.validate(e,l.value),o.pushData(l,this.dependentStates),n>=i.length)break;s=n,l.state!==this.startState&&(o[this.startState].move(l),l.state=this.startState),e.ai.length||o.addPattern(this.START)}t.index=t.value.length},e.prototype.validate=function(t,e){var n=e.substr(t.id.length),r=t.ai;if(!r.type&&!Wl.test(n))throw new Error("Application identifier "+t.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"===r.type&&!ql.test(n))throw new Error("Application identifier "+t.id+" is alphanumeric only but contains non alphanumeric character(s).");if(r.length&&r.length!==n.length)throw new Error("Application identifier "+t.id+" must be "+r.length+" characters long.");if(r.min&&r.min>n.length)throw new Error("Application identifier "+t.id+" must be at least "+r.min+" characters long.");if(r.max&&r.max<n.length)throw new Error("Application identifier "+t.id+" must be at most "+r.max+" characters long.")},e.prototype.getByLength=function(t,e){for(var n,r,o=2;o<=4;o++)if(n=nc(t,e,o),r=this.getApplicationIdentifier(n)||this.getApplicationIdentifier(n.substring(0,n.length-1)))return{id:n,ai:r};this.unsupportedAIError(n)},e.prototype.unsupportedAIError=function(t){throw new Error("'"+t+"' is not a supported Application Identifier")},e.prototype.getBySeparator=function(t,e){var n=t.indexOf(this.startAI,e),r=t.indexOf(this.endAI,n),o=t.substring(n+1,r),i=this.getApplicationIdentifier(o)||this.getApplicationIdentifier(o.substr(o.length-1));return i||this.unsupportedAIError(o),{ai:i,id:o}},e.prototype.getApplicationIdentifier=function(t){var e=this.applicationIdentifiers,n=e.multiKey;if(e[t])return e[t];for(var r=0;r<n.length;r++){if(n[r].ids&&pt(t,n[r].ids))return n[r].type;if(n[r].ranges)for(var o=n[r].ranges,i=0;i<o.length;i++)if(o[i][0]<=t&&t<=o[i][1])return n[r].type}},e}(Gl);var $l=function(t){function e(e){t.call(this,e),this._initStates()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})},e.prototype._initStates=function(){for(var t=0;t<this.states.length;t++)this[this.states[t]]=new Xl[this.states[t]](this,this.states)},e.prototype.initValue=function(t,e,n){this.pattern=[],this.value=t,this.width=e,this.height=n,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1},e.prototype.addData=function(){var t={value:this.value,index:0,state:""};0!==this.value.length&&(t.state=t.previousState=this.getNextState(t,this.states),this.addStart(t),this.pushData(t,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())},e.prototype.pushData=function(t,e){for(;this[t.state].pushState(t),!(t.index>=t.value.length);)if(t.shifted){var n=t.state;t.state=t.previousState,t.previousState=n,t.shifted=!1}else t.previousState=t.state,t.state=this.getNextState(t,e),this[t.state].move(t)},e.prototype.addStart=function(t){this[t.state].addStart(t),this.position=1},e.prototype.addCheckSum=function(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)},e.prototype.addStop=function(){this.addPattern(this.STOP)},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},e.prototype.addPattern=function(t){for(var e,n=this.characterMap[t].toString(),r=0;r<n.length;r++)e=parseInt(n.charAt(r),10),this.pattern.push(e),this.totalUnits+=e;this.checkSum+=t*this.position++},e.prototype.getNextState=function(t,e){for(var n=0;n<e.length;n++)if(this[e[n]].is(t.value,t.index))return e[n];this.invalidCharacterError(t.value.charAt(t.index))},e}(Dl),Zl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{name:"Code 128 A",states:["A"]})},e}($l),Jl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{name:"Code 128 B",states:["B"]})},e}($l),Ql=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{name:"Code 128 C",states:["C"]})},e}($l),tc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{name:"Code 128",states:["C","B","A","FNC4"]})},e}($l),ec=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),Kl(this,{name:"Code GS1-128",states:["FNC1","C","B"]})},e}($l);function nc(t,e,n){return t.substring(e,e+n)}var rc=Object.assign,oc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),rc(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:cc})},e.prototype.initValue=function(t,e){this.pattern=[],this.value=t,this.checkSumLength=0,this.width=e},e.prototype.setBaseUnit=function(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)},e.prototype.addData=function(){var t=this.value;this.addPattern(this.START);for(var e=0;e<t.length;e++)this.addCharacter(t.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},e.prototype.addCharacter=function(t){var e=this.characterMap[t];e||this.invalidCharacterError(t),this.addPattern(e)},e.prototype.addPattern=function(t){for(var e=0;e<t.length;e++)this.pattern.push(parseInt(t.charAt(e),10))},e.prototype.addCheckSum=function(){var t=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=t.join("");for(var e=0;e<t.length;e++)this.checkSumLength++,this.addPattern(this.characterMap[t[e]])},e}(Dl),ic=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),rc(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})},e}(oc),ac=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),rc(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})},e}(oc),sc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),rc(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})},e}(oc),lc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),rc(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})},e}(oc),cc={Modulo10:function(t){var e,n,r,o=[0,""],i=t.length%2;for(e=0;e<t.length;e++)o[(e+i)%2]+=parseInt(t.charAt(e),10);for(r=o[0],n=(2*o[1]).toString(),e=0;e<n.length;e++)r+=parseInt(n.charAt(e),10);return[(10-r%10)%10]},Modulo11:function(t){for(var e,n=0,r=t.length,o=0;o<r;o++)n+=(((r-o)%6||6)+1)*t.charAt(o);return 10!==(e=(11-n%11)%11)?[e]:[1,0]},Modulo11Modulo10:function(t){var e,n=this.Modulo11(t);return e=t+n[0],n.concat(this.Modulo10(e))},Modulo10Modulo10:function(t){var e,n=this.Modulo10(t);return e=t+n[0],n.concat(this.Modulo10(e))}},uc=Object.assign,pc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),uc(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})},e.prototype.initValue=function(t,e,n){var r=String(t);if(12!==r.length||/\D/.test(r))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=n,this.baseUnit=e/(95+this.quietZoneLength),this.value=r,this.checksum=this.calculateChecksum(),this.leftKey=r[0],this.leftPart=r.substr(1,6),this.rightPart=r.substr(7)+this.checksum},e.prototype.addData=function(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)},e.prototype.addSide=function(t,e){for(var n=0;n<t.length;n++)e&&parseInt(this.keyTable[e].charAt(n),10)?this.addPieces(Array.prototype.slice.call(this.characterMap.digits[t.charAt(n)]).reverse(),!0):this.addPieces(this.characterMap.digits[t.charAt(n)],!0)},e.prototype.addPieces=function(t,e){for(var n=0;n<t.length;n++)e?this.pattern.push({y1:0,y2:.95*this.options.height,width:t[n]}):this.pattern.push(t[n])},e.prototype.calculateChecksum=function(){for(var t=0,e=0,n=this.value.split("").reverse().join(""),r=0;r<n.length;r++)r%2?e+=parseInt(n.charAt(r),10):t+=parseInt(n.charAt(r),10);return(10-(3*t+e)%10)%10},e}(Dl),hc=Object.assign,dc=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.initProperties=function(){t.prototype.initProperties.call(this),hc(this,{name:"EAN 8"})},e.prototype.initValue=function(t,e,n){if(7!==t.length||/\D/.test(t))throw new Error("Invalid value provided");this.value=t,this.options.height=n,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=e/(67+this.quietZoneLength)},e}(pc),fc={code11:Al,code39:Rl,code39extended:Fl,code93:zl,code93extended:Bl,code128:tc,code128a:Zl,code128b:Jl,code128c:Ql};fc["gs1-128"]=ec,fc.msimod10=ic,fc.msimod11=ac,fc.msimod1010=sc,fc.msimod1110=lc,fc.postnet=Ul,fc.ean8=dc,fc.ean13=pc;var mc=function(t){function e(e,n){t.call(this),this.options=j({},this.options,n),this.element=e,this._initElement(),this._initSurface(),this._setOptions(n),n&&xt(n.value)&&this.redraw()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.destroy=function(){this._destroySurface()},e.prototype._initElement=function(){O(this.element,"k-barcode"),this.element.style.display="block"},e.prototype._initSurface=function(){var t=this.options,e=this.surface;e&&e.options.type===t.renderAs||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},e.prototype._createSurface=function(){return _.drawing.Surface.create(this.surfaceElement,{type:this.options.renderAs})},e.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},e.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))},e.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},e.prototype.setOptions=function(t){this._setOptions(t),this.redraw()},e.prototype.redraw=function(){var t=this._getSize();this.surface.clear(),this.surface.setSize({width:t.width,height:t.height}),this.createVisual(),this.surface.draw(this.visual)},e.prototype.getSize=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},e.prototype._resize=function(){this.redraw()},e.prototype.createVisual=function(){this.visual=this._render()},e.prototype._render=function(){var t,e,n=this.options,r=n.value,o=n.text,i=z(o.margin),a=this._getSize(),s=n.border||{},l=this.encoding,c=new Zt(0,0,a.width,a.height).unpad(s.width).unpad(n.padding),u=c.height(),p=new _.drawing.Group;return this.contentBox=c,p.append(this._getBackground(a)),o.visible&&(u-=_.drawing.util.measureText(r,{font:o.font}).height+i.top+i.bottom),t=l.encode(r,c.width(),u),o.visible&&(e=r,n.checksum&&xt(l.checksum)&&(e+=" "+l.checksum),p.append(this._getText(e))),this.barHeight=u,this._bandsGroup=this._getBands(t.pattern,t.baseUnit),p.append(this._bandsGroup),p},e.prototype.exportVisual=function(){return this._render()},e.prototype._getSize=function(){var t=this.element,e=t.clientWidth,n=t.clientHeight,r=new _.geometry.Size(300,100);return e>0&&(r.width=e),n&&(r.height=n),this.options.width&&(r.width=this.options.width),this.options.height&&(r.height=this.options.height),r},e.prototype.value=function(t){if(!xt(t))return this.options.value;this.options.value=String(t),this.redraw()},e.prototype._getBands=function(t,e){for(var n,r,o=this.contentBox,i=o.x1,a=new _.drawing.Group,s=0;s<t.length;s++){if(n=(r=M(t[s])?t[s]:{width:t[s],y1:0,y2:this.barHeight}).width*e,s%2){var l=_.geometry.Rect.fromPoints(new _.geometry.Point(i,r.y1+o.y1),new _.geometry.Point(i+n,r.y2+o.y1)),c=_.drawing.Path.fromRect(l,{fill:{color:this.options.color},stroke:null});a.append(c)}i+=n}return a},e.prototype._getBackground=function(t){var e=this.options,n=e.border||{},r=new Zt(0,0,t.width,t.height).unpad(n.width/2);return _.drawing.Path.fromRect(r.toRect(),{fill:{color:e.background},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType}})},e.prototype._getText=function(t){var e=this.options.text,n=this._textbox=new be(t,{font:e.font,color:e.color,align:"center",vAlign:"bottom",margin:e.margin});return n.reflow(this.contentBox),n.renderVisual(),n.visual},e.prototype._setOptions=function(t){if(this.type=(t.type||this.options.type).toLowerCase(),"upca"===this.type&&(this.type="ean13",t.value="0"+t.value),"upce"===this.type&&(this.type="ean8",t.value="0"+t.value),!fc[this.type])throw new Error("Encoding "+this.type+" is not supported.");this.encoding=new fc[this.type],this.options=j({},this.options,t)},e}(_.Class);Rt(mc,{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});var vc="Arial, Helvetica, sans-serif",gc="12px "+vc,yc="16px "+vc,bc=function(){return{icon:{border:{width:1}},label:{font:gc,padding:3},line:{length:10,width:2},visible:!0}},xc=function(t){return{visible:!0,labels:{font:"11px Arial, Helvetica, sans-serif"},overlay:t.gradients?{}:{gradient:"none"},area:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},rangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalRangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},bar:{gap:1.5,spacing:.4},boxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},bubble:{border:{width:0},labels:{background:"transparent"},opacity:.6},bullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},candlestick:{border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:"#000",width:1},spacing:.3},column:{gap:1.5,spacing:.4},heatmap:{labels:{color:"",background:"transparent",visible:!0},highlight:{border:{width:0}}},pie:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},donut:{margin:1},funnel:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},horizontalWaterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4},line:{width:2},notes:bc(),ohlc:{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3},radarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},radarLine:{markers:{visible:!1},width:2},polarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},polarLine:{markers:{visible:!1},width:2},rangeBar:{gap:1.5,spacing:.4},rangeColumn:{gap:1.5,spacing:.4},scatterLine:{width:1},verticalArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalBoxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},verticalBullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},verticalLine:{width:2},waterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4}}},wc=function(t){return void 0===t&&(t={}),{axisDefaults:{labels:{font:gc},notes:bc(),title:{font:yc,margin:5}},categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:xc(t),title:{font:yc},legend:{labels:{font:gc}}}},kc=function(){function t(t){this.store=t}return t.prototype.setStyle=function(t,e){this.store.dispatch({type:"set",payload:{field:t,value:e}})},t.prototype.setColors=function(){this.mapColor("pointer.color","gauge-pointer"),this.mapColor("scale.rangePlaceholderColor","gauge-track"),this.mapColor("scale.labels.color","normal-text-color"),this.mapColor("scale.minorTicks.color","normal-text-color"),this.mapColor("scale.majorTicks.color","normal-text-color"),this.mapColor("scale.line.color","normal-text-color")},t.prototype.mapColor=function(t,e){this.setStyle(t,this.queryStyle(e).backgroundColor)},t.prototype.queryStyle=function(t){var e=this.element;return window.getComputedStyle(e.querySelector(".k-var--"+t))},t}(),Oc=n(2),Cc=function(t){var e,n,r=[],o=function(o){e=t(e,o),Oc.e&&(window.clearTimeout(n),n=window.setTimeout((function(){return r.forEach((function(t){return t()}))}),1e3/60))};return o({}),{getState:function(){return e},dispatch:o,subscribe:function(t){return r.push(t),function(){return r=r.filter((function(e){return e!==t}))}}}},_c=function(t,e){if(!e.type)return{};switch(e.type){case"set":return Ec.themeItem(t,e);case"push":return Object.assign(t,e.payload);default:return t}},Sc=function(t,e){if(!e.type)return[];switch(e.type){case"add":return t.concat([e.payload]);case"remove":return t.filter((function(t){return t!==e.payload}));default:return t}},Ec={configurationItem:function(t,e){var n;return Object.assign(t,((n={})[e.gaugeKey]=e.payload,n))},collectionConfigurationItem:function(t,e){var n,r=!1,o=e.gaugeCollectionIdxKey.split("_"),i=o[0],a=o[1],s=t[i].map((function(t,n){return parseInt(a,10)===n?(r=!0,e.payload):t}));return!1===r&&s.splice(parseInt(a,10),0,e.payload),Object.assign(t,((n={})[i]=s,n))},themeItem:function(t,e){for(var n={},r=Object.assign(n,t),o=e.payload,i=o.field,a=o.value,s=i.split("."),l=s.shift();s.length>0;)n=n[l]=n[l]||{},l=s.shift();return n[l]=a,r}},Ic=function(t){return"object"==typeof t},Tc=function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!0;for(var n in t)if("value"!==n&&t.hasOwnProperty(n)){var r=t[n],o=e[n];if(Ic(r)&&Ic(o)?Tc(r,o):r!==o)return!0}return!1},Dc=r.createContext(null);Dc.displayName="GaugeContext";var Pc,Ac={name:"@progress/kendo-react-gauges",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616929,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},jc=(Pc=function(t,e){return(Pc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Pc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mc=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Rc=function(t){function e(e){var n=t.call(this,e)||this;return n.gaugeInstance=null,n._element=null,n.themeStore={},n.themeUnsubscriber=Function.prototype,n.observersStore={},n.onWindowResize=function(){null!==n.gaugeInstance&&(n.gaugeInstance.resize(),n.trigger("render",{sender:n}))},Object(Oc.D)(Ac),n.themeStore=Cc(_c),n.observersStore=Cc(Sc),n.contextValue={observersStore:n.observersStore},n}return jc(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){!function(t,e){var n=new kc(t);if("undefined"!=typeof document){var r=n.element=document.createElement("div");r.style.display="none",r.innerHTML='\n    <div class="k-var--gauge-pointer"></div>\n    <div class="k-var--gauge-track"></div>\n    <div class="k-var--normal-text-color"></div>\n',document.body.appendChild(r);try{t.dispatch({type:"push",payload:wc()}),n.setColors()}finally{document.body.removeChild(n.element),delete n.element,e()}}else t.dispatch({type:"push",payload:wc()})}(this.themeStore,this.instantiateCoreGauge.bind(this)),this.themeUnsubscriber=this.themeStore.subscribe(this.refresh.bind(this)),window.addEventListener("resize",this.onWindowResize),this.trigger("render",{sender:this})},e.prototype.componentDidUpdate=function(t){var e=this.props,n=e.dir,r=(e.children,e.deriveOptionsFromParent,e.getTarget,e.gaugeConstructor,e.className,e.renderAs),o=Mc(e,["dir","children","deriveOptionsFromParent","getTarget","gaugeConstructor","className","renderAs"]),a=(t.dir,t.children,t.deriveOptionsFromParent,t.getTarget,t.gaugeConstructor,t.className,t.renderAs),s=Mc(t,["dir","children","deriveOptionsFromParent","getTarget","gaugeConstructor","className","renderAs"]);if(null!==this.gaugeInstance){var l=Object(i.provideIntlService)(this),c=this.gaugeInstance.contextService,u=l.locale!==c._intlService.locale,p=function(t,e){if(!t||!e)return!0;if(t=[].concat(t),e=[].concat(e),t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(Tc(t[n],e[n]))return!0;return!1}(s,o),h=o;if(u&&(this.gaugeInstance.contextService._intlService=l,this.gaugeInstance.contextService.format._intlService=l,p||this.gaugeInstance.noTransitionsRedraw()),p||(r||"svg")!==(a||"svg"))this.refresh();else if(Object.keys(o).indexOf("pointer")>-1)Array.isArray(h.pointer)?this.refreshAllValues(h.pointer.map((function(t){return t.value}))):this.refreshValue((h.pointer||{}).value);else this.refreshValue(h.value);t.dir!==n&&this.gaugeInstance.setDirection(this.getDirection(n)),this.trigger("render",{sender:this})}},e.prototype.componentWillUnmount=function(){this.themeUnsubscriber(),null!==this.gaugeInstance&&(this.gaugeInstance.destroy(),this.gaugeInstance=null),window.removeEventListener("resize",this.onWindowResize)},e.prototype.render=function(){var t=this,e=this.props,n=e.style,o=void 0===n?{}:n,i=e.className,a=e.children,s=Object.assign({},o,{position:"relative"});return r.createElement(Dc.Provider,{value:this.contextValue},r.createElement("div",{style:s,ref:function(e){return t._element=e},className:i},a))},e.prototype.instantiateCoreGauge=function(){var t=this.props,e=t.dir,n=t.gaugeConstructor,r=this.getGaugeOptions();this.gaugeInstance=new n(this.element,r,this.themeStore.getState(),{rtl:this.getDirection(e),intlService:Object(i.provideIntlService)(this),sender:this})},e.prototype.refresh=function(){if(null!==this.gaugeInstance){var t=this.themeStore.getState(),e=this.getGaugeOptions();this.gaugeInstance.setOptions(e,t)}},e.prototype.refreshValue=function(t){this.gaugeInstance.value(t)},e.prototype.refreshAllValues=function(t){this.gaugeInstance.allValues(t)},e.prototype.getDirection=function(t){var e=this;return"rtl"===(void 0!==t?t:Oc.e&&window.getComputedStyle(e.element).direction||"ltr")},e.prototype.getGaugeOptions=function(){var t=this.props,e=t.renderAs,n=t.transitions,r=t.deriveOptionsFromParent,o=Object.assign({renderAs:e,transitions:n});return r&&(o=r(o)),o},e.prototype.trigger=function(t,e){for(var n=this.observersStore.getState(),r=0;r<n.length;r++)n[r].trigger(t,e)},e.propTypes={dir:o.string,renderAs:o.oneOf(["svg","canvas"])},e.defaultProps={renderAs:"svg"},e}(r.Component);Object(i.registerForIntl)(Rc);var Nc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fc=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.state={arcCenterStyles:null,arcCenterValue:{value:0,color:""}},r._element=null,r.gaugeObserver=new ft(r,{render:"onRender"}),n.observersStore.dispatch({type:"add",payload:r.gaugeObserver}),r}return Nc(e,t),e.prototype.render=function(){var t=this,e=this.props.render,n=this.state,o=n.arcCenterStyles,i=n.arcCenterValue,a=o||{zIndex:-1},s=null;return e&&(s=r.createElement("div",{className:"k-arcgauge-label",ref:function(e){return t._element=e},style:a},e(i.value,i.color))),s},e.prototype.onRender=function(t){if(this._element){var e=t.sender.gaugeInstance,n=this._element.offsetWidth,r=this._element.offsetHeight,o=e.centerLabelPosition(n,r);this.setState({arcCenterStyles:{left:o.left,top:o.top},arcCenterValue:{value:e.value(),color:e.currentColor()}})}},e.contextType=Dc,e}(r.Component),Lc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zc=function(){return(zc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Bc=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Vc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gaugeType=Il,e.getTarget=function(){return e},e.deriveOptionsFromParent=function(t){var n=e.props,r=n.value,o=n.color,i=n.colors,a=n.opacity,s=n.scale;return Object.assign({},t,{value:r,color:o,colors:i,opacity:a,scale:s})},e}return Lc(e,t),Object.defineProperty(e.prototype,"gaugeInstance",{get:function(){return this._baseGauge?this._baseGauge.gaugeInstance:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"surface",{get:function(){return this._baseGauge?this._baseGauge.surface:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._baseGauge?this._baseGauge.element:null},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this,e=this.props,n=e.children,o=e.arcCenterRender,i=e.centerRender,a=e.className,s=Bc(e,["children","arcCenterRender","centerRender","className"]);return r.createElement(Rc,zc({},s,{deriveOptionsFromParent:this.deriveOptionsFromParent,ref:function(e){return t._baseGauge=e},gaugeConstructor:this.gaugeType,getTarget:this.getTarget,className:Object(Oc.g)("k-gauge k-arcgauge",a)}),n,r.createElement(Fc,{render:i||o}))},e.prototype.exportVisual=function(t){return null!==this.gaugeInstance&&this.element?Object(_.drawDOM)(this.element,t):Promise.resolve(new _.Group)},e}(r.Component),Hc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gaugeType=Tl,e}return Hc(e,t),e}(Vc),Wc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qc=function(){return(qc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Kc=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Gc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getTarget=function(){return e},e.deriveOptionsFromParent=function(t){var n=e.props,r=n.pointer,o=n.scale;return Object.assign({},t,{pointer:r,scale:o})},e}return Wc(e,t),Object.defineProperty(e.prototype,"gaugeInstance",{get:function(){return null!==this._baseGauge?this._baseGauge.gaugeInstance:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"surface",{get:function(){return null!==this._baseGauge?this._baseGauge.surface:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return null!==this._baseGauge?this._baseGauge.element:null},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this,e=this.props,n=e.children,o=e.className,i=Kc(e,["children","className"]);return r.createElement(Rc,qc({},i,{deriveOptionsFromParent:this.deriveOptionsFromParent,ref:function(e){return t._baseGauge=e},gaugeConstructor:ol,getTarget:this.getTarget,className:Object(Oc.g)("k-gauge",o)}),n)},e.prototype.exportVisual=function(t){return null!==this.gaugeInstance?Promise.resolve(this.gaugeInstance.exportVisual(t)):Promise.resolve(new _.Group)},e}(r.Component),Yc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xc=function(){return(Xc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},$c=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Zc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getTarget=function(){return e},e.deriveOptionsFromParent=function(t){var n=e.props,r=n.pointer,o=n.scale;return Object.assign({},t,{pointer:r,scale:o})},e}return Yc(e,t),Object.defineProperty(e.prototype,"gaugeInstance",{get:function(){return null!==this._baseGauge?this._baseGauge.gaugeInstance:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"surface",{get:function(){return null!==this._baseGauge?this._baseGauge.surface:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return null!==this._baseGauge?this._baseGauge.element:null},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this,e=this.props,n=e.children,o=e.className,i=$c(e,["children","className"]);return r.createElement(Rc,Xc({},i,{deriveOptionsFromParent:this.deriveOptionsFromParent,ref:function(e){return t._baseGauge=e},gaugeConstructor:wl,getTarget:this.getTarget,className:Object(Oc.g)("k-gauge",o)}),n)},e.prototype.exportVisual=function(t){return null!==this.gaugeInstance?Promise.resolve(this.gaugeInstance.exportVisual(t)):Promise.resolve(new _.Group)},e}(r.Component)},function(t,e,n){"use strict";n.r(e),n.d(e,"Scheduler",(function(){return Xn})),n.d(e,"AgendaView",(function(){return Rs})),n.d(e,"TimelineView",(function(){return Rl})),n.d(e,"DayView",(function(){return ql})),n.d(e,"WeekView",(function(){return Yl})),n.d(e,"WorkWeekView",(function(){return Jl})),n.d(e,"MonthView",(function(){return oc})),n.d(e,"DATA_ACTION",(function(){return Un})),n.d(e,"SchedulerPropsContext",(function(){return ee})),n.d(e,"useSchedulerPropsContext",(function(){return ne})),n.d(e,"SchedulerViewsContext",(function(){return re})),n.d(e,"useSchedulerViewsContext",(function(){return oe})),n.d(e,"SchedulerFieldsContext",(function(){return ie})),n.d(e,"useSchedulerFieldsContext",(function(){return ae})),n.d(e,"SchedulerGroupsContext",(function(){return le})),n.d(e,"useSchedulerGroupsContext",(function(){return ce})),n.d(e,"SchedulerDateRangeContext",(function(){return ue})),n.d(e,"useSchedulerDateRangeContext",(function(){return pe})),n.d(e,"SchedulerOrientationContext",(function(){return he})),n.d(e,"useSchedulerOrientationContext",(function(){return de})),n.d(e,"SchedulerDateContext",(function(){return fe})),n.d(e,"useSchedulerDateContext",(function(){return me})),n.d(e,"SchedulerActiveViewContext",(function(){return ye})),n.d(e,"useSchedulerActiveViewContext",(function(){return be})),n.d(e,"SchedulerDataContext",(function(){return ve})),n.d(e,"useSchedulerDataContext",(function(){return ge})),n.d(e,"SchedulerItem",(function(){return Xs})),n.d(e,"SchedulerItemContent",(function(){return Zs})),n.d(e,"SchedulerViewItem",(function(){return tl})),n.d(e,"SchedulerEditItem",(function(){return bl})),n.d(e,"SchedulerSlot",(function(){return _s})),n.d(e,"SchedulerViewSlot",(function(){return Is})),n.d(e,"SchedulerEditSlot",(function(){return As})),n.d(e,"SchedulerTask",(function(){return Sa})),n.d(e,"SchedulerViewTask",(function(){return Ta})),n.d(e,"SchedulerEditTask",(function(){return Fa})),n.d(e,"SchedulerDrag",(function(){return rl})),n.d(e,"SchedulerResize",(function(){return sl})),n.d(e,"SchedulerForm",(function(){return ks})),n.d(e,"SchedulerFormEditor",(function(){return ys})),n.d(e,"SchedulerOccurrenceDialog",(function(){return Ma})),n.d(e,"SchedulerRemoveDialog",(function(){return ja})),n.d(e,"SchedulerEditItemFormItemContext",(function(){return rn})),n.d(e,"useSchedulerEditItemFormItemContext",(function(){return on})),n.d(e,"SchedulerEditItemDragItemContext",(function(){return an})),n.d(e,"useSchedulerEditItemDragItemContext",(function(){return sn})),n.d(e,"SchedulerEditItemRemoveItemContext",(function(){return un})),n.d(e,"useSchedulerEditItemRemoveItemContext",(function(){return pn})),n.d(e,"SchedulerEditItemResizeItemContext",(function(){return ln})),n.d(e,"useSchedulerEditItemResizeItemContext",(function(){return cn})),n.d(e,"SchedulerEditItemShowRemoveDialogContext",(function(){return hn})),n.d(e,"useSchedulerEditItemShowRemoveDialogContext",(function(){return dn})),n.d(e,"SchedulerEditItemShowOccurrenceDialogContext",(function(){return fn})),n.d(e,"useSchedulerEditItemShowOccurrenceDialogContext",(function(){return mn})),n.d(e,"SchedulerEditItemPropsContext",(function(){return en})),n.d(e,"useSchedulerEditItemPropsContext",(function(){return nn})),n.d(e,"SchedulerEditSlotFormItemContext",(function(){return bn})),n.d(e,"useSchedulerEditSlotFormItemContext",(function(){return xn})),n.d(e,"SchedulerEditSlotPropsContext",(function(){return gn})),n.d(e,"useSchedulerEditSlotPropsContext",(function(){return yn})),n.d(e,"SchedulerHeader",(function(){return Ee})),n.d(e,"SchedulerFooter",(function(){return Fe})),n.d(e,"DateHeaderCell",(function(){return _l})),n.d(e,"TimeHeaderCell",(function(){return Tl})),n.d(e,"DRAG_ITEM_ACTION",(function(){return dl})),n.d(e,"ITEMS_FOCUS_ACTION",(function(){return tr})),n.d(e,"ITEMS_SELECT_ACTION",(function(){return rr})),n.d(e,"REMOVE_ITEM_ACTION",(function(){return ul})),n.d(e,"RESIZE_ITEM_ACTION",(function(){return ml})),n.d(e,"SERIES_ACTION",(function(){return vl})),n.d(e,"SHOW_OCCURRENCE_DIALOG_ACTION",(function(){return cl})),n.d(e,"SHOW_REMOVE_DIALOG_ACTION",(function(){return hl})),n.d(e,"SLOTS_FOCUS_ACTION",(function(){return nr})),n.d(e,"SLOTS_SELECT_ACTION",(function(){return lr}));var r={};n.r(r),n.d(r,"byMonth",(function(){return zi})),n.d(r,"byMonthDay",(function(){return Bi})),n.d(r,"byYearDay",(function(){return Vi})),n.d(r,"byWeekNumber",(function(){return Hi})),n.d(r,"byWeekDay",(function(){return Ui})),n.d(r,"byHour",(function(){return Wi})),n.d(r,"byMinute",(function(){return qi})),n.d(r,"bySecond",(function(){return Ki}));var o=n(0),i=n(1),a=n(4),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l=function(t,e,n,r){if(void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=[]),t.length<=e)return[r];var o=[];return t[e].data.map((function(i){o.push.apply(o,l(t,e+1,n+1,r.concat([s({},i,{field:t[e].field,valueField:t[e].valueField,colorField:t[e].colorField,multiple:t[e].multiple})])))})),o};function c(t,e){var n=[];if(!e||!e.length)return n;if(t&&t.resources&&t.resources.length)for(var r=t.resources,o=function(t){var o=e.find((function(e){return e.name===r[t]}));n.push(o)},i=0;i<r.length;i++)o(i);return n}var u=function(t,e){void 0===e&&(e=t.length-1);var n=Math.max(0,e),r=[];t&&t.length||(t=[{}]);for(var o=(t[n].data||[]).map((function(e){return s({},e,{text:e[t[n].textField]})}))||[],i=o.length,a=1,l=0;l<=n;l++)a*=(t[l].data||[]).length||1;for(l=0;l<a;l++)o[l%i]&&r.push(o[l%i]);return r},p=function(t){return t?{top:t.offsetTop,left:t.offsetLeft,right:t.offsetParent?t.offsetParent.offsetWidth-(t.offsetLeft+t.offsetWidth):0,width:t.offsetWidth,height:t.offsetHeight}:{top:0,left:0,width:0,height:0,right:0}},h=function(t,e){return void 0===e&&(e=!1),parseFloat(window.getComputedStyle(t)[e?"paddingLeft":"paddingTop"]||"0")+parseFloat(window.getComputedStyle(t)[e?"paddingRight":"paddingBottom"]||"0")},d=function(t,e,n){void 0===n&&(n=!1),t&&(void 0!==e.top&&(t.style.top=e.top+"px"),void 0!==e.left&&(t.style.left=e.left+"px"),void 0!==e.width&&(t.style.width=e.width+"px"),void 0===e.height||n||(t.style.height=e.height+"px"),n&&(t.style.minHeight=void 0!==e.height&&e.height>0?e.height+"px":""))},f=n(2),m=(new Date(1980,0,1),[{}]),v=new Date(1900,0,1),g=new Date(2099,11,31),y=(a.ZonedDate.fromLocalDate(v),a.ZonedDate.fromLocalDate(g),function(t){return null!=t}),b=function(t){return null==t},x=function(t){return Array.isArray(t)},w=function(t){return"function"==typeof t},k=function(t){return"string"==typeof t},O=function(t){return!function(t){return b(t)||0===t.trim().length}(t)},C=function(t){return!isNaN(t-parseFloat(t))},_=function(t){return t&&t.getTime},S=function(t){return y(t.filters)},E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function I(t,e){function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var T,D=function(t,e,n){return function(r){return t(r)?e(r):n(r)}},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduceRight((function(t,e){return e(t)}),e)}},A=function(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},j=function(t){return _(t.value)},M=function(t){t.filters&&(t.filters=t.filters.map((function(t){var e,n=Object.assign({},t);return!S(t)&&k(t.operator)&&(n.operator={"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[(e=t.operator).toLowerCase()]||e),S(t)&&M(n),n})))},R=function(t){return y(t)&&(t=function(t){return S(t)?Object.assign({},t):{filters:x(t)?t:[t],logic:"and"}}(t),M(t)),t},N=(T="",{}),F=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;N[void 0]=function(t){return t};var L,z=function(t,e){var n=t+e;if(N[n])return N[n];var r=[];return t.replace(F,(function(t,e,n,o){r.push(y(e)?e:n||o)})),N[n]=function(t){for(var n=t,o=0;o<r.length;o++)if(n=n[r[o]],!y(n)&&e)return n;return n},N[n]},B=function(t){return function(e){return[t,e]}},V=function(){return null},H=function(t){return function(e){return y(t(e))}},U=function(t){return function(e){return function(t){return y(t)&&x(t)&&t.length>0}(t(e))}},W=function(t,e){return D(t,e,V)},q=function(t,e){return function(n){return t(n).map(e).join("~")}},K=P.apply(void 0,[['"',""],[":","-"]].map((function(t){var e=t[0],n=t[1];return function(t){return t.replace(new RegExp(e,"g"),n)}}))),G=(L=".",function(t){return t.slice(0,t.indexOf(L))}),Y=function(t){var e=t.field,n=t.dir;return e+"-"+(void 0===n?"asc":n)},X=z("take"),$=z("aggregates"),Z=z("skip"),J=z("group"),Q=z("sort",!0),tt=q(Q,Y),et=q(J,Y),nt=q($,(function(t){return t.field+"-"+t.aggregate})),rt=P((function(t){return"datetime'"+t+"'"}),G,K,JSON.stringify,A),ot=P(B("page"),(function(t){var e=t.skip,n=t.take;return Math.floor((e||0)/n)+1})),it=P(B("pageSize"),X),at=P(B("group"),et),st=P(B("sort"),tt),lt=P(B("aggregate"),nt),ct=(W(H(Z),ot),W(H(X),it),W(U(J),at),W(H($),lt),P(W(U(Q),st),(function(t){return Object.assign({},t,{sort:(Q(t)||[]).filter((function(t){var e=t.dir;return O(e)}))})})),function(t){return t.field+"~"+t.operator+"~"+t.value}),ut=(D(j,P(ct,(function(t){var e=t.field,n=t.value,r=t.ignoreCase,o=t.operator;return{value:rt(n),field:e,ignoreCase:r,operator:o}})),ct),function(t,e,n){return e[t]=n,e}),pt=function(t){return function(e){var n,r=e[t];return y(r)?r:e[(n=t,n.replace(/(^[A-Z])/g,(function(t,e){return e.toLowerCase()})))]}},ht=(pt("Member"),pt("AggregateMethodName"),pt("Value"),function(t){return function(e){return Object.keys(e).reduce(t.bind(null,e),{})}}),dt=ht((function(t,e,n){return ut(n.toLowerCase(),e,t[n])})),ft=ht((function(t,e,n){return ut(n,e,dt(t[n]))})),mt=function(t,e){return y(t)?t:e},vt=P((function(t){var e=t.field,n=t.hasSubgroups,r=t.value,o=t.aggregates,i=t.items;return{aggregates:ft(o),field:e,items:n?i.map(vt):i,value:r}}),(function(t){return{aggregates:t.Aggregates||t.aggregates,field:t.Member||t.member||t.field,hasSubgroups:t.HasSubgroups||t.hasSubgroups||!1,items:t.Items||t.items,value:mt(t.Key,mt(t.key,t.value))}})),gt=function(t,e){return b(t)?t===e?0:-1:b(e)?1:t.localeCompare?t.localeCompare(e):t>e?1:t<e?-1:0},yt=function(t,e){return gt(e,t)},bt=function(t){var e=z(t.field,!0);return function(n,r){return("asc"===t.dir?gt:yt)(e(n),e(r))}},xt=function(t,e){return 0},wt=function(t){return function(e){return function(n,r,o){return e(n,t(r,o))}}},kt=(wt((function(t){return t})),{or:{concat:function(t,e){return function(n){return t(n)||e(n)}},identity:function(){return!1}},and:{concat:function(t,e){return function(n){return t(n)&&e(n)}},identity:function(){return!0}}}),Ot={contains:function(t,e){return(t||"").indexOf(e)>=0},doesnotcontain:function(t,e){return-1===(t||"").indexOf(e)},doesnotendwith:function(t,e){return(t||"").indexOf(e,(t||"").length-(e||"").length)<0},doesnotstartwith:function(t,e){return-1===(t||"").lastIndexOf(e,0)},endswith:function(t,e){return(t||"").indexOf(e,(t||"").length-(e||"").length)>=0},eq:function(t,e){return t===e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e},isempty:function(t){return""===t},isnotempty:function(t){return""!==t},isnotnull:function(t){return y(t)},isnull:function(t){return b(t)},lt:function(t,e){return t<e},lte:function(t,e){return t<=e},neq:function(t,e){return t!=e},startswith:function(t,e){return 0===(t||"").lastIndexOf(e,0)}},Ct=/^\/Date\((.*?)\)\/$/,_t=function(t){var e=t.field,n=t.ignoreCase,r=t.value,o=t.operator;e=y(e)?e:function(t){return t},n=!y(n)||n;var i=function(t,e,n){if(!y(e))return t;var r=t;if(k(e)){var o=Ct.exec(e);o?e=new Date(+o[1]):r=function(e){var r=t(e);return"string"==typeof r&&n?r.toLowerCase():C(r)?r+"":r}}return _(e)?function(t){var e=r(t);return _(e)?e.getTime():e}:r}(w(e)?e:z(e,!0),r,n);r=function(t,e){if(null!=t&&k(t)){var n=Ct.exec(t);if(n)return new Date(+n[1]).getTime();if(e)return t.toLowerCase()}else if(null!=t&&_(t))return t.getTime();return t}(r,n);var a=w(o)?o:Ot[o];return function(t){return a(i(t),r,n)}},St=function(t){var e=kt[t.logic];return t.filters.filter(y).map((function(t){return S(t)?St(t):_t(t)})).reduce(e.concat,e.identity)},Et=function(t){return t&&0!==t.filters.length?St(t):function(){return!0}},It=function(t,e){return!y(e)||S(e)&&0===e.filters.length?t:t.filter(Et(R(e)))},Tt=(wt((function(t){return t})),function(t,e,n,r){if(!(n-e<2)){var o=e+n>>>1;Tt(t,e,o,r),Tt(t,o,n,r),function(t,e,n,r,o){for(var i=n-e,a=r-n,s=[],l=0;l<i;l++)s.push(t[e+l]);var c=0,u=n,p=e;do{o(t[u],s[c])<0?(t[p++]=t[u++],a--):(t[p++]=s[c++],i--)}while(a>0&&i>0);for(;i;)t[p++]=s[c++],i--;for(;a;)t[p++]=t[u++],a--}(t,e,o,n,r)}}),Dt=function(t,e){if(e.some((function(t){return y(t.dir)}))){t=t.slice(0);var n=function(t){return t.filter((function(t){return y(t.dir)})).map((function(t){return bt(t)})).reduce((function(t,e){return function(n,r){return t(n,r)||e(n,r)}}),xt)}(e);Tt(t,0,t.length,n)}return t},Pt=function(){return(Pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},At=function(t){return t[0]},jt=function(t){return t[t.length-1]},Mt=function(t){var e=new Set;return t.forEach((function(t){e.add(t.field)})),e.size===t.length};function Rt(t,e,n,r){return r?""+t.formatDate(e,{skeleton:"yMMMMEEEEd"}):t.formatDate(e,{skeleton:"yMMMMEEEEdhm"})+""+t.formatDate(n,"t")}var Nt=function(t,e,n,r){if(void 0===r&&(r=0),r===n)return null;var o=null,i=document.elementFromPoint(t,e);if(!i)return o;if("true"===i.getAttribute("data-slot"))return i;var a=i.style.pointerEvents;return i.style.pointerEvents="none",o=Nt(t,e,n,r+1),i.style.pointerEvents=a,o},Ft=function(t,e){return Object(f.q)(e)(t)},Lt=function(t,e,n){if(e)return Object(f.x)(e)(t,n)};var zt=function(t){return null!=t};function Bt(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))}var Vt=function(t,e,n){var r=Ht(t,e)?Ft(t,e.id):Ft(t,e.recurrenceId);return n.find((function(t){return Ft(t,e.id)===r}))},Ht=function(t,e){var n=Ft(t,e.id),r=Ft(t,e.recurrenceId),o=Ft(t,e.recurrenceRule);return!(!n||!o||null!=r)},Ut=function(t,e){return Math.max(t.getTime(),e.getTime())},Wt=function(t,e){return Math.min(t.getTime(),e.getTime())},qt=function(t,e,n,r,o){return void 0===o&&(o=!1),o?Ut(e,r)-Wt(t,n)<=e.getTime()-t.getTime()+(r.getTime()-n.getTime()):Ut(e,r)-Wt(t,n)<e.getTime()-t.getTime()+(r.getTime()-n.getTime())},Kt={id:"id",start:"start",startTimezone:"startTimezone",originalStart:"originalStart",end:"end",endTimezone:"endTimezone",isAllDay:"isAllDay",title:"title",description:"description",recurrenceRule:"recurrenceRule",recurrenceId:"recurrenceId",recurrenceExceptions:"recurrenceExceptions"},Gt=function(t,e,n){return(e.getHours()<t.getHours()||e.getHours()===t.getHours()&&e.getMinutes()<=t.getMinutes())&&(t.getHours()<n.getHours()||n.getHours()===t.getHours()&&t.getMinutes()<n.getMinutes())};var Yt=function(t){var e=0,n=t.slice();return n.sort((function(t,e){return t-e})).forEach((function(t,r){n[r]===r&&(e=r+1)})),e},Xt=function(t,e,n){void 0===n&&(n=!1),e.forEach((function(t){return t.items.splice(0,t.items.length)})),e.forEach((function(e){var r=[];t.forEach((function(t){if((n||t.isAllDay===e.isAllDay)&&t.range.index===e.range.index&&t.group.index===e.group.index&&qt(t.start,t.end,e.start,e.end)){var o=Yt(r);(null===t.order||void 0===t.order||t.order<o)&&(t.order=o),r.splice(t.order,0,t.order),e.items.push(t)}}))}))},$t=function(t,e,n){void 0===n&&(n=!1),t.forEach((function(t){return t.slots.splice(0,t.slots.length)})),t.forEach((function(t){e.forEach((function(e){(n||t.isAllDay===e.isAllDay)&&t.range.index===e.range.index&&t.group.index===e.group.index&&qt(t.start,t.end,e.start,e.end)&&t.slots.push(e)}))}))},Zt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},Jt=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var o=t.current;if(!o||!e)return null;var i=e.filter((function(t){return null!==t.current&&null!==t.current.element})),a=Dt(i,[{field:"current.props.group.index",dir:"asc"},{field:"current.props.range.index",dir:"asc"},n?{field:""}:{field:"current.props.isAllDay",dir:"desc"},{field:"current.props.start",dir:"asc"}]),s=a.findIndex((function(t){return null!==t.current&&Boolean(t.current.props.uid===o.props.uid&&(void 0===t.current.props.occurrenceId||t.current.props.occurrenceId===o.props.occurrenceId)&&t.current.props.group.index===o.props.group.index&&t.current.props.range.index===o.props.range.index&&(n||t.current.props.isAllDay===o.props.isAllDay))}));return a[s+(r?-1:1)]},Qt=o.createContext({current:null}),te=function(){return o.useContext(Qt)};Qt.displayName="SchedulerElementContext";var ee=o.createContext({}),ne=function(){return o.useContext(ee)};ee.displayName="SchedulerPropsContext";var re=o.createContext([]),oe=function(){return o.useContext(re)};re.displayName="SchedulerViewsContext";var ie=o.createContext(Kt),ae=function(){return o.useContext(ie)};ie.displayName="SchedulerFieldsContext";var se=o.createContext({dateFormat:"{0:D}",shortDateFormat:"{0:d}"});se.displayName="SchedulerDateFormatContext";var le=o.createContext([{index:0,resources:[]}]),ce=function(){return o.useContext(le)};le.displayName="SchedulerGroupsContext";var ue=o.createContext({start:new Date,end:new Date,zonedStart:a.ZonedDate.fromLocalDate(new Date),zonedEnd:a.ZonedDate.fromLocalDate(new Date)}),pe=function(){return o.useContext(ue)};ue.displayName="SchedulerDateRangeContext";var he=o.createContext(null),de=function(){return o.useContext(he)};he.displayName="SchedulerOrientationContext";var fe=o.createContext([new Date,Zt]),me=function(){return o.useContext(fe)};fe.displayName="SchedulerDateContext";var ve=o.createContext([[],Zt]),ge=function(){return o.useContext(ve)};ve.displayName="SchedulerDataContext";var ye=o.createContext(["day",Zt]),be=function(){return o.useContext(ye)};ye.displayName="SchedulerActiveViewContext";var xe=function(t){var e=t.children,n=t.element,r=t.props,i=t.views,a=t.fields,s=t.groups,l=t.dateRange,c=t.dateFormat,u=t.orientation,p=t.date,h=t.data,d=t.activeView;return o.createElement(Qt.Provider,{value:n},o.createElement(ee.Provider,{value:r},o.createElement(re.Provider,{value:i},o.createElement(ie.Provider,{value:a},o.createElement(se.Provider,{value:c},o.createElement(le.Provider,{value:s},o.createElement(ue.Provider,{value:l},o.createElement(he.Provider,{value:u},o.createElement(fe.Provider,{value:p},o.createElement(ve.Provider,{value:h},o.createElement(ye.Provider,{value:d},e)))))))))))},we=function(){return(we=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ke=function(t,e,n){var r=o.useState(e||t),i=r[0],a=r[1];return[void 0!==e?e:i,o.useCallback((function(t,e){a(t),n&&n.call(void 0,we({},e,{value:t}))}),[n,a])]},Oe=n(5),Ce=n(7),_e=function(){return(_e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Se=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Ee=o.forwardRef((function(t,e){var n=t.className,r=Se(t,["className"]),i=o.useRef(null),a=o.useRef(null);o.useImperativeHandle(a,(function(){return{element:i.current,props:t}})),o.useImperativeHandle(e,(function(){return a.current}));var s=o.useMemo((function(){return Object(f.g)("k-scheduler-toolbar",n)}),[n]);return o.createElement(Ce.Toolbar,_e({ref:function(t){t&&(i.current=t.element)},className:s},r),t.children)}));Ee.displayName="KendoReactSchedulerHeader";var Ie=function(){return(Ie=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Te=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},De=o.forwardRef((function(t,e){var n=t.className,r=Te(t,["className"]),i=o.useRef(null);return o.useImperativeHandle(e,(function(){return{element:i.current,props:t}})),o.createElement(Ce.ToolbarItem,Ie({ref:function(t){t&&(i.current=t.element)},className:Object(f.g)(n)},r),t.children)}));De.displayName="KendoReactSchedulerSchedulerNavigation";var Pe=function(){return(Pe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},je=o.forwardRef((function(t,e){var n=t.className,r=Ae(t,["className"]),i=o.useRef(null);return o.useImperativeHandle(e,(function(){return{element:i.current,props:t}})),o.createElement(Ce.ToolbarItem,Pe({ref:function(t){t&&(i.current=t.element)},className:Object(f.g)("k-scheduler-views",n)},r),t.children)}));je.displayName="KendoReactSchedulerViewSelector";var Me,Re=function(){return(Re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ne=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Fe=o.forwardRef((function(t,e){t.className;var n=t.style,r=Ne(t,["className","style"]),i=o.useRef(null),a=o.useRef(null);o.useImperativeHandle(i,(function(){return{element:a.current,props:t}})),o.useImperativeHandle(e,(function(){return i.current}));var s=o.useMemo((function(){return Object(f.g)("k-scheduler-footer",t.className)}),[t.className]);return o.createElement(Ce.Toolbar,Re({ref:function(t){t&&(a.current=t.element)},className:s,style:Re({boxShadow:"none"},n)},r),t.children)})),Le="scheduler.allEvents",ze="scheduler.allDay",Be="scheduler.today",Ve="scheduler.deleteTitle",He="scheduler.nextTitle",Ue="scheduler.editCancel",We="scheduler.dateTitle",qe="scheduler.timeTitle",Ke="scheduler.eventTitle",Ge="scheduler.noEvents",Ye=((Me={})["scheduler.editorValidationRequired"]="Field is required.",Me["scheduler.editorValidationStart"]="Start time must be be before End time.",Me["scheduler.editorValidationEnd"]="End time must be after Start time.",Me[Le]="All events",Me[ze]="all day",Me[Be]="Today",Me["scheduler.dayViewTitle"]="Day",Me["scheduler.monthViewTitle"]="Month",Me["scheduler.weekViewTitle"]="Week",Me["scheduler.workWeekViewTitle"]="Work Week",Me["scheduler.timelineViewTitle"]="Timeline",Me["scheduler.agendaViewTitle"]="Agenda",Me[Ve]="Delete",Me["scheduler.previousTitle"]="Previous",Me[He]="Next",Me["scheduler.showFullDay"]="Show full day",Me["scheduler.showWorkDay"]="Show business hours",Me["scheduler.editOccurrence"]="Edit current occurrence",Me["scheduler.editSeries"]="Edit the series",Me["scheduler.editRecurringConfirmation"]="Do you want to edit only this event occurrence or the whole series?",Me["scheduler.editRecurringDialogTitle"]="Edit Recurring Item",Me["scheduler.editSave"]="Save",Me[Ue]="Cancel",Me["scheduler.editorDelete"]="Delete",Me["scheduler.editorTitle"]="Event",Me["scheduler.editorEventTitle"]="Title",Me["scheduler.editorEventStart"]="Start",Me["scheduler.editorEventStartTimeZone"]="Start Time Zone",Me["scheduler.editorEventEnd"]="End",Me["scheduler.editorEventEndTimeZone"]="End Time Zone",Me["scheduler.editorEventAllDay"]="All Day Event",Me["scheduler.editorEventDescription"]="Description",Me["scheduler.editorEventSeparateTimeZones"]="End in different Time Zone",Me["scheduler.editorEventTimeZone"]="Specify Time Zone",Me["scheduler.recurrenceEditorRepeat"]="Repeat",Me["scheduler.recurrenceEditorDailyInterval"]="day(s)",Me["scheduler.recurrenceEditorDailyRepeatEvery"]="Repeat every",Me["scheduler.recurrenceEditorWeeklyInterval"]="week(s)",Me["scheduler.recurrenceEditorWeeklyRepeatEvery"]="Repeat every",Me["scheduler.recurrenceEditorWeeklyRepeatOn"]="Repeat on",Me["scheduler.recurrenceEditorMonthlyDay"]="Day",Me["scheduler.recurrenceEditorMonthlyInterval"]="month(s)",Me["scheduler.recurrenceEditorMonthlyRepeatEvery"]="Repeat every",Me["scheduler.recurrenceEditorMonthlyRepeatOn"]="Repeat on",Me["scheduler.recurrenceEditorYearlyOf"]="of",Me["scheduler.recurrenceEditorYearlyRepeatEvery"]="Repeat every",Me["scheduler.recurrenceEditorYearlyRepeatOn"]="Repeat on",Me["scheduler.recurrenceEditorYearlyInterval"]="year(s)",Me["scheduler.recurrenceEditorFrequenciesDaily"]="Daily",Me["scheduler.recurrenceEditorFrequenciesMonthly"]="Monthly",Me["scheduler.recurrenceEditorFrequenciesNever"]="Never",Me["scheduler.recurrenceEditorFrequenciesWeekly"]="Weekly",Me["scheduler.recurrenceEditorFrequenciesYearly"]="Yearly",Me["scheduler.recurrenceEditorOffsetPositionsFirst"]="First",Me["scheduler.recurrenceEditorOffsetPositionsSecond"]="Second",Me["scheduler.recurrenceEditorOffsetPositionsThird"]="Third",Me["scheduler.recurrenceEditorOffsetPositionsFourth"]="Fourth",Me["scheduler.recurrenceEditorOffsetPositionsLast"]="Last",Me["scheduler.recurrenceEditorWeekdaysDay"]="Day",Me["scheduler.recurrenceEditorWeekdaysWeekday"]="Weekday",Me["scheduler.recurrenceEditorWeekdaysWeekendday"]="Weekend Day",Me["scheduler.recurrenceEditorEndAfter"]="After",Me["scheduler.recurrenceEditorEndOccurrence"]="occurrence(s)",Me["scheduler.recurrenceEditorEndLabel"]="End",Me["scheduler.recurrenceEditorEndNever"]="Never",Me["scheduler.recurrenceEditorEndOn"]="On",Me["scheduler.deleteConfirmation"]="Are you sure you want to delete this event?",Me["scheduler.deleteRecurringConfirmation"]="Do you want to delete only this event occurrence or the whole series?",Me["scheduler.deleteOccurrence"]="Delete current occurrence",Me["scheduler.deleteSeries"]="Delete the series",Me["scheduler.deleteDialogTitle"]="Delete Event",Me["scheduler.deleteRecurringDialogTitle"]="Delete Recurring Item",Me[We]="Date",Me[qe]="Time",Me[Ke]="Event",Me[Ge]="no events",Me),Xe=n(15),$e=function(){return($e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ze=o.forwardRef((function(t,e){var n=ne().timezone,r=a.ZonedDate.fromLocalDate(t.value,n),i=Object(a.getDate)(r),s=o.useCallback((function(e){if(t.onChange){var r=a.ZonedDate.fromUTCDate(Bt(e.value),n);t.onChange.call(void 0,$e({},e,{value:r}))}}),[t.onChange]);return o.createElement(Xe.DatePicker,$e({ref:e,dateInput:Je,pickerWrap:Qe,toggleButton:tn},t,{value:i,onChange:s}))})),Je=function(){return null},Qe=function(t){return o.createElement(o.Fragment,null,t.children)},tn=function(t){var e=Object(Oe.useInternationalization)(),n=o.useContext(se),r=n.dateFormat,i=n.shortDateFormat,s=pe(),l=me()[0],c=s.end.getTime()-s.start.getTime()>27*a.MS_PER_DAY,u=e.format(r,c?l:s.zonedStart,c?l:s.zonedEnd.addDays(-1)),p=e.format(i,c?l:s.zonedStart,c?l:s.zonedEnd.addDays(-1));return o.createElement(Ce.Button,$e({},t,{className:"k-nav-current",tabIndex:-1,look:"flat"}),o.createElement("span",{className:"k-icon k-i-calendar"}),o.createElement("span",{className:"k-sm-date-format"},p),o.createElement("span",{className:"k-lg-date-format"},u))};Ze.displayName="KendoReactSchedulerNavigationDatePicker";var en=o.createContext([null]),nn=function(){return o.useContext(en)};en.displayName="SchedulerEditItemPropsContext";var rn=o.createContext([null,f.v,f.v]),on=function(){return o.useContext(rn)};rn.displayName="SchedulerEditItemFormItemContext";var an=o.createContext([null,f.v,f.v]),sn=function(){return o.useContext(an)};an.displayName="SchedulerEditItemDragItemContext";var ln=o.createContext([null,f.v,f.v]),cn=function(){return o.useContext(ln)};ln.displayName="SchedulerEditItemResizeItemContext";var un=o.createContext([null,f.v,f.v]),pn=function(){return o.useContext(un)};un.displayName="SchedulerEditItemRemoveItemContext";var hn=o.createContext([!1,f.v,f.v]),dn=function(){return o.useContext(hn)};hn.displayName="SchedulerEditItemShowRemoveDialogContext";var fn=o.createContext([!1,f.v,f.v]),mn=function(){return o.useContext(fn)};fn.displayName="SchedulerEditItemShowOccurrenceDialogContext";var vn=function(t){var e=t.props,n=t.form,r=t.drag,i=t.resize,a=t.remove,s=t.showRemoveDialog,l=t.showOccurrenceDialog,c=t.children;return o.createElement(en.Provider,{value:e},o.createElement(rn.Provider,{value:n},o.createElement(an.Provider,{value:r},o.createElement(ln.Provider,{value:i},o.createElement(un.Provider,{value:a},o.createElement(hn.Provider,{value:s},o.createElement(fn.Provider,{value:l},c)))))))},gn=o.createContext([null]),yn=function(){return o.useContext(gn)};gn.displayName="SchedulerEditSlotPropsContext";var bn=o.createContext([null]),xn=function(){return o.useContext(bn)};bn.displayName="SchedulerEditSlotFormItemContext";var wn=function(t){var e=t.props,n=t.form,r=t.children;return o.createElement(gn.Provider,{value:e},o.createElement(bn.Provider,{value:n},r))},kn=o.createContext([null]),On=o.createContext([!1]),Cn=o.createContext([!1]),_n=function(t){return o.createElement(kn.Provider,{value:t.remove},o.createElement(On.Provider,{value:t.showRemoveDialog},o.createElement(Cn.Provider,{value:t.showOccurrenceDialog},t.children)))},Sn=o.createContext({});Sn.displayName="SchedulerViewPropsContext";var En=o.createContext([]),In=function(){return o.useContext(En)};En.displayName="SchedulerViewRangesContext";var Tn=o.createContext([[],Zt]),Dn=function(){return o.useContext(Tn)};Tn.displayName="SchedulerViewSlotsContext";var Pn=o.createContext([[],Zt]),An=function(){return o.useContext(Pn)};Pn.displayName="SchedulerViewItemsContext";var jn=o.createContext([[],Zt]);jn.displayName="SchedulerViewSelectedSlotsContext";var Mn=o.createContext([[],Zt]),Rn=function(){return o.useContext(Mn)};Mn.displayName="SchedulerViewSelectedItemsContext";var Nn=o.createContext([[],Zt]);Nn.displayName="SchedulerViewFocusedItemsContext";var Fn=o.createContext([[],Zt]),Ln=function(){return o.useContext(Fn)};Fn.displayName="SchedulerViewFocusedSlotsContext";var zn=function(t){var e=t.children,n=t.props,r=t.ranges,i=t.slots,a=t.items,s=t.selectedSlots,l=t.selectedItems,c=t.focusedItems,u=t.focusedSlots;return o.createElement(Sn.Provider,{value:n},o.createElement(En.Provider,{value:r},o.createElement(Tn.Provider,{value:i},o.createElement(Pn.Provider,{value:a},o.createElement(jn.Provider,{value:s},o.createElement(Mn.Provider,{value:l},o.createElement(Nn.Provider,{value:c},o.createElement(Fn.Provider,{value:u},e))))))))},Bn=function(t){var e=be(),n=e[0],r=e[1],i=Object(Oe.useLocalization)(),a=o.useMemo((function(){return"function"==typeof t.view.title?t.view.title.call(void 0,i):t.view.title}),[t.view.title,i]),s=o.useCallback((function(){t.view.name&&r(t.view.name)}),[r,t.view.name]);return o.createElement(Ce.Button,{role:"button",type:"button",tabIndex:-1,togglable:!0,selected:t.view.name===n,onClick:s},a)},Vn=function(){return(Vn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Hn=o.forwardRef((function(){var t=o.useRef(null),e=o.useState("desktop"),n=e[0],r=e[1],i=oe(),a=be(),s=a[0],l=a[1],c=i.find((function(t){return t.props.name===s})),u=Object(Oe.useLocalization)(),p=o.useCallback((function(t){l&&(t.syntheticEvent.preventDefault(),l(t.item.name))}),[l]),h=function(){r(window.matchMedia("(min-width: 1024px)").matches?"desktop":"mobile")};return o.useEffect((function(){h();var e=new window.ResizeObserver(h);return e.observe(t.current),function(){e.disconnect()}}),[]),o.createElement("div",{className:"k-scheduler-views-wrapper",ref:t},c&&"mobile"===n&&o.createElement(Ce.DropDownButton,{className:"k-views-dropdown",onItemClick:p,popupSettings:{popupClass:"k-scheduler-toolbar"},textField:"title",items:i.map((function(t){return Vn({},t.props,{selected:t.props.name===s,title:"function"==typeof t.props.title?t.props.title.call(void 0,u):t.props.title})})),text:o.createElement(o.Fragment,null,"function"==typeof c.props.title?c.props.title.call(void 0,u):c.props.title,o.createElement("span",{className:"k-icon k-i-arrow-60-down"}))}),"desktop"===n&&o.createElement(Ce.ButtonGroup,{className:"k-scheduler-views"},i.map((function(t){return o.createElement(Bn,{key:t.props.name,view:t.props})}))))}));Hn.displayName="KendoReactSchedulerViewSelectorList";var Un,Wn=function(){return(Wn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},qn=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Kn=o.forwardRef((function(t,e){var n=t.className,r=qn(t,["className"]),i=o.useRef(null);return o.useImperativeHandle(e,(function(){return{element:i.current,props:t}})),o.createElement(Ce.ToolbarItem,Wn({ref:function(t){t&&(i.current=t.element)},className:Object(f.g)("k-scheduler-navigation",n)},r),t.children)})),Gn={name:"@progress/kendo-react-scheduler",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631617131,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},Yn=function(){return(Yn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(t){t[t.create=0]="create",t[t.update=1]="update",t[t.remove=2]="remove"}(Un||(Un={}));var Xn=o.forwardRef((function(t,e){Object(f.D)(Gn);var n=t.timezone,r=t.onDataChange,i=o.useRef(null),s=o.useRef(null);o.useImperativeHandle(s,(function(){return{props:t,element:i.current}})),o.useImperativeHandle(e,(function(){return s.current}));var u,p,h,d,m=Object(f.C)(i),v=Object(Oe.useInternationalization)(),g=Object(Oe.useLocalization)(),y=o.useMemo((function(){return e=t.modelFields,{fields:Pt({},Kt,e)};var e}),[t.modelFields]).fields,b=ke(t.defaultDate||$n.defaultDate,t.date,t.onDateChange),x=b[0],w=b[1],k=o.Children.toArray(t.children||[]),O=ke(t.defaultView||k[0]&&k[0].props.name||"day",t.view,t.onViewChange),C=O[0],_=O[1],S=ke(!0),E=S[0],I=S[1],T=k.find((function(t){return t.props.name===C}))||k[0]||o.createElement(ql,null),D=t.data||$n.data,P=(u=t.group,p=t.resources,h=c(u,p),1===(d=l(h)).length?[{index:0,resources:(p||[]).reduce((function(t,e){return t.concat(e.data.map((function(t){return Pt({},t,{field:e.field,valueField:e.valueField,colorField:e.colorField,multiple:e.multiple})})))}),[])}]:d.map((function(t,e){return{index:e,resources:t}}))),A=t.group&&t.group.orientation?t.group.orientation:"horizontal",j=T.props.selectedDateFormat||"{0:D}",M=T.props.selectedShortDateFormat||"{0:d}",R=T.props.slotDuration,N=void 0!==T.props.dateRange?"function"==typeof T.props.dateRange?T.props.dateRange.call(void 0,{intl:v,date:x,timezone:n,numberOfDays:T.props.numberOfDays,workWeekStart:T.props.workWeekStart||v.firstDay(),workWeekEnd:T.props.workWeekEnd||(v.firstDay()+T.props.numberOfDays)%6}):T.props.dateRange:{start:$n.defaultDate,end:$n.defaultDate},F=o.useCallback((function(t){var e=t.created,n=void 0===e?[]:e,o=t.updated,i=void 0===o?[]:o,a=t.deleted;if(r){var s={created:n,updated:i,deleted:void 0===a?[]:a};r.call(void 0,s)}}),[r]),L=o.useCallback((function(t){var e=[t.dataItem];F({created:e})}),[F]),z=o.useCallback((function(t){var e=[],n=[];if(t.series)if(Array.isArray(t.dataItem))t.dataItem.map((function(e){var r=Object(f.h)(Vt(t.dataItem,y,D)),o=Object(f.h)(e);Lt(o,y.originalStart,Ft(r,y.originalStart)),Lt(o,y.recurrenceId,Ft(r,y.recurrenceId)),Lt(o,y.recurrenceExceptions,Ft(r,y.recurrenceExceptions)),n.push(o)}));else{var r=Object(f.h)(Vt(t.dataItem,y,D)),o=Object(f.h)(t.dataItem);Lt(o,y.originalStart,Ft(r,y.originalStart)),Lt(o,y.recurrenceId,Ft(r,y.recurrenceId)),Lt(o,y.recurrenceExceptions,Ft(r,y.recurrenceExceptions)),n.push(o)}else if(Array.isArray(t.dataItem))t.dataItem.map((function(t){var r=null!==Ft(t,y.recurrenceRule)&&void 0!==Ft(t,y.recurrenceRule);if(null!==Ft(t,y.recurrenceId)&&void 0!==Ft(t,y.recurrenceId)&&r){var o=Object(f.h)(Vt(t,y,D)),i=Ft(t,y.originalStart),a=Ft(o,y.recurrenceExceptions)||[];Lt(o,y.recurrenceExceptions,a.concat([i])),Lt(t,y.recurrenceRule,null),n.push(o),e.push(t)}else n.push(t)}));else{var i=null!==Ft(t.dataItem,y.recurrenceRule)&&void 0!==Ft(t.dataItem,y.recurrenceRule);if(null!==Ft(t.dataItem,y.recurrenceId)&&void 0!==Ft(t.dataItem,y.recurrenceId)&&i){r=Object(f.h)(Vt(t.dataItem,y,D));var a=Ft(t.dataItem,y.originalStart),s=Ft(r,y.recurrenceExceptions)||[];Lt(r,y.recurrenceExceptions,s.concat([a])),Lt(t.dataItem,y.recurrenceRule,null),n.push(r),e.push(t.dataItem)}else n.push(t.dataItem)}F({updated:n,created:e})}),[F,y,D]),B=o.useCallback((function(t){var e=[],n=[];if(t.series){var r=Object(f.h)(Vt(t.dataItem,y,D)),o=Object(f.h)(t.dataItem);Lt(o,y.originalStart,Ft(r,y.originalStart)),Lt(o,y.recurrenceId,Ft(r,y.recurrenceId)),Lt(o,y.recurrenceRule,Ft(r,y.recurrenceRule)),Lt(o,y.recurrenceExceptions,Ft(r,y.recurrenceExceptions)),n.push(o)}else{if(null!==Ft(t.dataItem,y.recurrenceRule)&&void 0!==Ft(t.dataItem,y.recurrenceRule)){r=Object(f.h)(Vt(t.dataItem,y,D));var i=Ft(t.dataItem,y.originalStart),a=Ft(r,y.recurrenceExceptions)||[];Lt(r,y.recurrenceExceptions,a.concat([i])),Lt(t.dataItem,y.recurrenceRule,null),e.push(r)}else n.push(t.dataItem)}F({updated:e,deleted:n})}),[F,y,D]),V=o.useCallback((function(t){switch(t.type){case Un.create:L(t);break;case Un.update:z(t);break;case Un.remove:B(t)}}),[L,B,z]),H=o.useCallback((function(t,e){_(t,Yn({},e,{target:s.current}))}),[_,s]),U=o.useCallback((function(t,e){w(t,Yn({},e,{target:s.current}))}),[w,s]),W=o.useCallback((function(t){t.value&&w(t.value,Yn({},t,{target:s.current,nativeEvent:t.nativeEvent}))}),[w,s]),q=o.useCallback((function(t){t.preventDefault();var e=T.props.numberOfDays||1,n=e>27?Object(a.addMonths)(x,Math.round(e/27)):Object(a.addDays)(x,e);w(n,event)}),[x,w,T.props.numberOfDays]),K=o.useCallback((function(t){t.preventDefault();var e=T.props.numberOfDays||1,n=e>27?Object(a.addMonths)(x,-Math.round(e/27)):Object(a.addDays)(x,-e);w(n,event)}),[x,w,T.props.numberOfDays]),G=o.useCallback((function(t){t.preventDefault();var e=Object(a.getDate)(new Date);w(e,event)}),[w]),Y=o.useCallback((function(){I(!E)}),[I,E]),X=o.useCallback((function(){i.current&&(i.current.style.boxShadow="0 0.5px 0.5px 0.5px rgba(0, 0, 0, .12)")}),[i]),$=o.useCallback((function(){i.current&&(i.current.style.boxShadow="")}),[i]),Z=o.useMemo((function(){return Yn({},t.style,{height:t.height})}),[t.height,t.style]),J=o.useMemo((function(){return Object(f.g)({"k-rtl":void 0!==t.rtl?t.rtl:"rtl"===m},"k-widget k-scheduler k-scheduler-flex k-floatwrap",t.className)}),[t.className,t.rtl,m]),Q=g.toLanguageString(Be,Ye[Be]),tt=g.toLanguageString("scheduler.previousTitle",Ye["scheduler.previousTitle"]),et=g.toLanguageString(He,Ye[He]),nt=T.props.header||t.header||$n.header,rt=T.props.footer||t.footer||$n.footer,ot=De,it=je;return o.createElement(xe,{element:i,props:t,views:k,fields:y,groups:P,dateRange:N,orientation:A,dateFormat:{dateFormat:j,shortDateFormat:M},date:[x,U],activeView:[C,H],data:[D,V]},o.createElement("div",{ref:i,id:t.id,style:Z,className:J,tabIndex:t.tabIndex,dir:m,role:t.role,"aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,onFocus:X,onBlur:$},o.createElement(nt,null,o.createElement(ot,null,o.createElement(Ce.ButtonGroup,{className:"k-scheduler-navigation"},o.createElement(Ce.Button,{role:"button",tabIndex:-1,title:Q,"aria-label":Q,onClick:G},Q),o.createElement(Ce.Button,{role:"button",tabIndex:-1,className:"k-button-icon",title:tt,"aria-label":tt,onClick:K},o.createElement("span",{className:"k-icon k-i-arrow-60-left"})),o.createElement(Ce.Button,{role:"button",tabIndex:-1,className:"k-button-icon",title:et,"aria-label":et,onClick:q},o.createElement("span",{className:"k-icon k-i-arrow-60-right"})))),o.createElement(Ze,{value:x,onChange:W}),o.createElement(Ce.ToolbarSpacer,null),o.createElement(it,null,o.createElement(Hn,null))),T&&o.createElement(T.type,Yn({editable:t.editable,key:T.props.name,item:t.item,viewItem:t.viewItem,editItem:t.editItem,task:t.task,viewTask:t.viewTask,editTask:t.viewTask,slot:t.slot,viewSlot:t.viewSlot,editSlot:t.editSlot,form:t.form,onDataAction:V,showWorkHours:E},T.props)),o.createElement(rt,null,R&&R<1440&&o.createElement(Kn,null,o.createElement(Ce.Button,{tabIndex:-1,onClick:Y},o.createElement("span",{className:"k-icon k-i-clock"}),"",g.toLanguageString(E?"scheduler.showFullDay":"scheduler.showWorkDay",Ye[E?"scheduler.showFullDay":"scheduler.showWorkDay"]))))))})),$n={data:[],height:600,tabIndex:-1,editable:!1,defaultDate:new Date,header:Ee,footer:Fe,navigation:De,viewSelector:je};Xn.propTypes={data:i.array,editable:i.oneOfType([i.bool,i.shape({add:i.bool,drag:i.bool,edit:i.bool,remove:i.bool,resize:i.bool})]),view:i.string,defaultView:i.string,date:i.any,defaultDate:i.any,rtl:i.bool,height:i.oneOfType([i.number,i.string]),children:i.any,timezone:i.string,group:i.any,resources:i.any,modelFields:i.shape({id:i.string,start:i.string,startTimezone:i.string,end:i.string,endTimezone:i.string,isAllDay:i.string,title:i.string,description:i.string,recurrenceRule:i.string,recurrenceId:i.string,recurrenceException:i.string})},Xn.defaultProps=$n,Xn.displayName="KendoReactScheduler";var Zn,Jn=function(t,e){var n=t.element;o.useLayoutEffect((function(){if(n&&n.current){var e=[],r=[],o=[],i=n.current.querySelectorAll(t.selector);i.forEach((function(n){var i=n.getBoundingClientRect().width,a=t.explicitDepth&&void 0!==t.attribute?n.getAttribute(t.attribute):0,s=h(n,!0),l=function(t,e){return void 0===e&&(e=!1),parseFloat(window.getComputedStyle(t)[e?"borderLeftWidth":"borderTopWidth"]||"0")+parseFloat(window.getComputedStyle(t)[e?"borderRightWidth":"borderBottomWidth"]||"0")}(n,!0);null!==a&&((!o[a]||l>o[a])&&(o[a]=l),(!r[a]||s>r[a])&&(r[a]=s),(!e[a]||i>e[a])&&(e[a]=i))})),i.forEach((function(n){var i=t.explicitDepth?n.getAttribute(t.attribute):0;null!==i&&(n.style.minWidth=e[i]-r[i]-o[i]+"px")}))}}),e)},Qn=function(t){var e=o.useContext(ee),n=void 0!==t?t:e.editable||!1,r=!0===n||void 0!==n&&!1!==n&&!0===n.edit,i=!0===n||void 0!==n&&!1!==n&&!0===n.resize,a=!0===n||void 0!==n&&!1!==n&&!0===n.remove,s=!0===n||void 0!==n&&!1!==n&&!0===n.drag;return{add:!0===n||void 0!==n&&!1!==n&&!0===n.add,edit:r,drag:s,remove:a,resize:i,select:!0===n||void 0!==n&&!1!==n&&!0===n.select}};!function(t){t[t.add=0]="add",t[t.remove=1]="remove"}(Zn||(Zn={}));var tr,er=function(t){void 0===t&&(t=[]);var e=o.useRef(t),n=o.useCallback((function(t){switch(t.type){case Zn.add:e.current.push(t.item);break;case Zn.remove:var n=e.current.indexOf(t.item);e.current.splice(n,1)}}),[]);return[e.current,n]};!function(t){t.next="ITEMS_FOCUS_NEXT",t.prev="ITEMS_FOCUS_PREV"}(tr||(tr={}));var nr;!function(t){t.up="SLOT_FOCUS_UP",t.down="SLOT_FOCUS_DOWN",t.left="SLOT_FOCUS_LEFT",t.right="SLOT_FOCUS_RIGHT"}(nr||(nr={}));var rr,or=function(t,e){return e.find((function(e){return null!==e.current&&null!==t.current&&e.current.props.row===t.current.props.row-1&&e.current.props.col===t.current.props.col}))},ir=function(t,e){return e.find((function(e){return null!==e.current&&null!==t.current&&e.current.props.row===t.current.props.row&&e.current.props.col===t.current.props.col-1}))},ar=function(t,e){return e.find((function(e){return null!==e.current&&null!==t.current&&e.current.props.row===t.current.props.row&&e.current.props.col===t.current.props.col+1}))},sr=function(t,e){return e.find((function(e){return null!==e.current&&null!==t.current&&e.current.props.row===t.current.props.row+1&&e.current.props.col===t.current.props.col}))};!function(t){t.select="ITEMS_SELECT_SELECT",t.selectNext="ITEMS_SELECT_SELECT_NEXT",t.selectPrev="ITEMS_SELECT_SELECT_PREV",t.reset="ITEMS_SELECT_RESET",t.add="ITEMS_SELECT_ADD",t.remove="ITEMS_SELECT_REMOVE"}(rr||(rr={}));var lr;!function(t){t.select="SLOTS_SELECT_SELECT",t.reset="SLOTS_SELECT_RESET",t.add="SLOTS_SELECT_ADD"}(lr||(lr={}));var cr=o.forwardRef((function(t,e){var n=o.useRef(null);o.useImperativeHandle(e,(function(){return n.current}));var r=er([]),i=r[0],a=r[1],s=er([]),l=s[0],c=s[1],u=function(t){return[[],function(e,n){switch(e.type){case tr.next:if(!e.item||!e.item.current||!t)return;(r=Jt(e.item,t,e.ignoreIsAllDay,!1))&&r.current&&r.current.element&&(n.preventDefault(),r.current.element.focus());break;case tr.prev:if(!e.item||!e.item.current||!t)return;var r;(r=Jt(e.item,t,e.ignoreIsAllDay,!0))&&r.current&&r.current.element&&(n.preventDefault(),r.current.element.focus())}}]}(i),p=u[0],h=u[1],d=function(t){return[[],function(e,n){switch(e.type){case nr.up:if(!e.slot.current||!t)return;(r=or(e.slot,t))&&r.current&&r.current.element&&(n.preventDefault(),r.current.element.focus());break;case nr.down:if(!e.slot||!t)return;(r=sr(e.slot,t))&&r.current&&r.current.element&&(n.preventDefault(),r.current.element.focus());break;case nr.left:if(!e.slot||!t)return;(r=ir(e.slot,t))&&r.current&&r.current.element&&(n.preventDefault(),r.current.element.focus());break;case nr.right:if(!e.slot||!t)return;var r;(r=ar(e.slot,t))&&r.current&&r.current.element&&(n.preventDefault(),r.current.element.focus())}}]}(l),m=d[0],v=d[1],g=function(t){var e=o.useState([]),n=e[0],r=e[1],i=o.useCallback((function(e,o){switch(e.type){case rr.select:if(!e.item)return;r([e.item]);break;case rr.selectNext:if(!e.item||!e.item.current||!t)return;(i=Jt(e.item,t,e.ignoreIsAllDay,!1))&&(o.preventDefault(),r([i]));break;case rr.selectPrev:if(!e.item||!e.item.current||!t)return;var i;(i=Jt(e.item,t,e.ignoreIsAllDay,!0))&&(o.preventDefault(),r([i]));break;case rr.reset:r([]);break;case rr.add:if(!e.item)return;n.some((function(t){return t===e.item}))||r(n.concat([e.item]));break;case rr.remove:if(!e.item)return;r(n.filter((function(t){return t!==e.item})).slice())}}),[t,n]);return[n,i]}(i),y=g[0],b=g[1],x=function(t){var e=o.useState([]),n=e[0],r=e[1],i=o.useCallback((function(t){switch(t.type){case lr.select:if(!t.slot)return;r([t.slot]);break;case lr.reset:r([]);break;case lr.add:if(!t.slot)return;n.some((function(e){return e===t.slot}))||r(n.concat([t.slot]))}}),[n]);return[n,i]}(),w=x[0],k=x[1],O=o.useCallback((function(t,e){k({type:lr.reset}),b(t,e)}),[b,k]),C=o.useCallback((function(t,e){b({type:rr.reset},e),k(t)}),[b,k]),_=o.useMemo((function(){return Object(f.g)("k-scheduler-layout k-scheduler-layout-flex",t.className)}),[t.className]);return Jn({element:n,selector:".k-group-cell",attribute:"data-depth-index",explicitDepth:!0}),Jn({element:n,selector:".k-side-cell",attribute:"data-depth-index",explicitDepth:!1}),o.createElement(zn,{props:t.props,ranges:t.ranges,items:[i,a],slots:[l,c],selectedItems:[y,O],selectedSlots:[w,C],focusedItems:[p,h],focusedSlots:[m,v]},o.createElement("div",{ref:n,style:t.style,className:_,role:"presentation"},t.children))}));cr.displayName="KendoReactSchedulerBaseView";var ur=o.createContext({resource:{},groupIndex:0}),pr=function(t){var e=t.nested,n=t.wrapGroup,r=t.children,i=t.cellContent||yr,a=c(t.group,t.resources);return o.createElement("div",{className:"k-scheduler-group"},e?n?o.createElement("div",{className:"k-scheduler-row"},o.createElement("div",{className:"k-sticky-cell"},fr({resources:a,children:r,cellContent:i,depth:0,groupIndex:0})),o.createElement("div",{className:"k-scheduler-cell k-group-content"},dr({resources:a,children:r,cellContent:i,depth:0,groupIndex:0},!1))):dr({resources:a,children:r,cellContent:i,depth:0,groupIndex:0},!0):n?o.createElement("div",{className:"k-scheduler-row"},o.createElement("div",{className:"k-sticky-cell"},hr({resources:a,children:r,cellContent:i,depth:0,groupIndex:0})),o.createElement("div",{className:"k-scheduler-cell k-group-content"},r)):mr({resources:a,children:r,cellContent:i,depth:0,groupIndex:0}))},hr=function(t){return o.createElement("div",{className:"k-scheduler-row"},o.createElement("div",{className:"k-scheduler-row"},t.resources.map((function(t,e){return o.createElement("div",{key:e,className:"k-scheduler-cell k-resource-cell k-heading-cell","data-depth-index":e})}))))},dr=function(t,e){void 0===e&&(e=!0);var n=t.resources,r=t.children,i=t.cellContent,a=t.groupIndex,s=t.depth,l=n.length>0;if(s===n.length||!l)return o.createElement(ur.Provider,{value:{resource:n[s],groupIndex:l?a:0}},r);var c=n[s].data.length;return n[s].data.map((function(t,l){return o.createElement("div",{key:l,className:"k-scheduler-row"},e&&o.createElement("div",{className:"k-scheduler-cell k-group-cell k-heading-cell","data-depth-index":s},t.text),o.createElement("div",{className:"k-scheduler-cell k-group-content k-resource-row","data-depth-index":s,"data-resource-index":c*a+l},dr({resources:n,children:r,cellContent:i,groupIndex:c*a+l,depth:s+1},e)))}))},fr=function(t){var e=t.resources,n=t.children,r=t.cellContent,i=t.groupIndex,a=t.depth,s=e.length?e[a].data.length:0;return e[a]?e[a].data.map((function(t,l){return o.createElement("div",{key:l,className:"k-scheduler-row"},o.createElement("div",{className:"k-scheduler-cell k-resource-cell k-resource-row k-heading-cell","data-depth-index":a,"data-resource-index":s*i+l},t.text),a+1!==e.length&&o.createElement("div",{className:"k-scheduler-cell k-resource-content"},fr({resources:e,children:n,cellContent:r,groupIndex:s*i+l,depth:a+1})))})):null},mr=function(t){var e=t.resources,n=t.children,r=t.groupIndex,i=t.cellContent;return o.createElement("div",{className:"k-scheduler-row"},gr(e),i,vr(n,e,r))},vr=function(t,e,n){var r=e.length>0;return o.createElement("div",{className:"k-scheduler-cell k-group-content"},o.createElement(ur.Provider,{value:{resource:e[n],groupIndex:r?n:void 0}},t))},gr=function(t){return t.map((function(t,e){return o.createElement("div",{key:e,className:"k-scheduler-cell k-group-cell k-heading-cell","data-depth-index":e})}))};pr.displayName="KendoReactSchedulerVerticalResourceIterator";var yr=null,br=function(t,e){for(var n=e.step,r=e.timezone,o=[],i=a.ZonedDate.fromLocalDate(t.start,r),s=a.ZonedDate.fromLocalDate(t.end,r),l=i.clone(),c=0;l.getTime()<s.getTime();c++,l=l.addTime(n)){var u=l.clone(),p=u.clone().addTime(n),h=new Date(u.getTime()),d={index:c,end:new Date(p.getTime()),start:h,zonedStart:u,zonedEnd:p};o.push(d)}return o},xr=function(t){return t instanceof Array&&t.length>0},wr=function(t){return xr(t.bySecond)||xr(t.byMinute)||xr(t.byHour)||xr(t.byYearDay)||xr(t.byMonthDay)||xr(t.byWeekDay)||xr(t.byMonth)||xr(t.byWeekNumber)},kr=function(t){for(var e=t.split(";"),n=[],r=null,o=0;o<e.length;o++){var i=e[o].split(":"),a=i[0],s=i[1],l=void 0===s?"":s,c=a.indexOf("TZID");-1!==c&&(r=a.substring(c).split("=")[1]),n=l.split(",").map((function(t){return xi(t,r)}))}return n.length&&null!==n[0]?n:null},Or=function(t){var e=kr(t);return null===e?null:e[0]},Cr={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"",perMille:"",infinity:"",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"","symbol-alt-narrow":""},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},millisecond:{wide:"millisecond",short:"ms",narrow:"ms"},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function _r(t){return"string"==typeof t}var Sr=/\{(\d+)}?\}/g,Er=function(t){var e=t.name,n=t.message;if(!e||!n)throw new Error("{ name: string, message: string } object is required!");this.name=e,this.message=n};Er.prototype.formatMessage=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Ir(t),r=this.message.replace(Sr,(function(t,e){return n[parseInt(e,10)]}));return this.name+": "+r},Er.prototype.error=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new Error(this.formatMessage(t))};var Ir=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},Tr=function(t){return Object.keys(t).reduce((function(e,n){return e[n]=new Er({name:n,message:t[n]}),e}),{})}({NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."});var Dr=Cr;function Pr(t){return _r(t)?Ar(t):t}function Ar(t){if(Dr[t])return Dr[t];if(Dr.supplemental.likelySubtags){var e=t.split("-"),n=e[0],r=e.slice(1),o=function(t,e){for(var n=Dr.supplemental.likelySubtags,r=0;r<e.length;r++){var o=n[t+"-"+e[r]];if(o)return o}if(n[t])return n[t]}(n,r),i=o?function(t,e){var n=t.split("-"),r=n[0],o=n[1],i=n[2];return Dr[t]||-1!==e.indexOf(i)&&Dr[r+"-"+i]||-1!==e.indexOf(o)&&Dr[r+"-"+o]||Dr[r]}(o,r):null;if(i)return i}throw Tr.NoLocale.error(t)}function jr(t){if(t.territory)return t.territory;var e,n=t.name,r=t.identity;return e=r&&r.territory?r.territory:function(t,e){var n=Dr.supplemental.likelySubtags,r=t.split("-");if(n){var o=n[t]||n[r[0]];o&&(r=o.split("-"))}if(e)for(var i=r.length-1;i>=1;i--){var a=r[i];a!==e.variant&&a!==e.script||r.splice(i,1)}var s=r.length;if(s>1)return r[s-1].toUpperCase()}(n,r),t.territory=e,e}function Mr(t,e){var n,r=e.type,o=e.nameType,i=e.standAlone,a=e.lower,s=i?"stand-alone":"format",l=(a?"lower-":"")+o,c=Pr(t).calendar[r][s],u=c[l];return!u&&a&&(u=c[l]=(n=c[o],Array.isArray(n)?function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toLowerCase());return e}(n):function(t){var e={};for(var n in t)e[n]=t[n].toLowerCase();return e}(n))),u}function Rr(t){var e=t.split("-"),n=parseInt(e[0],10),r=parseInt(e[1],10)-1,o=parseInt(e[2],10);return new Date(n,r,o)}var Nr=Tr.NoCurrency,Fr=Tr.NoCurrencyDisplay,Lr=Tr.NoSupplementalCurrency,zr=Tr.NoCurrencyRegion,Br=Tr.NoValidCurrency,Vr={"001":"USD",150:"EUR"};function Hr(t,e,n){var r=Pr(t).numbers.currencies;if(r){var o=r[e];if(o)return o;if(n)throw Fr.error()}else if(n)throw Nr.error()}function Ur(t,e){if(void 0===e&&(e=!0),Vr[t])return Vr[t];var n=Dr.supplemental.currencyData;if(n){var r=n.region[t];if(r)return function(t){for(var e,n,r,o,i=0;i<t.length;i++){var a=t[i],s=Object.keys(a)[0],l=a[s];if("XXX"!==s&&"false"!==l._tender&&l._from)if(l._to){if(!r){var c=Rr(l._from),u=Rr(l._to);(!n||n.to<u||n.from<c)&&(e=s,n={from:c,to:u})}}else{var p=Rr(l._from);(!o||o<p)&&(r=s,o=p)}}return r||e}(r);if(e)throw zr.error(t)}else if(e)throw Lr.error()}function Wr(t,e){var n=Pr(t),r=n.numbers;if(!r.localeCurrency){var o=Ur(jr(n),e);if(!o&&e)throw Br.error(n.name);r.localeCurrency=o}return r.localeCurrency}var qr=["sun","mon","tue","wed","thu","fri","sat"],Kr=Tr.NoWeekData,Gr=Tr.NoFirstDay;Tr.NoWeekData;function Yr(t){return 1/t==-1/0}function Xr(t,e){return void 0===e&&(e={}),e.currency||(e.currency=Wr(t,!0)),function(t,e){var n=e.value,r=e.currency,o=e.currencyDisplay;if(void 0===o&&(o="symbol"),"code"===o)return r;var i=Hr(t,r,!0);return"symbol"===o?i["symbol-alt-narrow"]||i.symbol:void 0===typeof n||1!==n?i["displayName-count-other"]:i["displayName-count-one"]}(t,e)}function $r(t,e,n,r,o){var i=o.numbers.symbols,a=t.indexOf(i.decimal),s=r.groupSize.slice(),l=s.shift(),c=-1!==a?a:n+1,u=t.substring(e,c),p=t,h=u.length;if(h>=l){for(var d=h,f=[];d>-1;){var m=u.substring(d-l,d);m&&f.push(m),d-=l;var v=s.shift();if(0===(l=void 0!==v?v:l)){(m=u.substring(0,d))&&f.push(m);break}}u=f.reverse().join(i.group),p=t.substring(0,e)+u+t.substring(c)}return p}function Zr(t){return"currency"===t||"accounting"===t}function Jr(t,e,n){void 0===e&&(e=2),void 0===n&&(n=!1);var r=e-String(t).length,o=t;if(r>0){var i=new Array(r+1).join("0");o=n?t+i:i+t}return o}function Qr(t,e){var n=t,r=e||0;return n=n.toString().split("e"),n=(n=Math.round(Number(n[0]+"e"+(n[1]?Number(n[1])+r:r)))).toString().split("e"),(n=Number(n[0]+"e"+(n[1]?Number(n[1])-r:-r))).toFixed(Math.min(r,20))}var to=/0+$/;function eo(t){var e,n=t.minimumFractionDigits,r=t.maximumFractionDigits,o=t.style,i=Zr(o);return i&&(e=function(t){var e=2,n=2,r=((Dr.supplemental.currencyData||{}).fractions||{})[t];return r&&r._digits&&(n=e=parseInt(r._digits,10)),{minimumFractionDigits:e,maximumFractionDigits:n}}(t.currency)),void 0===n&&(n=i?e.minimumFractionDigits:0),void 0===r&&(r="percent"===o?Math.max(n,0):i?Math.max(n,e.maximumFractionDigits):Math.max(n,3)),{minimumFractionDigits:n,maximumFractionDigits:r}}var no=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g;function ro(t,e){var n=t.format;-1!==n.indexOf("%")&&(t.style="percent",t.symbol=e.numbers.symbols.percentSign,t.number*=100),-1!==n.indexOf("$")&&(t.style="currency",t.symbol=Xr(e))}function oo(t){var e=t.format;if(e.indexOf("'")>-1||e.indexOf('"')>-1||e.indexOf("\\")>-1){var n=t.literals=[];t.format=e.replace(no,(function(t){var e=t.charAt(0).replace("\\",""),r=t.slice(1).replace(e,"");return n.push(r),"__??__"}))}}var io=/(\.(?:[0-9]*[1-9])?)0+$/g,ao=/\.$/,so=/\,/g;function lo(t){var e,n,r,o=t.number,i=t.format,a=i.indexOf(".");if(-1!==a){var s=i.lastIndexOf("0")-a,l=i.lastIndexOf("#")-a,c=s>-1,u=l>-1,p=o.toString().split("e"),h=(p=(p=p[1]?Qr(o,Math.abs(p[1])):p[0]).split(".")[1]||"").length,d=-1;c||u?c&&s>l?h=s:l>s&&(u&&h>l?h=l:c&&h<s&&(h=s),d=c?s:0):(t.format=i.substring(0,a)+i.substring(a+1),a=-1,h=0),h>-1&&(o=Qr(o,h),d>-1&&(e=o,r=0===(n=d)?io:new RegExp("(\\.[0-9]{"+n+"}[1-9]*)0+$","g"),o=e.replace(r,"$1").replace(ao,"")))}else o=Qr(o);t.negative&&-1*o>=0&&!t.negativeZero&&(t.negative=!1),t.number=o,t.decimalIndex=a}function co(t,e,n){return-1===t&&-1!==e?e:-1!==t&&-1===e?t:n?Math.min(t,e):Math.max(t,e)}function uo(t,e){var n=t.number;return-1!==t.start&&(n=function(t,e){var n=t;if(e)for(var r=e.length,o=0;o<r;o++)n=n.replace("__??__",e[o]);return n}(n=function(t,e,n){var r=t;if("currency"===e||"percent"===e){r="";for(var o=0,i=t.length;o<i;o++){var a=t.charAt(o);r+="$"===a||"%"===a?n:a}}return r}(n=function(t,e){var n=t.start,r=t.end,o=t.negative,i=t.negativeZero,a=t.format,s=t.decimalIndex,l=t.lastZeroIndex,c=t.hasNegativeFormat,u=t.hasGroup,p=t.number,h=p.toString().split("."),d=a.length,f=h[0],m=h[1]||"",v=f.length,g="";p=a.substring(0,n),!o&&!i||c||(p+="-");for(var y=n;y<d;y++){var b=a.charAt(y);if(-1===s){if(r-y<v){p+=f;break}}else if(-1!==l&&l<y&&(g=""),s-y<=v&&s-y>-1&&(p+=f,y=s),s===y){p+=(m?e.numbers.symbols.decimal:"")+m,y+=r-s+1;continue}"0"===b?(p+=b,g=b):"#"===b&&(p+=g)}return u&&(p=$r(p,n+(o&&!c?1:0),Math.max(r,v+n),e.numbers.decimal,e)),r>=n&&(p+=a.substring(r+1)),p}(t,e),t.style,t.symbol),t.literals)),n}function po(t,e,n){var r={negative:t<0,number:Math.abs(t),negativeZero:Yr(t),format:e};return function(t){var e=t.number,n=t.format;if(n=n.split(";"),(t.negative||t.negativeZero)&&n[1])n=n[1],t.hasNegativeFormat=!0;else if(0===e){var r=n[2];n=r||n[0],r&&function(t){return-1===t.indexOf("#")&&-1===t.indexOf("0")}(r)&&(t.constant=r)}else n=n[0];t.format=n}(r),r.constant?r.constant:(oo(r),ro(r,n),function(t){t.hasGroup=t.format.indexOf(",")>-1,t.hasGroup&&(t.format=t.format.replace(so,""))}(r),lo(r),function(t){var e=t.format,n=e.indexOf("#"),r=e.indexOf("0"),o=co(n,r,!0),i=co(n=e.lastIndexOf("#"),r=e.lastIndexOf("0"));o===e.length&&(i=o),t.start=o,t.end=i,t.lastZeroIndex=r}(r),uo(r,n))}var ho=/^(n|c|p|e|a)(\d*)$/i;function fo(t){return _r(t)?function(t){var e=ho.exec(t);if(e){var n={style:"decimal"},r=e[1].toLowerCase();return"c"===r?n.style="currency":"a"===r?n.style="accounting":"p"===r?n.style="percent":"e"===r&&(n.style="scientific"),e[2]&&(n.minimumFractionDigits=n.maximumFractionDigits=parseInt(e[2],10)),n}}(t):t}function mo(t,e,n){if(void 0===e&&(e="n"),void 0===n&&(n="en"),null==t)return"";if(!isFinite(t))return String(t);var r,o=Ar(n),i=fo(e);if(i){var a=i.style||"decimal";r=function(t,e,n){var r=n.numbers.symbols,o=e.style,i=Zr(o);if("scientific"===o)return(void 0!==e.minimumFractionDigits?t.toExponential(e.minimumFractionDigits):t.toExponential()).replace(".",r.decimal);var a,s=t;i&&(e.value=s,a=Xr(n,e)),"percent"===o&&(s*=100,a=r.percentSign);var l=eo(e),c=l.minimumFractionDigits,u=(s=Qr(s,l.maximumFractionDigits))<0,p=Yr(t),h=s.split("."),d=h[0],f=Jr(h[1]?h[1].replace(to,""):"",c,!0);u&&(d=d.substring(1)),e.minimumIntegerDigits&&(d=Jr(d,e.minimumIntegerDigits));var m,v=!1!==e.useGrouping?$r(d,0,d.length,e,n):d;if(f&&(v+=r.decimal+f),i&&"name"===e.currencyDisplay)m=function(t,e){var n=t.numbers.currency,r=1!==e?n["unitPattern-count-other"]:n["unitPattern-count-one"];return e<0&&(r=r.replace("n","-n")),r}(n,t);else{var g=e.patterns;m=u||p?g[1]||"-"+g[0]:g[0]}return"n"!==m||u?function(t,e,n){for(var r="",o=0,i=e.length;o<i;o++){var a=e.charAt(o);r+="n"===a?t:"$"===a||"%"===a?n:a}return r}(v,m,a):v}(t,Object.assign({},o.numbers[a],i),o)}else r=po(t,e,o);return r}function vo(t){return"number"==typeof t}var go=/\{(\d+)}/g;function yo(t){var e=arguments;return t.replace(go,(function(t,n){return e[parseInt(n,10)+1]}))}var bo=[2,1,5,3,4],xo={};xo[(-2).toString()]=8,xo[(-1).toString()]=6,xo[2..toString()]=6,xo[1..toString()]=3;var wo={numeric:1,"2-digit":2,short:3,long:4,narrow:5},ko=/[hHmsSzZoOvVxX]/;var Oo=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(t){return t.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],Co={e:"c",E:"c",M:"L",Q:"q"},_o={},So={};function Eo(t){return _o[t]||(_o[t]=new RegExp(t+"+")),_o[t]}function Io(t){for(var e=[],n=t.charAt(0),r=n,o=1;o<t.length;o++){var i=t.charAt(o);i===r?n+=i:(e.push(n),n=r=i)}return e.push(n),e}function To(t,e){var n,r,o=t.length,i=-Number.MAX_VALUE;for(var a in e){for(var s=[],l=a.replace("v","z"),c=0,u=0;u<o;u++){var p=t[u],h=(Eo(p[0]).exec(l)||[])[0];if(h){if(l=l.replace(h,""),h.length!==p.length){var d=Math.max(Math.min(bo[h.length]-bo[p.length],2),-2);c-=xo[d]}}else c-=120;if(s.push(h),c<i)break}l.length&&(c-=20*Io(l).length),c>i&&(i=c,n=s,r=e[a])}r=r.replace("v","z");for(var f=0;f<o;f++){var m=n[f];if(m&&m!==t[f]){var v=n[f][0];r=r.replace(Eo(v),t[f]),Co[v]&&(r=r.replace(Eo(Co[v]),t[f]))}}return r}function Do(t,e){var n=e.calendar.dateTimeFormats.availableFormats;if(n[t])return n[t];if(So[e.name]&&So[e.name][t])return So[e.name][t];var r,o=t.search(ko);if(o>0){var i=t.substr(0,o),a=t.substr(o);r=yo(e.calendar.dateTimeFormats.short,n[a]||To(Io(a),n),n[i]||To(Io(i),n))}else r=To(Io(t),n);return function(t,e,n){So[n]||(So[n]={}),So[n][t]=e}(t,r,e.name),r}function Po(t,e){var n,r=e.calendar;if(_r(t))n=r.patterns[t]?r.patterns[t]:t;else if(t){if(t.pattern)return t.pattern;var o=t.skeleton;o||(t.datetime?n=yo(r.dateTimeFormats[t.datetime],r.timeFormats[t.datetime],r.dateFormats[t.datetime]):t.date?n=r.dateFormats[t.date]:t.time?n=r.timeFormats[t.time]:o=function(t){for(var e=[],n=0;n<Oo.length;n++){var r=Oo[n],o=t[r.key];if(o){var i=r.specifier||r.getSpecifier(t);e.push(i.repeat(wo[o]))}}return e.join("")}(t)),o&&(n=Do(o,e))}return n||(n=r.patterns.d),n}function Ao(t){var e;return t<=3?e="abbreviated":4===t?e="wide":5===t?e="narrow":6===t&&(e="short"),e}function jo(t,e,n,r,o){return Mr(t,{type:e,nameType:Ao(n),standAlone:r,lower:o})}function Mo(t){return"function"==typeof t}function Ro(t){return Boolean(t)&&Mo(t.getTime)&&Mo(t.getMonth)}var No=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function Fo(t,e,n){var r=function(t){var e=Pr(t);if(!isNaN(e.firstDay))return e.firstDay;var n=Dr.supplemental.weekData;if(!n)throw Kr.error();var r=n.firstDay[jr(e)]||n.firstDay["001"];if(!r)throw Gr.error();return e.firstDay=qr.indexOf(r),e.firstDay}(n);return(t<r?7-r+t:t-r)+1}function Lo(t,e,n,r){return e<=2?Jr(t+1,e):jo(n,"months",e,r)[t]}function zo(t,e,n,r){var o=Math.floor(t.getMonth()/3);return e<3?o+1:jo(n,"quarters",e,r)[o]}function Bo(t,e,n){var r=n.shortHours,o=n.optionalMinutes,i=n.separator,a=n.localizedName,s=n.zZeroOffset,l=t.getTimezoneOffset()/60;if(0===l&&s)return"Z";var c=l<=0?"+":"-",u=Math.abs(l).toString().split("."),p=u[1]||0,h=c+(r?u[0]:Jr(u[0],2));(!p&&o||(h+=(i?":":"")+Jr(p,2)),a)&&(h=yo(0===l?e.calendar.gmtZeroFormat:e.calendar.gmtFormat,h));return h}function Vo(t,e,n,r){return e<3?Fo(t.getDay(),0,n):jo(n,"days",e,r)[t.getDay()]}var Ho={};function Uo(t,e,n){if(void 0===n&&(n="en"),!Ro(t))return null==t?"":t;var r=Ar(n);return Po(e,r).replace(No,(function(e){var n=e.length;return e.includes("'")||e.includes('"')?e.slice(1,n-1):Ho[e[0]](t,n,r)}))}function Wo(t,e,n){var r=t.getTimezoneOffset(),o=new Date(t.getTime()+6e4*(e-n)),i=o.getTimezoneOffset();return new Date(o.getTime()+6e4*(i-r))}Ho.d=function(t,e){return Jr(t.getDate(),e)},Ho.E=function(t,e,n){return jo(n,"days",e)[t.getDay()]},Ho.M=function(t,e,n){return Lo(t.getMonth(),e,n,!1)},Ho.L=function(t,e,n){return Lo(t.getMonth(),e,n,!0)},Ho.y=function(t,e){var n=t.getFullYear();return 2===e&&(n%=100),Jr(n,e)},Ho.h=function(t,e){return Jr(t.getHours()%12||12,e)},Ho.H=function(t,e){return Jr(t.getHours(),e)},Ho.k=function(t,e){return Jr(t.getHours()||24,e)},Ho.K=function(t,e){return Jr(t.getHours()%12,e)},Ho.m=function(t,e){return Jr(t.getMinutes(),e)},Ho.s=function(t,e){return Jr(t.getSeconds(),e)},Ho.S=function(t,e){var n=t.getMilliseconds();return 0!==n?Jr(String(n/1e3).split(".")[1].substr(0,e),e,!0):Jr("",e)},Ho.a=function(t,e,n){return jo(n,"dayPeriods",e)[t.getHours()<12?"am":"pm"]},Ho.z=function(t,e,n){return Bo(t,n,{shortHours:e<4,optionalMinutes:e<4,separator:!0,localizedName:!0})},Ho.Z=function(t,e,n){return Bo(t,n,{separator:e>3,localizedName:4===e,zZeroOffset:5===e})},Ho.x=function(t,e,n){return Bo(t,n,{optionalMinutes:1===e,separator:3===e||5===e})},Ho.X=function(t,e,n){return Bo(t,n,{optionalMinutes:1===e,separator:3===e||5===e,zZeroOffset:!0})},Ho.G=function(t,e,n){var r=t.getFullYear()>=0?1:0;return jo(n,"eras",e)[r]},Ho.e=Vo,Ho.c=function(t,e,n){return Vo(t,e,n,!0)},Ho.q=function(t,e,n){return zo(t,e,n,!0)},Ho.Q=zo;var qo=/([+|\-]\d{1,2})(:?)(\d{2})?/,Ko=/^\/Date\((.*?)\)\/$/,Go=/[+-]\d*/,Yo={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},Xo=/\d+/,$o=/^ */,Zo=/ *$/,Jo=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],Qo=["G","g","F","Y","y","M","m","D","d","y","T","t"];function ti(t,e,n){return!(t>=e&&t<=n)}function ei(t,e){for(var n=e.format,r=e.idx,o=0;n[r]===t;)o++,r++;return o>0&&(r-=1),e.idx=r,o}function ni(t,e){var n=t?Yo[t]||new RegExp("^\\d{1,"+t+"}"):Xo,r=e.value.substr(e.valueIdx,t).match(n);return r?(r=r[0],e.valueIdx+=r.length,parseInt(r,10)):null}function ri(t,e,n){for(var r,o,i,a=0,s=t.length,l=0,c=0;a<s;a++)o=(r=t[a]).length,i=e.value.substr(e.valueIdx,o),n&&(i=i.toLowerCase()),i===r&&o>l&&(l=o,c=a);return l?(e.valueIdx+=l,c+1):null}function oi(t){var e=!1;return t.value.charAt(t.valueIdx)===t.format[t.idx]&&(t.valueIdx++,e=!0),e}function ii(t,e,n){var r=n.shortHours,o=n.noSeparator,i=n.optionalMinutes,a=n.localizedName,s=n.zLiteral;if(t.UTC=!0,s&&"Z"===t.value.charAt(t.valueIdx))return t.valueIdx++,!1;if(a&&!ri(function(t){var e=t.gmtFormat,n=t.gmtZeroFormat;if(!e)throw Tr.NoGMTInfo.error();return[e.replace("{0}","").toLowerCase(),n.replace("{0}","").toLowerCase()]}(e.calendar),t,!0))return!0;var l=qo.exec(t.value.substr(t.valueIdx,6));if(!l)return!a;var c=l[1],u=l[3],p=parseInt(c,10),h=l[2],d=parseInt(u,10);return!!(isNaN(p)||!r&&3!==c.length||!i&&isNaN(d)||o&&h)||(isNaN(d)&&(d=null),!!(ti(p,-12,13)||d&&ti(d,0,59))||(t.valueIdx+=l[0].length,t.hoursOffset=p,void(t.minutesOffset=d)))}function ai(t,e,n){var r=ei(t,e),o=jo(n,"months",r,"L"===t,!0),i=r<3?ni(2,e):ri(o,e,!0);if(null===i||ti(i,1,12))return!0;e.month=i-1}function si(t,e,n){var r=ei(t,e),o=jo(n,"days",r,"c"===t,!0),i=r<3?ni(1,e):ri(o,e,!0);if(!i&&0!==i||ti(i,1,7))return!0}var li={};function ci(t,e){return""+$o.exec(e)[0]+t+Zo.exec(e)[0]}function ui(t,e,n){for(var r=Po(e,n).split(""),o={format:r,idx:0,value:ci(t,e),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},i=r.length,a=!1;o.idx<i;o.idx++){var s=r[o.idx];if(a)"'"===s&&(a=!1),oi(o);else if(li[s]){if(li[s](o,n))return null}else if("'"===s)a=!0,oi(o);else if(!oi(o))return null}return o.valueIdx<t.length?null:function(t){var e,n=t.year,r=t.month,o=t.day,i=t.hours,a=t.minutes,s=t.seconds,l=t.milliseconds,c=t.pmHour,u=t.UTC,p=t.hoursOffset,h=t.minutesOffset,d=null!==i||null!==a||s||null,f=new Date;return null===n&&null===r&&null===o&&d?(n=f.getFullYear(),r=f.getMonth(),o=f.getDate()):(null===n&&(n=f.getFullYear()),null===o&&(o=1)),c&&i<12&&(i+=12),u?(p&&(i+=-p),h&&(a+=-h*(p<0?-1:1)),e=new Date(Date.UTC(n,r,o,i,a,s,l))):function(t,e){e||23!==t.getHours()||t.setHours(t.getHours()+2)}(e=new Date(n,r,o,i,a,s,l),i),n<100&&e.setFullYear(n),e.getDate()!==o&&void 0===u?null:e}(o)||null}function pi(t){if(t&&0===t.indexOf("/D")){var e=Ko.exec(t);if(e){e=e[1];var n=Go.exec(e.substring(1));return e=new Date(parseInt(e,10)),n&&(r=n[0],o="-"===r.substr(0,1)?-1:1,i=r.substring(1),n=o*(i=60*parseInt(i.substr(0,2),10)+parseInt(i.substring(2),10)),e=Wo(e,e.getTimezoneOffset(),0),e=Wo(e,0,-1*n)),e}}var r,o,i}function hi(t,e,n){if(void 0===n&&(n="en"),!t)return null;if(Ro(t))return t;var r=String(t).trim(),o=pi(r);if(o)return o;for(var i=Ar(n),a=e||function(t){for(var e=[],n=t.patterns,r=Qo.length,o=0;o<r;o++)e.push(n[Qo[o]]);return e.concat(Jo)}(i.calendar),s=(a=Array.isArray(a)?a:[a]).length,l=0;l<s;l++)if(o=ui(r,a[l],i))return o;return o}li.d=function(t){ei("d",t);var e=ni(2,t);if(null===e||ti(e,1,31))return!0;null===t.day&&(t.day=e)},li.E=function(t,e){if(null===ri(jo(e,"days",ei("E",t),!1,!0),t,!0))return!0},li.M=function(t,e){return ai("M",t,e)},li.L=function(t,e){return ai("L",t,e)},li.y=function(t){var e=ei("y",t),n=ni(1===e?void 0:e,t);if(null===n)return!0;if(2===e){var r=(new Date).getFullYear();(n=r-r%100+n)>2029&&(n-=100)}t.year=n},li.h=function(t){ei("h",t);var e=ni(2,t);if(12===e&&(e=0),null===e||ti(e,0,11))return!0;t.hours=e},li.K=function(t){ei("K",t);var e=ni(2,t);if(null===e||ti(e,0,11))return!0;t.hours=e},li.a=function(t,e){var n=jo(e,"dayPeriods",ei("a",t),!1,!0),r=ri([n.pm],t,!0);if(!r&&!ri([n.am],t,!0))return!0;t.pmHour=r},li.H=function(t){ei("H",t);var e=ni(2,t);if(null===e||ti(e,0,23))return!0;t.hours=e},li.k=function(t){ei("k",t);var e=ni(2,t);if(null===e||ti(e,1,24))return!0;t.hours=24===e?0:e},li.m=function(t){ei("m",t);var e=ni(2,t);if(null===e||ti(e,0,59))return!0;t.minutes=e},li.s=function(t){ei("s",t);var e=ni(2,t);if(null===e||ti(e,0,59))return!0;t.seconds=e},li.S=function(t){var e=ei("S",t),n=t.value.substr(t.valueIdx,e),r=null;if(isNaN(parseInt(n,10))||(r=Qr(r=parseFloat("0."+n,10),3),r*=1e3,t.valueIdx+=e),null===r||ti(r,0,999))return!0;t.milliseconds=r},li.z=function(t,e){var n=ei("z",t)<4,r=ii(t,e,{shortHours:n,optionalMinutes:n,localizedName:!0});if(r)return r},li.Z=function(t,e){var n=ei("Z",t),r=ii(t,e,{noSeparator:n<4,zLiteral:5===n,localizedName:4===n});if(r)return r},li.x=function(t,e){var n=ei("x",t),r=ii(t,e,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n});if(r)return r},li.X=function(t,e){var n=ei("X",t),r=ii(t,e,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n,zLiteral:!0});if(r)return r},li.G=function(t,e){var n=jo(e,"eras",ei("G",t),!1,!0);if(null===ri([n[0],n[1]],t,!0))return!0},li.e=function(t,e){return si("e",t,e)},li.c=function(t,e){return si("c",t,e)};function di(t,e,n){if(e){if(Ro(t))return Uo(t,e,n);if(vo(t))return mo(t,e,n)}return null!=t?t:""}var fi=function(t){if(!t||0===t.length)return"";var e=t[0].timezone,n="Etc/UTC"===e,r=n?"Z":"";return(e&&!n?";TZID="+e:"")+":"+t.map((function(t){return Uo(t,"yyyyMMddTHHmmss")+r})).join(",")+" "},mi=function(t,e){if(!e)return!1;var n=e.start,r=e.end;return t<n||t>r||0===t&&n<0},vi=function(t,e){return t-e},gi=function(t,e){for(var n=[],r=0;r<t.length;r++){var o=parseInt(t[r],10);if(isNaN(o)||mi(o,e))return[];n.push(o)}return n.sort(vi)},yi=["yyyyMMddTHHmmssSSSXXX","yyyyMMddTHHmmssXXX","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"];function bi(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))}var xi=function(t,e){var n=hi(t)||hi(t,yi);if(!n)return null;var r=e?bi(n):n;return a.ZonedDate.fromUTCDate(r,e||"Etc/UTC")},wi={SU:a.Day.Sunday,MO:a.Day.Monday,TU:a.Day.Tuesday,WE:a.Day.Wednesday,TH:a.Day.Thursday,FR:a.Day.Friday,SA:a.Day.Saturday},ki=function(t){return wi[t]},Oi=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],o=ki(r.substring(r.length-2).toUpperCase());if(void 0===o)return[];e.push({offset:parseInt(r.substring(0,r.length-2),10)||0,day:o})}return e},Ci=function(t,e,n){void 0===n&&(n=1),e=(e-t.getUTCDay()+7*n)%7,t.setUTCDate(t.getUTCDate()+e)},_i=function(t,e){return t+(t<e?7:0)},Si=function(t,e){return t-e},Ei=function(t,e){var n=7-(bi(Object(a.firstDayOfMonth)(t)).getUTCDay()+7-(e||7))||7;return n<0&&(n+=7),Math.ceil((t.getUTCDate()-n)/7)+1},Ii=function(t,e){var n=(t=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))).getUTCFullYear();void 0!==e?(Ci(t,e,-1),t.setUTCDate(t.getUTCDate()+4)):t.setUTCDate(t.getUTCDate()+(4-(t.getUTCDay()||7)));var r=Math.floor((t.getTime()-Date.UTC(n,0,1,-6))/864e5);return 1+Math.floor(r/7)},Ti=function(t,e,n){var r=e.offset;if(!r)return Ei(t,n);var o=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0)),i=Ei(o,n),a=_i(e.day,n),s=a<_i(new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),1)).getUTCDay(),n),l=a>_i(o.getUTCDay(),n);return r<0?r=i+(r+1-(l?1:0)):s&&(r+=1),i-=l?1:0,r<(s?1:0)||r>i?null:r},Di=function(t,e,n){return Ei(t,n)===Ti(t,e,n)},Pi=function(t,e){return Ei(new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0)),e)},Ai=[0,31,60,91,121,152,182,213,244,274,305,335,366],ji=[0,31,59,90,120,151,181,212,243,273,304,334,365],Mi=function(t){return(t=t.getUTCFullYear())%4==0&&t%100!=0||t%400==0},Ri=function(t){var e=t.getUTCMonth();return(Mi(t)?Ai[e]:ji[e])+t.getUTCDate()},Ni=[31,28,31,30,31,30,31,31,30,31,30,31],Fi=function(t){var e=t.getUTCMonth();return 1===e?1===new Date(Date.UTC(t.getUTCFullYear(),1,29)).getUTCMonth()?29:28:Ni[e]},Li=function(t,e,n){for(var r=t.length,o=[],i=0;i<r;i++){var a=t[i];if(n&&(a=n(a)),e===a)return null;e<a&&o.push(a)}return o},zi=function(t,e,n){var r=n.byMonth,o=Li(r,t.getUTCMonth()+1),i=!1;return null!==o&&(o.length?t.setUTCMonth(o[0]-1,1):t.setUTCFullYear(t.getUTCFullYear()+1,r[0]-1,1),i=!0),i},Bi=function(t,e,n){var r,o=!1;function i(t){return t<0&&(t=r+t+1),t}for(;t<=e;){var a=t.getUTCMonth();r=Fi(t);var s=Li(n.byMonthDay,t.getUTCDate(),i);if(null===s)return o;if(o=!0,s.length){if(t.setUTCMonth(a,s.sort(Si)[0]),a===t.getUTCMonth())break}else t.setUTCMonth(a+1,1)}return o},Vi=function(t,e,n){var r,o=!1;function i(t){return t<0&&(t=r+t),t}for(;t<e;){r=Mi(t)?366:365;var a=Li(n.byYearDay,Ri(t),i);if(null===a)return o;if(o=!0,r=t.getUTCFullYear(),a.length){t.setUTCFullYear(r,0,a.sort(Si)[0]);break}t.setUTCFullYear(r+1,0,1)}return o},Hi=function(t,e,n){var r=n.weekStart||a.Day.Monday,o=!1;function i(t){return t<0&&(t=53+t),t}for(;t<e;){var s=Li(n.byWeekNumber,Ii(t,r),i);if(null===s)return o;o=!0;var l=t.getUTCFullYear();if(s.length){var c=7*s.sort(Si)[0]-1;t.setUTCFullYear(l,0,c),Ci(t,r,-1);break}t.setUTCFullYear(l+1,0,1)}return o},Ui=function(t,e,n){var r=n.byWeekDay,o=n.weekStart||a.Day.Monday,i=function(t,e,n){for(var r,o,i,a,s=_i(e.getUTCDay(),n),l=t.length,c=[],u=0;u<l;u++)if(o=t[u],a=Ei(e,n),null!==(r=Ti(e,o,n)))if(a<r)c.push(o);else if(a===r)if(s<(i=_i(o.day,n)))c.push(o);else if(s===i)return null;return c}(r,t,o);if(null===i)return!1;i[0]||(i=r,Ci(t,o));var s=i.map((function(n){var r=Object(a.cloneDate)(t),i=n.day;if(n.offset)for(;r<=e&&!Di(r,n,o);)Ei(r,o)===Pi(r,o)?r.setUTCMonth(r.getUTCMonth()+1,1):(r.setUTCDate(r.getUTCDate()+7),Ci(r,o,-1));return r.getUTCDay()!==i&&Ci(r,i),r})).sort((function(t,e){return t.getTime()-e.getTime()}))[0];return s&&t.setTime(s),!0},Wi=function(t,e,n){var r=n.byHour,o=!1,i=n._startTime,a=i.getUTCHours(),s=Li(r,a);return null!==s&&(o=!0,t.setUTCHours(a),s.length?(s=s[0],t.setUTCHours(s)):(s=t.getUTCHours(),t.setUTCDate(t.getUTCDate()+1),s=r[0],t.setUTCHours(s)),n.byMinute&&t.setUTCMinutes(0),i.setUTCHours(s,t.getUTCMinutes())),o},qi=function(t,e,n){var r=n.byMinute,o=t.getUTCMinutes(),i=Li(r,o),a=n._startTime.getUTCHours(),s=!1;return null!==i&&(s=!0,i.length?i=i[0]:(a+=1,i=r[0]),n.bySecond&&t.setUTCSeconds(0),t.setUTCHours(a,i),a%=24,n._startTime.setUTCHours(a,i,t.getUTCSeconds())),s},Ki=function(t,e,n){var r=n.bySecond,o=Li(r,t.getUTCSeconds()),i=n._startTime.getUTCHours(),a=t.getUTCMinutes(),s=!1;return null!==o&&(s=!0,o.length?t.setUTCSeconds(o[0]):(a+=1,t.setUTCMinutes(a,r[0]),a>59&&(a%=60,i=(i+1)%24)),n._startTime.setUTCHours(i,a,t.getUTCSeconds())),s},Gi=["byMonth","byWeekNumber","byYearDay","byMonthDay","byWeekDay","byHour","byMinute","bySecond"],Yi=Gi.length,Xi=function(t,e){var n;return 0!==t&&t<e?n=e-t:(n=t%e)&&(n=e-n),n},$i=function(){function t(){}return t.prototype.next=function(t,e){var n,r,o=e._startTime;if(e.bySecond)r=t.getUTCSeconds()+1,t.setUTCSeconds(r),o.setUTCSeconds(r);else{if(!e.byMinute)return!1;n=t.getUTCMinutes()+1,t.setUTCMinutes(n),o.setUTCMinutes(n)}return!0},t.prototype.normalize=function(t){var e=t.rule;4===t.idx&&e.byHour&&(e._startTime.setUTCHours(0),this._hour(t.date,e))},t.prototype.limit=function(t,e,n){for(var o,i=n.interval||1;t<=e;){var a=void 0,s=void 0,l=t.getUTCDate();for(o=0;o<Yi;o++){var c=Gi[o];if(n[c]){if(a=r[c](t,e,n),void 0!==s&&a)break;s=a}a&&this.normalize({date:t,rule:n,day:l,idx:o})}if((1===i||!this.interval(n,t))&&o===Yi)break}},t.prototype.interval=function(t,e){var n,r,o=t._startPeriod.toUTCDate(),i=e.getUTCHours(),s=t.weekStart,l=t.interval,c=t.freq,u=new Date(e),p=!1,h=0,d=0,f=1;if("hourly"===c)r=t._startTime.getUTCHours(),u=u.getTime(),i!==r&&(u+=(r-i)*a.MS_PER_HOUR),u-=o.getTime(),n=Math.floor(u/a.MS_PER_HOUR),0!==(h=Xi(n,l))&&(this._hour(e,t,h),p=!0);else if("daily"===c)!function(t,e){t.setTime(t.getTime()+e)}(u,-o),n=Math.round(u/a.MS_PER_DAY),0!==(h=Xi(n,l))&&(this._date(e,t,h),p=!0);else if("weekly"===c){h=this.getNumberOfWeeksBetweenDates(o,e),_i(e.getUTCDay(),s)<_i(o.getUTCDay(),s)&&(h+=1),0!==(h=Xi(h,l))&&(Ci(e,t.weekStart,-1),e.setUTCDate(e.getUTCDate()+7*h),p=!0)}else"monthly"===c?(n=e.getUTCFullYear()-o.getUTCFullYear(),n=e.getUTCMonth()-o.getUTCMonth()+12*n,0!==(h=Xi(n,l))&&(f=wr(t)?1:e.getDate(),e.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth()+h,f),p=!0)):"yearly"===c&&(n=e.getUTCFullYear()-o.getUTCFullYear(),h=Xi(n,l),t.byMonth||(d=e.getUTCMonth()),t.byYearDay||t.byMonthDay||t.byWeekDay||(f=e.getUTCDate()),0!==h&&(e.setUTCFullYear(e.getUTCFullYear()+h,d,f),p=!0));return p},t.prototype._hour=function(t,e,n){var r=e._startTime,o=r.getUTCHours();n&&(o+=n),t.setUTCHours(o),o%=24,r.setUTCHours(o)},t.prototype._date=function(t,e,n){t.setUTCDate(t.getUTCDate()+n)},t.prototype.getNumberOfWeeksBetweenDates=function(t,e){var n=(e.getTime()-t.getTime())/6048e5,r=Math.floor(n);return n-r>.99&&(r=Math.round(n)),r},t}(),Zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.next=function(t,e){return $i.prototype.next.call(this,t,e)||this._hour(t,e,1),!1},e.prototype.normalize=function(t){var e=t.rule;4===t.idx&&(e._startTime.setUTCHours(0),this._hour(t.date,e))},e}($i),Ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.next=function(t,e){return $i.prototype.next.call(this,t,e)||this[e.byHour?"_hour":"_date"](t,e,1),!1},e}($i),Qi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.setup=function(t,e){t.byWeekDay||(t.byWeekDay=[{day:e.getUTCDay(),offset:0}])},e}(Ji),ta=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.next=function(t,e){var n;if(!$i.prototype.next.call(this,t,e))if(e.byHour)this._hour(t,e,1);else if(e.byMonthDay||e.byWeekDay||e.byYearDay||e.byWeekNumber)this._date(t,e,1);else{for(n=t.getUTCDate(),t.setUTCMonth(t.getUTCMonth()+1);t.getUTCDate()!==n;)t.setUTCDate(n);this._hour(t,e)}return!1},e.prototype.normalize=function(e){var n=e.rule,r=e.date;0!==e.idx||n.byMonthDay||n.byWeekDay?t.prototype.normalize.call(this,e):r.setUTCDate(e.day)},e.prototype.setup=function(t,e,n){t.byMonthDay||t.byWeekDay||n.setUTCDate(e.getUTCDate())},e}($i),ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.next=function(t,e){var n;if(!$i.prototype.next.call(this,t,e))if(e.byHour)this._hour(t,e,1);else if(e.byMonthDay||e.byWeekDay||e.byYearDay||e.byWeekNumber)this._date(t,e,1);else if(e.byMonth){for(n=t.getUTCDate(),t.setUTCMonth(t.getUTCMonth()+1);t.getUTCDate()!==n;)t.setUTCDate(n);this._hour(t,e)}else t.setUTCFullYear(t.getUTCFullYear()+1),this._hour(t,e);return!1},e.prototype.setup=function(){},e}(ta),na={hourly:new Zi,daily:new Ji,weekly:new Qi,monthly:new ta,yearly:new ea},ra=function(t){return a.ZonedDate.fromLocalDate(t.toLocalDate(),t.timezone)},oa=function(t){return t.getHours()*a.MS_PER_HOUR+t.getMinutes()*a.MS_PER_MINUTE+1e3*t.getSeconds()+t.getMilliseconds()},ia=function(t,e){if(!t)return!1;for(var n=e.getTime()-e.getMilliseconds(),r=t.length,o=0;o<r;o++)if(t[o].getTime()===n)return!0;return!1},aa=function(t,e){var n=t.toUTCDate();switch(e.freq){case"yearly":n.setUTCFullYear(n.getUTCFullYear(),11,31);break;case"monthly":n.setUTCFullYear(n.getUTCFullYear(),n.getUTCMonth()+1,0);break;case"weekly":Ci(n,e.weekStart,-1),n.setUTCDate(n.getUTCDate()+6)}return e.byHour&&n.setUTCHours(23),e.byMinute&&n.setUTCMinutes(59),e.bySecond&&n.setUTCSeconds(59),a.ZonedDate.fromUTCDate(n,t.timezone)},sa=function(t,e,n){for(var r,o=t.length,i=[],a=0,s=n.length;a<s;a++){(r=n[a])<0?r=o+r:r-=1;var l=t[r];l&&l.start>=e&&i.push(l)}return i},la=function(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r];o&&!ia(e,o.start)&&n.push(o)}return n};function ca(t,e){var n=e.rangeStart,r=e.rangeEnd;if(!t)return{success:!0,errorMessage:"",events:[]};var o,i=t.freq,s=na[i],l=t.start,c=function(t,e){return e.getTime()-t.getTime()}(t.start,t.end);if(t.start.getTime()>t.end.getTime())return{success:!1,errorMessage:"Invalid recurrence rule: Start date ("+t.start+")is greater than End date "+t.start,events:[]};if(!s)return{success:!1,errorMessage:'Invalid recurrence frequency "'+i+'"',events:[]};var u=[],p=t.bySetPosition,h=p?0:1,d=t.exceptionDates,f=n.toTimezone(l.timezone),m=f,v=r.toTimezone(l.timezone),g=t.count;t.until&&t.until.getTime()<v.getTime()&&(v=t.until.clone());var y=f.getHours(),b=f.getMinutes(),x=f.getSeconds(),w="yearly"===i||"monthly"===i||"weekly"===i;if(f.getTime()<l.getTime()||g||t.interval>1||w)f=l.clone();else{t.byHour||(y=l.getHours()),t.byMinute||(b=l.getMinutes()),t.bySecond||(x=l.getSeconds());var k=f.toUTCDate();k.setUTCHours(y,b,x,l.getMilliseconds()),f=a.ZonedDate.fromUTCDate(k,f.timezone)}if(t._startPeriod=f.clone(),p){if(f=function(t,e){var n=t.toUTCDate();switch(e.freq){case"yearly":n.setUTCFullYear(n.getFullYear(),0,1);break;case"monthly":n.setUTCFullYear(n.getFullYear(),n.getMonth(),1);break;case"weekly":Ci(n,e.weekStart,-1)}return e.byHour&&n.setUTCHours(0),e.byMinute&&n.setUTCMinutes(0),e.bySecond&&n.setUTCSeconds(0),a.ZonedDate.fromUTCDate(n,t.timezone)}(f,t),v=aa(v,t),oa(v)-oa(f)<0){var O=v.toUTCDate();O.setUTCHours(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()),v=a.ZonedDate.fromUTCDate(O,v.timezone)}t._startPeriod=f.clone(),o=aa(f,t)}var C=oa(f);t._startTime=new Date(C);var _=f.toUTCDate();for(s.setup&&(s.setup(t,l,_),f=a.ZonedDate.fromUTCDate(_,f.timezone)),_=f.toUTCDate(),s.limit(_,v.toUTCDate(),t),f=a.ZonedDate.fromUTCDate(_,f.timezone);f<=v;){var S=f.addTime(c);if(((f>=m||S>m)&&!ia(d,f)||p)&&(u.push({start:ra(f),end:ra(S)}),"hourly"!==i&&"minutely"!==i&&"secondly"!==i||(C=oa(ra(f)),t._startTime=new Date(C))),p){if(_=f.toUTCDate(),s.next(_,t),s.limit(_,v.toUTCDate(),t),(f=a.ZonedDate.fromUTCDate(_,f.timezone))>o){var E=sa(u.slice(h),l,p);E=la(E,d),u=u.slice(0,h).concat(E),o=aa(f,t),h=u.length}if(g&&g===h)break}else{if(g&&g===h)break;h+=1,_=f.toUTCDate(),s.next(_,t),s.limit(_,v.toUTCDate(),t),f=a.ZonedDate.fromUTCDate(_,f.timezone)}}return{success:!0,errorMessage:"",events:u}}var ua=function(t,e){return t+(t<e?7:0)},pa=function(t){var e=t.byWeekDay,n=t.weekStart;e&&e.sort(function(t){return function(e,n){return ua(e.day,t)-ua(n.day,t)}}(n))},ha=function(t){if(!t)return null;var e,n,r,o,i=t.recurrenceRule,a=t.weekStart,s=void 0===a?0:a,l={},c=0;if(!i)return null;var u=i.split("\n");for(u[1]||-1===i.indexOf("DTSTART")&&-1===i.indexOf("DTEND")&&-1===i.indexOf("EXDATE")||(u=i.split(" ")),c=0,r=u.length;c<r;c++){var p=(u[c]||"").trim();-1!==p.indexOf("DTSTART")?l.start=Or(p):-1!==p.indexOf("DTEND")?l.end=Or(p):-1!==p.indexOf("EXDATE")?l.exceptionDates=kr(p):-1!==p.indexOf("RRULE")?o=p.substring(6):p.trim()&&(o=p)}for(c=0,r=(o=o.split(";")).length;c<r;c++)switch(n=((e=o[c].split("="))[1]||"").trim().split(","),e[0].trim().toUpperCase()){case"FREQ":l.freq=n[0].toLowerCase();break;case"UNTIL":l.until=xi(n[0]);break;case"COUNT":l.count=parseInt(n[0],10);break;case"INTERVAL":l.interval=parseInt(n[0],10);break;case"BYSECOND":l.bySecond=gi(n,{start:0,end:60});break;case"BYMINUTE":l.byMinute=gi(n,{start:0,end:59});break;case"BYHOUR":l.byHour=gi(n,{start:0,end:23});break;case"BYMONTHDAY":l.byMonthDay=gi(n,{start:-31,end:31});break;case"BYYEARDAY":l.byYearDay=gi(n,{start:-366,end:366});break;case"BYMONTH":l.byMonth=gi(n,{start:1,end:12});break;case"BYDAY":l.byWeekDay=Oi(n);break;case"BYWEEKNO":l.byWeekNumber=gi(n,{start:-53,end:53});break;case"BYSETPOS":l.bySetPosition=gi(n,{start:-366,end:366});break;case"WKST":l.weekStart=ki(n[0])}return void 0===l.freq||void 0!==l.count&&l.until?null:(void 0===l.weekStart&&(l.weekStart=s),l.interval||(l.interval=1),l.bySetPosition&&!wr(l)&&(l.bySetPosition=[]),pa(l),l)},da={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},fa=function(t,e){if(!t||!t.freq)return null;var n=t.weekStart,r="FREQ="+t.freq.toUpperCase(),o="",i="",a="",s=t.until;return t.interval>1&&(r+=";INTERVAL="+t.interval),t.count&&(r+=";COUNT="+t.count),s&&(r+=";UNTIL="+di(s.toTimezone("Etc/UTC"),"yyyyMMddTHHmmss")+"Z"),t.byMonth&&(r+=";BYMONTH="+t.byMonth),t.byWeekNumber&&(r+=";BYWEEKNO="+t.byWeekNumber),t.byYearDay&&(r+=";BYYEARDAY="+t.byYearDay),t.byMonthDay&&(r+=";BYMONTHDAY="+t.byMonthDay),t.byWeekDay&&(r+=";BYDAY="+function(t){for(var e,n=t.length,r=[],o=0;o<n;o++){var i=t[o];"string"==typeof i?e=i:(e=""+da[i.day],i.offset&&(e=i.offset+e)),r.push(e)}return r.toString()}(t.byWeekDay)),t.byHour&&(r+=";BYHOUR="+t.byHour),t.byMinute&&(r+=";BYMINUTE="+t.byMinute),t.bySecond&&(r+=";BYSECOND="+t.bySecond),t.bySetPosition&&(r+=";BYSETPOS="+t.bySetPosition),void 0!==n&&(r+=";WKST="+da[n]),t.start&&(i="DTSTART"+fi([t.start])),t.end&&(a="DTEND"+fi([t.end])),t.exceptionDates&&(o="EXDATE"+fi(t.exceptionDates)),(i||a||o)&&(r=i+a+o+"RRULE:"+r),r},ma=function(t,e){var n=e.dateRange,r=e.fields,o=e.timezone;return t.map(va(r)).reduce(ga(n,o,r),[]).filter((function(t){return!Ht(t.dataItem,r)}))},va=function(t){return function(e){return{uid:Object(f.q)(t.id||"id")(e),start:Object(f.q)(t.start||"start")(e),startTimezone:Object(f.q)(t.startTimezone||"startTimezone")(e),originalStart:Object(f.q)(t.originalStart||"originalStart")(e),end:Object(f.q)(t.end||"end")(e),endTimezone:Object(f.q)(t.endTimezone||"endTimezone")(e),isAllDay:Object(f.q)(t.isAllDay||"isAllDay")(e),title:Object(f.q)(t.title||"title")(e),description:Object(f.q)(t.description||"description")(e),occurrenceId:Object(f.q)("occurrenceId")(e),recurrenceRule:Object(f.q)(t.recurrenceRule||"recurrenceRule")(e),recurrenceExceptions:Object(f.q)(t.recurrenceExceptions||"recurrenceExceptions")(e),recurrenceId:Object(f.q)(t.recurrenceId||"recurrenceId")(e),dataItem:Object(f.h)(e)}}},ga=function(t,e,n){return function(r,o){return r.concat(Boolean(o.recurrenceRule)&&Boolean(null===o.recurrenceId||void 0===o.recurrenceId)&&Ht(o.dataItem,n)?ya(o,{dateRange:t,timezone:e,fields:n}).slice():[o])}},ya=function(t,e){var n=e.dateRange,r=e.timezone,o=e.fields,i=t.recurrenceRule,s=ha({recurrenceRule:i});s.start||(s.start=a.ZonedDate.fromLocalDate(t.start,r)),s.end||(s.end=a.ZonedDate.fromLocalDate(t.end,r));var l=t.recurrenceExceptions;l&&(s.exceptionDates=l.map((function(t){return a.ZonedDate.fromLocalDate(t,r)})));var c=Bt(n.start),u=Bt(n.end),p=ca(s,{rangeStart:a.ZonedDate.fromUTCDate(c,r),rangeEnd:a.ZonedDate.fromUTCDate(u,r)});return p.events.length?p.events.map((function(e,n){var r=Object(f.h)(t),i=Object(f.h)(t.dataItem);return r.recurrenceId=r.uid,Lt(i,o.recurrenceId,t.uid),r.originalStart=e.start.toLocalDate(),Lt(i,o.originalStart,e.start.toLocalDate()),r.start=e.start.toLocalDate(),Lt(i,o.start,e.start.toLocalDate()),r.end=e.end.toLocalDate(),Lt(i,o.end,e.end.toLocalDate()),r.occurrenceId=String(n),Lt(i,"occurrenceId",String(n)),r.dataItem=i,r})):[]},ba=function(){return(ba=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xa=function(t,e,n){var r=e.timezone,i=n.groups,s=n.ranges,l=[];return Dt(t,[{field:"start",dir:"asc"},{field:"end",dir:"desc"},{field:"isAllDay",dir:"desc"}]).forEach((function(t){i.forEach((function(e){var n=1===i.length?wa(t,e):e;Oa(t,n)&&s.forEach((function(e){if(Ca(t,e)){var i=o.createRef(),s=o.createRef(),c=e.end<t.end,u=t.start<e.start,p=a.ZonedDate.fromLocalDate(t.start,r),h=a.ZonedDate.fromLocalDate(t.end,r),d=ba({},t,{_ref:s,itemRef:i,head:c,tail:u,order:null,zonedStart:p,zonedEnd:h,group:n,range:e,slots:[],isRecurring:Boolean(t.recurrenceRule),isException:Boolean(!t.recurrenceRule&&null!==t.recurrenceId&&void 0!==t.recurrenceId),isAllDay:Boolean(t.isAllDay)});l.push(d)}}))}))})),l},wa=function(t,e){return{index:0,resources:e.resources.filter((function(e){return ka(t,e)}))}},ka=function(t,e){return e.multiple?(t.dataItem[e.field]||[]).some((function(t){return e[e.valueField]===t})):t.dataItem[e.field]===e[e.valueField]},Oa=function(t,e){return!e.resources.some((function(e){return e.multiple?!t.dataItem[e.field].some((function(t){return e[e.valueField]===t})):t.dataItem[e.field]!==e[e.valueField]}))},Ca=function(t,e){return qt(e.start,e.end,t.start,t.end)&&(void 0===e.isAllDay||void 0===t.isAllDay||t.isAllDay===e.isAllDay)},_a=function(t,e,n){var r=e.step,i=n.groups,s=n.ranges,l=[];return i.forEach((function(t){s.forEach((function(e){for(var n=e.zonedStart,i=e.zonedEnd,s=i.timezoneOffset-n.timezoneOffset,c=n.clone(),u=0,p=s<0?6e4*s*-1:0;c.getTime()<i.getTime();u++,c=c.addTime(r)){var h=o.createRef(),d=c.clone(),f=c.addTime(r),m=6e4*(f.timezoneOffset-d.timezoneOffset),v=r<Math.abs(m);p&&v&&(p-=r,c=c.addTime(-r));var g=new Date(d.getTime()),y={_ref:h,index:u,end:new Date(f.getTime()),start:g,zonedStart:d,zonedEnd:f,range:e,group:t,items:[],isAllDay:a.MS_PER_DAY<=r};l.push(y)}}))})),l},Sa=o.forwardRef((function(t,e){var n=t._ref,r=t.onRemoveClick,i=o.useRef(null),a=o.useRef(null);o.useImperativeHandle(i,(function(){return{props:t,element:a.current}})),o.useImperativeHandle(e,(function(){return i.current})),o.useImperativeHandle(n,(function(){return i.current}));var s=Qn(t.editable),l=Object(Oe.useLocalization)().toLanguageString(Ve,Ye[Ve]),c=t.group.resources.find((function(t){return Boolean(t.colorField&&void 0!==t[t.colorField])})),u=c&&c.colorField&&c[c.colorField],p=o.useCallback((function(t){r&&r.call(void 0,{syntheticEvent:t,target:i.current})}),[r,i]),h=o.useMemo((function(){return Object(f.g)("k-task",t.className)}),[t.className]);return o.createElement("div",{id:t.id,ref:a,style:t.style,className:h,tabIndex:t.tabIndex||void 0},u&&o.createElement("span",{className:"k-scheduler-mark",style:{color:u,backgroundColor:u}}),t.isRecurring&&o.createElement("span",{className:"k-icon k-i-reload"}),t.isException&&o.createElement("span",{className:"k-icon k-i-non-recurrence"}),t.title,s.remove&&o.createElement("a",{className:"k-link k-event-delete",title:l,"aria-label":l,onClick:p},o.createElement("span",{className:"k-icon k-i-close"})))}));Sa.displayName="KendoReactSchedulerTask";var Ea=function(){return(Ea=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ia=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Ta=o.forwardRef((function(t,e){var n=t.task,r=t._ref,i=Ia(t,["task","_ref"]),a=o.useRef(null),s=o.useRef(null);o.useImperativeHandle(s,(function(){return{props:t,element:a.current&&a.current.element}})),o.useImperativeHandle(r,(function(){return a.current})),o.useImperativeHandle(e,(function(){return s.current}));var l=n||Da.task;return o.createElement(l,Ea({},i,{_ref:a}))})),Da={task:Sa};Ta.defaultProps=Da,Ta.displayName="KendoReactSchedulerViewTask";var Pa=n(12),Aa=n(16),ja=o.forwardRef((function(t,e){var n=t.onClose,r=t.onCancel,i=t.onConfirm,a=o.useRef(null);o.useImperativeHandle(a,(function(){return{props:t}})),o.useImperativeHandle(e,(function(){return a.current}));var s=Object(Oe.useLocalization)(),l=s.toLanguageString(Ue,Ye[Ue]),c=s.toLanguageString("scheduler.editorDelete",Ye["scheduler.editorDelete"]),u=s.toLanguageString("scheduler.deleteConfirmation",Ye["scheduler.deleteConfirmation"]),p=s.toLanguageString("scheduler.deleteDialogTitle",Ye["scheduler.deleteDialogTitle"]),h=o.useCallback((function(t){var e=t.syntheticEvent;n&&n.call(void 0,{syntheticEvent:e})}),[n]),d=o.useCallback((function(t){r&&r.call(void 0,{syntheticEvent:t,value:null})}),[r]),m=o.useCallback((function(t){i&&i.call(void 0,{syntheticEvent:t,value:null})}),[i]);return f.e?Pa.createPortal(o.createElement(Aa.Dialog,{title:p,onClose:h},u,o.createElement(Aa.DialogActionsBar,null,o.createElement("button",{className:"k-button",onClick:d},l),o.createElement("button",{className:"k-button",onClick:m},c))),document&&document.body):null}));ja.displayName="KendoReactSchedulerRemoveDialog";var Ma=o.forwardRef((function(t,e){var n=t.isRemove,r=t.onClose,i=t.onSeriesClick,a=t.onOccurrenceClick,s=o.useRef(null);o.useImperativeHandle(s,(function(){return{props:t}})),o.useImperativeHandle(e,(function(){return s.current}));var l=Object(Oe.useLocalization)(),c=function(t){return l.toLanguageString(t,Ye[t])},u=c("scheduler.editOccurrence"),p=c("scheduler.editSeries"),h=c("scheduler.editRecurringConfirmation"),d=c("scheduler.editRecurringDialogTitle"),m=c("scheduler.deleteOccurrence"),v=c("scheduler.deleteSeries"),g=c("scheduler.deleteRecurringDialogTitle"),y=c("scheduler.deleteRecurringConfirmation"),b=n?g:d,x=n?y:h,w=n?m:u,k=n?v:p,O=o.useCallback((function(t){var e=t.syntheticEvent;r&&r.call(void 0,{syntheticEvent:e,value:null,target:s.current})}),[r]),C=o.useCallback((function(t){i&&i.call(void 0,{syntheticEvent:t,value:null,target:s.current})}),[i]),_=o.useCallback((function(t){a&&a.call(void 0,{syntheticEvent:t,value:null,target:s.current})}),[a]);return f.e?Pa.createPortal(o.createElement(Aa.Dialog,{style:{zIndex:1e5},title:b,onClose:O},x,o.createElement(Aa.DialogActionsBar,null,o.createElement("button",{className:"k-button",onClick:_},w),o.createElement("button",{className:"k-button",onClick:C},k))),document&&document.body):null}));Ma.displayName="KendoReactSchedulerSchedulerOccurrenceDialog";var Ra=function(){return(Ra=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Na=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Fa=o.forwardRef((function(t,e){var n=t._ref,r=t.onDataAction,i=t.viewTask,a=t.removeDialog,s=t.removeItem,l=t.onRemoveItemChange,c=t.occurrenceDialog,u=t.showOccurrenceDialog,p=t.onShowOccurrenceDialogChange,h=t.showRemoveDialog,d=t.onShowRemoveDialogChange,f=Na(t,["_ref","onDataAction","viewTask","removeDialog","removeItem","onRemoveItemChange","occurrenceDialog","showOccurrenceDialog","onShowOccurrenceDialogChange","showRemoveDialog","onShowRemoveDialogChange"]),m=o.useRef(null);o.useImperativeHandle(m,(function(){return{props:t,element:m.current&&m.current.element}})),o.useImperativeHandle(n,(function(){return m.current})),o.useImperativeHandle(e,(function(){return m.current}));var v=i||La.viewTask,g=c||La.occurrenceDialog,y=a||La.removeDialog,b=Qn(t.editable),x=ae(),w=ge(),k=w[0],O=w[1],C=o.useState(null),_=C[0],S=C[1],E=ke(null,s,l),I=E[0],T=E[1],D=ke(!1,h,d),P=D[0],A=D[1],j=ke(!1,u,p),M=j[0],R=j[1],N=o.useCallback((function(e){b.remove&&(T(t.dataItem,e),t.isRecurring?R(!0,e):A(!0,e))}),[T,t.dataItem,t.isRecurring,R,A]),F=o.useCallback((function(t){S(null),T(null,t),A(!1,t),R(!1,t)}),[S,T,A,R]),L=o.useCallback((function(t){r&&I&&r.call(void 0,{type:Un.remove,series:_,dataItem:I}),T(null,t),A(!1,t)}),[I,O,A]),z=o.useCallback((function(t,e){T&&T(t,e)}),[T]),B=o.useCallback((function(t,e){A&&A(t,e)}),[A]),V=o.useCallback((function(t,e){R&&R(t,e)}),[R]),H=o.useCallback((function(e){I&&(S(!1),T(t.dataItem,e),A(!0,e)),R(!1,e)}),[S,t.dataItem,I,T,A]),U=o.useCallback((function(t){if(I){S(!0);var e=Vt(I,x,k);T(e,t),A(!0,t)}R(!1,t)}),[x,I,S,T,A,R]);return o.createElement(_n,{remove:[I,z],showRemoveDialog:[P,B],showOccurrenceDialog:[M,V]},o.createElement(v,Ra({_ref:m},f,{onRemoveClick:N})),M&&o.createElement(g,{dataItem:I,isRemove:null!==I,onClose:F,onOccurrenceClick:H,onSeriesClick:U}),P&&o.createElement(y,{dataItem:I,onClose:F,onCancel:F,onConfirm:L}))})),La={viewTask:Ta,occurrenceDialog:Ma,removeDialog:ja};Fa.defaultProps=La,Fa.displayName="KendoReactSchedulerEditTask";var za=n(9),Ba=n(8),Va=n(11),Ha=n(10),Ua=function(){return(Ua=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Wa=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},qa=function(t){var e=t.onChange,n=t.data,r=(t.validationMessage,t.visited,t.touched,t.modified,Wa(t,["onChange","data","validationMessage","visited","touched","modified"])),i=o.useState(n),a=i[0],s=i[1],l=o.useCallback((function(t){return e(t)}),[e]),c=o.useCallback((function(t){var e=It(n||[],t.filter);s(e)}),[]);return o.createElement(Ha.ComboBox,Ua({style:{width:"100%"},data:a,filterable:!0,onFilterChange:c,onChange:l},r))},Ka=function(){return(Ka=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ga=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Ya=function(t){var e=t.value,n=t.data,r=t.onChange,i=Ga(t,["value","data","onChange"]),a=o.useCallback((function(t){r&&r.call(void 0,t.target.dataset.value)}),[r]);return o.createElement(Ce.ButtonGroup,Ka({width:"100%"},i),n.map((function(t){return o.createElement(Ce.Button,{type:"button",key:t.value,selected:t.value===e,onClick:a,"data-value":t.value,togglable:!0},t.text)})))},Xa=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},$a=["first","second","third","fourth","last"],Za=["never","daily","weekly","monthly","yearly"],Ja=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],Qa=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],ts=[{day:0,offset:0},{day:6,offset:0}],es=function(t){switch(t){case"day":return Ja;case"weekday":return Qa;case"weekend":return ts}},ns=function(){return(ns=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},rs=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},os=function(t){var e=ns({},is,t),n=e.value,r=(e.data,e.onChange,rs(e,["value","data","onChange"])),i=function(e){var r=Number(e.target.dataset.key);t.onChange&&t.onChange.call(void 0,n.some((function(t){return t===r}))?n.filter((function(t){return t!==r})):n.concat([r]))};return o.createElement(o.Fragment,null,o.createElement(Ce.ButtonGroup,ns({width:"auto"},r),(t.data||is.data).map((function(t){return o.createElement(Ce.Button,{type:"button",key:t.value,"data-key":t.value,selected:n.some((function(e){return e===t.value})),togglable:!0,onClick:i},Xa(t.text))}))))},is={data:[],value:[]};os.defaultProps=is;var as=function(){return(as=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ss=function(t){var e=Object(Oe.useInternationalization)(),n=Object(Oe.useLocalization)(),r=o.useState(1),i=r[0],s=r[1],l=o.useState(a.ZonedDate.fromUTCDate(t.start)),c=l[0],u=l[1],p=o.useCallback((function(t,e){var r=e?t:"scheduler.recurrenceEditor"+t;return n.toLanguageString(r,Ye[r])}),[n]),h=o.useMemo((function(){return e=t.value,ha({recurrenceRule:e})||{};var e}),[t.value]),d=o.useMemo((function(){return function(t){return Za.map((function(e){return{value:e,text:t("Frequencies"+Xa(e))}}))}(p)}),[p]),f=o.useMemo((function(){return function(t){return!zt(t)||(function(t){return null==t}(e=t.freq)||e.trim&&0===e.trim().length)?"never":t.freq;var e}(h)}),[h]),m=o.useMemo((function(){return function(t,e){var n=t.firstDay(),r=t.dateFormatNames({type:"days",nameType:"wide"}).map((function(t,e){return{text:t,value:e}})),o=r.slice(n).concat(r.slice(0,n));return[{text:e("WeekdaysDay"),value:"day"},{text:e("WeekdaysWeekday"),value:"weekday"},{text:e("WeekdaysWeekendday"),value:"weekend"}].concat(o)}(e,p)}),[e,p]),v=o.useMemo((function(){return function(t,e,n){return t.find((function(t){var r;if(zt(e.byWeekDay))switch(e.byWeekDay.length){case 7:r="day";break;case 5:r="weekday";break;case 2:r="weekend";break;case 1:r=e.byWeekDay[0].day;break;default:r=n.getDay()}return r===t.value}))||t[0]}(m,h,t.start)}),[m,h,t.start]),g=o.useMemo((function(){return function(t){return t.dateFormatNames({type:"months",nameType:"wide"}).map((function(t,e){return{text:t,value:e+1}}))}(e)}),[e]),y=o.useMemo((function(){return function(t,e){return t.find((function(t){return(e.byMonth?e.byMonth[0]:null)===t.value}))||t[0]}(g,h)}),[g,h]),b=o.useMemo((function(){return function(t){var e=[1,2,3,4,-1];return $a.map((function(n,r){return{text:t("OffsetPositions"+Xa(n)),value:e[r]}}))}(p)}),[p]),x=o.useMemo((function(){return function(t,e){return t.find((function(t){return t.value===(e.bySetPosition?e.bySetPosition[0]:e.byWeekDay&&e.byWeekDay[0]?e.byWeekDay[0].offset:1)}))||t[0]}(b,h)}),[b,h]),w=o.useMemo((function(){return function(t){return zt(t.count)?"count":zt(t.until)?"until":"never"}(h)}),[h]),k=o.useMemo((function(){return function(t,e){return zt(t.byMonthDay)&&t.byMonthDay.length>0?t.byMonthDay[0]:e.getDate()}(h,t.start)}),[h,t.start]),O=o.useMemo((function(){return function(t){return zt(t.until)?Object(a.toLocalDate)(t.until):null}(h)}),[h.until]),C=o.useMemo((function(){return function(t){var e=t.firstDay(),n=t.dateFormatNames({type:"days",nameType:"abbreviated"}).map((function(t,e){return{text:t,value:e}}));return n.slice(e).concat(n.slice(0,e))}(e)}),[e]),_=o.useMemo((function(){return function(t){return zt(t.byWeekDay)?"weekday":zt(t.byMonthDay)?"monthday":void 0}(h)}),[h.byWeekDay,h.byMonthDay]),S=o.useCallback((function(n){"never"===n.freq?t.onChange({value:null}):(void 0===n.weekStart&&(n.weekStart=e.firstDay()),t.onChange({value:fa(n,t.timezone)}))}),[t.onChange,t.timezone]),E=o.useCallback((function(e){var n={};n.freq=e,n.interval=1,"weekly"===e&&(n.byWeekDay=[{day:t.start.getDay(),offset:0}]),"monthly"!==e&&"yearly"!==e||(n.byMonthDay=[t.start.getDate()]),"yearly"===e&&(n.byMonth=[t.start.getMonth()+1]),S(n)}),[S,t.start]),I=o.useCallback((function(t){var e=t.value;S(Object.assign({},h,{interval:e}))}),[S,h]),T=o.useCallback((function(t){var e=t.value;S(Object.assign({},h,{count:e})),null!==e&&s(e)}),[S,h]),D=o.useCallback((function(e){var n=e.value;if(n){var r=a.ZonedDate.fromLocalDate(n,t.timezone);S(Object.assign({},h,{until:r})),u(r)}}),[S,h,t.timezone]),P=o.useCallback((function(t){S(Object.assign({},h,{byWeekDay:C.filter((function(e){return t.find((function(t){return t===e.value}))})).map((function(t){return{offset:0,day:t.value}}))}))}),[S,h]),A=o.useCallback((function(t){var e=Object.assign({},h),n=t.target.value;"string"==typeof n.value?(e.byWeekDay=es(n.value),e.bySetPosition=[x.value]):e.byWeekDay=[{day:n.value,offset:x.value}],S(e)}),[S,h]),j=o.useCallback((function(t){S(Object.assign({},h,{byMonthDay:[t.value]}))}),[S,h]),M=o.useCallback((function(t){var e=t.value;S(Object.assign({},h,{byMonth:[e.value]}))}),[S,h]),R=o.useCallback((function(t){var e=t.value,n=Object.assign({},h);switch(e){case"never":n.until=void 0,n.count=void 0;break;case"count":n.until=void 0,n.count=i;break;case"until":n.until=c,n.count=void 0}S(n)}),[S,h,t.timezone]),N=o.useCallback((function(t){var e=Object.assign({},h);"monthday"===t.value?(e.byWeekDay=void 0,e.bySetPosition=void 0,e.byMonthDay=[k]):"weekday"===t.value&&(e.byMonthDay=void 0,"string"==typeof v.value?(e.bySetPosition=[x.value],e.byWeekDay=es(v.value)):e.byWeekDay=[{day:v.value,offset:x.value}]),S(e)}),[S,h,k,v]),F=o.useCallback((function(t){var e=Object.assign({},h),n=t.value;if(e.byWeekDay)switch(e.byWeekDay.length){case 7:case 5:case 2:e.bySetPosition=[n.value];break;case 1:e.byWeekDay[0].offset=n.value}S(e)}),[S,h]);return o.createElement(o.Fragment,null,o.createElement("div",{className:"k-form-field"},o.createElement(Ba.Label,null,n.toLanguageString("scheduler.recurrenceEditorRepeat",Ye["scheduler.recurrenceEditorRepeat"])),o.createElement("div",{className:"k-form-field-wrap"},o.createElement(Ya,{value:f,data:d,onChange:E}))),"never"!==f&&o.createElement("div",{className:"k-form-field"},o.createElement(Ba.Label,{editorId:"interval-editor"},p(Xa(f)+"RepeatEvery")),o.createElement("div",{className:"k-form-field-wrap"},o.createElement("div",{style:{display:"flex",alignItems:"center"}},o.createElement(Va.NumericTextBox,{min:1,step:1,defaultValue:1,value:h.interval,onChange:I,id:"interval-editor"}),"",o.createElement(Ba.Label,{editorId:"interval-editor"},p(Xa(f)+"Interval"))))),"weekly"===f&&o.createElement("div",{className:"k-form-field"},o.createElement(Ba.Label,null,p("scheduler.recurrenceEditorWeeklyRepeatOn",!0)),o.createElement("div",{className:"k-form-field-wrap"},o.createElement(os,{data:C,value:(h.byWeekDay||[]).map((function(t){return t.day})),onChange:P}))),"monthly"===f&&o.createElement("div",{className:"k-form-field"},o.createElement(Ba.Label,{key:"recurrence-repeat-on-monthly-label"},p("scheduler.recurrenceEditorMonthlyRepeatOn",!0)),o.createElement("div",{className:"k-form-field-wrap"},o.createElement(Va.RadioGroup,{value:_,onChange:N,item:ls,className:"k-reset",data:[{value:"monthday",label:p("scheduler.recurrenceEditorMonthlyDay",!0),children:[o.createElement(o.Fragment,{key:"separator"},""),o.createElement(Va.NumericTextBox,{key:"weekday-day",min:1,max:31,disabled:"monthday"!==_,value:y.value,onChange:j,width:"auto"})]},{value:"weekday",label:" ",children:[o.createElement(Ha.DropDownList,{key:"weekday-offset",textField:"text",dataItemKey:"value",disabled:"weekday"!==_,data:b,value:x,onChange:F,style:{width:"auto"}}),o.createElement(o.Fragment,{key:"separator"},""),o.createElement(Ha.DropDownList,{key:"weekday-value",disabled:"weekday"!==_,value:v,data:m,onChange:A,textField:"text",dataItemKey:"value",style:{width:"auto"}})]}]}))),"yearly"===f&&o.createElement("div",{className:"k-form-field"},o.createElement(Ba.Label,null,p("scheduler.recurrenceEditorYearlyRepeatOn",!0)),o.createElement("div",{className:"k-form-field-wrap"},o.createElement(Va.RadioGroup,{value:_,item:ls,onChange:N,className:"k-reset",data:[{value:"monthday",label:" ",children:[o.createElement(Ha.DropDownList,{key:"monthday-month",disabled:"monthday"!==_,value:y,data:g,textField:"text",dataItemKey:"value",onChange:M,style:{width:"auto"}}),o.createElement(o.Fragment,{key:"separator"},""),o.createElement(Va.NumericTextBox,{key:"monthday-day",min:1,max:31,disabled:"monthday"!==_,value:k,onChange:j,width:"auto"})]},{value:"weekday",label:" ",children:[o.createElement(Ha.DropDownList,{key:"yearly-weekday-offset",textField:"text",dataItemKey:"value",disabled:"weekday"!==_,data:b,value:x,onChange:F,style:{width:"auto"}}),o.createElement(o.Fragment,{key:"yearly-separator-1"},""),o.createElement(Ha.DropDownList,{key:"yearly-weekday-day",textField:"text",dataItemKey:"value",disabled:"weekday"!==_,value:v,data:m,onChange:A,style:{width:"auto"}}),o.createElement(o.Fragment,{key:"yearly-separator-2"},""),o.createElement("span",{key:"yearly-weekday-of-label"},p("scheduler.recurrenceEditorYearlyOf",!0),""),o.createElement(o.Fragment,{key:"yearly-separator-3"},""),o.createElement(Ha.DropDownList,{key:"yearly-weekday-month",textField:"text",dataItemKey:"value",disabled:"weekday"!==_,value:y,data:g,onChange:M,style:{width:"auto"}})]}]}))),"never"!==f&&o.createElement("div",{className:"k-form-field"},o.createElement(Ba.Label,null,p("scheduler.recurrenceEditorEndLabel",!0)),o.createElement("div",{className:"k-form-field-wrap"},o.createElement(Va.RadioGroup,{item:ls,value:w,onChange:R,data:[{value:"never",label:p("scheduler.recurrenceEditorEndNever",!0)},{value:"count",label:p("scheduler.recurrenceEditorEndAfter",!0),children:[o.createElement(o.Fragment,{key:"separator-1"},""),o.createElement(Va.NumericTextBox,{key:"endrule-after-editor",id:"k-endrule-after",min:1,width:"70px",value:"count"===w?h.count:i,onChange:T,disabled:"count"!==w}),o.createElement(o.Fragment,{key:"separator-2"},""),o.createElement(Ba.Label,{key:"endrule-after-label",className:"k-radio-label",editorId:"k-endrule-after"},p("scheduler.recurrenceEditorEndOccurrence",!0))]},{value:"until",label:p("scheduler.recurrenceEditorEndOn",!0),children:[o.createElement(o.Fragment,{key:"separator"},""),o.createElement(Xe.DatePicker,{key:"k-endrule-until-editor",id:"k-endrule-until",disabled:"until"!==w,min:t.start,value:"until"===w?O:Object(a.toLocalDate)(c),onChange:D,width:"auto"})]}]}))))},ls=function(t){return o.createElement("li",as({},t,{style:{display:"flex",alignItems:"center",minHeight:30}}),t.children)};ss.defaultProps={value:""},ss.displayName="KendoReactSchedulerRepeatEditor";var cs=function(){return(cs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},us=function(){return(us=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ps=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},hs=function(t){var e=t.as,n=void 0===e?ms.as:e,r=ps(t,["as"]),i=ne().timezone;return o.createElement(n,us({},r,{value:ds(r.value,i),onChange:function(t){r.onChange&&r.onChange({value:fs(t.target.value,i)})}}))},ds=function(t,e){return t?Object(a.toLocalDate)(a.ZonedDate.fromLocalDate(t,e).toUTCDate()):t},fs=function(t,e){return t?a.ZonedDate.fromUTCDate(new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())),e).toLocalDate():t},ms={as:Xe.DateTimePicker},vs=function(){return(vs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},gs=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ys=o.forwardRef((function(t,e){var n=o.useRef(null),r=o.useRef(null),i=Object(a.timezoneNames)(),s=Object(Oe.useLocalization)(),l=ae(),c=ne(),u=c.resources,p=c.timezone;o.useImperativeHandle(r,(function(){return{element:n.current&&n.current.element?n.current.element:n.current,props:t}})),o.useImperativeHandle(e,(function(){return r.current}));var h=t.as,d=void 0===h?bs.as:h,m=gs(t,["as"]),v=t.titleLabel,g=void 0===v?bs.titleLabel:v,y=t.titleError,b=void 0===y?bs.titleError:y,x=t.titleEditor,w=void 0===x?bs.titleEditor:x,k=t.startLabel,O=void 0===k?bs.startLabel:k,C=t.startError,_=void 0===C?bs.startError:C,S=t.startEditor,E=void 0===S?bs.startEditor:S,I=t.startTimezoneLabel,T=void 0===I?bs.startTimezoneLabel:I,D=t.startTimezoneError,P=void 0===D?bs.startTimezoneError:D,A=t.startTimezoneEditor,j=void 0===A?bs.startTimezoneEditor:A,M=t.startTimezoneCheckedLabel,R=void 0===M?bs.startTimezoneCheckedLabel:M,N=t.startTimezoneCheckedEditor,F=void 0===N?bs.startTimezoneCheckedEditor:N,L=t.endLabel,z=void 0===L?bs.endLabel:L,B=t.endError,V=void 0===B?bs.endError:B,H=t.endEditor,U=void 0===H?bs.endEditor:H,W=t.endTimezoneLabel,q=void 0===W?bs.endTimezoneLabel:W,K=t.endTimezoneError,G=void 0===K?bs.endTimezoneError:K,Y=t.endTimezoneEditor,X=void 0===Y?bs.endTimezoneEditor:Y,$=t.endTimezoneCheckedLabel,Z=void 0===$?bs.endTimezoneCheckedLabel:$,J=t.endTimezoneCheckedEditor,Q=void 0===J?bs.endTimezoneCheckedEditor:J,tt=t.allDayLabel,et=void 0===tt?bs.allDayLabel:tt,nt=t.allDayEditor,rt=void 0===nt?bs.allDayEditor:nt,ot=t.recurrenceEditor,it=void 0===ot?bs.recurrenceEditor:ot,at=t.descriptionLabel,st=void 0===at?bs.descriptionLabel:at,lt=t.descriptionEditor,ct=void 0===lt?bs.descriptionEditor:lt,ut=t.descriptionError,pt=void 0===ut?bs.descriptionError:ut,ht=t.resourceLabel,dt=void 0===ht?bs.resourceLabel:ht,ft=t.resourceEditor,mt=void 0===ft?bs.resourceEditor:ft,vt=t.valueGetter(l.start)||new Date,gt=t.valueGetter(l.startTimezone)||p||"",yt=t.valueGetter(l.endTimezone)||p||"",bt=o.useMemo((function(){return s.toLanguageString("scheduler.editorValidationRequired",Ye["scheduler.editorValidationRequired"])}),[s]),xt=o.useState(Boolean(t.valueGetter(l.startTimezone))),wt=xt[0],kt=xt[1],Ot=o.useState(Boolean(t.valueGetter(l.endTimezone))),Ct=Ot[0],_t=Ot[1],St=o.useCallback((function(e){e.value||(t.onChange(l.startTimezone,{value:null}),t.onChange(l.endTimezone,{value:null}),_t(e.value)),kt(e.value)}),[t.onChange,l.startTimezone,l.endTimezone]),Et=o.useCallback((function(e){e.value||t.onChange(l.endTimezone,{value:null}),_t(e.value)}),[t.onChange]),It=o.useCallback((function(t){return t?void 0:bt}),[bt]),Tt=o.useCallback((function(t,e){return wt?It(e(l.startTimezone)):void 0}),[It,wt,l.startTimezone]),Dt=o.useCallback((function(t,e){return wt&&Ct?It(e(l.endTimezone))||It(e(l.startTimezone)):void 0}),[It,wt,Ct,l.startTimezone,l.endTimezone]),Pt=o.useMemo((function(){return Object(f.g)("k-scheduler-edit-form",t.className)}),[t.className]);return o.createElement(d,vs({ref:d===bs.as?n:void 0},m,{className:Pt}),o.createElement(o.Fragment,null,o.createElement("div",{className:"k-form-field"},o.createElement(za.Field,{name:l.title,component:g,editorId:"k-scheduler-editor-title"},s.toLanguageString("scheduler.editorEventTitle",Ye["scheduler.editorEventTitle"])),o.createElement("div",{className:"k-form-field-wrap"},o.createElement(za.Field,{id:"k-scheduler-editor-title",name:l.title,field:l.title,component:w}),t.errors[l.title]&&o.createElement(za.Field,{name:l.title,component:b},t.errors[l.title]))),o.createElement("div",{className:"k-form-field"},o.createElement(za.Field,{name:l.start,component:O,editorId:"k-scheduler-editor-start"},s.toLanguageString("scheduler.editorEventStart",Ye["scheduler.editorEventStart"])),o.createElement("div",{className:"k-form-field-wrap",style:{display:"flex"}},o.createElement("div",null,o.createElement(za.Field,{id:"k-scheduler-editor-start",name:l.start,width:"auto",component:E,as:t.valueGetter(l.isAllDay)?Xe.DatePicker:Xe.DateTimePicker,timezone:p}),t.errors[l.start]&&o.createElement(za.Field,{name:l.start,component:_},t.errors[l.start])),"",o.createElement("div",null,o.createElement(F,{id:"k-scheduler-editor-set-start-timezone",onChange:St,value:wt}),"",o.createElement(R,{className:"k-checkbox-label",editorId:"k-scheduler-editor-set-start-timezone"},s.toLanguageString("scheduler.editorEventTimeZone",Ye["scheduler.editorEventTimeZone"]))))),wt&&o.createElement("div",{className:"k-form-field"},o.createElement(za.Field,{name:l.start,component:T},s.toLanguageString("scheduler.editorEventStartTimeZone",Ye["scheduler.editorEventStartTimeZone"])),o.createElement("div",{className:"k-form-field-wrap"},o.createElement(za.Field,{component:j,value:gt,validator:Tt,data:i,name:l.startTimezone}),t.errors[l.startTimezone]&&o.createElement(za.Field,{name:l.startTimezone,component:P},t.errors[l.startTimezone]))),o.createElement("div",{className:"k-form-field"},o.createElement(za.Field,{name:l.end,component:z,editorId:"k-scheduler-editor-end"},s.toLanguageString("scheduler.editorEventEnd",Ye["scheduler.editorEventEnd"])),o.createElement("div",{className:"k-form-field-wrap",style:{display:"flex"}},o.createElement("div",null,o.createElement(za.Field,{id:"k-scheduler-editor-end",name:l.end,width:"auto",component:U,as:t.valueGetter(l.isAllDay)?Xe.DatePicker:Xe.DateTimePicker,timezone:p}),t.errors[l.end]&&o.createElement(za.Field,{name:l.end,component:V},t.errors[l.end])),"",o.createElement("div",null,wt&&o.createElement(o.Fragment,null,o.createElement(Q,{id:"k-scheduler-editor-set-end-timezone",onChange:Et,value:Ct}),"",o.createElement(Z,{className:"k-checkbox-label",editorId:"k-scheduler-editor-set-end-timezone"},s.toLanguageString("scheduler.editorEventSeparateTimeZones",Ye["scheduler.editorEventSeparateTimeZones"])))))),Ct&&o.createElement("div",{className:"k-form-field"},o.createElement(za.Field,{name:l.endTimezone,component:q},s.toLanguageString("scheduler.editorEventEndTimeZone",Ye["scheduler.editorEventEndTimeZone"])),o.createElement("div",{className:"k-form-field-wrap"},o.createElement(za.Field,{value:yt,data:i,validator:Dt,component:X,name:l.endTimezone}),t.errors[l.endTimezone]&&o.createElement(za.Field,{name:l.endTimezone,component:G},t.errors[l.endTimezone]))),o.createElement("div",{className:"k-form-field"},o.createElement(za.Field,{name:l.isAllDay,component:Ba.Label}),o.createElement("div",{className:"k-form-field-wrap"},o.createElement(za.Field,{id:"k-is-allday-checkbox",name:l.isAllDay,component:rt}),"",o.createElement(za.Field,{name:l.isAllDay,field:l.isAllDay,editorId:"k-is-allday-checkbox",className:"k-checkbox-label",component:et},s.toLanguageString("scheduler.editorEventAllDay",Ye["scheduler.editorEventAllDay"])))),o.createElement(za.Field,{component:it,field:l.recurrenceRule,name:l.recurrenceRule,start:vt}),o.createElement("div",{className:"k-form-field"},o.createElement(za.Field,{name:l.description,component:st},s.toLanguageString("scheduler.editorEventDescription",Ye["scheduler.editorEventDescription"])),o.createElement("div",{className:"k-form-field-wrap"},o.createElement(za.Field,{component:ct,name:l.description,rows:1,id:"k-event-description",style:{width:"100%"}}),t.errors[l.description]&&o.createElement(za.Field,{name:l.description,component:pt},t.errors[l.description]))),(u||[]).map((function(t){return o.createElement("div",{key:t.field},o.createElement("div",{className:"k-form-field"},o.createElement(za.Field,{name:t.field,component:dt}),o.createElement(Ba.Label,null,t.name),o.createElement(za.Field,{name:t.field,component:mt,resource:t,multiple:t.multiple,data:t.data,textField:t.textField,valueField:t.valueField,colorField:t.colorField})))}))))})),bs={as:o.forwardRef((function(t,e){return o.createElement(za.FormElement,{ref:e,id:t.id,style:t.style,tabIndex:t.tabIndex,className:t.className,horizontal:t.horizontal,children:t.children})})),titleLabel:Ba.Label,titleError:Ba.Error,titleEditor:Va.Input,startLabel:Ba.Label,startError:Ba.Error,startEditor:hs,startTimezoneLabel:Ba.Label,startTimezoneError:Ba.Error,startTimezoneEditor:qa,startTimezoneCheckedLabel:Ba.Label,startTimezoneCheckedEditor:Va.Checkbox,endLabel:Ba.Label,endError:Ba.Error,endEditor:hs,endTimezoneLabel:Ba.Label,endTimezoneError:Ba.Error,endTimezoneEditor:qa,endTimezoneCheckedLabel:Ba.Label,endTimezoneCheckedEditor:Va.Checkbox,allDayLabel:Ba.Label,allDayEditor:Va.Checkbox,recurrenceEditor:ss,descriptionLabel:Ba.Label,descriptionEditor:Va.TextArea,descriptionError:Ba.Error,resourceLabel:Ba.Label,resourceEditor:function(t){var e=t.multiple?Ha.MultiSelect:Ha.DropDownList,n=o.useCallback((function(e){var n=e.target.props.dataItemKey,r=t.multiple?(e.target.value||[]).map((function(t){return t[n]})):e.target.value[n];t.onChange.call(void 0,{value:r})}),[t.multiple,t.onChange]),r=o.useCallback((function(e,n){var r=o.createElement(o.Fragment,null,t.colorField&&o.createElement("span",{key:1,className:"k-scheduler-mark",style:{backgroundColor:n.dataItem[t.colorField],marginRight:zt(n.dataItem[t.valueField])?"8px":"4px"}},""),o.createElement("span",{key:2}," ",e.props.children));return o.cloneElement(e,cs({},e.props),r)}),[t.colorField,t.valueField]),i=o.useCallback((function(e,n){var r=o.createElement(o.Fragment,null,t.colorField&&n&&o.createElement("span",{key:1,className:"k-scheduler-mark",style:{backgroundColor:n[t.colorField],marginRight:n[t.valueField]?"8px":"4px"}},""),e.props.children);return o.cloneElement(e,{},r)}),[t.colorField,t.valueField]),a=Array.isArray(t.value)?t.data.filter((function(e){return t.value.some((function(n){return e[t.valueField]===n}))})):t.data.find((function(e){return e[t.valueField]===t.value}));return o.createElement(e,{value:a,onChange:n,data:t.data,textField:t.textField,dataItemKey:t.valueField,valid:t.valid,validationMessage:t.validationMessage,itemRender:r,valueRender:i})}};ys.displayName="KendoReactSchedulerFormEditor",ys.defaultProps=bs;var xs=function(){return(xs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ws=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ks=o.forwardRef((function(t,e){var n=t.onCancel,r=t.onClose,i=t.onSubmit,a=t.editor,s=t.dialog,l=void 0===s?Os.dialog:s,c=t.validator,u=void 0===c?Os.validator:c,p=ws(t,["onCancel","onClose","onSubmit","editor","dialog","validator"]),h=o.useRef(null);o.useImperativeHandle(h,(function(){return{props:t}})),o.useImperativeHandle(e,(function(){return h.current}));var d=Object(Oe.useLocalization)(),m=ae(),v=o.useMemo((function(){return d.toLanguageString("scheduler.editorValidationRequired",Ye["scheduler.editorValidationRequired"])}),[d]),g=o.useMemo((function(){return d.toLanguageString("scheduler.editorValidationEnd",Ye["scheduler.editorValidationEnd"])}),[d]),y=o.useMemo((function(){return d.toLanguageString("scheduler.editSave",Ye["scheduler.editSave"])}),[d]),b=o.useMemo((function(){return d.toLanguageString(Ue,Ye[Ue])}),[d]),x=o.useMemo((function(){return d.toLanguageString("scheduler.editorTitle",Ye["scheduler.editorTitle"])}),[d]),w=o.useMemo((function(){return d.toLanguageString("scheduler.editorValidationStart",Ye["scheduler.editorValidationStart"])}),[d]),k=o.useCallback((function(t){n&&n.call(void 0,{value:null,syntheticEvent:t,target:h.current})}),[n]),O=o.useCallback((function(t){var e=t.syntheticEvent;r&&r.call(void 0,{value:null,syntheticEvent:e,target:h.current})}),[r]),C=o.useCallback((function(t,e){i&&i.call(void 0,{value:t,syntheticEvent:e,target:h.current})}),[i]),_=o.useCallback((function(t,e){return Boolean(t&&e(m.end)&&t.getTime()>e(m.end).getTime())?w:void 0}),[m,w]),S=o.useCallback((function(t,e){return Boolean(t&&e(m.start)&&t.getTime()<e(m.start).getTime())?g:void 0}),[m,g]),E=o.useCallback((function(t){return t?void 0:v}),[v]),I=o.useCallback((function(t,e){var n={};n[m.start]=[E(e(m.start)),_(e(m.start),e)].filter(Boolean).reduce((function(t,e){return t||e}),""),n[m.end]=[E(e(m.start)),S(e(m.start),e)].filter(Boolean).reduce((function(t,e){return t||e}),"");var r=u(t,e);return xs({},n,r)}),[S,m.end,m.start,E,_,u]);return f.e?Pa.createPortal(o.createElement(za.Form,xs({initialValues:t.dataItem,onSubmit:C,validator:I,render:function(t){return o.createElement(l,{title:x,minWidth:600,onClose:O,className:"k-scheduler-edit-dialog",style:{zIndex:90}},o.createElement(ys,xs({},t,{as:a})),o.createElement(Aa.DialogActionsBar,null,o.createElement("button",{className:"k-button",disabled:!t.allowSubmit,onClick:t.onSubmit},y),o.createElement("button",{className:"k-button",onClick:k},b)))}},p)),document&&document.body):null})),Os={dialog:Aa.Dialog,validator:function(){return{}}};ks.defaultProps=Os,ks.displayName="KendoReactSchedulerForm";var Cs=function(){return(Cs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},_s=o.forwardRef((function(t,e){var n=t.onFocus,r=t.onBlur,i=t.onClick,a=t.onMouseEnter,s=t.onMouseLeave,l=t.onMouseOut,c=t.onMouseOver,u=t.onDoubleClick,p=t.onKeyDown,h=t.onKeyPress,d=t.onKeyUp,m=function(t,e){var n=t._ref,r=o.useRef(null),i=o.useRef(null),a=Dn()[1];return o.useImperativeHandle(r,(function(){return{element:i.current,props:t}})),o.useImperativeHandle(e,(function(){return r.current})),o.useImperativeHandle(n,(function(){return r.current})),o.useEffect((function(){return a({type:Zn.add,item:r}),function(){a({type:Zn.remove,item:r})}})),{slot:r,element:i}}(t,e),v=m.slot,g=m.element,y=Object(Oe.useInternationalization)(),b=void 0!==t.tabIndex?null===t.tabIndex?void 0:t.tabIndex:t.selected?0:-1,x=o.useMemo((function(){return Object(f.g)(t.className,"k-scheduler-cell k-slot-cell",{"k-nonwork-hour":!t.isWorkHour||!t.isWorkDay,"k-state-selected":t.selected})}),[t.className,t.selected,t.isWorkHour,t.isWorkDay]),w=o.useMemo((function(){return Cs({userSelect:"none"},t.style)}),[t.style]),k=o.useMemo((function(){return""+Rt(y,t.zonedStart,t.zonedEnd,t.isAllDay||!1)}),[y,t.isAllDay,t.zonedEnd,t.zonedStart]),O=o.useCallback((function(t){n&&n.call(void 0,{syntheticEvent:t,target:v.current})}),[n,v]),C=o.useCallback((function(t){r&&r.call(void 0,{syntheticEvent:t,target:v.current})}),[r,v]),_=o.useCallback((function(t){i&&i.call(void 0,{syntheticEvent:t,target:v.current})}),[i,v]),S=o.useCallback((function(t){c&&c.call(void 0,{syntheticEvent:t,target:v.current})}),[c,v]),E=o.useCallback((function(t){l&&l.call(void 0,{syntheticEvent:t,target:v.current})}),[l,v]),I=o.useCallback((function(t){a&&a.call(void 0,{syntheticEvent:t,target:v.current})}),[a,v]),T=o.useCallback((function(t){s&&s.call(void 0,{syntheticEvent:t,target:v.current})}),[s,v]),D=o.useCallback((function(t){u&&u.call(void 0,{syntheticEvent:t,target:v.current})}),[u,v]),P=o.useCallback((function(t){p&&p.call(void 0,{syntheticEvent:t,target:v.current})}),[p,v]),A=o.useCallback((function(t){h&&h.call(void 0,{syntheticEvent:t,target:v.current})}),[h,v]),j=o.useCallback((function(t){d&&d.call(void 0,{syntheticEvent:t,target:v.current})}),[d,v]);return o.createElement("div",{ref:g,id:t.id,style:w,className:x,tabIndex:b,"aria-label":k,"aria-selected":t.selected,onFocus:O,onBlur:C,onClick:_,onMouseEnter:I,onMouseLeave:T,onMouseOver:S,onMouseOut:E,onDoubleClick:D,onKeyDown:P,onKeyPress:A,onKeyUp:j,"data-slot":!0,"data-slot-allday":t.isAllDay,"data-slot-start":t.start.getTime(),"data-slot-end":t.end.getTime(),"data-slot-group":t.group.index,"data-slot-range":t.range.index,"data-slot-index":t.index},t.children)}));_s.defaultProps={isWorkHour:!0,isWorkDay:!0},_s.displayName="KendoReactSchedulerSlot";var Ss=function(){return(Ss=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Es=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Is=o.forwardRef((function(t,e){var n=t.slot,r=t._ref,i=Es(t,["slot","_ref"]),a=n||Ts.slot,s=o.useRef(null),l=o.useRef(null);return o.useImperativeHandle(s,(function(){return{props:t}})),o.useImperativeHandle(r,(function(){return l.current})),o.useImperativeHandle(e,(function(){return s.current})),function(t,e){var n=o.useRef(0);o.useLayoutEffect((function(){if(t.current){var e=t.current.element;e&&(n.current=e.clientHeight)}}),[]),o.useEffect((function(){if(e&&t.current){var r=t.current.element,o=t.current.props;if(r){var i=h(r),a=0,s=o.items.filter((function(t){return t._ref.current}));s.forEach((function(t){if(t._ref.current){var e=p(t._ref.current.element).height;e&&e>a&&(a=e)}}));var l=s.length*(a+1)-(i||0)+("object"==typeof e&&e.offsetTop?e.offsetTop:0)+("object"==typeof e&&e.offsetBottom?e.offsetBottom:0);l>n.current&&d(r,{height:l},!0)}}}),[t,t.current&&t.current.props,e])}(l,t.expandable),o.createElement(a,Ss({},i,{_ref:l}))})),Ts={slot:_s,expandable:!1};Is.defaultProps=Ts,Is.displayName="KendoReactSchedulerViewSlot";var Ds=function(){return(Ds=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ps=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},As=o.forwardRef((function(t,e){var n=t._ref,r=t.onDataAction,i=t.viewSlot,a=t.form,s=t.formItem,l=(t.onFormItemChange,Ps(t,["_ref","onDataAction","viewSlot","form","formItem","onFormItemChange"])),c=o.useState(t.tabIndex),u=c[0],p=c[1],h=o.useRef(null),d=o.useRef(null);o.useImperativeHandle(d,(function(){return{props:t}})),o.useImperativeHandle(e,(function(){return d.current})),o.useImperativeHandle(n,(function(){return h.current}));var m=Qn(t.editable),v=ae(),g=Dn()[0],y=An()[0],b=o.useContext(jn),x=b[0],w=b[1],k=Ln()[1],O=a||js.form,C=i||js.viewSlot,_=ke(null,s,t.onFormItemChange),S=_[0],E=_[1],I=x.some((function(e){return Boolean(e.current&&e.current.props.start.getTime()===t.start.getTime()&&e.current.props.end.getTime()===t.end.getTime()&&e.current.props.index===t.index&&e.current.props.group.index===t.group.index&&e.current.props.range.index===t.range.index&&e.current.props.isAllDay===t.isAllDay)})),T=o.useCallback((function(){var e={};if(Lt(e,v.start,new Date(t.start.getTime())),Lt(e,v.end,new Date(t.end.getTime())),Lt(e,v.isAllDay,t.isAllDay),t.group.resources.length)for(var n=0;n<t.group.resources.length;n++){var r=t.group.resources[n];if(Mt(t.group.resources)){var o=Ft(t.group.resources[n],r.valueField);Lt(e,r.field,r.multiple?[o]:o)}else Lt(e,r.field,r.multiple?[]:void 0)}return e}),[v.start,v.end,v.isAllDay,t.start,t.end,t.isAllDay,t.group.resources]),D=o.useCallback((function(e){m.select&&w({type:lr.select,slot:h},e.syntheticEvent),t.onFocus&&t.onFocus.call(void 0,e)}),[w,m.select,t.onFocus]),P=o.useCallback((function(e){if(m.add){var n=T();E(n,e)}t.onDoubleClick&&t.onDoubleClick.call(void 0,e)}),[T,m.add,t.onDoubleClick,E]),A=o.useCallback((function(t){var e,n,r;switch(t.syntheticEvent.keyCode){case f.d.left:if(!g)return;t.syntheticEvent.preventDefault(),k({type:nr.left,slot:h},t.syntheticEvent);break;case f.d.right:if(!g)return;t.syntheticEvent.preventDefault(),k({type:nr.right,slot:h},t.syntheticEvent);break;case f.d.up:if(!g)return;t.syntheticEvent.preventDefault(),k({type:nr.up,slot:h},t.syntheticEvent);break;case f.d.down:if(!g)return;t.syntheticEvent.preventDefault(),k({type:nr.down,slot:h},t.syntheticEvent);break;case f.d.enter:if(!g||!m.add)return;var o=T();E(o);break;case f.d.tab:n=t.target,e=(r=n.props.items.find((function(t){return 0===t.order}))||n.props.items[0])&&r._ref.current}e&&(t.syntheticEvent.preventDefault(),e.element&&e.element.focus())}),[T,k,m.add,E,g]),j=o.useCallback((function(t){r&&r.call(void 0,{type:Un.create,series:!1,dataItem:t.value},t),E(null,t.syntheticEvent)}),[r,E]),M=o.useCallback((function(t){E(null,t.syntheticEvent)}),[E]),R=o.useCallback((function(t){E(null,t)}),[E]),N=o.useCallback((function(t,e){E&&E(t,e)}),[E]);return o.useEffect((function(){var e=g.length&&g[0].current===h.current;p(void 0!==t.tabIndex?null===t.tabIndex?void 0:t.tabIndex:0===x.length&&e&&0===y.length?0:void 0)}),[y,t.tabIndex,x.length,g]),o.createElement(wn,{props:t,form:[S,N]},o.createElement(C,Ds({},l,{_ref:h,selected:I,tabIndex:u,onFocus:D,onDoubleClick:P,onKeyDown:A})),S&&o.createElement(O,{dataItem:S,onSubmit:j,onClose:R,onCancel:M}))})),js={viewSlot:Is,form:ks};As.defaultProps=js,As.displayName="KendoReactSchedulerEditSlot";var Ms=function(){return(Ms=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Rs=function(t){var e=ne(),n=e.group,r=e.timezone,i=e.resources,s=t.editTask||Fa,l=t.editSlot||As,c=o.useRef(null),u=Object(Oe.useInternationalization)(),p=Object(Oe.useLocalization)(),h=ge()[0],d=ce(),m=ae(),v=pe(),g=o.useMemo((function(){return br(v,{step:a.MS_PER_DAY,timezone:r})}),[v.start.getTime(),v.end.getTime(),r]),y=o.useMemo((function(){return _a(0,{step:a.MS_PER_DAY},{groups:d,ranges:g})}),[v.start.getTime(),v.end.getTime(),r,d,g]),b=o.useMemo((function(){return ma(h,{dateRange:v,fields:m,timezone:r})}),[h,v.start.getTime(),v.end.getTime(),m,r]),x=o.useMemo((function(){return xa(b,{timezone:r},{groups:d,ranges:g})}),[b,r,d,g]),w=o.useMemo((function(){return Object(f.g)("k-scheduler-agendaview",t.className)}),[t.className]);return Jn({element:c,selector:".k-scheduler-datecolumn",explicitDepth:!1}),Jn({element:c,selector:".k-scheduler-timecolumn",explicitDepth:!1}),o.useMemo((function(){return $t(x,y,!0)}),[x,y]),o.useMemo((function(){return Xt(x,y,!0)}),[x,y]),o.createElement(cr,{ref:c,id:t.id,style:t.style,className:w,props:t,slots:x,ranges:g},o.createElement("div",{className:"k-scheduler-head"},o.createElement(pr,{resources:i,group:n},o.createElement(ur.Consumer,null,(function(t){var e=t.groupIndex;return o.createElement("div",{className:"k-scheduler-row",key:e},o.createElement("div",{className:"k-scheduler-cell k-heading-cell k-group-cell k-scheduler-datecolumn"},p.toLanguageString(We,Ye[We])),o.createElement("div",{className:"k-scheduler-cell k-heading-cell k-group-cell k-scheduler-timecolumn"},p.toLanguageString(qe,Ye[qe])),o.createElement("div",{className:"k-scheduler-cell k-heading-cell k-scheduler-eventcolumn"},p.toLanguageString(Ke,Ye[Ke])))})))),o.createElement("div",{className:"k-scheduler-body"},o.createElement(pr,{resources:i,group:n,nested:!0},o.createElement(ur.Consumer,null,(function(e){var n=e.groupIndex;return y.filter((function(t){return t.group.index===(n||0)})).map((function(e,r,i){return o.createElement("div",{className:"k-scheduler-row  k-scheduler-content",key:n+":"+r},o.createElement(l,Ms({},e,{editable:t.editable,row:i.length*(n||0)+r,col:0,slot:t.slot,viewSlot:t.viewSlot,className:"k-scheduler-datecolumn k-group-cell"}),o.createElement("div",null,o.createElement("strong",{className:"k-scheduler-agendaday"},u.formatDate(e.zonedStart,"dd")),o.createElement("em",{className:"k-scheduler-agendaweek"},u.formatDate(e.zonedStart,"EEEE")),o.createElement("span",{className:"k-scheduler-agendadate"},u.formatDate(e.zonedStart,"y")))),o.createElement("div",{className:"k-scheduler-cell k-group-content"},e.items.length?e.items.map((function(e,n){return o.createElement("div",{className:"k-scheduler-row",key:n},o.createElement("div",{className:"k-scheduler-cell k-scheduler-timecolumn"},o.createElement("div",null,e.tail&&o.createElement("span",{className:"k-icon k-i-arrow-60-left"}),e.isAllDay?p.toLanguageString(ze,Ye[ze]):Ns(u,e),e.head&&o.createElement("span",{className:"k-icon k-i-arrow-60-right"}))),o.createElement("div",{className:"k-scheduler-cell"},o.createElement(s,Ms({key:r+":"+n},e,{onDataAction:t.onDataAction,task:t.task,viewTask:t.viewTask,editable:t.editable}))))})):o.createElement("div",{className:"k-scheduler-cell k-heading-cell k-group-cell"},p.toLanguageString(Ge,Ye[Ge]))))}))})))))},Ns=function(t,e){var n="{0:t}-{1:t}";return e.head?n="{0:t}":e.tail&&(n="{1:t}"),t.format(n,e.zonedStart,e.zonedEnd)},Fs=function(t){return Object(a.getDate)(t)},Ls={name:"agenda",title:function(t){return t.toLanguageString("scheduler.agendaViewTitle",Ye["scheduler.agendaViewTitle"])},dateRange:function(t){var e=t.intl,n=t.date,r=t.numberOfDays,o=void 0===r?1:r,i=t.timezone,s=a.ZonedDate.fromLocalDate(n,i),l=Fs(7===o?Object(a.firstDayInWeek)(s,e.firstDay()):s),c=function(t,e){return Object(a.getDate)(Object(a.addDays)(t,e||1))}(l,o),u=a.ZonedDate.fromUTCDate(Bt(l),i),p=a.ZonedDate.fromUTCDate(Bt(c),i);return{start:new Date(u.getTime()),end:new Date(p.getTime()),zonedStart:u,zonedEnd:p}},selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",slotDuration:1440,slotDivision:1,step:7,numberOfDays:7},zs={title:i.any};Rs.propTypes=zs,Rs.defaultProps=Ls;var Bs=function(){return(Bs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Vs=function(t){var e=t.nested,n=t.children,r=t.rowContentProps,i=t.rowContent||Ws,a=t.childRowContent||i,s=c(t.group,t.resources);return o.createElement("div",{className:"k-scheduler-group k-group-horizontal"},e?Hs({resources:s,children:n,nested:e,groupIndex:0,rowContent:i,rowContentProps:r,childRowContent:a}):Us({resources:s,children:n,rowContent:i,nested:!!e,groupIndex:0,rowContentProps:r,childRowContent:a}))},Hs=function(t){var e=t.resources,n=t.rowContent,r=t.nested,i=t.children,a=t.groupIndex,s=t.rowContentProps,l=t.childRowContent;if(a===e.length)return Us({resources:e,rowContent:n,children:i,nested:r,groupIndex:a,rowContentProps:s,childRowContent:l});var c=u(e,a),p=n;return o.createElement(o.Fragment,null,r?o.createElement("div",{className:"k-scheduler-row"},o.createElement(p,Bs({resources:e,groupIndex:a},s),c.map((function(t,e){return o.createElement("div",{key:e,className:"k-scheduler-cell k-heading-cell"},t.text)})))):o.createElement(p,Bs({resources:e,groupIndex:a},s),c.map((function(t,e){return o.createElement("div",{key:e,className:"k-scheduler-cell k-heading-cell"},t.text)}))),Hs({resources:e,children:i,nested:r,rowContent:n,childRowContent:l,groupIndex:a+1}))},Us=function(t){var e=t.resources,n=t.childRowContent,r=t.children,i=t.rowContentProps,a=u(e,e.length-1),s=n,l=e.length>0;return o.createElement("div",{className:"k-scheduler-row"},o.createElement(s,Bs({resources:e},i),(a.length?a:m).map((function(t,e){return o.createElement("div",{key:e,className:"k-scheduler-cell k-group-cell"},o.createElement(ur.Provider,{value:{resource:t,groupIndex:l?e:0}},r))}))))};Vs.displayName="KendoReactSchedulerHorizontalResourceIterator";var Ws=function(t){return t.children},qs=o.createElement("div",{className:"k-scheduler-cell k-side-cell"}),Ks=function(t){return o.createElement(o.Fragment,null,o.createElement("div",{className:"k-sticky-cell"},qs),t.children)},Gs=function(t){var e=Object(Oe.useLocalization)();return o.createElement(o.Fragment,null,o.createElement("div",{className:"k-sticky-cell"},o.createElement("div",{className:"k-scheduler-cell k-heading-cell k-side-cell k-scheduler-times-all-day","data-range-index":0},e.toLanguageString(Le,Ye[Le]))),t.children)},Ys=function(){return(Ys=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Xs=o.forwardRef((function(t,e){var n=t.onFocus,r=t.onBlur,i=t.onMouseDown,a=t.onClick,s=t.onMouseUp,l=t.onMouseOut,c=t.onMouseOver,u=t.onMouseEnter,p=t.onMouseLeave,h=t.onDoubleClick,d=t.onRemoveClick,m=t.onKeyUp,v=t.onKeyDown,g=t.onKeyPress,y=t.onPress,b=t.onDrag,x=t.onRelease,w=t.onResizePress,k=t.onResizeEndDrag,O=t.onResizeRelease,C=t.onResizeStartDrag,_=function(t,e){var n=t._ref,r=t.itemRef,i=o.useRef(null),a=o.useRef(null),s=An()[1];return o.useImperativeHandle(i,(function(){return{element:a.current,props:t}})),o.useImperativeHandle(e,(function(){return i.current})),o.useImperativeHandle(n,(function(){return i.current})),o.useImperativeHandle(r,(function(){return i.current})),o.useLayoutEffect((function(){return s({type:Zn.add,item:i}),function(){s({type:Zn.remove,item:i})}})),{item:i,element:a}}(t,e),S=_.item,E=_.element,I=o.useRef(null),T=o.useRef(null),D=o.useRef(null),P=o.useRef(null),A=Qn(t.editable),j=Object(Oe.useInternationalization)(),M=Object(Oe.useLocalization)().toLanguageString(Ve,Ye[Ve]),R=t.group.resources.find((function(t){return Boolean(t.colorField&&""!==t[t.colorField]&&void 0!==t[t.colorField])})),N=R&&R.colorField&&R[R.colorField],F=void 0!==t.tabIndex?null===t.tabIndex?void 0:t.tabIndex:t.selected?0:-1,L=o.useMemo((function(){return Object(f.g)({"k-event":!t.resizeHint,"k-state-selected":t.selected&&A.select,"k-event-drag-hint":t.dragHint,"k-scheduler-marquee":t.resizeHint,"k-marquee":t.resizeHint,"k-first":t.resizeHint&&!t.tail,"k-last":t.resizeHint&&!t.head},t.className)}),[t.resizeHint,t.selected,t.dragHint,t.tail,t.head,t.className,A.select]),z=o.useMemo((function(){return Rt(j,t.zonedStart,t.zonedEnd,t.isAllDay)+", "+t.title}),[j,t.isAllDay,t.title,t.zonedEnd,t.zonedStart]),B=o.useMemo((function(){return Ys({cursor:"pointer",userSelect:"none",borderColor:t.resizeHint?void 0:N,backgroundColor:t.resizeHint?void 0:N,touchAction:"none"},t.style)}),[N,t.style,t.resizeHint]),V=o.useCallback((function(t){n&&n.call(void 0,{syntheticEvent:t,target:S.current})}),[n,S]),H=o.useCallback((function(t){r&&r.call(void 0,{syntheticEvent:t,target:S.current})}),[r,S]),U=o.useCallback((function(t){i&&i.call(void 0,{syntheticEvent:t,target:S.current})}),[i,S]),W=o.useCallback((function(t){a&&a.call(void 0,{syntheticEvent:t,target:S.current})}),[a,S]),q=o.useCallback((function(t){s&&s.call(void 0,{syntheticEvent:t,target:S.current})}),[s,S]),K=o.useCallback((function(t){c&&c.call(void 0,{syntheticEvent:t,target:S.current})}),[c,S]),G=o.useCallback((function(t){l&&l.call(void 0,{syntheticEvent:t,target:S.current})}),[l,S]),Y=o.useCallback((function(t){u&&u.call(void 0,{syntheticEvent:t,target:S.current})}),[u,S]),X=o.useCallback((function(t){p&&p.call(void 0,{syntheticEvent:t,target:S.current})}),[p,S]),$=o.useCallback((function(t){h&&h.call(void 0,{syntheticEvent:t,target:S.current})}),[h,S]),Z=o.useCallback((function(t){d&&d.call(void 0,{syntheticEvent:t,target:S.current})}),[d,S]),J=o.useCallback((function(t){v&&v.call(void 0,{syntheticEvent:t,target:S.current})}),[v,S]),Q=o.useCallback((function(t){g&&g.call(void 0,{syntheticEvent:t,target:S.current})}),[g,S]),tt=o.useCallback((function(t){m&&m.call(void 0,{syntheticEvent:t,target:S.current})}),[m,S]),et=o.useCallback((function(t){y&&y.call(void 0,{dragEvent:t,target:S.current})}),[y,S]),nt=o.useCallback((function(t){b&&b.call(void 0,{dragEvent:t,target:S.current})}),[b,S]),rt=o.useCallback((function(t){x&&x.call(void 0,{dragEvent:t,target:S.current})}),[x,S]),ot=o.useCallback((function(t){w&&w.call(void 0,{dragEvent:t,target:S.current})}),[w,S]),it=o.useCallback((function(t){C&&C.call(void 0,{dragEvent:t,target:S.current})}),[C,S]),at=o.useCallback((function(t){k&&k.call(void 0,{dragEvent:t,target:S.current})}),[k,S]),st=o.useCallback((function(t){O&&O.call(void 0,{dragEvent:t,target:S.current})}),[O,S]);return Object(f.A)(E,{onPress:et,onDrag:nt,onRelease:rt}),Object(f.A)(I,{onPress:ot,onDrag:at,onRelease:st}),Object(f.A)(T,{onPress:ot,onDrag:it,onRelease:st}),Object(f.A)(D,{onPress:ot,onDrag:it,onRelease:st}),Object(f.A)(P,{onPress:ot,onDrag:at,onRelease:st}),o.createElement("div",{ref:E,id:t.id,style:B,tabIndex:F,className:L,"aria-label":z,"aria-selected":t.selected,onFocus:V,onBlur:H,onMouseUp:q,onMouseDown:U,onClick:W,onMouseOver:K,onMouseOut:G,onMouseEnter:Y,onMouseLeave:X,onDoubleClick:$,onKeyDown:J,onKeyPress:Q,onKeyUp:tt,"data-group-index":t.group.index,"data-range-index":t.range.index},t.children,!t.resizeHint&&o.createElement("span",{className:"k-event-actions"},A.remove&&o.createElement("a",{tabIndex:-1,"aria-hidden":"true",className:"k-link k-event-delete",title:M,"aria-label":M,onClick:Z},o.createElement("span",{className:"k-icon k-i-close"})),t.head&&o.createElement("span",{className:"k-icon k-i-arrow-60-right"})),A.resize&&t.vertical&&o.createElement(o.Fragment,null,o.createElement("span",{className:"k-resize-handle k-resize-n",ref:D}),o.createElement("span",{className:"k-resize-handle k-resize-s",ref:P})),A.resize&&!t.vertical&&o.createElement(o.Fragment,null,o.createElement("span",{className:"k-resize-handle k-resize-w",ref:T}),o.createElement("span",{className:"k-resize-handle k-resize-e",ref:I})),t.resizeHint&&o.createElement(o.Fragment,null,o.createElement("div",{className:"k-marquee-color",style:{borderColor:N,backgroundColor:N}}),o.createElement("div",{className:"k-marquee-text"},!t.tail&&o.createElement("div",{className:"k-label-top"},j.formatDate(t.zonedStart,t.format)),!t.head&&o.createElement("div",{className:"k-label-bottom"},j.formatDate(t.zonedEnd,t.format)))))}));Xs.displayName="KendoReactSchedulerItem";var $s=function(){return($s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Zs=o.forwardRef((function(t,e){var n=o.useMemo((function(){return Object(f.g)("k-event-template",t.className)}),[t.className]);return o.createElement("div",$s({ref:e},t,{className:n}))})),Js=function(){return(Js=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qs=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},tl=o.forwardRef((function(t,e){var n=t.item,r=t._ref,i=t.itemRef,a=Qs(t,["item","_ref","itemRef"]),s=o.useRef(null),l=o.useRef(null);o.useImperativeHandle(l,(function(){return{props:t,element:s.current&&s.current.element}})),o.useImperativeHandle(e,(function(){return l.current})),o.useImperativeHandle(r,(function(){return s.current})),o.useImperativeHandle(i,(function(){return s.current}));var c=n||el.item,u=Object(Oe.useInternationalization)(),h=An()[0],f=Dn()[0],m=te(),v=o.useState(!0),g=v[0],y=v[1],b=o.useState(!1),x=b[0],w=b[1],k=o.useMemo((function(){return t.isAllDay?u.toString(t.zonedStart,"t"):u.format("{0:t} - {1:t}",t.zonedStart,t.zonedEnd)}),[u,t.isAllDay,t.zonedEnd,t.zonedStart]),O=o.useMemo((function(){return"("+k+"): "+t.title}),[k,t.title]),C=function(t,e){var n=1;return t.forEach((function(t){var r=e.filter((function(e){return _(t.current.props,e.props)}));r.length>n&&(n=r.length)})),n},_=function(e,n){return qt(e.start,e.end,n.start,n.end)&&e.group.index===n.group.index&&e.range.index===n.range.index&&(t.ignoreIsAllDay||e.isAllDay===n.isAllDay)},S=function(){var e=(f||[]).filter((function(e){return e.current&&_(e.current.props,t)}));if(0!==e.length){var n=At(e);if(n.current&&s.current){var r=p(n.current.element);d(s.current.element,r)}}else y(!1)},E=function(){var e=s.current&&s.current.element;if(e){var n=(f||[]).filter((function(e){return e.current&&_(e.current.props,t)})),r=[],o=[],i=[];(h||[]).forEach((function(t){t.current&&(t.current.props.dragHint?o.push(t.current):t.current.props.resizeHint?i.push(t.current):r.push(t.current))}));var a=t.dragHint||t.resizeHint?function(t,e,n,r){var o;return void 0===r&&(r=!1),n.forEach((function(n){var i=[];e.sort((function(t,e){return t.props.start.getTime()-e.props.start.getTime()})).forEach((function(e){if((r||e.props.isAllDay===n.current.props.isAllDay)&&e.props.range.index===n.current.props.range.index&&e.props.group.index===n.current.props.group.index&&qt(e.props.start,e.props.end,n.current.props.start,n.current.props.end)){var a=Yt(i);e===t&&void 0===o&&(o=a),i.splice(a,0,a)}}))})),o}(s.current,t.dragHint?o:i,n,t.ignoreIsAllDay):t.order||0;if(0!==n.length){var l=t.dragHint||t.resizeHint?C(n,t.dragHint?o:i):C(n,r);if(0!==n.length){var c=p(e);c.width=t.vertical?c.width/l-1-20/l:c.width*n.length-1-20,c.height=t.vertical?c.height*n.length-1:(t.resizeHint||t.dragHint)&&l<=1?c.height:25,c.left=t.vertical?c.left+a*c.width+1*a:c.left,c.top=t.vertical?c.top:c.top+a*c.height+1*a,d(e,c),w(!0)}else y(!1)}else y(!1)}},I=o.useCallback((function(){S(),E()}),[S,E]);return o.useEffect(S),o.useEffect(E),o.useEffect((function(){if(m.current){var t=new window.ResizeObserver(I);return t.observe(m.current),function(){t.disconnect()}}}),[I,m]),o.createElement(c,Js({},a,{_ref:s,itemRef:s,style:Js({visibility:x?void 0:"hidden",display:g?void 0:"none",whiteSpace:t.vertical?void 0:"nowrap"},t.style)}),!t.resizeHint&&o.createElement("span",{className:"k-event-actions"},t.tail&&o.createElement("span",{className:"k-icon k-i-arrow-60-left"}),t.isRecurring&&!t.isException&&o.createElement("span",{className:"k-icon k-i-reload"}),!t.isRecurring&&t.isException&&o.createElement("span",{className:"k-icon k-i-non-recurrence"})),!t.resizeHint&&o.createElement("div",{title:O},!t.isAllDay&&o.createElement(Zs,{className:"k-event-template k-event-time "},O),o.createElement(Zs,{className:"k-event-template"},t.title)))})),el={item:Xs};tl.defaultProps=el,tl.displayName="KendoReactSchedulerViewItem";var nl=function(){return(nl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},rl=function(t){var e=In(),n=ne().timezone,r=ce(),i=ae(),a=pe(),s=Dn()[0],l=t.viewItem||ol.viewItem,c=o.useMemo((function(){return ma([t.dataItem],{dateRange:a,fields:i,timezone:n})}),[t.dataItem,a,i,n]),u=o.useMemo((function(){return xa(c,{timezone:n},{groups:r,ranges:e})}),[c,n,r,e]),p=(s||[]).map((function(t){return t.current.props}));return $t(u,p),o.createElement(o.Fragment,null,u.map((function(e,n){return o.createElement(l,nl({key:n},e,{item:t.item,dragHint:!0,vertical:t.vertical,ignoreIsAllDay:t.ignoreIsAllDay}))})))},ol={viewItem:tl,item:Xs};rl.defaultProps=ol,rl.displayName="KendoReactSchedulerDrag";var il,al=function(){return(al=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},sl=function(t){var e=In(),n=ne().timezone,r=ce(),i=ae(),a=pe(),s=Dn()[0],l=t.viewItem||ll.viewItem,c=o.useMemo((function(){return ma([t.dataItem],{dateRange:a,fields:i,timezone:n})}),[t.dataItem,a.start.getTime(),a.end.getTime(),i,n]),u=o.useMemo((function(){return xa(c,{timezone:n},{groups:r,ranges:e})}),[c,n,r,e]),p=(s||[]).map((function(t){return t.current.props}));return $t(u,p),o.createElement(o.Fragment,null,u.map((function(e,n){return o.createElement(l,al({key:n},e,{format:t.format,item:t.item,resizeHint:!0,vertical:t.vertical,ignoreIsAllDay:t.ignoreIsAllDay}))})))},ll={viewItem:tl,item:Xs};sl.defaultProps=ll,sl.displayName="KendoReactSchedulerResize",function(t){t.set="FORM_ITEM_SET",t.setMaster="FORM_ITEM_SET_MASTER",t.reset="FORM_ITEM_RESET",t.complete="FORM_ITEM_COMPLETE"}(il||(il={}));var cl;!function(t){t.set="SHOW_OCCURRENCE_DIALOG_SET",t.open="SHOW_OCCURRENCE_DIALOG_OPEN",t.close="SHOW_OCCURRENCE_DIALOG_CLOSE",t.reset="SHOW_OCCURRENCE_DIALOG_RESET",t.toggle="SHOW_OCCURRENCE_DIALOG_TOGGLE"}(cl||(cl={}));var ul,pl=function(t,e,n){var r=ke(t,e,n),o=r[0],i=r[1];return[o,i,function(t){var e=function(t,e){switch(e.type){case cl.reset:return!1;case cl.set:return e.payload;case cl.open:return!0;case cl.close:return!1;case cl.toggle:return!t;default:return t}}(o,t);i(e)}]};!function(t){t.set="REMOVE_ITEM_SET",t.reset="REMOVE_ITEM_RESET",t.complete="REMOVE_ITEM_COMPLETE"}(ul||(ul={}));var hl;!function(t){t.set="SHOW_REMOVE_DIALOG_SET",t.open="SHOW_REMOVE_DIALOG_OPEN",t.close="SHOW_REMOVE_DIALOG_CLOSE",t.reset="SHOW_REMOVE_DIALOG_RESET",t.toggle="SHOW_REMOVE_DIALOG_TOGGLE"}(hl||(hl={}));var dl,fl=function(t,e,n){var r=ke(t,e,n),o=r[0],i=r[1];return[o,i,function(t){var e=function(t,e){switch(e.type){case hl.reset:return!1;case hl.set:return e.payload;case hl.open:return!0;case hl.close:return!1;case hl.toggle:return!t;default:return t}}(o,t);i(e)}]};!function(t){t.set="DRAG_ITEM_SET",t.start="DRAG_ITEM_START",t.drag="DRAG_ITEM_DRAG",t.complete="DRAG_ITEM_COMPLETE",t.completeOccurrence="DRAG_ITEM_COMPLETE_OCCURRENCE",t.completeSeries="DRAG_ITEM_COMPLETE_SERIES",t.reset="DRAG_ITEM_RESET",t.dragSelected="DRAG_ITEM_DRAG_SELECTED"}(dl||(dl={}));var ml;!function(t){t.set="RESIZE_ITEM_SET",t.start="RESIZE_ITEM_START",t.startDrag="RESIZE_ITEM_START_DRAG",t.startDragSelected="RESIZE_ITEM_START_DRAG_SELECTED",t.endDrag="RESIZE_ITEM_END_DRAG",t.endDragSelected="RESIZE_ITEM_END_DRAG_SELECTED",t.complete="RESIZE_ITEM_COMPLETE",t.completeOccurrence="RESIZE_ITEM_COMPLETE_OCCURRENCE",t.completeSeries="RESIZE_ITEM_COMPLETE_SERIES",t.reset="RESIZE_ITEM_RESET"}(ml||(ml={}));var vl;!function(t){t.reset="SERIES_RESET",t.set="SERIES_SET",t.toggle="SERIES_TOGGLE"}(vl||(vl={}));var gl=function(t,e,n){var r=ke(t,e,n),o=r[0],i=r[1];return[o,i,function(t){var e=function(t,e){switch(e.type){case vl.reset:return null;case vl.set:return e.payload;case vl.toggle:return!t;default:return t}}(o,t);i(e)}]},yl=function(){return(yl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},bl=o.forwardRef((function(t,e){var n=t._ref,r=t.itemRef,i=t.onDataAction,a=t.ignoreIsAllDay,s=t.viewItem,l=t.series,c=t.onSeriesChange,u=t.form,p=t.formItem,h=t.onFormItemChange,d=t.drag,m=t.dragItem,v=t.onDragItemChange,g=t.resize,y=t.resizeItem,b=t.onResizeItemChange,x=t.removeDialog,w=t.removeItem,k=t.onRemoveItemChange,O=t.occurrenceDialog,C=t.showOccurrenceDialog,_=t.onShowOccurrenceDialogChange,S=t.showRemoveDialog,E=t.onShowRemoveDialogChange,I=t.onFocus,T=t.onFocusAction,D=t.onMouseDown,P=t.onMouseDownAction,A=t.onMouseUp,j=t.onMouseUpAction,M=t.onClick,R=t.onClickAction,N=t.onDoubleClick,F=t.onDoubleClickAction,L=t.onRemoveClick,z=t.onRemoveClickAction,B=t.onPress,V=t.onPressAction,H=t.onDrag,U=t.onDragAction,W=t.onRelease,q=t.onReleaseAction,K=t.onResizePress,G=t.onResizePressAction,Y=t.onResizeStartDrag,X=t.onResizeStartDragAction,$=t.onResizeEndDrag,Z=t.onResizeEndDragAction,J=t.onResizeRelease,Q=t.onResizeReleaseAction,tt=t.onOccurrenceClick,et=t.onOccurrenceClickAction,nt=t.onSeriesClick,rt=t.onSeriesClickAction,ot=t.onKeyDown,it=t.onKeyDownAction,at=t.onKeyUp,st=t.onKeyUpAction,lt=t.onRemoveConfirm,ct=t.onRemoveConfirmAction,ut=t.onFormSubmit,pt=t.onFormSubmitAction,ht=t.onCancel,dt=t.onCancelAction,ft=o.useState(t.tabIndex),mt=ft[0],vt=ft[1],gt=o.useRef(null),yt=o.useRef(null);o.useImperativeHandle(gt,(function(){return{props:t,element:yt.current&&yt.current.element}})),o.useImperativeHandle(e,(function(){return gt.current})),o.useImperativeHandle(n,(function(){return yt.current})),o.useImperativeHandle(r,(function(){return yt.current}));var bt=s||xl.viewItem,xt=d||xl.drag,wt=g||xl.resize,kt=u||xl.form,Ot=O||xl.occurrenceDialog,Ct=x||xl.removeDialog,_t=Qn(t.editable),St=Rn(),Et=St[0],It=St[1],Tt=gl(null,l,c),Dt=Tt[0],Pt=Tt[2],At=function(t,e){var n=ke.apply(void 0,e),r=n[0],o=n[1],i=ae(),a=ge()[0];return[r,o,function(e,n){var s;switch(e.type){case il.set:s=e.payload;break;case il.reset:s=null;break;case il.setMaster:s=Object(f.h)(Vt(e.payload,i,a));break;case il.complete:t.onDataAction&&r&&(t.onDataAction.call(void 0,{type:Un.update,series:t.series,dataItem:e.payload}),s=null);break;default:s=r}o(s,n)}]}({series:Dt,onDataAction:i},[null,p,h]),jt=At[0],Mt=At[1],Rt=At[2],zt=function(t,e){var n=o.useRef(0),r=o.useRef(0),i=o.useRef(0),a=o.useRef(null),s=ke.apply(void 0,e),l=s[0],c=s[1],u=Rn()[0],p=ae(),h=ce();return[l,c,function(e){var o;switch(e.type){case dl.set:o=e.payload;break;case dl.reset:o=null;break;case dl.dragSelected:if(Math.abs(r.current-e.payload.x)<10&&Math.abs(i.current-e.payload.y)<10)return;if(!(w=Nt(e.payload.x,e.payload.y,7)))return;if(w===a.current)return;var s=Object(f.h)(t.dataItem),d=w.getAttribute("data-slot-start"),m="true"===w.getAttribute("data-slot-allday");if(!t.ignoreIsAllDay&&m!==t.isAllDay)return;var v=new Date(Ft(s,p.start)),g=Number(d)-v.getTime(),y=u.map((function(t){if(!t.current)return null;var e=Object(f.h)(t.current.props.dataItem),n=new Date(t.current.props.start.getTime()+g),r=new Date(t.current.props.end.getTime()+g);return Lt(e,p.start,n),Lt(e,p.end,r),e})).filter(Boolean);a.current=w,o=y.slice();break;case dl.start:var b=e.payload.x,x=e.payload.y;if(r.current=b,i.current=x,!(w=Nt(b,x,7)))return;s=Object(f.h)(t.dataItem),d=w.getAttribute("data-slot-start"),v=Ft(s,p.start);if(null===d)return;n.current=Number(d)-new Date(v).getTime();break;case dl.drag:if(Math.abs(r.current-e.payload.x)<10&&Math.abs(i.current-e.payload.y)<10)return;var w;if(!(w=Nt(e.payload.x,e.payload.y,7)))return;if(w===a.current)return;var k=Object(f.h)(t.dataItem),O=(d=w.getAttribute("data-slot-start"),w.getAttribute("data-slot-group"));m="true"===w.getAttribute("data-slot-allday");if(!t.ignoreIsAllDay&&m!==t.isAllDay)return;v=new Date(Ft(k,p.start));var C=new Date(Ft(k,p.end)).getTime()-v.getTime(),_=new Date(Number(d)-Number(n.current)),S=new Date(Number(d)-Number(n.current)+C),E=h.find((function(t){return t.index===Number(O)}));Lt(k,p.start,_),Lt(k,p.end,S),E&&h.length>1&&E.resources.forEach((function(t){t.multiple||Lt(k,t.field,t[t.valueField])})),a.current=w,k&&(o=k);break;case dl.complete:o=null,t.onDataAction&&l&&t.onDataAction.call(void 0,{type:Un.update,series:!1,dataItem:l});break;case dl.completeOccurrence:o=null;var I=Array.isArray(l)?l.slice():Object(f.h)(l);t.onDataAction&&l&&t.onDataAction.call(void 0,{type:Un.update,series:!1,dataItem:I});break;case dl.completeSeries:o=null;var T=void 0;if(Array.isArray(l))T=l.map((function(t){var e=Object(f.h)(t);return Lt(e,p.start,Ft(t,p.start)),Lt(e,p.end,Ft(t,p.end)),e}));else{var D=Object(f.h)(l);Lt(D,p.start,Ft(l,p.start)),Lt(D,p.end,Ft(l,p.end)),T=D}t.onDataAction&&T&&t.onDataAction.call(void 0,{type:Un.update,series:!0,dataItem:T});break;default:o=l}c(o)}]}({dataItem:t.dataItem,ignoreIsAllDay:t.ignoreIsAllDay,isAllDay:t.isAllDay,onDataAction:i},[null,m,v]),Bt=zt[0],Ht=zt[1],Ut=zt[2],Wt=function(t,e){var n=o.useRef(null),r=ke.apply(void 0,e),i=r[0],a=r[1],s=Rn()[0],l=ae();return[i,a,function(e,r){var o=i;switch(e.type){case ml.set:o=e.payload;break;case ml.reset:o=null;break;case ml.start:r.stopPropagation(),r.preventDefault();var c=e.payload.x,u=e.payload.y;if(!(x=Nt(c,u,7)))return;if(x===n.current)return;var p=x.getAttribute("data-slot-start"),h=new Date(Number(p)),d=Object(f.h)(t.dataItem);if(h>=Ft(d,l.end))return;Lt(d,l.start,h),n.current=x,o=d;break;case ml.startDragSelected:r.stopPropagation(),r.preventDefault();c=e.payload.x,u=e.payload.y,d=Object(f.h)(t.dataItem);if(!(x=Nt(c,u,7)))return;if(x===n.current)return;p=x.getAttribute("data-slot-start");var m=new Date(Ft(d,l.start)),v=(h=new Date(Number(p))).getTime()-m.getTime(),g=!1,y=s.map((function(t){if(!t.current)return null;var e=Object(f.h)(t.current.props.dataItem),n=new Date(t.current.props.start.getTime()+v);if(!(n>=Ft(e,l.end)))return Lt(e,l.start,n),e;g=!0})).filter(Boolean);g||(o=y.slice());break;case ml.startDrag:c=e.payload.x,u=e.payload.y;if(!(x=Nt(c,u,7)))return;if(x===n.current)return;p=x.getAttribute("data-slot-start");if((h=new Date(Number(p)))>=(d=Object(f.h)(t.dataItem)).end)return;Lt(d,l.start,h),n.current=x,o=d;break;case ml.endDrag:c=e.payload.x,u=e.payload.y;if(!(x=Nt(c,u,7)))return;if(x===n.current)return;var b=x.getAttribute("data-slot-end");if((w=new Date(Number(b)))<=(d=Object(f.h)(t.dataItem)).start)return;Lt(d,l.end,w),n.current=x,o=d;break;case ml.endDragSelected:r.stopPropagation(),r.preventDefault();var x;c=e.payload.x,u=e.payload.y,d=Object(f.h)(t.dataItem);if(!(x=Nt(c,u,7)))return;if(x===n.current)return;b=x.getAttribute("data-slot-start");var w,k,O=new Date(Ft(d,l.end)),C=(w=new Date(Number(b))).getTime()-O.getTime();y=s.map((function(t){if(!t.current)return null;var e=Object(f.h)(t.current.props.dataItem),n=new Date(t.current.props.end.getTime()+C);if(!(n<=Ft(e,l.start)))return Lt(e,l.end,n),e;k=!0})).filter(Boolean);k||(o=y.slice());break;case ml.complete:case ml.completeOccurrence:o=null,t.onDataAction&&i&&t.onDataAction.call(void 0,{type:Un.update,series:!1,dataItem:i});break;case ml.completeSeries:o=null;var _=void 0;if(Array.isArray(i))_=i.map((function(t){var e=Object(f.h)(t);return Lt(e,l.start,Ft(t,l.start)),Lt(e,l.end,Ft(t,l.end)),e}));else{var S=Object(f.h)(i);Lt(S,l.start,Ft(i,l.start)),Lt(S,l.end,Ft(i,l.end)),_=S}t.onDataAction&&_&&t.onDataAction.call(void 0,{type:Un.update,series:!0,dataItem:_});break;default:o=null}a(o)}]}({dataItem:t.dataItem,onDataAction:i},[null,y,b]),qt=Wt[0],Kt=Wt[1],Gt=Wt[2],Yt=function(t,e){var n=ke.apply(void 0,e),r=n[0],o=n[1];return[r,o,function(e){var n;switch(e.type){case ul.set:n=e.payload;break;case ul.reset:n=null;break;case ul.complete:t.onDataAction&&r&&t.onDataAction.call(void 0,{type:Un.remove,series:t.series,dataItem:r}),n=null;break;default:n=r}o(n)}]}({series:Dt,onDataAction:i},[null,w,k]),Xt=Yt[0],$t=Yt[1],Zt=Yt[2],Jt=fl(!1,S,E),Qt=Jt[0],te=Jt[1],ee=Jt[2],ne=pl(!1,C,_),re=ne[0],oe=ne[1],ie=ne[2],se=An()[0],le=o.useContext(Nn)[1],ue=Ln()[1],pe=Boolean(Et&&Et.some((function(t){return t.current===yt.current}))),he=o.useMemo((function(){return{selected:pe,series:Dt,formItem:jt,dragItem:Bt,resizeItem:qt,removeItem:Xt,showRemoveDialog:Qt,showOccurrenceDialog:re}}),[Bt,jt,Xt,qt,pe,Dt,re,Qt]),de=o.useMemo((function(){var t;return(t={})[vl.set]=Pt,t[vl.toggle]=Pt,t[vl.reset]=Pt,t[rr.select]=It,t[rr.add]=It,t[rr.remove]=It,t[rr.reset]=It,t[rr.selectNext]=It,t[rr.selectPrev]=It,t[il.set]=Rt,t[il.setMaster]=Rt,t[il.reset]=Rt,t[il.complete]=Rt,t[ul.set]=Zt,t[ul.reset]=Zt,t[ul.complete]=Zt,t[cl.close]=ie,t[cl.open]=ie,t[cl.set]=ie,t[cl.toggle]=ie,t[cl.reset]=ie,t[hl.close]=ee,t[hl.open]=ee,t[hl.set]=ee,t[hl.toggle]=ee,t[hl.reset]=ee,t[dl.start]=Ut,t[dl.drag]=Ut,t[dl.complete]=Ut,t[dl.completeOccurrence]=Ut,t[dl.completeSeries]=Ut,t[dl.set]=Ut,t[dl.reset]=Ut,t[dl.dragSelected]=Ut,t[ml.start]=Gt,t[ml.startDrag]=Gt,t[ml.startDragSelected]=Gt,t[ml.endDrag]=Gt,t[ml.endDragSelected]=Gt,t[ml.complete]=Gt,t[ml.completeOccurrence]=Gt,t[ml.completeSeries]=Gt,t[ml.set]=Gt,t[ml.reset]=Gt,t[tr.next]=le,t[tr.prev]=le,t[nr.left]=ue,t[nr.right]=ue,t[nr.up]=ue,t[nr.down]=ue,t.null=function(){},t}),[Ut,Rt,It,Zt,Gt,Pt,ie,ee,le,ue]),fe=o.useCallback((function(e){if(T){var n=T(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e)})):de[n.type](yl({},n,{item:yt})))}I&&I.call(void 0,e)}),[de,I,T,t,he]),me=o.useCallback((function(e){if(P){var n=P(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e)})):de[n.type](yl({},n,{item:yt})))}D&&D.call(void 0,e)}),[de,D,P,t,he]),ve=o.useCallback((function(e){if(j){var n=j(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e)})):de[n.type](yl({},n,{item:yt})))}A&&A.call(void 0,e)}),[de,A,j,t,he]),ye=o.useCallback((function(e){if(R){var n=R(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e)})):de[n.type](yl({},n,{item:yt})))}M&&M.call(void 0,e)}),[de,M,R,t,he]),be=o.useCallback((function(e){if(F){var n=F(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e)})):de[n.type](yl({},n,{item:yt})))}N&&N.call(void 0,e)}),[F,N,t,de,he]),xe=o.useCallback((function(e){if(z){var n=z(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e)})):de[n.type](yl({},n,{item:yt})))}L&&L.call(void 0,e)}),[z,L,t,de,he]),we=o.useCallback((function(e){if(V){var n=V(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e)})):de[n.type](yl({},n,{item:yt}),e))}B&&B.call(void 0,e)}),[V,B,t,de,he]),Oe=o.useCallback((function(e){if(U){var n=U(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e.dragEvent.originalEvent)})):de[n.type](yl({},n,{item:yt}),e.dragEvent.originalEvent))}H&&H.call(void 0,e)}),[U,H,t,de,he]),Ce=o.useCallback((function(e){if(q){var n=q(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e.dragEvent.originalEvent)})):de[n.type](yl({},n,{item:yt}),e.dragEvent.originalEvent))}W&&W.call(void 0,e)}),[q,W,t,de,he]),_e=o.useCallback((function(e){if(G){var n=G(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e.dragEvent.originalEvent)})):de[n.type](yl({},n,{item:yt}),e.dragEvent.originalEvent))}K&&K.call(void 0,e)}),[G,K,t,he,de]),Se=o.useCallback((function(e){if(X){var n=X(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e.dragEvent.originalEvent)})):de[n.type](yl({},n,{item:yt}),e.dragEvent.originalEvent))}Y&&Y.call(void 0,e)}),[Y,X,t,de,he]),Ee=o.useCallback((function(e){if(Z){var n=Z(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e.dragEvent.originalEvent)})):de[n.type](yl({},n,{item:yt}),e.dragEvent.originalEvent))}$&&$.call(void 0,e)}),[$,Z,t,de,he]),Ie=o.useCallback((function(e){if(Q){var n=Q(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e.dragEvent.originalEvent)})):de[n.type](yl({},n,{item:yt}),e.dragEvent.originalEvent))}J&&J.call(void 0,e)}),[Q,J,t,de,he]),Te=o.useCallback((function(e){if(pt){var n=pt(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e)})):de[n.type](yl({},n,{item:yt}),e))}ut&&ut.call(void 0,e)}),[pt,ut,t,he,de]),De=o.useCallback((function(e){if(dt){var n=dt(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e)})):de[n.type](yl({},n,{item:yt}),e))}ht&&ht.call(void 0,e)}),[dt,ht,t,he,de]),Pe=o.useCallback((function(e){if(et){var n=et(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e)})):de[n.type](yl({},n,{item:yt}),e))}tt&&tt.call(void 0,e)}),[et,tt,t,he,de]),Ae=o.useCallback((function(e){if(rt){var n=rt(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e)})):de[n.type](yl({},n,{item:yt}),e))}nt&&nt.call(void 0,e)}),[rt,nt,t,he,de]),je=o.useCallback((function(e){if(it){var n=it(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e.syntheticEvent)})):de[n.type](yl({},n,{item:yt}),e.syntheticEvent))}ot&&ot.call(void 0,e)}),[it,ot,t,he,de]),Me=o.useCallback((function(e){if(st){var n=st(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e.syntheticEvent)})):de[n.type](yl({},n,{item:yt}),e.syntheticEvent))}at&&at.call(void 0,e)}),[st,at,t,he,de]),Re=o.useCallback((function(e){if(ct){var n=ct(e,t,he);n&&(Array.isArray(n)?n.filter(Boolean).map((function(t){return t&&de[t.type](yl({},t,{item:yt}),e.syntheticEvent)})):de[n.type](yl({},n,{item:yt}),e.syntheticEvent))}lt&&lt.call(void 0,e)}),[ct,lt,t,he,de]);return o.useEffect((function(){var e=se.length&&se[0].current===yt.current;vt(void 0!==t.tabIndex?null===t.tabIndex?void 0:t.tabIndex:0===Et.length&&e?0:void 0)}),[se,t.tabIndex,Et.length]),o.createElement(vn,{props:t,form:[jt,Mt,Rt],drag:[Bt,Ht,Ut],resize:[qt,Kt,Gt],remove:[Xt,$t,Zt],showRemoveDialog:[Qt,te,ee],showOccurrenceDialog:[re,oe,ie]},o.createElement(bt,yl({},t,{_ref:yt,itemRef:yt,selected:pe,tabIndex:mt,onKeyDown:je,onKeyUp:Me,onFocus:fe,onMouseUp:ve,onMouseDown:me,onClick:ye,onDoubleClick:be,onRemoveClick:xe,onPress:we,onDrag:Oe,onRelease:Ce,onResizePress:_e,onResizeEndDrag:Ee,onResizeStartDrag:Se,onResizeRelease:Ie})),Bt&&_t.drag&&(Array.isArray(Bt)?Bt.map((function(e,n){return o.createElement(xt,{key:n,ignoreIsAllDay:a,dataItem:e,vertical:t.vertical,viewItem:bt,item:t.item})})):o.createElement(xt,{ignoreIsAllDay:a,dataItem:Bt,vertical:t.vertical,viewItem:bt,item:t.item})),qt&&_t.resize&&(Array.isArray(qt)?qt.map((function(e,n){return o.createElement(wt,{key:n,format:t.format,ignoreIsAllDay:a,dataItem:e,viewItem:t.viewItem,item:t.item,vertical:t.vertical})})):o.createElement(wt,{format:t.format,ignoreIsAllDay:a,dataItem:qt,viewItem:t.viewItem,item:t.item,vertical:t.vertical})),jt&&!re&&_t.edit&&o.createElement(kt,{dataItem:jt,onSubmit:Te,onClose:De,onCancel:De}),re&&o.createElement(Ot,{dataItem:jt||Bt||qt||Xt,isRemove:null!==Xt,onClose:De,onOccurrenceClick:Pe,onSeriesClick:Ae}),Qt&&Xt&&_t.remove&&o.createElement(Ct,{dataItem:Xt,onClose:De,onCancel:De,onConfirm:Re}))})),xl={viewItem:tl,drag:rl,resize:sl,form:ks,occurrenceDialog:Ma,removeDialog:ja,onClickAction:function(t,e,n){return[{type:t.syntheticEvent.metaKey||t.syntheticEvent.ctrlKey?!n.selected||n.dragItem||n.resizeItem?rr.add:rr.remove:rr.select}]},onDoubleClickAction:function(t,e){return e.editable?[{type:il.set,payload:e.dataItem},e.isRecurring&&{type:cl.open}].filter(Boolean):[]},onRemoveClickAction:function(t,e){return e.editable?[{type:ul.set,payload:e.dataItem},e.isRecurring?{type:cl.open}:{type:hl.open}]:[]},onPressAction:function(t,e){return e.editable?{type:dl.start,payload:{x:t.dragEvent.clientX,y:t.dragEvent.clientY}}:[]},onDragAction:function(t,e){return e.editable?{type:t.dragEvent.originalEvent.metaKey||t.dragEvent.originalEvent.ctrlKey?dl.dragSelected:dl.drag,payload:{x:t.dragEvent.clientX,y:t.dragEvent.clientY}}:[]},onReleaseAction:function(t,e,n){return e.editable&&n.dragItem?e.isRecurring&&!e.isException&&null===n.series?{type:cl.open}:{type:e.isRecurring?n.series?dl.completeSeries:dl.completeOccurrence:dl.complete,payload:{x:t.dragEvent.clientX,y:t.dragEvent.clientY}}:[]},onResizePressAction:function(t,e){return e.editable?{type:ml.start,payload:{x:t.dragEvent.clientX,y:t.dragEvent.clientY}}:[]},onResizeStartDragAction:function(t,e){return e.editable?{type:t.dragEvent.originalEvent.metaKey||t.dragEvent.originalEvent.ctrlKey?ml.startDragSelected:ml.startDrag,payload:{x:t.dragEvent.clientX,y:t.dragEvent.clientY}}:[]},onResizeEndDragAction:function(t,e){return e.editable?{type:t.dragEvent.originalEvent.metaKey||t.dragEvent.originalEvent.ctrlKey?ml.endDragSelected:ml.endDrag,payload:{x:t.dragEvent.clientX,y:t.dragEvent.clientY}}:[]},onResizeReleaseAction:function(t,e,n){return e.editable&&n.resizeItem?e.isRecurring&&!e.isException&&null===n.series?{type:cl.open}:{type:e.isRecurring?n.series?ml.completeSeries:ml.completeOccurrence:ml.complete,payload:{x:t.dragEvent.clientX,y:t.dragEvent.clientY}}:[]},onOccurrenceClickAction:function(t,e,n){return n.dragItem?[{type:dl.completeOccurrence},{type:cl.close}]:n.resizeItem?[{type:ml.completeOccurrence},{type:cl.close}]:n.formItem?[{type:vl.set,payload:!1},{type:il.set,payload:e.dataItem},{type:cl.close}]:n.removeItem?[{type:vl.set,payload:!1},{type:ul.set,payload:e.dataItem},{type:hl.open},{type:cl.close}]:void 0},onSeriesClickAction:function(t,e,n){return n.dragItem?[{type:dl.completeSeries},{type:cl.close}]:n.resizeItem?[{type:ml.completeSeries},{type:cl.close}]:n.formItem?[{type:vl.set,payload:!0},{type:il.setMaster,payload:e.dataItem},{type:cl.close}]:n.removeItem?[{type:vl.set,payload:!0},{type:ul.set,payload:e.dataItem},{type:hl.open},{type:cl.close}]:void 0},onKeyDownAction:function(t,e){switch(t.syntheticEvent.keyCode){case f.d.enter:return[{type:il.set,payload:e.dataItem},e.isRecurring&&{type:cl.open}];case f.d.tab:return[{type:t.syntheticEvent.shiftKey?tr.prev:tr.next,ignoreIsAllDay:e.ignoreIsAllDay},{type:t.syntheticEvent.shiftKey?rr.selectPrev:rr.selectNext,ignoreIsAllDay:e.ignoreIsAllDay}];case f.d.up:return[Boolean(e.slots.length&&e.slots[0]._ref.current)&&{type:nr.up,slot:e.slots[0]._ref}];case f.d.right:return[Boolean(e.slots.length&&e.slots[0]._ref.current)&&{type:nr.right,slot:e.slots[0]._ref}];case f.d.down:return[Boolean(e.slots.length&&e.slots[e.slots.length-1]._ref.current)&&{type:nr.down,slot:e.slots[e.slots.length-1]._ref}];case f.d.left:return[Boolean(e.slots.length&&e.slots[0]._ref.current)&&{type:nr.left,slot:e.slots[0]._ref}];default:return}},onFormSubmitAction:function(t){return{type:il.complete,payload:t.value}},onRemoveConfirmAction:function(){return[{type:ul.complete},{type:cl.close}]},onCancelAction:function(){return[{type:vl.reset},{type:ul.reset},{type:il.reset},{type:dl.reset},{type:ml.reset},{type:hl.reset},{type:cl.reset}]}};bl.defaultProps=xl,bl.displayName="KendoReactSchedulerEditItem";var wl=function(t){var e,n=o.useState(!1),r=n[0],i=n[1],s=te(),l=ne(),c=o.useRef(void 0),u=o.useRef(null),h=o.useRef(null),d=t.updateInterval||kl.updateInterval,m=o.useState(!1)[1],v=Object(f.z)(h,!0===l.rtl?"rtl":void 0),g=Dn()[0],y=o.useCallback((function(){if(g){var e,n,r,o=g.filter((function(e){return e.current&&(void 0===t.groupIndex||null===t.groupIndex||e.current.props.group.index===t.groupIndex)&&(t.vertical?qt(new Date,new Date,e.current.props.start,e.current.props.end,!0):Gt(new Date,e.current.props.start,e.current.props.end))&&!e.current.props.isAllDay}));if(o&&o.length&&u.current&&h.current){var s=At(o);if(!s.current)return;var l=t.vertical?function(t){var e=0;return t.forEach((function(t){if(t.current){var n=p(t.current.element);e+=n.height}})),e}(o):function(t){var e=0;return t.forEach((function(t){if(t.current){var n=p(t.current.element);e+=n.width}})),e}(o),c=p(s.current.element),d=p(u.current),f=(t.vertical?c.width:c.height)/(s.current.props.end.getTime()-s.current.props.start.getTime()),m=(Date.now()-(e=new Date,n=s.current.props.start,r=Object(a.cloneDate)(e),r.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),r).getTime())*f,y="rtl"===v,b=t.vertical?c.top:c.top+m-d.height/2,x=y?"right":"left",w=t.vertical?c[x]+m-d.width/2:c[x];t.vertical?u.current.style[x]=w+"px":u.current.style.top=b+"px",h.current.style[x]=w+"px",h.current.style.top=b+"px",h.current.style[t.vertical?"height":"width"]=l-1+"px",i(!0)}else i(!1)}}),[g,t.groupIndex,t.vertical,v]),b=o.useCallback((function(){y(),m((function(t){return!t}))}),[y]);o.useEffect((function(){if(s.current&&window){clearInterval(c.current),c.current=window.setInterval(b,d);var t=new window.ResizeObserver(b);return t.observe(s.current),function(){clearInterval(c.current),t.disconnect()}}}),[y,b,s,d]),o.useEffect(y);var x=o.createElement("div",{ref:u,className:Object(f.g)("k-current-time",{"k-current-time-arrow-right":!t.vertical&&"rtl"!==v,"k-current-time-arrow-left":!t.vertical&&"rtl"===v,"k-current-time-arrow-down":t.vertical}),style:{transform:t.vertical?"rtl"===v?"translateX(50%)":"translateX(-50%)":"translateY(-50%)",visibility:r?void 0:"hidden"}});return o.createElement(o.Fragment,null,t.attachArrow&&t.attachArrow.current?Pa.createPortal(x,t.attachArrow.current):x,o.createElement("div",{className:"k-current-time",ref:h,style:(e={transform:t.vertical?"translateX(-50%)":"translateY(-50%)"},e[t.vertical?"width":"height"]="1px",e.visibility=r?void 0:"hidden",e)}))},kl={updateInterval:6e4};wl.defaultProps=kl;var Ol=function(){return(Ol=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Cl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},_l=o.forwardRef((function(t,e){var n=t.as,r=void 0===n?Sl.as:n,i=Cl(t,["as"]),a=o.useRef(null),s=o.useRef(null),l=Object(Oe.useInternationalization)(),c=o.useMemo((function(){return Object(f.g)("k-scheduler-cell k-heading-cell",t.className)}),[t.className]);return o.useImperativeHandle(s,(function(){return{element:a.current&&a.current.element?a.current.element:a.current,props:t}})),o.useImperativeHandle(e,(function(){return s.current})),o.createElement(r,Ol({ref:r!==Sl.as?void 0:a},i,{className:c}),o.createElement("span",{className:"k-link k-nav-day"},l.formatDate(t.date,t.format)))})),Sl={as:o.forwardRef((function(t,e){t.as,t.format,t.start,t.end;var n=Cl(t,["as","format","start","end"]);return o.createElement("div",Ol({},n,{ref:e}))})),format:"d"};_l.defaultProps=Sl,_l.displayName="KendoReactSchedulerDateHeaderCell";var El=function(){return(El=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Il=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Tl=o.forwardRef((function(t,e){var n=t.as,r=void 0===n?Dl.as:n,i=Il(t,["as"]),a=o.useRef(null),s=o.useRef(null),l=Object(Oe.useInternationalization)(),c=o.useMemo((function(){return Object(f.g)("k-scheduler-cell k-heading-cell",t.className)}),[t.className]);return o.useImperativeHandle(s,(function(){return{element:a.current&&a.current.element?a.current.element:a.current,props:t}})),o.useImperativeHandle(e,(function(){return s.current})),o.createElement(r,El({ref:r!==Dl.as?void 0:a},i,{className:c}),l.formatDate(t.date,t.format))})),Dl={as:o.forwardRef((function(t,e){t.as,t.format,t.start,t.end;var n=Il(t,["as","format","start","end"]);return o.createElement("div",El({},n,{ref:e}))})),format:"t"};Tl.defaultProps=Dl,Tl.displayName="KendoReactSchedulerTimeHeaderCell";var Pl=function(){return(Pl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Al=function(t){var e=ne(),n=e.group,r=e.timezone,i=e.resources,s=o.useRef(null),l=o.useRef(null),c=t.editItem||bl,u=t.editSlot||As,p=o.useRef(null),m=ge()[0],v=de(),g=ce(),y=pe(),b=ae(),x=Object(Oe.useInternationalization)(),w=t.showWorkHours,k=t.slotDivisions||jl.slotDivisions,O=t.slotDuration||jl.slotDuration,C=x.parseDate(t.workDayStart||t.isWorkDayStart||jl.isWorkDayStart),_=x.parseDate(t.workDayEnd||t.isWorkDayEnd||jl.isWorkDayEnd),S=x.parseDate(t.startTime||jl.startTime),E=x.parseDate(t.endTime||jl.endTime),I=o.useMemo((function(){return w?C:S}),[w,C,S]),T=o.useMemo((function(){return w?_:E}),[w,_,E]),D=o.useMemo((function(){return br(y,{step:a.MS_PER_DAY,timezone:r})}),[y.start.getTime(),y.end.getTime(),r]),P=o.useMemo((function(){return _a(0,{step:O/k*a.MS_PER_MINUTE},{groups:g,ranges:D}).filter((function(t){return Gt(t.zonedStart,I,T)||I.getTime()===T.getTime()}))}),[g,D,y.start.getTime(),y.end.getTime(),r,O,k,I.getTime(),T.getTime()]),A=o.useMemo((function(){return ma(m,{dateRange:y,fields:b,timezone:r})}),[m,y.start.getTime(),y.end.getTime(),b,r]),j=o.useMemo((function(){return xa(A,{timezone:r},{groups:g,ranges:D}).filter((function(t){return I.getTime()===T.getTime()||Gt(t.zonedStart,I,T)||Gt(t.zonedEnd,I,T)||Gt(new Date(t.zonedEnd.getTime()-(t.zonedEnd.getTime()-t.zonedStart.getTime())/2),I,T)}))}),[A,r,g,D,I.getTime(),T.getTime()]);o.useMemo((function(){return $t(j,P,!0)}),[j,P]),o.useMemo((function(){return Xt(j,P,!0)}),[j,P]);var M=("horizontal"===v?P.length:P.length/g.length)*((t.columnWidth||jl.columnWidth)+1),R=o.createElement(ur.Consumer,null,(function(){return o.createElement(o.Fragment,null,o.createElement("div",{className:"k-scheduler-row"},D.map((function(e,n){return o.createElement(_l,{as:t.dateHeaderCell,key:n,date:e.zonedStart,start:e.start,end:e.end,format:"m"})}))),o.createElement("div",{className:"k-scheduler-row",ref:s},D.map((function(e,n){return P.filter((function(t){return 0===t.group.index&&t.range.index===n})).map((function(e){return e.zonedStart.getMinutes()%O==0?o.createElement(Tl,{key:e.index,as:t.timeHeaderCell,format:"t",date:e.zonedStart,start:e.zonedStart,end:e.zonedEnd}):null}))}))))})),N=o.createElement(ur.Consumer,null,(function(e){var n=e.groupIndex;return o.createElement("div",{className:"k-scheduler-row"},D.map((function(e,r){return P.filter((function(t){return t.group.index===n&&t.range.index===r})).map((function(e,i,a){return o.createElement(u,Pl({key:e.start.getTime()+":"+e.group.index,slot:t.slot,viewSlot:t.viewSlot},e,{form:t.form,onDataAction:t.onDataAction,isWorkHour:Gt(e.zonedStart,C,_),col:"horizontal"===v?r*a.length+i+a.length*D.length*(n||0):r*a.length+i,row:"horizontal"===v?0:n||0,expandable:!0,editable:t.editable}))}))})))})),F=o.useMemo((function(){return Object(f.g)("k-scheduler-timeline-view",t.className)}),[t.className]);return Jn({element:p,selector:".k-resource-cell",attribute:"data-depth-index",explicitDepth:!0}),function(t,e){var n=t.element;o.useEffect((function(){if(n&&n.current){var e=[[]];Array.from(n.current.querySelectorAll(t.selector)).filter((function(e){return!e.classList.contains((n=t.applyTo,n.slice(1,n.length)));var n})).forEach((function(n){var r=n.clientHeight,o=n.getAttribute(t.horizontalAttribute),i=n.getAttribute(t.verticalAttribute);null!==o&&null!==i&&(e[o]||(e[o]=[]),(!e[o][i]||r>e[o][i])&&(e[o][i]=r-1))})),Array.from(n.current.querySelectorAll(t.applyTo)).forEach((function(n){var r=n.getAttribute(t.horizontalAttribute),o=n.getAttribute(t.verticalAttribute);if(null!==r&&null!==o){var i=h(n),a=e[r][o]-i;d(n,{height:a},!0)}}))}}),e)}({element:p,selector:".k-resource-row",horizontalAttribute:"data-depth-index",verticalAttribute:"data-resource-index",applyTo:".k-resource-cell"}),o.createElement(o.Fragment,null,o.createElement(cr,{ref:p,id:t.id,style:Pl({},t.style),className:F,props:t,slots:P,ranges:D},o.createElement("div",{className:"k-scheduler-head",style:{width:M}},"horizontal"===v?o.createElement(Vs,{nested:!0,group:n,resources:i,rowContent:Ks},R):o.createElement(pr,{wrapGroup:!0,group:n,resources:i},R)),o.createElement("div",{className:"k-scheduler-body",style:{width:M},ref:l},"horizontal"===v?o.createElement(Vs,{group:n,resources:i,rowContent:Gs},N,o.createElement(ur.Consumer,null,(function(e){var n=e.groupIndex;return t.currentTimeMarker&&qt(At(D).start,jt(D).end,new Date,new Date,!0)&&o.createElement(wl,{groupIndex:n,attachArrow:s,vertical:!0})}))):o.createElement(pr,{nested:!0,wrapGroup:!0,group:n,resources:i},N),"vertical"===v&&t.currentTimeMarker&&qt(At(D).start,jt(D).end,new Date,new Date,!0)&&o.createElement(wl,{attachArrow:s,vertical:!0}),j.map((function(e){return o.createElement(c,Pl({key:e.isRecurring?e.uid+":"+e.group.index+":"+e.range.index+":"+e.originalStart:e.uid+":"+e.group.index+":"+e.range.index},e,{format:"t",form:t.form,onDataAction:t.onDataAction,item:t.item,viewItem:t.viewItem,editable:t.editable,ignoreIsAllDay:!0,vertical:!1}))})))))},jl={name:"multi-day-timeline",title:"Multi Day Timeline",currentTimeMarker:!0,dateRange:function(t){var e=t.date,n=t.numberOfDays,r=void 0===n?1:n,o=t.timezone,i=a.ZonedDate.fromLocalDate(e,o),s=Object(a.getDate)(i),l=Object(a.addDays)(s,r),c=a.ZonedDate.fromUTCDate(Bt(s),o),u=a.ZonedDate.fromUTCDate(Bt(l),o);return{start:new Date(c.getTime()),end:new Date(u.getTime()),zonedStart:c,zonedEnd:u}},selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",step:1,numberOfDays:1,startTime:"00:00",endTime:"00:00",isWorkDayStart:"8:00",isWorkDayEnd:"17:00",workWeekStart:a.Day.Monday,workWeekEnd:a.Day.Friday,slotDivisions:2,slotDuration:60,defaultShowWorkHours:!0,columnWidth:100};Al.defaultProps=jl;var Ml=function(){return(Ml=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Rl=function(t){return o.createElement(Al,Ml({},t))},Nl={name:"timeline",title:function(t){return t.toLanguageString("scheduler.timelineViewTitle",Ye["scheduler.timelineViewTitle"])},dateRange:jl.dateRange,step:1,slotDuration:60,slotDivisions:2,numberOfDays:1,selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}"};Rl.defaultProps=Nl,Rl.displayName="KendoReactSchedulerTimelineView";var Fl=function(t){return o.createElement(o.Fragment,null,o.createElement("div",{className:"k-scheduler-cell k-side-cell","data-range-index":t.rangeIndex}),t.children)},Ll=function(t){var e=Object(Oe.useLocalization)();return o.createElement(o.Fragment,null,o.createElement("div",{className:"k-scheduler-cell k-heading-cell k-side-cell k-scheduler-times-all-day"},e.toLanguageString(ze,Ye[ze])),t.children)},zl=function(t){var e=t.slot,n=t.children;return o.createElement(o.Fragment,null,t.isMaster?o.createElement(Tl,{as:t.timeHeaderCell,date:e.zonedStart,start:e.zonedStart,end:e.zonedEnd,className:Object(f.g)("k-side-cell",{"k-major-cell":!t.isLast})}):o.createElement("div",{className:"k-scheduler-cell k-heading-cell k-side-cell"}),n)},Bl=function(){return(Bl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Vl=o.createElement("div",{className:"k-scheduler-cell k-side-cell"}),Hl=function(t){var e=ne(),n=e.group,r=e.timezone,i=e.resources,s=Object(Oe.useInternationalization)(),l=t.editItem||bl,c=t.editSlot||As,u=t.showWorkHours,p=t.numberOfDays||Ul.numberOfDays,h=t.slotDivisions||Ul.slotDivisions,d=t.slotDuration||Ul.slotDuration,m=t.workWeekStart||Ul.workWeekStart,v=t.workWeekEnd||Ul.workWeekEnd,g=s.parseDate(t.workDayStart||t.isWorkDayStart||Ul.isWorkDayStart),y=s.parseDate(t.workDayEnd||t.isWorkDayEnd||Ul.isWorkDayEnd),b=s.parseDate(t.startTime||Ul.startTime),x=s.parseDate(t.endTime||Ul.endTime),w=ge()[0],k=ce(),O=de(),C=ae(),_=pe(),S=o.useMemo((function(){return u?g:b}),[u,g,b]),E=o.useMemo((function(){return u?y:x}),[u,y,x]),I=o.useMemo((function(){return br(_,{step:a.MS_PER_DAY*p,timezone:r}).map((function(t){return Bl({},t,{isAllDay:!0})}))}),[_.start.getTime(),_.end.getTime(),p]),T=o.useMemo((function(){return br(_,{step:a.MS_PER_DAY,timezone:r}).map((function(t){return Bl({},t,{isAllDay:!1})}))}),[_.start.getTime(),_.end.getTime(),r]),D=o.useMemo((function(){return _a(0,{step:a.MS_PER_DAY},{groups:k,ranges:I})}),[_.start.getTime(),_.end.getTime(),r,I,k]),P=o.useMemo((function(){return _a(0,{step:6e4*d/h},{groups:k,ranges:T}).filter((function(t){return E.getTime()===S.getTime()||Gt(t.zonedStart,S,E)}))}),[_.start.getTime(),_.end.getTime(),d,h,S.getTime(),E.getTime(),k,T]),A=o.useMemo((function(){return ma(w,{dateRange:_,fields:C,timezone:r})}),[w,_.start.getTime(),_.end.getTime(),C,r]),j=o.useMemo((function(){return A.filter((function(t){return t.isAllDay}))}),[A]),M=o.useMemo((function(){return A.filter((function(t){return!t.isAllDay}))}),[A]),R=o.useMemo((function(){return xa(j,{timezone:r},{groups:k,ranges:I})}),[A,r,k,I]),N=o.useMemo((function(){return xa(M,{timezone:r},{groups:k,ranges:T}).filter((function(t){return S.getTime()===E.getTime()||Gt(t.zonedStart,S,E)||Gt(t.zonedEnd,S,E)||Gt(new Date(t.zonedEnd.getTime()-(t.zonedEnd.getTime()-t.zonedStart.getTime())/2),S,E)}))}),[A,r,k,T,S.getTime(),E.getTime()]);o.useMemo((function(){return $t(R,D,!1)}),[R,D]),o.useMemo((function(){return Xt(R,D,!1)}),[R,D]),o.useMemo((function(){return $t(N,P,!1)}),[N,P]),o.useMemo((function(){return Xt(N,P,!1)}),[N,P]);var F=o.createElement(ur.Consumer,null,(function(e){var n=e.groupIndex;return o.createElement("div",{className:"k-scheduler-row",key:n},T.map((function(e,n){return o.createElement(_l,{as:t.dateHeaderCell,key:n,date:new Date(e.zonedEnd.getTime()-(e.zonedEnd.getTime()-e.zonedStart.getTime())/2),start:e.start,end:e.end,format:{skeleton:"MEd"}})})))})),L=o.createElement(ur.Consumer,null,(function(e){var n=e.groupIndex;return o.createElement("div",{key:n,className:"k-scheduler-row"},I.map((function(e,r){return D.filter((function(t){return t.group.index===n&&t.range.index===r})).map((function(e,r,i){return o.createElement(c,Bl({},e,{onDataAction:t.onDataAction,form:t.form,slot:t.slot,viewSlot:t.viewSlot,key:e.start.getTime()+":"+e.group.index,row:0,col:"horizontal"===O?i.length*(n||0)+r:r,isWorkDay:0<=e.zonedStart.getDay()+(p-m)&&(e.zonedStart.getDay()+(p-m))%p<=v+(p-m),expandable:!0}))}))})))})),z=o.useMemo((function(){return Object(f.g)("k-scheduler-day-view",t.className)}),[t.className]);return o.createElement(o.Fragment,null,o.createElement(cr,{id:t.id,props:t,style:t.style,className:z,ranges:I.concat(T),slots:D.concat(P)},o.createElement("div",{className:"k-scheduler-head"},"horizontal"===O?o.createElement(o.Fragment,null,o.createElement(Vs,{nested:!0,group:n,resources:i,rowContent:Fl,childRowContent:Fl},F),o.createElement(Vs,{group:n,resources:i,rowContent:Ll,childRowContent:Ll},L),R.map((function(e){return o.createElement(l,Bl({key:e.isRecurring?e.uid+":"+e.group.index+":"+e.range.index+":"+e.originalStart:e.uid+":"+e.group.index+":"+e.range.index},e,{form:t.form,onDataAction:t.onDataAction,item:t.item,viewItem:t.viewItem,editable:t.editable,vertical:!1}))}))):o.createElement(pr,{group:n,resources:i,cellContent:Vl},F)),o.createElement("div",{className:"k-scheduler-body"},"horizontal"===O?o.createElement(o.Fragment,null,P.filter((function(t){return 0===t.group.index&&0===t.range.index})).map((function(e,r){return o.createElement(o.Fragment,{key:e.index},o.createElement(Vs,{nested:!1,group:n,resources:i,rowContent:zl,rowContentProps:{timeHeaderCell:t.timeHeaderCell,isMaster:r%h==0,isLast:(r+1)%h==0,slot:e}},o.createElement(ur.Consumer,null,(function(n){var i=n.groupIndex;return o.createElement("div",{className:Object(f.g)("k-scheduler-row",{"k-middle-row":!((r+1)%h==0)})},T.map((function(n,a){return P.filter((function(t){return t.index===e.index&&t.range.index===a&&t.group.index===i})).map((function(e){return o.createElement(c,Bl({key:e.start.getTime()+":"+e.group.index},e,{onDataAction:t.onDataAction,slot:t.slot,viewSlot:t.viewSlot,form:t.form,row:r+1,col:T.length*(i||0)+a,isWorkHour:Gt(e.zonedStart,g,y),isWorkDay:0<=e.zonedStart.getDay()+(p-m)&&(e.zonedStart.getDay()+(p-m))%p<=v+(p-m),editable:t.editable}))}))})))}))))})),t.currentTimeMarker&&qt(At(T).start,jt(T).end,new Date,new Date,!0)&&o.createElement(wl,null)):o.createElement(o.Fragment,null,o.createElement(pr,{nested:!0,group:n,resources:i},o.createElement(ur.Consumer,null,(function(e){var n=e.groupIndex;return o.createElement(o.Fragment,{key:n},o.createElement("div",{className:"k-scheduler-row"},o.createElement(Ll,{groupIndex:n},I.map((function(e,r){var i=P.filter((function(t){return t.group.index===n&&0===t.range.index})).length;return D.filter((function(t){return t.group.index===n&&t.range.index===r})).map((function(e,r){return o.createElement(c,Bl({slot:t.slot,viewSlot:t.viewSlot,form:t.form},e,{onDataAction:t.onDataAction,key:e.start.getTime()+":"+e.group.index,className:"k-scheduler-alldays-slot",row:i*(n||0)+1*(n||0),col:r,expandable:!0}))}))})))),P.filter((function(t){return t.group.index===n&&0===t.range.index})).map((function(e,r,i){return o.createElement("div",{className:"k-scheduler-row",key:e.index},o.createElement(zl,{slot:e,isMaster:r%h==0,isLast:(r+1)%h==0,timeHeaderCell:t.timeHeaderCell},T.map((function(a,s){return P.filter((function(t){return t.index===e.index&&t.group.index===n&&t.range.index===s})).map((function(e){return o.createElement(c,Bl({slot:t.slot,viewSlot:t.viewSlot,form:t.form,onDataAction:t.onDataAction},e,{key:e.start.getTime()+":"+e.group.index,row:i.length*(n||0)+r+1*(n||0)+1,col:s,editable:t.editable,isWorkHour:Gt(e.zonedStart,g,y),isWorkDay:0<=e.zonedStart.getDay()+(p-m)&&(e.zonedStart.getDay()+(p-m))%p<=v+(p-m)}))}))}))))})),t.currentTimeMarker&&qt(At(T).start,jt(T).end,new Date,new Date,!0)&&o.createElement(wl,{groupIndex:n}))}))),R.map((function(e){return o.createElement(l,Bl({key:e.isRecurring?e.uid+":"+e.group.index+":"+e.range.index+":"+e.originalStart:e.uid+":"+e.group.index+":"+e.range.index},e,{onDataAction:t.onDataAction,viewItem:t.viewItem,item:t.item,form:t.form,editable:t.editable,vertical:!1}))}))),N.map((function(e){return o.createElement(l,Bl({key:e.isRecurring?e.uid+":"+e.group.index+":"+e.range.index+":"+e.originalStart:e.uid+":"+e.group.index+":"+e.range.index},e,{format:"t",onDataAction:t.onDataAction,viewItem:t.viewItem,item:t.item,form:t.form,editable:t.editable,vertical:!0}))})))))},Ul={name:"multi-day",title:"Multi Day",currentTimeMarker:!0,dateRange:function(t){var e=t.date,n=t.numberOfDays,r=void 0===n?1:n,o=t.timezone,i=a.ZonedDate.fromLocalDate(e,o),s=Object(a.getDate)(i),l=Object(a.addDays)(s,r),c=a.ZonedDate.fromUTCDate(Bt(s),o),u=a.ZonedDate.fromUTCDate(Bt(l),o);return{start:new Date(c.getTime()),end:new Date(u.getTime()),zonedStart:c,zonedEnd:u}},selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",numberOfDays:1,startTime:"00:00",endTime:"23:59",isWorkDayStart:"08:00",isWorkDayEnd:"17:00",workWeekStart:a.Day.Monday,workWeekEnd:a.Day.Friday,step:1,slotDivisions:2,slotDuration:60,showCurrentTime:!0,defaultShowWorkHours:!0};Hl.propTypes={currentTimeMarker:i.bool,name:i.string,numberOfDays:i.number,startTime:i.string,endTime:i.string,workDayStart:i.string,workDayEnd:i.string,workWeekStart:i.number,workWeekEnd:i.any,slotDivisions:i.number,slotDuration:i.number,showWorkHours:i.bool,selectedDateFormat:i.string,selectedShortDateFormat:i.string},Hl.defaultProps=Ul,Hl.displayName="KendoReactSchedulerMultiDayView";var Wl=function(){return(Wl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ql=function(t){return o.createElement(Hl,Wl({},t))},Kl={name:"day",title:function(t){return t.toLanguageString("scheduler.dayViewTitle",Ye["scheduler.dayViewTitle"])},dateRange:Ul.dateRange,step:1,numberOfDays:1,slotDuration:60,slotDivisions:2,selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}"};ql.defaultProps=Kl,ql.displayName="KendoReactSchedulerDayView";var Gl=function(){return(Gl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Yl=function(t){return o.createElement(Hl,Gl({},t,{step:7,numberOfDays:t.numberOfDays}))},Xl={name:"week",slotDuration:60,slotDivisions:2,numberOfDays:7,dateRange:function(t){var e=t.intl,n=t.date,r=t.timezone,o=a.ZonedDate.fromLocalDate(n,r),i=function(t){return Object(a.getDate)(t)}(Object(a.firstDayInWeek)(o,e.firstDay())),s=function(t,e){return Object(a.getDate)(Object(a.addDays)(t,e||1))}(i,7),l=a.ZonedDate.fromUTCDate(Bt(i),r),c=a.ZonedDate.fromUTCDate(Bt(s),r);return{start:new Date(l.getTime()),end:new Date(c.getTime()),zonedStart:l,zonedEnd:c}},title:function(t){return t.toLanguageString("scheduler.weekViewTitle",Ye["scheduler.weekViewTitle"])},selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"};Yl.defaultProps=Xl,Yl.displayName="KendoReactSchedulerWeekView";var $l=function(){return($l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Zl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Jl=function(t){var e=pe(),n=Math.round((e.end.getTime()-e.start.getTime())/a.MS_PER_DAY);return o.createElement(Hl,$l({},t,{step:7,numberOfDays:n}))},Ql={name:"work-week",slotDuration:60,slotDivisions:2,numberOfDays:7,dateRange:function(t){t.intl;var e=t.date,n=t.timezone,r=Zl(t,["intl","date","timezone"]),o=a.ZonedDate.fromLocalDate(e,n),i=void 0!==r.workWeekStart?r.workWeekStart:a.Day.Monday,s=void 0!==r.workWeekEnd?r.workWeekEnd:a.Day.Friday,l=s<i?7+s-i+1:s-i+1,c=Object(a.getDate)(function(t,e){void 0===e&&(e=a.Day.Sunday);for(var n=t.clone();n.getDay()!==e;)n=n.addDays(-1);return n}(o,i)),u=Object(a.addDays)(c,l),p=a.ZonedDate.fromUTCDate(Bt(c),n),h=a.ZonedDate.fromUTCDate(Bt(u),n);return{start:new Date(p.getTime()),end:new Date(h.getTime()),zonedStart:p,zonedEnd:h}},title:function(t){return t.toLanguageString("scheduler.workWeekViewTitle",Ye["scheduler.workWeekViewTitle"])},workWeekStart:a.Day.Monday,workWeekEnd:a.Day.Friday,selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"};Jl.defaultProps=Ql,Jl.displayName="KendoReactSchedulerWorkWeekView";var tc=function(){return(tc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ec=o.forwardRef((function(t,e){var n=o.useRef(null),r=o.useRef(null);o.useImperativeHandle(n,(function(){return tc({element:r.current},t)})),o.useImperativeHandle(e,(function(){return n.current}));var i=o.useCallback((function(e){t.onClick&&n.current&&t.onClick.call(void 0,{target:n.current,syntheticEvent:e})}),[n,t.slot,t.onClick]);return o.createElement("button",{ref:r,tabIndex:-1,className:"k-more-events k-button",onClick:i},o.createElement("span",{className:"k-icon k-i-more-horizontal"}))}));ec.displayName="KendoReactSchedulerShowMoreItemsButton";var nc=function(){return(nc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},rc={skeleton:"dd"},oc=function(t){var e=ne(),n=e.group,r=e.timezone,i=e.resources,s=t.editItem||bl,l=t.editSlot||As,c=ge()[0],u=me()[1],p=be()[1],h=oe(),d=ce(),m=de(),v=pe(),g=Object(Oe.useInternationalization)(),y=ae(),b=t.itemsPerSlot||ic.itemsPerSlot,x=o.useMemo((function(){return br(v,{step:7*a.MS_PER_DAY,timezone:r})}),[v.start.getTime(),v.end.getTime(),r]),w=o.useMemo((function(){return _a(0,{step:a.MS_PER_DAY},{groups:d,ranges:x})}),[v.start.getTime(),v.end.getTime(),d,x]),k=o.useMemo((function(){return ma(c,{dateRange:v,fields:y,timezone:r})}),[c,v.start.getTime(),v.end.getTime(),y,r]),O=o.useMemo((function(){return xa(k,{timezone:r},{groups:d,ranges:x})}),[k,r,d,x]),C=o.useCallback((function(t){var e=h.find((function(t){return"day"===t.props.name}));p&&e&&e.props.name&&t.target.slot&&(p(e.props.name,t),u(t.target.slot.start,t))}),[p,h]);o.useMemo((function(){return $t(O,w,!0)}),[O,w]),o.useMemo((function(){return Xt(O,w,!0)}),[O,w]);var _=o.createElement(ur.Consumer,null,(function(e){var n=e.groupIndex;return o.createElement("div",{className:"k-scheduler-row",key:n},w.filter((function(t){return t.group.index===n&&0===t.range.index})).map((function(e,n){return o.createElement(_l,{as:t.dateHeaderCell,key:n,"data-dayslot-index":n,date:new Date(e.zonedEnd.getTime()-(e.zonedEnd.getTime()-e.zonedStart.getTime())/2),start:e.start,end:e.end,format:{skeleton:"EEEE"}})})))})),S=o.createElement(ur.Consumer,null,(function(e){var n=e.groupIndex;return x.map((function(e,r){return o.createElement("div",{className:"k-scheduler-row",key:r},w.filter((function(t){return t.group.index===n&&t.range.index===r})).map((function(e,i,a){return o.createElement(l,nc({slot:t.slot,viewSlot:t.viewSlot,key:i,form:t.form},e,{expandable:{offsetTop:30,offsetBottom:b<e.items.length?15:0},onDataAction:t.onDataAction,col:"horizontal"===m?a.length*(n||0)+i:i,row:"horizontal"===m?r:x.length*(n||0)+r,editable:t.editable}),o.createElement("span",{className:"k-link k-nav-day"},g.formatDate(new Date(e.end.getTime()-(e.end.getTime()-e.start.getTime())/2),rc)),b<e.items.length&&o.createElement(ec,{slot:e,onClick:C}))})))}))}));return o.createElement(cr,{props:t,slots:w,ranges:x,className:Object(f.g)("k-scheduler-monthview",t.className)},o.createElement("div",{className:"k-scheduler-head"},"horizontal"===m?o.createElement(Vs,{nested:!0,resources:i,group:n},_):o.createElement(pr,{resources:i,group:n},_)),o.createElement("div",{className:"k-scheduler-body"},"horizontal"===m?o.createElement(Vs,{resources:i,group:n},S):o.createElement(pr,{nested:!0,resources:i,group:n},S),O.filter((function(t){return null===t.order||t.order<b})).map((function(e){return o.createElement(s,nc({item:t.item,viewItem:t.viewItem,form:t.form,key:e.isRecurring?e.uid+":"+e.group.index+":"+e.range.index+":"+e.originalStart:e.uid+":"+e.group.index+":"+e.range.index},e,{onDataAction:t.onDataAction,style:{transform:"translateY(30px)"},vertical:!1,editable:t.editable,ignoreIsAllDay:!0}))}))))},ic={name:"month",dateRange:function(t){var e=t.intl,n=t.date,r=t.timezone,o=Object(a.firstDayInWeek)(Object(a.firstDayOfMonth)(Object(a.getDate)(n)),e.firstDay()),i=Object(a.addDays)(Object(a.firstDayInWeek)(Object(a.lastDayOfMonth)(Object(a.getDate)(n)),e.firstDay()),7),s=a.ZonedDate.fromUTCDate(Bt(o),r),l=a.ZonedDate.fromUTCDate(Bt(i),r);return{start:new Date(s.getTime()),end:new Date(l.getTime()),zonedStart:s,zonedEnd:l}},slotDuration:1440,slotDivision:1,itemsPerSlot:2,numberOfDays:31,title:function(t){return t.toLanguageString("scheduler.monthViewTitle",Ye["scheduler.monthViewTitle"])},selectedDateFormat:"{0:Y}",selectedShortDateFormat:"{0:Y}"},ac={itemsPerSlot:i.number};oc.defaultProps=ic,oc.propTypes=ac,oc.displayName="KendoReactSchedulerMonthView"},function(t,e,n){"use strict";n.r(e),n.d(e,"ProseMirror",(function(){return Ad})),n.d(e,"Editor",(function(){return Kp})),n.d(e,"EditorTools",(function(){return Td})),n.d(e,"EditorToolsSettings",(function(){return Oc})),n.d(e,"EditorUtils",(function(){return _p})),n.d(e,"EditorDialogs",(function(){return Op}));var r=n(0),o=n(1),i=n(7);function a(t){this.content=t}a.prototype={constructor:a,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),i=r.content.slice();return-1==o?i.push(n||t,e):(i[o+1]=e,n&&(i[o]=n)),new a(i)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new a(n)},addToStart:function(t,e){return new a([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new a(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),i=r.find(t);return o.splice(-1==i?o.length:i,0,e,n),new a(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=a.from(t)).size?new a(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=a.from(t)).size?new a(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=a.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},a.from=function(t){if(t instanceof a)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new a(e)};var s=a;var l=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},c={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};l.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,a=0;a<e;i++){var s=this.content[i],l=a+s.nodeSize;if(l>t&&!1!==n(s,r+a,o,i)&&s.content.size){var c=a+1;s.nodesBetween(Math.max(0,t-c),Math.min(s.content.size,e-c),n,r+c)}a=l}},l.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},l.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,(function(a,s){a.isText?(o+=a.text.slice(Math.max(t,s)-s,e-s),i=!n):a.isLeaf&&r?(o+=r,i=!n):!i&&a.isBlock&&(o+=n,i=!0)}),0),o},l.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new l(r,this.size+t.size)},l.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,i=0;i<e;o++){var a=this.content[o],s=i+a.nodeSize;s>t&&((i<t||s>e)&&(a=a.isText?a.cut(Math.max(0,t-i),Math.min(a.text.length,e-i)):a.cut(Math.max(0,t-i-1),Math.min(a.content.size,e-i-1))),n.push(a),r+=a.nodeSize),i=s}return new l(n,r)},l.prototype.cutByIndex=function(t,e){return t==e?l.empty:0==t&&e==this.content.length?this:new l(this.content.slice(t,e))},l.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new l(r,o)},l.prototype.addToStart=function(t){return new l([t].concat(this.content),this.size+t.nodeSize)},l.prototype.addToEnd=function(t){return new l(this.content.concat(t),this.size+t.nodeSize)},l.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},c.firstChild.get=function(){return this.content.length?this.content[0]:null},c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},c.childCount.get=function(){return this.content.length},l.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},l.prototype.maybeChild=function(t){return this.content[t]},l.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},l.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),function t(e,n,r){for(var o=0;;o++){if(o==e.childCount||o==n.childCount)return e.childCount==n.childCount?null:r;var i=e.child(o),a=n.child(o);if(i!=a){if(!i.sameMarkup(a))return r;if(i.isText&&i.text!=a.text){for(var s=0;i.text[s]==a.text[s];s++)r++;return r}if(i.content.size||a.content.size){var l=t(i.content,a.content,r+1);if(null!=l)return l}r+=i.nodeSize}else r+=i.nodeSize}}(this,t,e)},l.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),function t(e,n,r,o){for(var i=e.childCount,a=n.childCount;;){if(0==i||0==a)return i==a?null:{a:r,b:o};var s=e.child(--i),l=n.child(--a),c=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:r,b:o};if(s.isText&&s.text!=l.text){for(var u=0,p=Math.min(s.text.length,l.text.length);u<p&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,r--,o--;return{a:r,b:o}}if(s.content.size||l.content.size){var h=t(s.content,l.content,r-1,o-1);if(h)return h}r-=c,o-=c}else r-=c,o-=c}}(this,t,e,n)},l.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return p(0,t);if(t==this.size)return p(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=t)return o==t||e>0?p(n+1,o):p(n,r);r=o}},l.prototype.toString=function(){return"<"+this.toStringInner()+">"},l.prototype.toStringInner=function(){return this.content.join(", ")},l.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},l.fromJSON=function(t,e){if(!e)return l.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new l(e.map(t.nodeFromJSON))},l.fromArray=function(t){if(!t.length)return l.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new l(e||t,n)},l.from=function(t){if(!t)return l.empty;if(t instanceof l)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new l([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(l.prototype,c);var u={index:0,offset:0};function p(t,e){return u.index=t,u.offset=e,u}function h(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!h(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!h(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}l.empty=new l([],0);var d=function(t,e){this.type=t,this.attrs=e};function f(t){var e=Error.call(this,t);return e.__proto__=f.prototype,e}d.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},d.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},d.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},d.prototype.eq=function(t){return this==t||this.type==t.type&&h(this.attrs,t.attrs)},d.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},d.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},d.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},d.setFrom=function(t){if(!t||0==t.length)return d.none;if(t instanceof d)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},d.none=[],f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.prototype.name="ReplaceError";var m=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},v={size:{configurable:!0}};function g(t,e,n){if(n.openStart>t.depth)throw new f("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new f("Inconsistent open depths");return function t(e,n,r,o){var i=e.index(o),a=e.node(o);if(i==n.index(o)&&o<e.depth-r.openStart){var s=t(e,n,r,o+1);return a.copy(a.content.replaceChild(i,s))}if(r.content.size){if(r.openStart||r.openEnd||e.depth!=o||n.depth!=o){var c=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),o=n-1;o>=0;o--)r=e.node(o).copy(l.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(r,e),u=c.start,p=c.end;return k(a,function t(e,n,r,o,i){var a=e.depth>i&&b(e,n,i+1),s=o.depth>i&&b(r,o,i+1),c=[];w(null,e,i,c),a&&s&&n.index(i)==r.index(i)?(y(a,s),x(k(a,t(e,n,r,o,i+1)),c)):(a&&x(k(a,O(e,n,i+1)),c),w(n,r,i,c),s&&x(k(s,O(r,o,i+1)),c));return w(o,null,i,c),new l(c)}(e,u,p,n,o))}var h=e.parent,d=h.content;return k(h,d.cut(0,e.parentOffset).append(r.content).append(d.cut(n.parentOffset)))}return k(a,O(e,n,o))}(t,e,n,0)}function y(t,e){if(!e.type.compatibleContent(t.type))throw new f("Cannot join "+e.type.name+" onto "+t.type.name)}function b(t,e,n){var r=t.node(n);return y(r,e.node(n)),r}function x(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function w(t,e,n,r){var o=(e||t).node(n),i=0,a=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(x(t.nodeAfter,r),i++));for(var s=i;s<a;s++)x(o.child(s),r);e&&e.depth==n&&e.textOffset&&x(e.nodeBefore,r)}function k(t,e){if(!t.type.validContent(e))throw new f("Invalid content for node "+t.type.name);return t.copy(e)}function O(t,e,n){var r=[];(w(null,t,n,r),t.depth>n)&&x(k(b(t,e,n+1),O(t,e,n+1)),r);return w(e,null,n,r),new l(r)}v.size.get=function(){return this.content.size-this.openStart-this.openEnd},m.prototype.insertAt=function(t,e){var n=function t(e,n,r,o){var i=e.findIndex(n),a=i.index,s=i.offset,l=e.maybeChild(a);if(s==n||l.isText)return o&&!o.canReplace(a,a,r)?null:e.cut(0,n).append(r).append(e.cut(n));var c=t(l.content,n-s-1,r);return c&&e.replaceChild(a,l.copy(c))}(this.content,t+this.openStart,e,null);return n&&new m(n,this.openStart,this.openEnd)},m.prototype.removeBetween=function(t,e){return new m(function t(e,n,r){var o=e.findIndex(n),i=o.index,a=o.offset,s=e.maybeChild(i),l=e.findIndex(r),c=l.index,u=l.offset;if(a==n||s.isText){if(u!=r&&!e.child(c).isText)throw new RangeError("Removing non-flat range");return e.cut(0,n).append(e.cut(r))}if(i!=c)throw new RangeError("Removing non-flat range");return e.replaceChild(i,s.copy(t(s.content,n-a-1,r-a-1)))}(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},m.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},m.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},m.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},m.fromJSON=function(t,e){if(!e)return m.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new m(l.fromJSON(t,e.content),n,r)},m.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new m(t,n,r)},Object.defineProperties(m.prototype,v),m.empty=new m(l.empty,0,0);var C=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},_={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};C.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},_.parent.get=function(){return this.node(this.depth)},_.doc.get=function(){return this.node(0)},C.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},C.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},C.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},C.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},C.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},C.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},C.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},_.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},_.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},_.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},C.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++)r+=n.child(o).nodeSize;return r},C.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return d.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i},C.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},C.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},C.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new T(this,t,n)},C.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},C.prototype.max=function(t){return t.pos>this.pos?t:this},C.prototype.min=function(t){return t.pos<this.pos?t:this},C.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},C.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var a=i.content.findIndex(o),s=a.index,l=a.offset,c=o-l;if(n.push(i,s,r+l),!c)break;if((i=i.child(s)).isText)break;o=c-1,r+=l+1}return new C(e,n,o)},C.resolveCached=function(t,e){for(var n=0;n<S.length;n++){var r=S[n];if(r.pos==e&&r.doc==t)return r}var o=S[E]=C.resolve(t,e);return E=(E+1)%I,o},Object.defineProperties(C.prototype,_);var S=[],E=0,I=12,T=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},D={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};D.start.get=function(){return this.$from.before(this.depth+1)},D.end.get=function(){return this.$to.after(this.depth+1)},D.parent.get=function(){return this.$from.node(this.depth)},D.startIndex.get=function(){return this.$from.index(this.depth)},D.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(T.prototype,D);var P=Object.create(null),A=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||l.empty,this.marks=r||d.none},j={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};j.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},j.childCount.get=function(){return this.content.childCount},A.prototype.child=function(t){return this.content.child(t)},A.prototype.maybeChild=function(t){return this.content.maybeChild(t)},A.prototype.forEach=function(t){this.content.forEach(t)},A.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},A.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},j.textContent.get=function(){return this.textBetween(0,this.content.size,"")},A.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},j.firstChild.get=function(){return this.content.firstChild},j.lastChild.get=function(){return this.content.lastChild},A.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},A.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},A.prototype.hasMarkup=function(t,e,n){return this.type==t&&h(this.attrs,e||t.defaultAttrs||P)&&d.sameSet(this.marks,n||d.none)},A.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},A.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},A.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},A.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return m.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),a=r.start(i),s=r.node(i).content.cut(r.pos-a,o.pos-a);return new m(s,r.depth-i,o.depth-i)},A.prototype.replace=function(t,e,n){return g(this.resolve(t),this.resolve(e),n)},A.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(!(e=e.maybeChild(r)))return null;if(o==t||e.isText)return e;t-=o+1}},A.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},A.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},A.prototype.resolve=function(t){return C.resolveCached(this,t)},A.prototype.resolveNoCache=function(t){return C.resolve(this,t)},A.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},j.isBlock.get=function(){return this.type.isBlock},j.isTextblock.get=function(){return this.type.isTextblock},j.inlineContent.get=function(){return this.type.inlineContent},j.isInline.get=function(){return this.type.isInline},j.isText.get=function(){return this.type.isText},j.isLeaf.get=function(){return this.type.isLeaf},j.isAtom.get=function(){return this.type.isAtom},A.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),R(this.marks,t)},A.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},A.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=l.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,r,o),a=i&&i.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(var s=r;s<o;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0},A.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},A.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},A.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=d.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!d.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},A.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},A.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=l.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(A.prototype,j);var M=function(t){function e(e,n,r,o){if(t.call(this,e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):R(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(A);function R(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var N=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},F={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};N.parse=function(t,e){var n=new L(t,e);if(null==n.next)return N.empty;var r=B(n);n.next&&n.err("Unexpected trailing text");var o=function(t){var e=Object.create(null);return function n(r){var o=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),a=i>-1&&o[i+1];K(t,r).forEach((function(t){a||o.push(n,a=[]),-1==a.indexOf(t)&&a.push(t)}))}}))}));for(var i=e[r.join(",")]=new N(r.indexOf(t.length-1)>-1),a=0;a<o.length;a+=2){var s=o[a+1].sort(q);i.next.push(o[a],e[s.join(",")]||n(s))}return i}(K(t,0))}(function(t){var e=[[]];return o(function t(e,i){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(t(n,i))}),[]);if("seq"==e.type)for(var a=0;;a++){var s=t(e.exprs[a],i);if(a==e.exprs.length-1)return s;o(s,i=n())}else{if("star"==e.type){var l=n();return r(i,l),o(t(e.expr,l),l),[r(l)]}if("plus"==e.type){var c=n();return o(t(e.expr,i),c),o(t(e.expr,c),c),[r(c)]}if("opt"==e.type)return[r(i)].concat(t(e.expr,i));if("range"==e.type){for(var u=i,p=0;p<e.min;p++){var h=n();o(t(e.expr,u),h),u=h}if(-1==e.max)o(t(e.expr,u),u);else for(var d=e.min;d<e.max;d++){var f=n();r(u,f),o(t(e.expr,u),f),u=f}return[r(u)]}if("name"==e.type)return[r(i,null,e.value)]}}(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach((function(t){return t.to=e}))}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],s=0;s<o.next.length;s+=2){var l=o.next[s],c=o.next[s+1];a.push(l.name),!i||l.isText||l.hasRequiredAttrs()||(i=!1),-1==r.indexOf(c)&&r.push(c)}i&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},N.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},N.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},F.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},F.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},N.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},N.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function o(i,a){var s=i.matchFragment(t,n);if(s&&(!e||s.validEnd))return l.from(a.map((function(t){return t.createAndFill()})));for(var c=0;c<i.next.length;c+=2){var u=i.next[c],p=i.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==r.indexOf(p)){r.push(p);var h=o(p,a.concat(u));if(h)return h}}}(this,[])},N.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},N.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var s=0;s<o.next.length;s+=2){var l=o.next[s];l.isLeaf||l.hasRequiredAttrs()||l.name in e||r.type&&!o.next[s+1].validEnd||(n.push({match:l.contentMatch,type:l,via:r}),e[l.name]=!0)}}},F.edgeCount.get=function(){return this.next.length>>1},N.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},N.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r})).join("\n")},Object.defineProperties(N.prototype,F),N.empty=new N(!0);var L=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},z={next:{configurable:!0}};function B(t){var e=[];do{e.push(V(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function V(t){var e=[];do{e.push(H(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function H(t){for(var e=function(t){if(t.eat("(")){var e=B(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var a=n[i];a.groups.indexOf(e)>-1&&o.push(a)}0==o.length&&t.err("No node type or group '"+e+"' found");return o}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=W(t,e)}return e}function U(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function W(t,e){var n=U(t),r=n;return t.eat(",")&&(r="}"!=t.next?U(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function q(t,e){return e-t}function K(t,e){var n=[];return function e(r){var o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var a=o[i],s=a.term,l=a.to;s||-1!=n.indexOf(l)||e(l)}}(e),n.sort(q)}function G(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Y(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function X(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new J(t[n]);return e}z.next.get=function(){return this.tokens[this.pos]},L.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},L.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(L.prototype,z);var $=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=X(n.attrs),this.defaultAttrs=G(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},Z={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Z.isInline.get=function(){return!this.isBlock},Z.isTextblock.get=function(){return this.isBlock&&this.inlineContent},Z.isLeaf.get=function(){return this.contentMatch==N.empty},Z.isAtom.get=function(){return this.isLeaf||this.spec.atom},$.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},$.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},$.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:Y(this.attrs,t)},$.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new A(this,this.computeAttrs(t),l.from(e),d.setFrom(n))},$.prototype.createChecked=function(t,e,n){if(e=l.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new A(this,this.computeAttrs(t),e,d.setFrom(n))},$.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=l.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(l.empty,!0);return o?new A(this,t,e.append(o),d.setFrom(n)):null},$.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},$.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},$.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},$.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:d.empty:t},$.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new $(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties($.prototype,Z);var J=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},Q={isRequired:{configurable:!0}};Q.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(J.prototype,Q);var tt=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=X(r.attrs),this.rank=e,this.excluded=null;var o=G(this.attrs);this.instance=o&&new d(this,o)};tt.prototype.create=function(t){return!t&&this.instance?this.instance:new d(this,Y(this.attrs,t))},tt.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,o){return n[t]=new tt(t,r++,e,o)})),n},tt.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},tt.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},tt.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var et=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=s.from(t.nodes),this.spec.marks=s.from(t.marks),this.nodes=$.compile(this.spec.nodes,this),this.marks=tt.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],i=o.spec.content||"",a=o.spec.marks;o.contentMatch=n[i]||(n[i]=N.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==a?null:a?nt(this,a.split(" ")):""!=a&&o.inlineContent?null:[]}for(var l in this.marks){var c=this.marks[l],u=c.spec.excludes;c.excluded=null==u?[c]:""==u?[]:nt(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function nt(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],a=i;if(i)n.push(i);else for(var s in t.marks){var l=t.marks[s];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}et.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof $))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},et.prototype.text=function(t,e){var n=this.nodes.text;return new M(n,n.defaultAttrs,t,d.setFrom(e))},et.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},et.prototype.nodeFromJSON=function(t){return A.fromJSON(this,t)},et.prototype.markFromJSON=function(t){return d.fromJSON(this,t)},et.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var rt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))};rt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new ct(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},rt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new ct(this,e,!0);return n.addAll(t,null,e.from,e.to),m.maxOpen(n.finish())},rt.prototype.matchTag=function(t,e,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(pt(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(t);if(!1===i)continue;o.attrs=i}return o}}},rt.prototype.matchStyle=function(t,e,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(t)||i.context&&!n.matchesContext(i.context)||i.style.length>t.length&&(61!=i.style.charCodeAt(t.length)||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var a=i.getAttrs(e);if(!1===a)continue;i.attrs=a}return i}}},rt.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var o=e[r];if((null==o.priority?50:o.priority)<n)break}e.splice(r,0,t)}var r=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=ht(t)),t.mark=e}))};for(var o in t.marks)r(o);var i;for(var a in t.nodes)i=void 0,(i=t.nodes[a].spec.parseDOM)&&i.forEach((function(t){n(t=ht(t)),t.node=a}));return e},rt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new rt(t,rt.schemaRules(t)))};var ot={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},it={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},at={ol:!0,ul:!0};function st(t){return(t?1:0)|("full"===t?2:0)}var lt=function(t,e,n,r,o,i,a){this.type=t,this.attrs=e,this.solid=o,this.match=i||(4&a?null:t.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=d.none,this.pendingMarks=r,this.stashMarks=[]};lt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(l.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},lt.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=l.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(l.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},lt.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},lt.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):dt(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},lt.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!ot.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var ct=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=st(e.preserveWhitespace)|(n?4:0);r=o?new lt(o.type,o.attrs,d.none,d.none,!0,e.topMatch||o.type.contentMatch,i):new lt(n?null:t.schema.topNodeType,null,d.none,d.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},ut={top:{configurable:!0},currentPos:{configurable:!0}};function pt(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ht(t){var e={};for(var n in t)e[n]=t[n];return e}function dt(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],a=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.type,s=r.next;if(o==e)return!0;if(i.indexOf(s)<0&&a(s))return!0}};return a(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}ut.top.get=function(){return this.nodes[this.open]},ct.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},ct.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},ct.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();at.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&at.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(o?o.ignore:it.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var i,a=this.top,s=this.needsBlock;if(ot.hasOwnProperty(r))i=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),i&&this.sync(a),this.needsBlock=s}else this.addElementByRule(t,o,!1===o.consuming?n:null)},ct.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},ct.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},ct.prototype.readStyles=function(t){var e=d.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(t[n],t[n+1],this,r);if(!o)continue t;if(o.ignore)return null;if(e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;r=o}return e},ct.prototype.addElementByRule=function(t,e,n){var r,o,i,a=this;e.node?(o=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(o.create(e.attrs))||this.leafFallback(t):r=this.enter(o,e.attrs,e.preserveWhitespace):(i=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(i));var s=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return a.insertNode(t)}));else{var l=e.contentElement;"string"==typeof l?l=t.querySelector(l):"function"==typeof l&&(l=l(t)),l||(l=t),this.findAround(t,l,!0),this.addAll(l,r)}r&&(this.sync(s),this.open--),i&&this.removePendingMark(i,s)},ct.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,a=null==r?null:t.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&ot.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},ct.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var a=0;a<e.length;a++)this.enterInner(e[a],null,!1);return!0},ct.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},ct.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},ct.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?-5&o.options:st(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new lt(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},ct.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},ct.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},ct.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},ut.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},ct.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},ct.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},ct.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},ct.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},ct.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),a=function(t,s){for(;t>=0;t--){var l=n[t];if(""==l){if(t==n.length-1||0==t)continue;for(;s>=i;s--)if(a(t-1,s))return!0;return!1}var c=s>0||0==s&&o?e.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;s--}return!0};return a(n.length-1,this.open)},ct.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},ct.prototype.addPendingMark=function(t){var e=function(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},ct.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var o=r.popFromStashMark(t);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(ct.prototype,ut);var ft=function(t,e){this.nodes=t||{},this.marks=e||{}};function mt(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function vt(t){return t.document||window.document}ft.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=vt(e).createDocumentFragment());var o=n,i=null;return t.forEach((function(t){if(i||t.marks.length){i||(i=[]);for(var n=0,a=0;n<i.length&&a<t.marks.length;){var s=t.marks[a];if(r.marks[s.type.name]){if(!s.eq(i[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}for(;n<i.length;)o=i.pop(),i.pop();for(;a<t.marks.length;){var l=t.marks[a++],c=r.serializeMark(l,t.isInline,e);c&&(i.push(l,o),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(r.serializeNodeInner(t,e))})),n},ft.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var n=ft.renderSpec(vt(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},ft.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var n=this.serializeNodeInner(t,e),r=t.marks.length-1;r>=0;r--){var o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},ft.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&ft.renderSpec(vt(n),r(t,e))},ft.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var r=e[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,a=n?t.createElementNS(n,r):t.createElement(r),s=e[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var c in l=2,s)if(null!=s[c]){var u=c.indexOf(" ");u>0?a.setAttributeNS(c.slice(0,u),c.slice(u+1),s[c]):a.setAttribute(c,s[c])}for(var p=l;p<e.length;p++){var h=e[p];if(0===h){if(p<e.length-1||p>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var d=ft.renderSpec(t,h,n),f=d.dom,m=d.contentDOM;if(a.appendChild(f),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:a,contentDOM:i}},ft.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new ft(this.nodesFromSchema(t),this.marksFromSchema(t)))},ft.nodesFromSchema=function(t){var e=mt(t.nodes);return e.text||(e.text=function(t){return t.text}),e},ft.marksFromSchema=function(t){return mt(t.marks)};var gt=Math.pow(2,16);function yt(t){return 65535&t}var bt=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},xt=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};xt.prototype.recover=function(t){var e=0,n=yt(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/gt}(t)},xt.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},xt.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},xt.prototype._map=function(t,e,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?r:0);if(s>t)break;var l=this.ranges[a+o],c=this.ranges[a+i],u=s+l;if(t<=u){var p=s+r+((l?t==s?-1:t==u?1:e:e)<0?0:c);if(n)return p;var h=t==(e<0?s:u)?null:a/3+(t-s)*gt;return new bt(p,e<0?t!=s:t!=u,h)}r+=c-l}return n?t+r:new bt(t+r)},xt.prototype.touches=function(t,e){for(var n=0,r=yt(e),o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?n:0);if(s>t)break;var l=this.ranges[a+o];if(t<=s+l&&a==3*r)return!0;n+=this.ranges[a+i]-l}return!1},xt.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+e],c=this.ranges[r+n];t(a,a+l,s,s+c),o+=c-l}},xt.prototype.invert=function(){return new xt(this.ranges,!this.inverted)},xt.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},xt.offset=function(t){return 0==t?xt.empty:new xt(t<0?[0,-t,0]:[0,0,t])},xt.empty=new xt([]);var wt=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function kt(t){var e=Error.call(this,t);return e.__proto__=kt.prototype,e}wt.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new wt(this.maps,this.mirror,t,e)},wt.prototype.copy=function(){return new wt(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},wt.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},wt.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},wt.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},wt.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},wt.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},wt.prototype.invert=function(){var t=new wt;return t.appendMappingInverted(this),t},wt.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},wt.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},wt.prototype._map=function(t,e,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(t,e);if(null!=i.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,t=this.maps[a].recover(i.recover);continue}}i.deleted&&(r=!0),t=i.pos}return n?t:new bt(t,r)},kt.prototype=Object.create(Error.prototype),kt.prototype.constructor=kt,kt.prototype.name="TransformError";var Ot=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new wt},Ct={before:{configurable:!0},docChanged:{configurable:!0}};function _t(){throw new Error("Override me")}Ct.before.get=function(){return this.docs.length?this.docs[0]:this.doc},Ot.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new kt(e.failed);return this},Ot.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},Ct.docChanged.get=function(){return this.steps.length>0},Ot.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(Ot.prototype,Ct);var St=Object.create(null),Et=function(){};Et.prototype.apply=function(t){return _t()},Et.prototype.getMap=function(){return xt.empty},Et.prototype.invert=function(t){return _t()},Et.prototype.map=function(t){return _t()},Et.prototype.merge=function(t){return null},Et.prototype.toJSON=function(){return _t()},Et.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=St[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},Et.jsonID=function(t,e){if(t in St)throw new RangeError("Duplicate use of step JSON ID "+t);return St[t]=e,e.prototype.jsonID=t,e};var It=function(t,e){this.doc=t,this.failed=e};It.ok=function(t){return new It(t,null)},It.fail=function(t){return new It(null,t)},It.fromReplace=function(t,e,n,r){try{return It.ok(t.replace(e,n,r))}catch(t){if(t instanceof f)return It.fail(t.message);throw t}};var Tt=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&Pt(t,this.from,this.to)?It.fail("Structure replace would overwrite content"):It.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new xt([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?m.empty:new m(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?m.empty:new m(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,m.fromJSON(t,n.slice),!!n.structure)},e}(Et);Et.jsonID("replace",Tt);var Dt=function(t){function e(e,n,r,o,i,a,s){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(Pt(t,this.from,this.gapFrom)||Pt(t,this.gapTo,this.to)))return It.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return It.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?It.fromReplace(t,this.from,this.to,n):It.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new xt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,m.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(Et);function Pt(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function At(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function jt(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var r=t.$from.node(n),o=t.$from.index(n),i=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(o,i,e))return n;if(0==n||r.type.spec.isolating||!At(r,o,i))break}}function Mt(t,e,n,r){void 0===r&&(r=t);var o=function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;var a=i.length?i[0]:e;return n.canReplaceWith(r,o,a)?i:null}(t,e),i=o&&function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),a=e.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:e).contentMatch,l=r;s&&l<o;l++)s=s.matchType(n.child(l).type);if(!s||!s.validEnd)return null;return a}(r,e);return i?o.map(Rt).concat({type:e,attrs:n}).concat(i.map(Rt)):null}function Rt(t){return{type:t,attrs:null}}function Nt(t,e,n,r){void 0===n&&(n=1);var o=t.resolve(e),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,l=n-2;s>i;s--,l--){var c=o.node(s),u=o.index(s);if(c.type.spec.isolating)return!1;var p=c.content.cutByIndex(u,c.childCount),h=r&&r[l]||c;if(h!=c&&(p=p.replaceChild(0,h.type.create(h.attrs))),!c.canReplace(u+1,c.childCount)||!h.type.validContent(p))return!1}var d=o.indexAfter(i),f=r&&r[0];return o.node(i).canReplaceWith(d,d,f?f.type:o.node(i+1).type)}function Ft(t,e){var n=t.resolve(e),r=n.index();return Lt(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Lt(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function zt(t,e,n){void 0===n&&(n=-1);for(var r=t.resolve(e),o=r.depth;;o--){var i=void 0,a=void 0,s=r.index(o);if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(o+1),s++,a=r.node(o).maybeChild(s)):(i=r.node(o).maybeChild(s-1),a=r.node(o+1)),i&&!i.isTextblock&&Lt(i,a)&&r.node(o).canReplace(s,s+1))return e;if(0==o)break;e=n<0?r.before(o):r.after(o)}}function Bt(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}}function Vt(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,c=r.index(s)+(l>0?1:0),u=r.node(s),p=!1;if(1==a)p=u.canReplace(c,c,o);else{var h=u.contentMatchAt(c).findWrapping(o.firstChild.type);p=h&&u.canReplaceWith(c,c,h[0])}if(p)return 0==l?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function Ht(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(Ht(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return l.fromArray(r)}Et.jsonID("replaceAround",Dt),Ot.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),a=r.after(o+1),s=i,c=a,u=l.empty,p=0,h=o,d=!1;h>e;h--)d||n.index(h)>0?(d=!0,u=l.from(n.node(h).copy(u)),p++):s--;for(var f=l.empty,v=0,g=o,y=!1;g>e;g--)y||r.after(g+1)<r.end(g)?(y=!0,f=l.from(r.node(g).copy(f)),v++):c++;return this.step(new Dt(s,c,i,a,new m(u.append(f),p,v),u.size-p,!0))},Ot.prototype.wrap=function(t,e){for(var n=l.empty,r=e.length-1;r>=0;r--)n=l.from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new Dt(o,i,o,i,new m(n,0,0),e.length,!0))},Ot.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(i).map(e),n)){o.clearIncompatible(o.mapping.slice(i).map(e,1),n);var a=o.mapping.slice(i),s=a.map(e,1),c=a.map(e+t.nodeSize,1);return o.step(new Dt(s,c,s+1,c-1,new m(l.from(n.create(r,null,t.marks)),0,0),1,!0)),!1}})),this},Ot.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Dt(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new m(l.from(i),0,0),1,!0))},Ot.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=l.empty,i=l.empty,a=r.depth,s=r.depth-e,c=e-1;a>s;a--,c--){o=l.from(r.node(a).copy(o));var u=n&&n[c];i=l.from(u?u.type.create(u.attrs,i):r.node(a).copy(i))}return this.step(new Tt(t,t,new m(o.append(i),e,e),!0))},Ot.prototype.join=function(t,e){void 0===e&&(e=1);var n=new Tt(t-e,t+e,m.empty,!0);return this.step(n)};var Ut=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new m(Ht(n.content,(function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return It.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new Wt(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Et);Et.jsonID("addMark",Ut);var Wt=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new m(Ht(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return It.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new Ut(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Et);function qt(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=m.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);return Kt(o,i,r)?new Tt(e,n,r):new Gt(o,i,r).fit()}function Kt(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}Et.jsonID("removeMark",Wt),Ot.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],a=null,s=null;return this.doc.nodesBetween(t,e,(function(r,l,c){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var p=Math.max(l,t),h=Math.min(l+r.nodeSize,e),d=n.addToSet(u),f=0;f<u.length;f++)u[f].isInSet(d)||(a&&a.to==p&&a.mark.eq(u[f])?a.to=h:o.push(a=new Wt(p,h,u[f])));s&&s.to==p?s.to=h:i.push(s=new Ut(p,h,n))}}})),o.forEach((function(t){return r.step(t)})),i.forEach((function(t){return r.step(t)})),this},Ot.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,(function(r,a){if(r.isInline){i++;var s=null;if(n instanceof tt)for(var l,c=r.marks;l=n.isInSet(c);)(s||(s=[])).push(l),c=l.removeFromSet(c);else n?n.isInSet(r.marks)&&(s=[n]):s=r.marks;if(s&&s.length)for(var u=Math.min(a+r.nodeSize,e),p=0;p<s.length;p++){for(var h=s[p],d=void 0,f=0;f<o.length;f++){var m=o[f];m.step==i-1&&h.eq(o[f].style)&&(d=m)}d?(d.to=u,d.step=i):o.push({style:h,from:Math.max(a,t),to:u,step:i})}}})),o.forEach((function(t){return r.step(new Wt(t.from,t.to,t.style))})),this},Ot.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,a=0;a<r.childCount;a++){var s=r.child(a),c=i+s.nodeSize,u=n.matchType(s.type,s.attrs);if(u){n=u;for(var p=0;p<s.marks.length;p++)e.allowsMarkType(s.marks[p].type)||this.step(new Wt(i,c,s.marks[p]))}else o.push(new Tt(i,c,m.empty));i=c}if(!n.validEnd){var h=n.fillBefore(l.empty,!0);this.replace(i,i,new m(h,0,0))}for(var d=o.length-1;d>=0;d--)this.step(o[d]);return this},Ot.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=m.empty);var r=qt(this.doc,t,e,n);return r&&this.step(r),this},Ot.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new m(l.from(n),0,0))},Ot.prototype.delete=function(t,e){return this.replace(t,e,m.empty)},Ot.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var Gt=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var r=0;r<=t.depth;r++){var o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}this.placed=l.empty;for(var i=t.depth;i>0;i--)this.placed=l.from(t.node(i).copy(this.placed))},Yt={depth:{configurable:!0}};function Xt(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(Xt(t.firstChild.content,e-1,n)))}function $t(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy($t(t.lastChild.content,e-1,n)))}function Zt(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function Jt(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,Jt(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(l.empty,!0)))),t.copy(r)}function Qt(t,e,n,r,o){var i=t.node(e),a=o?t.indexAfter(e):t.index(e);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var s=r.fillBefore(i.content,!0,a);return s&&!function(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function te(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(te(i.content,e+1,n,r,i)))}if(e>r){var a=o.contentMatchAt(0),s=a.fillBefore(t).append(t);t=s.append(a.matchFragment(s).fillBefore(l.empty,!0))}return t}function ee(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;o==e.start(r)&&n.push(r)}return n}Yt.depth.get=function(){return this.frontier.length-1},Gt.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;for(var i=this.placed,a=r.depth,s=o.depth;a&&s&&1==i.childCount;)i=i.firstChild.content,a--,s--;var l=new m(i,a,s);return e>-1?new Dt(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Tt(r.pos,o.pos,l):void 0},Gt.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=void 0,r=(e?(n=Zt(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var i=this.frontier[o],a=i.type,s=i.match,c=void 0,u=void 0;if(1==t&&(r?s.matchType(r.type)||(u=s.fillBefore(l.from(r),!1)):a.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:o,parent:n,inject:u};if(2==t&&r&&(c=s.findWrapping(r.type)))return{sliceDepth:e,frontierDepth:o,parent:n,wrap:c};if(n&&s.matchType(n.type))break}},Gt.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=Zt(e,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new m(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)},Gt.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=Zt(e,n);if(o.childCount<=1&&n>0){var i=e.size-n<=n+o.size;this.unplaced=new m(Xt(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new m(Xt(e,n,1),n,r)},Gt.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,r=t.parent,o=t.inject,i=t.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var a=0;a<i.length;a++)this.openFrontierNode(i[a]);var s=this.unplaced,c=r?r.content:s.content,u=s.openStart-e,p=0,h=[],d=this.frontier[n],f=d.match,v=d.type;if(o){for(var g=0;g<o.childCount;g++)h.push(o.child(g));f=f.matchFragment(o)}for(var y=c.size+e-(s.content.size-s.openEnd);p<c.childCount;){var b=c.child(p),x=f.matchType(b.type);if(!x)break;(++p>1||0==u||b.content.size)&&(f=x,h.push(Jt(b.mark(v.allowedMarks(b.marks)),1==p?u:0,p==c.childCount?y:-1)))}var w=p==c.childCount;w||(y=-1),this.placed=$t(this.placed,n,l.from(h)),this.frontier[n].match=f,w&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var k=0,O=c;k<y;k++){var C=O.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),O=C.content}this.unplaced=w?0==e?m.empty:new m(Xt(s.content,e-1,1),e-1,y<0?s.openEnd:e-1):new m(Xt(s.content,e,p),s.openStart,s.openEnd)},Gt.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!Qt(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},Gt.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,o=n.type,i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),a=Qt(t,e,o,r,i);if(a){for(var s=e-1;s>=0;s--){var l=this.frontier[s],c=l.match,u=Qt(t,s,l.type,c,!0);if(!u||u.childCount)continue t}return{depth:e,fit:a,move:i?t.doc.resolve(t.after(e+1)):t}}}},Gt.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=$t(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,o)}return t},Gt.prototype.openFrontierNode=function(t,e,n){var r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=$t(this.placed,this.depth,l.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},Gt.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(l.empty,!0);t.childCount&&(this.placed=$t(this.placed,this.frontier.length,t))},Object.defineProperties(Gt.prototype,Yt),Ot.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(Kt(r,o,n))return this.step(new Tt(t,e,n));var i=ee(r,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var a=-(r.depth+1);i.unshift(a);for(var s=r.depth,l=r.pos-1;s>0;s--,l--){var c=r.node(s).type.spec;if(c.defining||c.isolating)break;i.indexOf(s)>-1?a=s:r.before(s)==l&&i.splice(1,0,-s)}for(var u=i.indexOf(a),p=[],h=n.openStart,d=n.content,f=0;;f++){var v=d.firstChild;if(p.push(v),f==n.openStart)break;d=v.content}h>0&&p[h-1].type.spec.defining&&r.node(u).type!=p[h-1].type?h-=1:h>=2&&p[h-1].isTextblock&&p[h-2].type.spec.defining&&r.node(u).type!=p[h-2].type&&(h-=2);for(var g=n.openStart;g>=0;g--){var y=(g+h+1)%(n.openStart+1),b=p[y];if(b)for(var x=0;x<i.length;x++){var w=i[(x+u)%i.length],k=!0;w<0&&(k=!1,w=-w);var O=r.node(w-1),C=r.index(w-1);if(O.canReplaceWith(C,C,b.type,b.marks))return this.replace(r.before(w),k?o.after(w):e,new m(te(n.content,0,n.openStart,y),y,n.openEnd))}}for(var _=this.steps.length,S=i.length-1;S>=0&&(this.replace(t,e,n),!(this.steps.length>_));S--){var E=i[S];E<0||(t=r.before(E),e=o.after(E))}return this},Ot.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=Bt(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new m(l.from(n),0,0))},Ot.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=ee(n,r),i=0;i<o.length;i++){var a=o[i],s=i==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(t-n.start(l)==n.depth-l&&e>n.end(l)&&r.end(l)-e!=r.depth-l)return this.delete(n.before(l),e);return this.delete(t,e)};var ne=Object.create(null),re=function(t,e,n){this.ranges=n||[new ie(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},oe={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};oe.anchor.get=function(){return this.$anchor.pos},oe.head.get=function(){return this.$head.pos},oe.from.get=function(){return this.$from.pos},oe.to.get=function(){return this.$to.pos},oe.$from.get=function(){return this.ranges[0].$from},oe.$to.get=function(){return this.ranges[0].$to},oe.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},re.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},re.prototype.replace=function(t,e){void 0===e&&(e=m.empty);for(var n=e.content.lastChild,r=null,o=0;o<e.openEnd;o++)r=n,n=n.lastChild;for(var i=t.steps.length,a=this.ranges,s=0;s<a.length;s++){var l=a[s],c=l.$from,u=l.$to,p=t.mapping.slice(i);t.replaceRange(p.map(c.pos),p.map(u.pos),s?m.empty:e),0==s&&de(t,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}},re.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,s=i.$to,l=t.mapping.slice(n),c=l.map(a.pos),u=l.map(s.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,e),de(t,n,e.isInline?-1:1))}},re.findFrom=function(t,e,n){var r=t.parent.inlineContent?new ae(t):he(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var o=t.depth-1;o>=0;o--){var i=e<0?he(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):he(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(i)return i}},re.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new ue(t.node(0))},re.atStart=function(t){return he(t,t,0,0,1)||new ue(t)},re.atEnd=function(t){return he(t,t,t.content.size,t.childCount,-1)||new ue(t)},re.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=ne[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},re.jsonID=function(t,e){if(t in ne)throw new RangeError("Duplicate use of selection JSON ID "+t);return ne[t]=e,e.prototype.jsonID=t,e},re.prototype.getBookmark=function(){return ae.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(re.prototype,oe),re.prototype.visible=!0;var ie=function(t,e){this.$from=t,this.$to=e},ae=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=m.empty),t.prototype.replace.call(this,e,n),n==m.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new se(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var a=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!a)return t.near(r,o);r=a.$head}return n.parent.inlineContent||(0==i||(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new e(n,r)},Object.defineProperties(e.prototype,n),e}(re);re.jsonID("text",ae);var se=function(t,e){this.anchor=t,this.head=e};se.prototype.map=function(t){return new se(t.map(this.anchor),t.map(this.head))},se.prototype.resolve=function(t){return ae.between(t.resolve(this.anchor),t.resolve(this.head))};var le=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,a=o.pos,s=n.resolve(a);return i?t.near(s):new e(s)},e.prototype.content=function(){return new m(l.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new ce(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(re);le.prototype.visible=!1,re.jsonID("node",le);var ce=function(t){this.anchor=t};ce.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new se(r,r):new ce(r)},ce.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&le.isSelectable(n)?new le(e):re.near(e)};var ue=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=m.empty),n==m.empty){e.delete(0,e.doc.content.size);var r=t.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return pe},e}(re);re.jsonID("all",ue);var pe={map:function(){return this},resolve:function(t){return new ue(t)}};function he(t,e,n,r,o,i){if(e.inlineContent)return ae.create(t,n);for(var a=r-(o>0?0:1);o>0?a<e.childCount:a>=0;a+=o){var s=e.child(a);if(s.isAtom){if(!i&&le.isSelectable(s))return le.create(t,n-(o<0?s.nodeSize:0))}else{var l=he(t,s,n+o,o<0?s.childCount:0,o,i);if(l)return l}n+=s.nodeSize*o}}function de(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o,i=t.steps[r];if(i instanceof Tt||i instanceof Dt)t.mapping.maps[r].forEach((function(t,e,n,r){null==o&&(o=r)})),t.setSelection(re.near(t.doc.resolve(o),n))}}var fe=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return d.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||d.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(re.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(Ot);function me(t,e){return e&&t?t.bind(e):t}var ve=function(t,e,n){this.name=t,this.init=me(e.init,n),this.apply=me(e.apply,n)},ge=[new ve("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new ve("selection",{init:function(t,e){return t.selection||re.atStart(e.doc)},apply:function(t){return t.selection}}),new ve("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ve("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],ye=function(t,e){var n=this;this.schema=t,this.fields=ge.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new ve(t.key,t.spec.state,t))}))},be=function(t){this.config=t},xe={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};xe.schema.get=function(){return this.config.schema},xe.plugins.get=function(){return this.config.plugins},be.prototype.apply=function(t){return this.applyTransaction(t).state},be.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},be.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var s=r?r[i].n:0,l=r?r[i].state:this,c=s<e.length&&a.spec.appendTransaction.call(a,s?e.slice(s):e,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<i?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},be.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new be(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}for(var i=0;i<we.length;i++)we[i](this,t,e);return e},xe.tr.get=function(){return new fe(this)},be.create=function(t){for(var e=new ye(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new be(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},be.prototype.reconfigure=function(t){for(var e=new ye(this.schema,t.plugins),n=e.fields,r=new be(e),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(t,r)}return r},be.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e},be.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new ye(t.schema,t.plugins),o=new be(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=A.fromJSON(t.schema,e.doc);else if("selection"==r.name)o.selection=re.fromJSON(o.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var i in n){var a=n[i],s=a.spec.state;if(a.key==r.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(e,i))return void(o[r.name]=s.fromJSON.call(a,t,e[i],o))}o[r.name]=r.init(t,o)}})),o},be.addApplyListener=function(t){we.push(t)},be.removeApplyListener=function(t){var e=we.indexOf(t);e>-1&&we.splice(e,1)},Object.defineProperties(be.prototype,xe);var we=[];var ke=function(t){this.props={},t.props&&function t(e,n,r){for(var o in e){var i=e[o];i instanceof Function?i=i.bind(n):"handleDOMEvents"==o&&(i=t(i,n,{})),r[o]=i}return r}(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:Ce("plugin")};ke.prototype.getState=function(t){return t[this.key]};var Oe=Object.create(null);function Ce(t){return t in Oe?t+"$"+ ++Oe[t]:(Oe[t]=0,t+"$")}var _e=function(t){void 0===t&&(t="key"),this.key=Ce(t)};_e.prototype.get=function(t){return t.config.pluginsByKey[this.key]},_e.prototype.getState=function(t){return t[this.key]};var Se=["div","ol","ul","li","table","tbody","thead","tfoot","td","th","p","tr","col","colgroup","article","main","nav","header","footer","aside","section"],Ee=function(t,e){void 0===e&&(e=Se);var n=e.join("|");return t.replace(new RegExp("\\s*(<(?:"+n+")(?:\\s[^>]*?)?>)","g"),"$1").replace(new RegExp("(<\\/(?:"+n+")(?:\\s[^>]*?)?>)\\s*","g"),"$1")},Ie=function(t,e,n){return function(t,e,n){return rt.fromSchema(e).parse(t,n)}(function(t){var e,n=document.createElement("template");if("content"in n)n.innerHTML=t,e=n.content;else{var r=(new DOMParser).parseFromString(t,"text/html");e=document.createDocumentFragment();for(var o=r.body;o&&o.firstChild;)e.appendChild(o.firstChild)}return e}(t),e,n)},Te=function(t){var e,n=(e=t.doc,ft.fromSchema(e.type.schema).serializeFragment(e.content)),r=document.createElement("div");return r.appendChild(n),r.innerHTML},De=function(t,e,n){return void 0===e&&(e="setHTML"),void 0===n&&(n={preserveWhitespace:"full"}),function(r,o){return o(r.tr.setSelection(new ue(r.doc)).replaceSelectionWith(Ie(t,r.schema,n)).setMeta("commandName",e))}};var Pe=function(){return(Pe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Ae(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}var je=function(t,e){var n=e.style,r=e.value,o=e.newValue;if(!t)return{changed:!1,style:null};var i=t.split(/\s*;\s*/).filter((function(t){return Boolean(t)})),a=i.filter((function(t){var e=t.split(/\s*:\s*/);return!(e[0].toLowerCase()===n&&r.test(e[1]))}));return o&&a.push(n+": "+o),{style:a.join("; ")+(a.length?";":""),changed:Boolean(o)||a.length!==i.length}},Me=function(t,e){for(var n=t.selection.$from,r=n.depth;r>=0;r--){var o=n.index(r);if(n.node(r).canReplaceWith(o,o,e))return!0}return!1},Re=function(t){return t instanceof A?t.type.name:t.name},Ne=function(t,e){return void 0===e&&(e=1),function(n){return function(t,e){return void 0===e&&(e=1),function(n){for(var r=n.$from,o=r.depth;o>0;o--){var i=r.node(o);if(t(i)&&0===(e-=1))return{depth:o,node:i}}}}((function(e){return Re(e)===Re(t)}),e)(n)}},Fe=function(t,e){return function(n,r){var o=n.tr.replaceSelectionWith(t);e&&o.scrollIntoView(),r(o)}},Le=function(t){var e="",n=!1,r=t.selection,o=t.doc,i=r.$from,a=r.$to,s=r.from,l=r.to;return i.sameParent(a)&&(o.nodesBetween(s,l,(function(t){n=n||t.isLeaf&&!t.isText})),n||(e=function(t){var e=t.selection;if(e instanceof ae||e instanceof ue){var n=e.content().content;return n.textBetween(0,n.size)}return""}(t))),e},ze=function(t){return t.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")},Be=function(t,e,n){for(var r=function(r){var o=e[r],i=o.$from,a=o.$to,s=0===i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,a.pos,(function(t){if(s)return!1;s=t.inlineContent&&t.type.allowsMarkType(n)})),s)return{v:!0}},o=0;o<e.length;o++){var i=r(o);if(i)return i.v}return!1},Ve=function(t,e,n){return function(r,o){var i=r.selection,a=i.empty,s=i.$cursor,l=i.ranges;if(a&&!s||!Be(r.doc,l,t))return!1;if(o)if(s)t.isInSet(r.storedMarks||s.marks())?o(n.removeStoredMark(t)):o(n.addStoredMark(t.create(e)));else{for(var c=!1,u=0;!c&&u<l.length;u++){var p=l[u],h=p.$from,d=p.$to;c=r.doc.rangeHasMark(h.pos,d.pos,t)}for(u=0;u<l.length;u++){var f=l[u];h=f.$from,d=f.$to;c?n.removeMark(h.pos,d.pos,t):n.addMark(h.pos,d.pos,t.create(e))}o(n.scrollIntoView())}return!0}},He=function(t,e,n,r){void 0===r&&(r=null);var o=[],i=0;return t.doc.nodesBetween(e,n,(function(t,a){if(t.isInline){i++;var s=null;if(r instanceof tt){var l=r.isInSet(t.marks);l&&(s=[l])}else r?r.isInSet(t.marks)&&(s=[r]):s=t.marks;if(s&&s.length)for(var c=Math.min(a+t.nodeSize,n),u=0;u<s.length;u++){for(var p=s[u],h=void 0,d=0;d<o.length;d++){var f=o[d];f.step===i-1&&p.eq(f.style)&&(h=f)}h?(h.to=c,h.step=i):o.push({style:p,from:Math.max(a,e),to:c,step:i})}}})),o.forEach((function(e){return t.step(new Wt(e.from,e.to,e.style))})),t},Ue=function(t,e){var n=e.except,r=t.doc,o=t.selection,i=r.type.schema,a=o.empty,s=o.ranges,l=(n||[]).map((function(t){return t.name}));if(!a){var c=Object.keys(i.marks).map((function(t){return i.marks[t]})).filter((function(t){return-1===l.indexOf(t.name)}));s.forEach((function(e){var n=e.$from,r=e.$to;c.forEach((function(e){return t.removeMark(n.pos,r.pos,e)}))}))}},We=function(t,e){var n,r=t.schema.marks,o=(e.altMarks||[]).filter((function(t){return r[t]})),i=e.altStyle,a=t.selection,s=a.from,l=a.$from,c=a.to,u=a.empty,p=r[e.mark],h=t.doc,d=!1;return u?(n=t.storedMarks||l.marks(),d=p&&p.isInSet(n)||o.some((function(t){return r[t].isInSet(n)}))):d=p&&h.rangeHasMark(s,c,p)||o.some((function(t){return h.rangeHasMark(s,c,r[t])})),!d&&i&&r.style?Ke(t,r.style).some((function(t){return null!==qe(t,i)})):Boolean(d)},qe=function(t,e){for(var n=(t&&t.attrs.style||"").split(/\s*;\s*/).filter((function(t){return Boolean(t)})),r=0;r<n.length;r++){var o=n[r].split(/\s*:\s*/);if(o[0].toLowerCase()===e.name&&e.value.test(o[1]))return o[1]}return null},Ke=function(t,e){var n=t.selection,r=n.from,o=n.$from,i=n.to,a=n.empty,s=[];return a?s.push(e.isInSet(t.storedMarks||o.marks())):t.doc.nodesBetween(r,i,(function(t){t.isInline&&s.push(e.isInSet(t.marks))})),s},Ge=function(t,e){var n=Ke(t,e),r=n.filter((function(t){return Boolean(t)}));return n.length===r.length?n[0]:void 0},Ye=function(t,e){var n=t.find((function(t){return"style"===t.type.name})),r=n&&n.attrs.style;return je(r,e)},Xe=function(t,e,n,r,o){var i=o.create({style:r.style}),a=[],s=[],l=null,c=null;return t.doc.nodesBetween(e,n,(function(t,u,p){if(t.isInline){var h=t.marks;if(!i.isInSet(h)&&p.type.allowsMarkType(i.type)){var d=Math.max(u,e),f=Math.min(u+t.nodeSize,n),m=Ye(h,r);if(m.changed||r.newValue){for(var v=m.changed?{style:m.style||null}:{style:[r.style]+": "+r.newValue+";"},g=o.isInSet(h)?h.find((function(t){return"style"===t.type.name})):null,y=g?Pe({},g.attrs,v):v,b=o.create(y),x=b.addToSet(h),w=0;w<h.length;w++)h[w].isInSet(x)||(l&&l.to===d&&l.mark.eq(h[w])?l.to=f:(l=new Wt(d,f,h[w]),a.push(l)));var k=c&&c.to===d,O=k&&b.attrs.style===c.mark.attrs.style;k&&O?c.to=f:Object.keys(y).some((function(t){return null!==y[t]}))&&(c=new Ut(d,f,b),s.push(c))}}}})),a.forEach((function(e){return t.step(e)})),s.forEach((function(e){return t.step(e)})),a.length+s.length>0},$e=function(t,e){var n=t.schema.marks.style;return(n?Ke(t,n):[]).map((function(t){return qe(t,e)})).filter((function(t){return null!==t}))},Ze=function(t,e){return function(n,r,o){var i=n.selection,a=i.empty,s=i.$cursor,l=i.ranges;if(a&&!s||!Be(n.doc,l,t))return!1;var c,u,p,h,d=!1;if(r){var f=o||n.tr;if(s){var m=n.storedMarks||s.marks();if(t.isInSet(m)){var v=Ye(m,e),g=m.find((function(t){return"style"===t.type.name})),y=Pe({},g?g.attrs:{},{style:v.style||null});if(c=g.attrs,u=y,p=Object.keys(c),h=Object.keys(u),p.length===h.length&&p.every((function(t){return c[t]===u[t]})))return!1;r(f.removeStoredMark(t)),Object.keys(y).some((function(t){return null!==y[t]}))&&r(f.addStoredMark(t.create(y))),d=!0}}else{for(var b=0;b<l.length;b++){var x=l[b],w=x.$from,k=x.$to;d=Xe(f,w.pos,k.pos,e,t)}d&&(f.scrollIntoView(),r(f))}}return d}},Je=function(t,e,n){return function(r,o){var i=r.schema.marks,a=t.altStyle,s=t.altMarks,l=void 0===s?[]:s,c=t.mark,u=e||r.tr,p=!1,h=!1,d=function(){return h=!0};a&&i.style&&(p=Ze(i.style,{style:a.name,value:a.value})(r,d,u));var f=[c].concat(l).filter((function(t){return i[t]})).map((function(t){return We(r,{mark:t})&&i[t]})).filter((function(t){return t}));return f.length?function(t,e,n,r){var o=e.selection,i=o.$cursor,a=o.ranges;if(r=r||e.tr,i)t.forEach((function(t){t.isInSet(e.storedMarks||i.marks())&&n(r.removeStoredMark(t))}));else{for(var s=function(e){var n=a[e],o=n.$from,i=n.$to;t.forEach((function(t){He(r,o.pos,i.pos,t)}))},l=0;l<a.length;l++)s(l);n(r.scrollIntoView())}}(f,r,d,u):p||Ve(i[c],n,u)(r,d),h&&o(u),h}},Qe=function(t,e){return function(n,r){var o=n.schema.marks.style,i={style:t.style,value:/^.+$/,newValue:t.value},a=n.tr;e&&a.setMeta("commandName",e),a.setMeta("args",t);var s=n.selection,l=s.empty,c=s.$cursor,u=s.ranges;if(l&&!c||!o||!Be(n.doc,u,o))return!1;if(c){var p=n.storedMarks||c.marks(),h=o.isInSet(p)?p.find((function(t){return"style"===t.type.name})):null,d={style:null};if(h&&h.attrs.style){var f=je(h.attrs.style,i);f.changed&&f.style&&(d.style=f.style)}else i.newValue&&(d.style=[i.style]+": "+i.newValue+";");var m=h?Pe({},h.attrs,d):d;return Object.keys(m).some((function(t){return null!==m[t]}))?r(a.addStoredMark(o.create(m))):r(a.removeStoredMark(o)),!0}return Ze(o,i)(n,r,a)}},tn=function(t,e){return function(n,r){var o=n.selection.$cursor;if(o){var i=o.parent,a=o.index(),s=n.schema.marks[t.mark],l=i.child(a).marks.find((function(t){return t.type===s})),c=i.childCount,u=o.pos-o.textOffset,p=i.child(a).nodeSize,h=void 0,d=void 0;for(h=a-1;h>=0&&l.isInSet(i.child(h).marks);)p+=d=i.child(h).nodeSize,u-=d,h-=1;for(h=a+1;h<c&&l.isInSet(i.child(h).marks);)p+=i.child(h).nodeSize,h+=1;r(He(e||n.tr,u,u+p,l))}else Je(t,e)(n,r)}},en=function(t,e){var n=t.mark,r=t.attrs;return void 0===e&&(e="link"),function(t,o){var i=t.schema.marks,a=t.tr;e&&(a.setMeta("commandName",e),a.setMeta("args",r));var s=!1,l=function(){return s=!0};if(function(t,e){var n=Ke(t,e);return 1===n.length&&n[0]?n[0]:null}(t,i[n]))!function(t,e){return function(n,r){var o=n.selection,i=o.$cursor,a=o.from,s=o.to,l=n.schema.marks[t.mark];if(i){var c=i.parent,u=i.index(),p=c.child(u).marks.find((function(t){return t.type===l})),h=c.childCount,d=i.pos-i.textOffset,f=c.child(u).nodeSize,m=void 0,v=void 0;for(m=u-1;m>=0&&p.isInSet(c.child(m).marks);)f+=v=c.child(m).nodeSize,d-=v,m-=1;for(m=u+1;m<h&&p.isInSet(c.child(m).marks);)f+=c.child(m).nodeSize,m+=1;e.removeMark(d,d+f,l),e.addMark(d,d+f,l.create(t.attrs)),r(e)}else e.doc.nodesBetween(a,s,(function(n,o){n.isInline&&l.isInSet(n.marks)&&(e.removeMark(o,o+n.nodeSize,l),e.addMark(o,o+n.nodeSize,l.create(t.attrs)),r(e))}))}}({mark:n,attrs:r},a)(t,l);else{var c=t;We(t,{mark:n})&&(tn({mark:n,attrs:r},a)(t,l),c=be.create({doc:a.doc,selection:a.selection})),s?Ve(i[n],r,a)(c,l):Je({mark:n},a,r)(c,l)}return s&&o(a),s}},nn=function(t,e,n,r){if(!n.isTextblock)return!1;t.selection.ranges.forEach((function(o){var i=t.steps.length,a=o.$from.pos,s=o.$to.pos;t.doc.nodesBetween(a,s,(function(o,a){if(o.eq(e)&&o.isTextblock&&!o.hasMarkup(n,r)&&function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(t.doc,t.mapping.slice(i).map(a),n)){t.clearIncompatible(t.mapping.slice(i).map(a,1),n);var s=t.mapping.slice(i),c=s.map(a,1),u=s.map(a+o.nodeSize,1),p=new m(l.from(n.create(r,null,o.marks)),0,0);return t.step(new Dt(c,u,c+1,u-1,p,1,!0)),!1}}))}))},rn=function(t,e){void 0===e&&(e={blocksInSelection:!1});var n=t.doc,r=t.selection,o=r.$from,i=r.ranges,a=e.blocksInSelection,s=[],l=r instanceof le?r.node:void 0;return l?l.isBlock?(s.push(l),l.nodesBetween(0,l.content.size,(function(t){t.isBlock&&s.push(t)}))):!a&&o.parent&&o.parent.isBlock&&s.push(o.parent):i.forEach((function(t){var e=t.$from.pos,r=t.$to.pos;n.nodesBetween(e,r,(function(t,n,o,i){t.isBlock&&(!a||n>=e&&n+t.content.size+2<=r)&&s.push(t)}))})),s},on=function(t,e){return function(n,r){var o=rn(n),i=n.schema.nodes,a=n.tr;a.setMeta("commandName",e),a.setMeta("args",{value:t}),o.forEach((function(e){if(e.type.isTextblock)if("p"===t){var n=e.attrs,r=n.level,o=Ae(n,["level"]);nn(a,e,i.paragraph,o)}else if(/^h[1-6]$/i.test(t)){r=parseInt(t.substr(1),10);nn(a,e,i.heading,Pe({},e.attrs,{level:r}))}else if("blockquote"===t){var s=e.attrs;r=s.level,o=Ae(s,["level"]);nn(a,e,i.blockquote,o)}}));var s=a.docChanged;return s&&r(a.scrollIntoView()),s}},an=function(t){var e=rn(t),n=t.schema.nodes,r=[];return e.forEach((function(t){t.type===n.paragraph?r.push("p"):t.type===n.heading?r.push("h"+t.attrs.level):t.type===n.blockquote&&r.push("blockquote")})),r},sn=function(t,e){var n,r,o=t.attrs.style;o&&e.forEach((function(t){r={style:t.name,value:/^.+$/,newValue:t.value},n=je(o,r),o=n.changed?n.style:o}));return o=o||e.reduce((function(t,e){return(t&&e.value?t+" ":"")+e.value?e.name+": "+e.value+";":""}),""),Object.assign({},t.attrs,{style:o||null})},ln=function(t,e){var n=t.selection,r=n.from,o=n.to,i=!1;return t.doc.nodesBetween(r,o,(function(t){return!(i=i||t.type===e)})),i},cn=function(t,e){return function(n,r){var o=rn(n),i=n.tr;i.setMeta("commandName",e),o.forEach((function(e){if(e.type.isTextblock){var n={},r=t.find((function(t){return t.node===e.type.name}));r&&(n=sn(e,r.style)),nn(i,e,e.type,n)}}));var a=i.docChanged;return a&&r(i.scrollIntoView()),a}},un=function(t,e){var n=rn(t),r=!1;return n.forEach((function(t){if(!r&&t.type.isTextblock&&t.attrs.style){var n=e.find((function(e){return e.node===t.type.name}));n&&(r=n.style.every((function(e){return!!e.value&&new RegExp(e.name+":\\s?"+e.value,"i").test(t.attrs.style)})))}})),r},pn=["ol",0],hn=["ul",0],dn=["li",0],fn={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1==t.attrs.order?pn:["ol",{start:t.attrs.order},0]}},mn={parseDOM:[{tag:"ul"}],toDOM:function(){return hn}},vn={parseDOM:[{tag:"li"}],toDOM:function(){return dn},defining:!0};function gn(t,e){var n={};for(var r in t)n[r]=t[r];for(var o in e)n[o]=e[o];return n}function yn(t,e){return function(n,r){var o=n.selection,i=o.$from,a=o.$to,s=i.blockRange(a),c=!1,u=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&0==s.startIndex){if(0==i.index(s.depth-1))return!1;var p=n.doc.resolve(s.start-2);u=new T(p,p,s.depth),s.endIndex<s.parent.childCount&&(s=new T(i,n.doc.resolve(a.end(s.depth)),s.depth)),c=!0}var h=Mt(u,t,e,s);return!!h&&(r&&r(function(t,e,n,r,o){for(var i=l.empty,a=n.length-1;a>=0;a--)i=l.from(n[a].type.create(n[a].attrs,i));t.step(new Dt(e.start-(r?2:0),e.end,e.start,e.end,new m(i,0,0),n.length,!0));for(var s=0,c=0;c<n.length;c++)n[c].type==o&&(s=c+1);for(var u=n.length-s,p=e.start+n.length-(r?2:0),h=e.parent,d=e.startIndex,f=e.endIndex,v=!0;d<f;d++,v=!1)!v&&Nt(t.doc,p,u)&&(t.split(p,u),p+=2*u),p+=h.child(d).nodeSize;return t}(n.tr,s,h,c,t).scrollIntoView()),!0)}}function bn(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,a=r.node;if(a&&a.isBlock||o.depth<2||!o.sameParent(i))return!1;var s=o.node(-1);if(s.type!=t)return!1;if(0==o.parent.content.size&&o.node(-1).childCount==o.indexAfter(-1)){if(2==o.depth||o.node(-3).type!=t||o.index(-2)!=o.node(-2).childCount-1)return!1;if(n){for(var c=l.empty,u=o.index(-1)?1:o.index(-2)?2:3,p=o.depth-u;p>=o.depth-3;p--)c=l.from(o.node(p).copy(c));var h=o.indexAfter(-1)<o.node(-2).childCount?1:o.indexAfter(-2)<o.node(-3).childCount?2:3;c=c.append(l.from(t.createAndFill()));var d=o.before(o.depth-(u-1)),f=e.tr.replace(d,o.after(-h),new m(c,4-u,0)),v=-1;f.doc.nodesBetween(d,f.doc.content.size,(function(t,e){if(v>-1)return!1;t.isTextblock&&0==t.content.size&&(v=e+1)})),v>-1&&f.setSelection(e.selection.constructor.near(f.doc.resolve(v))),n(f.scrollIntoView())}return!0}var g=i.pos==o.end()?s.contentMatchAt(0).defaultType:null,y=e.tr.delete(o.pos,i.pos),b=g&&[null,{type:g}];return!!Nt(y.doc,o.pos,2,b)&&(n&&n(y.split(o.pos,2,b).scrollIntoView()),!0)}}function xn(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,a=o.blockRange(i,(function(e){return e.childCount&&e.firstChild.type==t}));return!!a&&(!n||(o.node(a.depth-1).type==t?function(t,e,n,r){var o=t.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(o.step(new Dt(i-1,a,i,a,new m(l.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new T(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));return e(o.lift(r,jt(r)).scrollIntoView()),!0}(e,n,t,a):function(t,e,n){for(var r=t.tr,o=n.parent,i=n.end,a=n.endIndex-1,s=n.startIndex;a>s;a--)i-=o.child(a).nodeSize,r.delete(i-1,i+1);var c=r.doc.resolve(n.start),u=c.nodeAfter,p=0==n.startIndex,h=n.endIndex==o.childCount,d=c.node(-1),f=c.index(-1);if(!d.canReplace(f+(p?0:1),f+1,u.content.append(h?l.empty:l.from(o))))return!1;var v=c.pos,g=v+u.nodeSize;return r.step(new Dt(v-(p?1:0),g+(h?1:0),v+1,g-1,new m((p?l.empty:l.from(o.copy(l.empty))).append(h?l.empty:l.from(o.copy(l.empty))),p?0:1,h?0:1),p?0:1)),e(r.scrollIntoView()),!0}(e,n,a)))}}function wn(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,a=o.blockRange(i,(function(e){return e.childCount&&e.firstChild.type==t}));if(!a)return!1;var s=a.startIndex;if(0==s)return!1;var c=a.parent,u=c.child(s-1);if(u.type!=t)return!1;if(n){var p=u.lastChild&&u.lastChild.type==c.type,h=l.from(p?t.create():null),d=new m(l.from(t.create(null,l.from(c.type.create(null,h)))),p?3:1,0),f=a.start,v=a.end;n(e.tr.step(new Dt(f-(p?3:1),v,f,v,d,1,!0)).scrollIntoView())}return!0}}var kn={orderedList:"ordered_list",bulletList:"bullet_list",listItem:"list_item"},On=(Pe({},kn),Pe({},kn),{nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"}],listsTypes:Pe({},kn)}),Cn={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"}],listsTypes:Pe({},kn)},_n=function(t,e,n){return function(r,o){var i=rn(r),a=r.tr;a.setMeta("commandName",e),i.forEach((function(e){if(e.type.isTextblock){var r=void 0,o=t.find((function(t){return t.node===e.type.name}));if(o){var i="rtl"===n?o.rtlStyle:o.style,s={name:i,value:o.step>0?""+o.step+o.unit:""};if(e.attrs.style){var l=new RegExp(i+":\\s?(\\d+)"+o.unit,"i"),c=e.attrs.style.match(l);if(c){var u=parseFloat(c[1])+o.step;u=u<=0?"":u,s.value=""+u+(u?o.unit:"")}}r=sn(e,[s])}r&&nn(a,e,e.type,r)}}));var s=a.docChanged;return s&&o(a.scrollIntoView()),s}},Sn=function(t,e,n){var r=rn(t),o=!1;return r.forEach((function(t){if(!o&&t.type.isTextblock&&t.attrs.style){var r=e.find((function(e){return e.node===t.type.name}));if(r){var i="rtl"===n?r.rtlStyle:r.style,a=new RegExp(i+":\\s?\\d+"+r.unit,"i");o=a.test(t.attrs.style)}}})),o},En=function(t,e){return wn(e)(t)},In=function(t,e){var n=t.schema.nodes[e.listsTypes.listItem],r=t.schema.nodes[e.listsTypes.orderedList],o=t.schema.nodes[e.listsTypes.bulletList],i=!!Ne(r,2)(t.selection),a=!!Ne(o,2)(t.selection);return(i||a)&&xn(n)(t)};function Tn(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function Dn(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;var o=jn(r);if(!o){var i=r.blockRange(),a=i&&jt(i);return null!=a&&(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)}var s=o.nodeBefore;if(!s.type.spec.isolating&&qn(t,o,e))return!0;if(0==r.parent.content.size&&(Pn(s,"end")||le.isSelectable(s))){if(e){var l=t.tr.deleteRange(r.before(),r.after());l.setSelection(Pn(s,"end")?re.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):le.create(l.doc,o.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}return!(!s.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0)}function Pn(t,e,n){for(;t;t="start"==e?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(n&&1!=t.childCount)return!1}return!1}function An(t,e,n){var r=t.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;i=jn(o)}var a=i&&i.nodeBefore;return!(!a||!le.isSelectable(a))&&(e&&e(t.tr.setSelection(le.create(t.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)}function jn(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Mn(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var o=Nn(r);if(!o)return!1;var i=o.nodeAfter;if(qn(t,o,e))return!0;if(0==r.parent.content.size&&(Pn(i,"start")||le.isSelectable(i))){if(e){var a=t.tr.deleteRange(r.before(),r.after());a.setSelection(Pn(i,"start")?re.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):le.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}function Rn(t,e,n){var r=t.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;i=Nn(o)}var a=i&&i.nodeAfter;return!(!a||!le.isSelectable(a))&&(e&&e(t.tr.setSelection(le.create(t.doc,i.pos)).scrollIntoView()),!0)}function Nn(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function Fn(t,e){var n=t.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function Ln(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function zn(t,e){var n=t.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),a=r.indexAfter(-1),s=Ln(i.contentMatchAt(a));if(!i.canReplaceWith(a,a,s))return!1;if(e){var l=r.after(),c=t.tr.replaceWith(l,l,s.createAndFill());c.setSelection(re.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0}function Bn(t,e){var n=t.selection,r=n.$from,o=n.$to;if(n instanceof ue||r.parent.inlineContent||o.parent.inlineContent)return!1;var i=Ln(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){var a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=t.tr.insert(a,i.createAndFill());s.setSelection(ae.create(s.doc,a+1)),e(s.scrollIntoView())}return!0}function Vn(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Nt(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&jt(o);return null!=i&&(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)}function Hn(t,e){var n=t.selection,r=n.$from,o=n.$to;if(t.selection instanceof le&&t.selection.node.isBlock)return!(!r.parentOffset||!Nt(t.doc,r.pos))&&(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){var i=o.parentOffset==o.parent.content.size,a=t.tr;(t.selection instanceof ae||t.selection instanceof ue)&&a.deleteSelection();var s=0==r.depth?null:Ln(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=i&&s?[{type:s}]:null,c=Nt(a.doc,a.mapping.map(r.pos),1,l);if(l||c||!Nt(a.doc,a.mapping.map(r.pos),1,s&&[{type:s}])||(l=[{type:s}],c=!0),c&&(a.split(a.mapping.map(r.pos),1,l),!i&&!r.parentOffset&&r.parent.type!=s)){var u=a.mapping.map(r.before()),p=a.doc.resolve(u);r.node(-1).canReplaceWith(p.index(),p.index()+1,s)&&a.setNodeMarkup(a.mapping.map(r.before()),s)}e(a.scrollIntoView())}return!0}function Un(t,e){return Hn(t,e&&function(n){var r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();r&&n.ensureMarks(r),e(n)})}function Wn(t,e){return e&&e(t.tr.setSelection(new ue(t.doc))),!0}function qn(t,e,n){var r,o,i=e.nodeBefore,a=e.nodeAfter;if(i.type.spec.isolating||a.type.spec.isolating)return!1;if(function(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(i,i+1)||!o.isTextblock&&!Ft(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0))}(t,e,n))return!0;var s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&o.matchType(r[0]||a.type).validEnd){if(n){for(var c=e.pos+a.nodeSize,u=l.empty,p=r.length-1;p>=0;p--)u=l.from(r[p].create(null,u));u=l.from(i.copy(u));var h=t.tr.step(new Dt(e.pos-1,c,e.pos,c,new m(u,1,0),r.length,!0)),d=c+2*r.length;Ft(h.doc,d)&&h.join(d),n(h.scrollIntoView())}return!0}var f=re.findFrom(e,1),v=f&&f.$from.blockRange(f.$to),g=v&&jt(v);if(null!=g&&g>=e.depth)return n&&n(t.tr.lift(v,g).scrollIntoView()),!0;if(s&&Pn(a,"start",!0)&&Pn(i,"end")){for(var y=i,b=[];b.push(y),!y.isTextblock;)y=y.lastChild;for(var x=a,w=1;!x.isTextblock;x=x.firstChild)w++;if(y.canReplace(y.childCount,y.childCount,x.content)){if(n){for(var k=l.empty,O=b.length-1;O>=0;O--)k=l.from(b[O].copy(k));n(t.tr.step(new Dt(e.pos-b.length,e.pos+a.nodeSize,e.pos+w,e.pos+a.nodeSize-w,new m(k,b.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function Kn(t,e){if(Array.isArray(e)){var n=e;e=function(t){return n.indexOf(t.type.name)>-1}}return function(n,r){return t(n,r&&function(t,e){return function(n){if(!n.isGeneric)return t(n);for(var r=[],o=0;o<n.mapping.maps.length;o++){for(var i=n.mapping.maps[o],a=0;a<r.length;a++)r[a]=i.map(r[a]);i.forEach((function(t,e,n,o){return r.push(n,o)}))}for(var s=[],l=0;l<r.length;l+=2)for(var c=r[l],u=r[l+1],p=n.doc.resolve(c),h=p.sharedDepth(u),d=p.node(h),f=p.indexAfter(h),m=p.after(h+1);m<=u;++f){var v=d.maybeChild(f);if(!v)break;if(f&&-1==s.indexOf(m)){var g=d.child(f-1);g.type==v.type&&e(g,v)&&s.push(m)}m+=v.nodeSize}s.sort((function(t,e){return t-e}));for(var y=s.length-1;y>=0;y--)Ft(n.doc,s[y])&&n.join(s[y]);t(n)}}(r,e))}}function Gn(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}var Yn=Gn(Tn,Dn,An),Xn=Gn(Tn,Mn,Rn),$n={Enter:Gn(Fn,Bn,Vn,Hn),"Mod-Enter":zn,Backspace:Yn,"Mod-Backspace":Yn,Delete:Xn,"Mod-Delete":Xn,"Mod-a":Wn},Zn={"Ctrl-h":$n.Backspace,"Alt-Backspace":$n["Mod-Backspace"],"Ctrl-d":$n.Delete,"Ctrl-Alt-Backspace":$n["Mod-Delete"],"Alt-Delete":$n["Mod-Delete"],"Alt-d":$n["Mod-Delete"]};for(var Jn in $n)Zn[Jn]=$n[Jn];var Qn=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?Zn:$n,tr=function(t,e,n){for(var r=e.depth,o=t.nodes[n.bulletList],i=t.nodes[n.orderedList],a=t.nodes[n.listItem],s=e.depth;s>0;s--){var l=e.node(s);if(l.type!==o&&l.type!==i||(r=s),l.type!==o&&l.type!==i&&l.type!==a)break}return r-1};function er(t){return function(e,n,r){if(!r)return!1;var o,i=(e=r.state).schema.nodes[t.listType],a=e.selection,s=a.$from,l=a.$to,c=s.node(-2),u=s.node(-3),p=function(t,e,n,r){return 0===function(t,e,n){var r=Array(),o=function(t,e){var n=["blockquote","bulletList","orderedList"];if(1===e.depth)return e;var r=e.node(e.depth),o=e;for(;e.depth>=1;)e=t.resolve(e.before(e.depth)),(r=e.node(e.depth))&&-1!==n.indexOf(r.type.name)&&(o=e);return o}(t,e).depth,i=t.resolve(e.start(o));for(;i.pos<=n.start(n.depth);){var a=Math.min(i.depth,o),s=i.node(a);if(s&&r.push(s),0===a)break;var l=t.resolve(i.after(a));if(l.start(a)>=t.nodeSize-2)break;l.depth!==i.depth&&(l=t.resolve(l.pos+2)),i=l.depth?t.resolve(l.start(l.depth)):t.resolve(l.end(l.depth))}return r}(t,e,n).filter((function(t){return t.type!==r})).length}(e.doc,s,l,i);return(c&&c.type===i||u&&u.type===i)&&p?rr(t)(e,n):(p||(rr(t)(e,n),e=r.state),Kn(yn(o=i),(function(t,e){return t.type===e.type&&t.type===o}))(e,n))}}function nr(t,e,n,r){r||(r=t.schema.nodes.listItem);var o=e.$from,i=e.$to,a=o.blockRange(i,(function(t){return t.childCount&&t.firstChild.type===r}));if(!a||a.depth<2||o.node(a.depth-1).type!==r)return n;var s=a.end,c=i.end(a.depth);return s<c&&(n.step(new Dt(s-1,c,s,c,new m(l.from(r.create(void 0,a.parent.copy())),1,0),1,!0)),a=new T(n.doc.resolve(o.pos),n.doc.resolve(c),a.depth)),n.lift(a,jt(a)).scrollIntoView()}function rr(t){return function(e,n){var r=e.tr,o=e.selection,i=o.$from,a=o.$to;return r.doc.nodesBetween(i.pos,a.pos,(function(n,o){if(n.isTextblock||"blockquote"===n.type.name||"div"===n.type.name){var i=new le(r.doc.resolve(r.mapping.map(o))),a=i.$from.blockRange(i.$to);if(!a||i.$from.parent.type!==e.schema.nodes[t.listItem])return!1;var s=a&&jt(a);if(null==s)return!1;r.lift(a,s)}})),n&&n(r),!0}}var or=function(t,e,n,r,o){var i=r.listType,a=t.selection,s=a.$from.node(a.$from.depth-2),l=a.$to.node(a.$to.depth-2);if(s&&s.type.name===i&&l&&l.type.name===i){var c=n.state.schema.nodes,u={bulletList:c[r.bulletList],orderedList:c[r.orderedList],listItem:c[r.listItem]},p=function(t,e){for(var n,r=e.bulletList,o=e.orderedList,i=e.listItem,a=t.depth-1;a>0;a--){var s=t.node(a);if(s.type!==r&&s.type!==o||(n=a),s.type!==r&&s.type!==o&&s.type!==i)break}return n}(a.$to,u),h=function(t,e,n,r,o,i){i||(i=t.schema.nodes.listItem);var a=!1;return o.doc.nodesBetween(e,n,(function(n,s){if(!a&&n.type===i&&s>e){a=!0;for(var l=r+3;l>r+2;){var c=o.doc.resolve(o.mapping.map(s));l=c.depth;var u=o.doc.resolve(o.mapping.map(s+n.textContent.length)),p=new ae(c,u);o=nr(t,p,o,i)}}})),o}(t,a.$to.pos,a.$to.end(p),p,n.state.tr,u.listItem);return(h=function(t,e,n){var r=t.selection,o=r.from,i=r.to,a=t.schema.nodes,s=a.paragraph,l=a.heading,c=[];e.doc.nodesBetween(o,i,(function(t,e){t.type!==s&&t.type!==l||c.push({node:t,pos:e})}));for(var u=c.length-1;u>=0;u--){var p=c[u],h=e.doc.resolve(e.mapping.map(p.pos));if(h.depth>0){var d=void 0;d=p.node.textContent&&p.node.textContent.length>0?e.doc.resolve(e.mapping.map(p.pos+p.node.textContent.length)):e.doc.resolve(e.mapping.map(p.pos+1));var f=h.blockRange(d);f&&e.lift(f,tr(t.schema,h,n))}}return e}(t,h,r)).setMeta("commandName",o),e(h),!0}return er(r)(t,e,n)};for(var ir=function(t,e){return{name:t,value:e}},ar=[{node:"paragraph",style:[ir("text-align","left")]},{node:"heading",style:[ir("text-align","left")]}],sr=[{node:"paragraph",style:[ir("text-align","right")]},{node:"heading",style:[ir("text-align","right")]}],lr=[{node:"paragraph",style:[ir("text-align","center")]},{node:"heading",style:[ir("text-align","center")]}],cr=[{node:"paragraph",style:[ir("text-align","justify")]},{node:"heading",style:[ir("text-align","justify")]}],ur=[{node:"paragraph",style:[ir("text-align","")]},{node:"heading",style:[ir("text-align","")]}],pr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},hr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},dr="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),fr="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),mr="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),vr="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),gr="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),yr=dr&&(vr||+dr[1]<57)||mr&&vr,br=0;br<10;br++)pr[48+br]=pr[96+br]=String(br);for(br=1;br<=24;br++)pr[br+111]="F"+br;for(br=65;br<=90;br++)pr[br]=String.fromCharCode(br+32),hr[br]=String.fromCharCode(br);for(var xr in pr)hr.hasOwnProperty(xr)||(hr[xr]=pr[xr]);var wr="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function kr(t){var e,n,r,o,i=t.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(var s=0;s<i.length-1;s++){var l=i[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))e=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);wr?o=!0:n=!0}}return e&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function Or(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function Cr(t){return new ke({props:{handleKeyDown:_r(t)}})}function _r(t){var e=function(t){var e=Object.create(null);for(var n in t)e[kr(n)]=t[n];return e}(t);return function(t,n){var r,o=function(t){var e=!(yr&&(t.ctrlKey||t.altKey||t.metaKey)||(fr||gr)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?hr:pr)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),i=1==o.length&&" "!=o,a=e[Or(o,n,!i)];if(a&&a(t.state,t.dispatch,t))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=pr[n.keyCode])&&r!=o){var s=e[Or(r,n,!0)];if(s&&s(t.state,t.dispatch,t))return!0}else if(i&&n.shiftKey){var l=e[Or(o,n,!0)];if(l&&l(t.state,t.dispatch,t))return!0}return!1}}var Sr={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Er=/Edge\/(\d+)/.exec(navigator.userAgent),Ir=/MSIE \d/.test(navigator.userAgent),Tr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);Sr.mac=/Mac/.test(navigator.platform);var Dr=Sr.ie=!!(Ir||Tr||Er);Sr.ie_version=Ir?document.documentMode||6:Tr?+Tr[1]:Er?+Er[1]:null,Sr.gecko=!Dr&&/gecko\/(\d+)/i.test(navigator.userAgent),Sr.gecko_version=Sr.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Pr=!Dr&&/Chrome\/(\d+)/.exec(navigator.userAgent);Sr.chrome=!!Pr,Sr.chrome_version=Pr&&+Pr[1],Sr.safari=!Dr&&/Apple Computer/.test(navigator.vendor),Sr.ios=Sr.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Sr.android=/Android \d/.test(navigator.userAgent),Sr.webkit="webkitFontSmoothing"in document.documentElement.style,Sr.webkit_version=Sr.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Ar=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},jr=function(t){var e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e},Mr=null,Rr=function(t,e,n){var r=Mr||(Mr=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},Nr=function(t,e,n,r){return n&&(Lr(t,e,n,r,-1)||Lr(t,e,n,r,1))},Fr=/^(img|br|input|textarea|hr)$/i;function Lr(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:zr(t))){var i=t.parentNode;if(1!=i.nodeType||Br(t)||Fr.test(t.nodeName)||"false"==t.contentEditable)return!1;e=Ar(t)+(o<0?0:1),t=i}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(o<0?-1:0)]).contentEditable)return!1;e=o<0?zr(t):0}}}function zr(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Br(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var Vr=function(t){var e=t.isCollapsed;return e&&Sr.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function Hr(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Ur(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Wr(t,e){return"number"==typeof t?t:t[e]}function qr(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Kr(t,e,n){for(var r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,a=n||t.dom;a;a=jr(a))if(1==a.nodeType){var s=a==i.body||1!=a.nodeType,l=s?Ur(i):qr(a),c=0,u=0;if(e.top<l.top+Wr(r,"top")?u=-(l.top-e.top+Wr(o,"top")):e.bottom>l.bottom-Wr(r,"bottom")&&(u=e.bottom-l.bottom+Wr(o,"bottom")),e.left<l.left+Wr(r,"left")?c=-(l.left-e.left+Wr(o,"left")):e.right>l.right-Wr(r,"right")&&(c=e.right-l.right+Wr(o,"right")),c||u)if(s)i.defaultView.scrollBy(c,u);else{var p=a.scrollLeft,h=a.scrollTop;u&&(a.scrollTop+=u),c&&(a.scrollLeft+=c);var d=a.scrollLeft-p,f=a.scrollTop-h;e={left:e.left-d,top:e.top-f,right:e.right-d,bottom:e.bottom-f}}if(s)break}}function Gr(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=jr(t));return e}function Yr(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=a&&(o.scrollLeft=a)}}var Xr=null;function $r(t,e){for(var n,r,o=2e8,i=0,a=e.top,s=e.top,l=t.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=Rr(l).getClientRects()}for(var p=0;p<u.length;p++){var h=u[p];if(h.top<=a&&h.bottom>=s){a=Math.max(h.bottom,a),s=Math.min(h.top,s);var d=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(d<o){n=l,o=d,r=d&&3==n.nodeType?{left:h.right<e.left?h.right:h.left,top:e.top}:e,1==l.nodeType&&d&&(i=c+(e.left>=(h.left+h.right)/2?1:0));continue}}!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(i=c+1)}}return n&&3==n.nodeType?function(t,e){for(var n=t.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);var i=Qr(r,1);if(i.top!=i.bottom&&Zr(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:t,offset:i}:$r(n,r)}function Zr(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Jr(t,e){var n,r,o,i,a=t.root;if(a.caretPositionFromPoint)try{var s=a.caretPositionFromPoint(e.left,e.top);s&&(o=(n=s).offsetNode,i=n.offset)}catch(t){}if(!o&&a.caretRangeFromPoint){var l=a.caretRangeFromPoint(e.left,e.top);l&&(o=(r=l).startContainer,i=r.startOffset)}var c,u=a.elementFromPoint(e.left,e.top+1);if(!u||!t.dom.contains(1!=u.nodeType?u.parentNode:u)){var p=t.dom.getBoundingClientRect();if(!Zr(e,p))return null;if(!(u=function t(e,n,r){var o=e.childNodes.length;if(o&&r.top<r.bottom)for(var i=Math.max(0,Math.min(o-1,Math.floor(o*(n.top-r.top)/(r.bottom-r.top))-2)),a=i;;){var s=e.childNodes[a];if(1==s.nodeType)for(var l=s.getClientRects(),c=0;c<l.length;c++){var u=l[c];if(Zr(n,u))return t(s,n,u)}if((a=(a+1)%o)==i)break}return e}(t.dom,e,p)))return null}if(Sr.safari)for(var h=u;o&&h;h=jr(h))h.draggable&&(o=i=null);if(u=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(u,e),o){if(Sr.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var d,f=o.childNodes[i];"IMG"==f.nodeName&&(d=f.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}o==t.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&e.top>o.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(c=function(t,e,n,r){for(var o=-1,i=e;i!=t.dom;){var a=t.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)o=a.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}(t,o,i,e))}null==c&&(c=function(t,e,n){var r=$r(e,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var s=o.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(o,i,a)}(t,u,e));var m=t.docView.nearestDesc(u,!0);return{pos:c,inside:m?m.posAtStart-m.border:-1}}function Qr(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var to=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function eo(t,e,n){var r=t.docView.domFromPos(e,n<0?-1:1),o=r.node,i=r.offset,a=Sr.webkit||Sr.gecko;if(3==o.nodeType){if(!a||!to.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){var s=i,l=i,c=n<0?1:-1;return n<0&&!i?(l++,c=-1):n>=0&&i==o.nodeValue.length?(s--,c=1):n<0?s--:l++,no(Qr(Rr(o,s,l),c),c<0)}var u=Qr(Rr(o,i,i),n);if(Sr.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var p=Qr(Rr(o,i-1,i-1),-1);if(p.top==u.top){var h=Qr(Rr(o,i,i+1),-1);if(h.top!=u.top)return no(h,h.left<p.left)}}return u}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(n<0||i==zr(o))){var d=o.childNodes[i-1];if(1==d.nodeType)return ro(d.getBoundingClientRect(),!1)}if(i<zr(o)){var f=o.childNodes[i];if(1==f.nodeType)return ro(f.getBoundingClientRect(),!0)}return ro(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==zr(o))){var m=o.childNodes[i-1],v=3==m.nodeType?Rr(m,zr(m)-(a?0:1)):1!=m.nodeType||"BR"==m.nodeName&&m.nextSibling?null:m;if(v)return no(Qr(v,1),!1)}if(i<zr(o)){var g=o.childNodes[i],y=3==g.nodeType?Rr(g,0,a?0:1):1==g.nodeType?g:null;if(y)return no(Qr(y,-1),!0)}return no(Qr(3==o.nodeType?Rr(o):o,-n),n>=0)}function no(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function ro(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function oo(t,e,n){var r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}var io=/[\u0590-\u08ac]/;var ao=null,so=null,lo=!1;function co(t,e,n){return ao==e&&so==n?lo:(ao=e,so=n,lo="up"==n||"down"==n?function(t,e,n){var r=e.selection,o="up"==n?r.$from:r.$to;return oo(t,e,(function(){for(var e=t.docView.domFromPos(o.pos,"up"==n?-1:1).node;;){var r=t.docView.nearestDesc(e,!0);if(!r)break;if(r.node.isBlock){e=r.dom;break}e=r.dom.parentNode}for(var i=eo(t,o.pos,1),a=e.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=Rr(a,0,a.nodeValue.length).getClientRects()}for(var l=0;l<s.length;l++){var c=s[l];if(c.bottom>c.top&&("up"==n?c.bottom<i.top+1:c.top>i.bottom-1))return!1}}return!0}))}(t,e,n):function(t,e,n){var r=e.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=t.root.getSelection();return io.test(r.parent.textContent)&&s.modify?oo(t,e,(function(){var e=s.getRangeAt(0),o=s.focusNode,i=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var l=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||o==s.focusNode&&i==s.focusOffset;return s.removeAllRanges(),s.addRange(e),null!=a&&(s.caretBidiLevel=a),l})):"left"==n||"backward"==n?i:a}(t,e,n))}var uo=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},po={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0}};uo.prototype.matchesWidget=function(){return!1},uo.prototype.matchesMark=function(){return!1},uo.prototype.matchesNode=function(){return!1},uo.prototype.matchesHack=function(t){return!1},po.beforePosition.get=function(){return!1},uo.prototype.parseRule=function(){return null},uo.prototype.stopEvent=function(){return!1},po.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},po.border.get=function(){return 0},uo.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},uo.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},po.posBefore.get=function(){return this.parent.posBeforeChild(this)},po.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},po.posAfter.get=function(){return this.posBefore+this.size},po.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},uo.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,o;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(t==this.contentDOM)i=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var s;if(t==this.dom&&this.contentDOM)s=e>Ar(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var l=t;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.parentNode.firstChild!=l)break}if(null==s&&e==t.childNodes.length)for(var c=t;;c=c.parentNode){if(c==this.dom){s=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},uo.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==t.nodeType?t:t.parentNode):o.nodeDOM==t))return o;n=!1}}},uo.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},uo.prototype.posFromDOM=function(t,e,n){for(var r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}return-1},uo.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<o)return r.descAt(t-n-r.border);n=o}},uo.prototype.domFromPos=function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,o=!0;;r++,o=!1){for(;r<this.children.length&&(this.children[r].beforePosition||this.children[r].dom.parentNode!=this.contentDOM);)n+=this.children[r++].size;var i=r==this.children.length?null:this.children[r];if(n==t&&(0==e||!i||!i.size||i.border||e<0&&o)||i&&i.domAtom&&t<n+i.size)return{node:this.contentDOM,offset:i?Ar(i.dom):this.contentDOM.childNodes.length};if(!i)throw new Error("Invalid position "+t);var a=n+i.size;if(!i.domAtom&&(e<0&&!i.border?a>=t:a>t)&&(a>t||r+1>=this.children.length||!this.children[r+1].beforePosition))return i.domFromPos(t-n-i.border,e);n=a}},uo.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var s=this.children[a],l=i+s.size;if(-1==r&&t<=l){var c=i+s.border;if(t>=c&&e<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(t,e,c);t=i;for(var u=a;u>0;u--){var p=this.children[u-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=Ar(p.dom)+1;break}t-=p.size}-1==r&&(r=0)}if(r>-1&&(l>e||a==this.children.length-1)){e=l;for(var h=a+1;h<this.children.length;h++){var d=this.children[h];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Ar(d.dom);break}e+=d.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}},uo.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},uo.prototype.domAfterPos=function(t){var e=this.domFromPos(t,0),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},uo.prototype.setSelection=function(t,e,n,r){for(var o=Math.min(t,e),i=Math.max(t,e),a=0,s=0;a<this.children.length;a++){var l=this.children[a],c=s+l.size;if(o>s&&i<c)return l.setSelection(t-s-l.border,e-s-l.border,n,r);s=c}var u=this.domFromPos(t,t?-1:1),p=e==t?u:this.domFromPos(e,e?-1:1),h=n.getSelection(),d=!1;if((Sr.gecko||Sr.safari)&&t==e){var f=u.node,m=u.offset;if(3==f.nodeType){if((d=m&&"\n"==f.nodeValue[m-1])&&m==f.nodeValue.length)for(var v=f,g=void 0;v;v=v.parentNode){if(g=v.nextSibling){"BR"==g.nodeName&&(u=p={node:g.parentNode,offset:Ar(g)+1});break}var y=v.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{var b=f.childNodes[m-1];d=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(Sr.gecko&&h.focusNode&&h.focusNode!=p.node&&1==h.focusNode.nodeType){var x=h.focusNode.childNodes[h.focusOffset];x&&"false"==x.contentEditable&&(r=!0)}if(r||d&&Sr.safari||!Nr(u.node,u.offset,h.anchorNode,h.anchorOffset)||!Nr(p.node,p.offset,h.focusNode,h.focusOffset)){var w=!1;if((h.extend||t==e)&&!d){h.collapse(u.node,u.offset);try{t!=e&&h.extend(p.node,p.offset),w=!0}catch(t){if(!(t instanceof DOMException))throw t}}if(!w){if(t>e){var k=u;u=p,p=k}var O=document.createRange();O.setEnd(p.node,p.offset),O.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(O)}}},uo.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},po.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},uo.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?t<=i&&e>=n:t<i&&e>n){var a=n+o.border,s=i-o.border;if(t>=a&&e<=s)return this.dirty=t==n||e==i?2:1,void(t!=a||e!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(t-a,e-a):o.dirty=3);o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM?2:3}n=i}this.dirty=2},uo.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?2:1;e.dirty<n&&(e.dirty=n)}},po.domAtom.get=function(){return!1},Object.defineProperties(uo.prototype,po);var ho=[],fo=function(t){function e(e,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}t.call(this,e,ho,a,null),this.widget=n,i=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0},domAtom:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(uo),mo=function(t){function e(e,n,r,o){t.call(this,e,ho,n,null),this.textDOM=r,this.text=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(uo),vo=function(t){function e(e,n,r,o){t.call(this,e,[],r,o),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,o){var i=o.nodeViews[n.type.name],a=i&&i(n,o,r);return a&&a.dom||(a=ft.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,a.dom,a.contentDOM||a.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,n,r){var o=e.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=Ao(i,n,a,r)),t>0&&(i=Ao(i,0,t,r));for(var s=0;s<i.length;s++)i[s].parent=o;return o.children=i,o},e}(uo),go=function(t){function e(e,n,r,o,i,a,s,l,c){t.call(this,e,n.isLeaf?ho:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(l,c)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(t,n,r,o,i,a){var s,l,c=i.nodeViews[n.type.name],u=c&&c(n,i,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:a}),r,o),p=u&&u.dom,h=u&&u.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(p=(s=ft.renderSpec(document,n.type.spec.toDOM(n))).dom,h=s.contentDOM);h||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var d=p;return p=Eo(p,r,n),u?l=new wo(t,n,r,o,p,h,d,u,i,a+1):n.isText?new bo(t,n,r,o,p,d,i):new e(t,n,r,o,p,h,d,i,a+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?l.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&Io(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,o=e,i=t.composing&&this.localCompositionInfo(t,e),a=i&&i.pos>-1?i:null,s=i&&i.pos<0,l=new Do(this,a&&a.node);!function(t,e,n,r){var o=e.locals(t),i=0;if(0==o.length){for(var a=0;a<t.childCount;a++){var s=t.child(a);r(s,o,e.forChild(i,s),a),i+=s.nodeSize}return}for(var l=0,c=[],u=null,p=0;;){if(l<o.length&&o[l].to==i){for(var h=o[l++],d=void 0;l<o.length&&o[l].to==i;)(d||(d=[h])).push(o[l++]);if(d){d.sort(Po);for(var f=0;f<d.length;f++)n(d[f],p,!!u)}else n(h,p,!!u)}var m=void 0,v=void 0;if(u)v=-1,m=u,u=null;else{if(!(p<t.childCount))break;v=p,m=t.child(p++)}for(var g=0;g<c.length;g++)c[g].to<=i&&c.splice(g--,1);for(;l<o.length&&o[l].from<=i&&o[l].to>i;)c.push(o[l++]);var y=i+m.nodeSize;if(m.isText){var b=y;l<o.length&&o[l].from<b&&(b=o[l].from);for(var x=0;x<c.length;x++)c[x].to<b&&(b=c[x].to);b<y&&(u=m.cut(b-i),m=m.cut(0,b-i),y=b,v=-1)}var w=c.length?m.isInline&&!m.isLeaf?c.filter((function(t){return!t.inline})):c.slice():ho;r(m,w,e.forChild(i,m),v),i=y}}(this.node,this.innerDeco,(function(e,i,a){e.spec.marks?l.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!a&&l.syncToMarks(i==n.node.childCount?d.none:n.node.child(i).marks,r,t),l.placeWidget(e,t,o)}),(function(e,n,a,c){var u;l.syncToMarks(e.marks,r,t),l.findNodeMatch(e,n,a,c)||s&&t.state.selection.from>o&&t.state.selection.to<o+e.nodeSize&&(u=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(e,n,a,u,t)||l.updateNextNode(e,n,a,t,c)||l.addNode(e,n,a,t,o),o+=e.nodeSize})),l.syncToMarks(ho,r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(a&&this.protectLocalComposition(t,a),function t(e,n,r){for(var o=e.firstChild,i=!1,a=0;a<n.length;a++){var s=n[a],l=s.dom;if(l.parentNode==e){for(;l!=o;)o=To(o),i=!0;o=o.nextSibling}else i=!0,e.insertBefore(l,o);if(s instanceof vo){var c=o?o.previousSibling:e.lastChild;t(s.contentDOM,s.children,r),o=c?c.nextSibling:e.firstChild}}for(;o;)o=To(o),i=!0;i&&r.trackWrites==e&&(r.trackWrites=null)}(this.contentDOM,this.children,t),Sr.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))},e.prototype.localCompositionInfo=function(t,e){var n=t.state.selection,r=n.from,o=n.to;if(!(!(t.state.selection instanceof ae)||r<e||o>e+this.node.content.size)){var i=t.root.getSelection(),a=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=zr(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(i.focusNode,i.focusOffset);if(a&&this.dom.contains(a.parentNode)){if(this.node.inlineContent){var s=a.nodeValue,l=function(t,e,n,r){for(var o=0,i=0;o<t.childCount&&i<=r;){var a=t.child(o++),s=i;if(i+=a.nodeSize,a.isText){for(var l=a.text;o<t.childCount;){var c=t.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){var u=l.lastIndexOf(e,r-s);if(u>=0&&u+e.length+s>=n)return s+u}}}return-1}(this.node.content,s,r-e,o-e);return l<0?null:{node:a,pos:l,text:s}}return{node:a,pos:-1}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,o=e.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new mo(this,i,n,o);t.compositionNodes.push(a),this.children=Ao(this.children,r,r+o.length,t,a)}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!Io(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=_o(this.dom,this.nodeDOM,Co(this.outerDeco,this.node,e),Co(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,n),e}(uo);function yo(t,e,n,r,o){return Eo(r,e,t),new go(null,t,e,n,r,r,r,o,0)}var bo=function(t){function e(e,n,r,o,i,a,s){t.call(this,e,n,r,o,i,null,a,s)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=0,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var o=this.node.cut(t,n),i=document.createTextNode(o.text);return new e(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},e.prototype.markDirty=function(e,n){t.prototype.markDirty.call(this,e,n),this.dom==this.nodeDOM||0!=e&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,n),e}(go),xo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(t){return 0==this.dirty&&this.dom.nodeName==t},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(uo),wo=function(t){function e(e,n,r,o,i,a,s,l,c,u){t.call(this,e,n,r,o,i,a,s,c,u),this.spec=l}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,o),i}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,o)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(go);function ko(t){t&&(this.nodeName=t)}ko.prototype=Object.create(null);var Oo=[new ko];function Co(t,e,n){if(0==t.length)return Oo;for(var r=n?Oo[0]:new ko,o=[r],i=0;i<t.length;i++){var a=t[i].type.attrs;if(a)for(var s in a.nodeName&&o.push(r=new ko(a.nodeName)),a){var l=a[s];null!=l&&(n&&1==o.length&&o.push(r=new ko(e.isInline?"span":"div")),"class"==s?r.class=(r.class?r.class+" ":"")+l:"style"==s?r.style=(r.style?r.style+";":"")+l:"nodeName"!=s&&(r[s]=l))}}return o}function _o(t,e,n,r){if(n==Oo&&r==Oo)return e;for(var o=e,i=0;i<r.length;i++){var a=r[i],s=n[i];if(i){var l=void 0;s&&s.nodeName==a.nodeName&&o!=t&&(l=o.parentNode)&&l.tagName.toLowerCase()==a.nodeName||((l=document.createElement(a.nodeName)).pmIsDeco=!0,l.appendChild(o),s=Oo[0]),o=l}So(o,s||Oo[0],a)}return o}function So(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var i=e.class?e.class.split(" ").filter(Boolean):ho,a=n.class?n.class.split(" ").filter(Boolean):ho,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&t.classList.remove(i[s]);for(var l=0;l<a.length;l++)-1==i.indexOf(a[l])&&t.classList.add(a[l])}if(e.style!=n.style){if(e.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(e.style);)t.style.removeProperty(c[1]);n.style&&(t.style.cssText+=n.style)}}function Eo(t,e,n){return _o(t,t,Oo,Co(e,n,1!=t.nodeType))}function Io(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function To(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var Do=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(t,e){for(var n=t.childCount,r=e.length,o=new Map;n>0&&r>0;r--){var i=e[r-1],a=i.node;if(a){if(a!=t.child(n-1))break;--n,o.set(i,n)}}return{index:n,matched:o}}(t.node.content,t.children)};function Po(t,e){return t.type.side-e.type.side}function Ao(t,e,n,r,o){for(var i=[],a=0,s=0;a<t.length;a++){var l=t[a],c=s,u=s+=l.size;c>=n||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),o&&(i.push(o),o=null),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function jo(t,e){var n=t.root.getSelection(),r=t.state.doc;if(!n.focusNode)return null;var o=t.docView.nearestDesc(n.focusNode),i=o&&0==o.size,a=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var s,l,c=r.resolve(a);if(Vr(n)){for(s=c;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&le.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function(t,e,n){for(var r=0==e,o=e==zr(t);r||o;){if(t==n)return!0;var i=Ar(t);if(!(t=t.parentNode))return!1;r=r&&0==i,o=o&&i==zr(t)}}(n.focusNode,n.focusOffset,o.dom))){var u=o.posBefore;l=new le(a==u?c:r.resolve(u))}}else{var p=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(p<0)return null;s=r.resolve(p)}l||(l=Ho(t,s,c,"pointer"==e||t.state.selection.head<c.pos&&!i?1:-1));return l}function Mo(t){return t.editable?t.hasFocus():Uo(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ro(t,e){var n=t.state.selection;if(Bo(t,n),Mo(t)){if(!e&&t.mouseDown&&t.mouseDown.allowDefault)return t.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection();if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,Ar(r)+1):n.setEnd(r,0);n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&Sr.ie&&Sr.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{var r,o,i=n.anchor,a=n.head;!No||n instanceof ae||(n.$from.parent.inlineContent||(r=Fo(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=Fo(t,n.to))),t.docView.setSelection(i,a,t.root,e),No&&(r&&zo(r),o&&zo(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout((function(){Mo(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}Do.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},Do.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},Do.prototype.syncToMarks=function(t,e,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,t.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(t[o])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var l=vo.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}},Do.prototype.findNodeMatch=function(t,e,n,r){var o=this.top.children,i=-1;if(r>=this.preMatch.index){for(var a=this.index;a<o.length;a++)if(o[a].matchesNode(t,e,n)){i=a;break}}else for(var s=this.index,l=Math.min(o.length,s+1);s<l;s++){var c=o[s];if(c.matchesNode(t,e,n)&&!this.preMatch.matched.has(c)){i=s;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},Do.prototype.updateNodeAt=function(t,e,n,r,o){return!!this.top.children[r].update(t,e,n,o)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)},Do.prototype.findIndexWithChild=function(t){for(;;){var e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var n=t.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}t=e}},Do.prototype.updateNextNode=function(t,e,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof go){var s=this.preMatch.matched.get(a);if(null!=s&&s!=o)return!1;var l=a.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&3!=a.dirty&&Io(e,a.outerDeco)))&&a.update(t,e,n,r))return this.destroyBetween(this.index,i),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},Do.prototype.addNode=function(t,e,n,r,o){this.top.children.splice(this.index++,0,go.create(this.top,t,e,n,r,o)),this.changed=!0},Do.prototype.placeWidget=function(t,e,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){var o=new fo(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},Do.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof vo;)t=t.children[t.children.length-1];t&&t instanceof bo&&!/\n$/.test(t.node.text)||((Sr.safari||Sr.chrome)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},Do.prototype.addHackNode=function(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var e=document.createElement(t);"IMG"==t&&(e.className="ProseMirror-separator"),this.top.children.splice(this.index++,0,new xo(this.top,ho,e,null)),this.changed=!0}};var No=Sr.safari||Sr.chrome&&Sr.chrome_version<63;function Fo(t,e){var n=t.docView.domFromPos(e,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,a=o?r.childNodes[o-1]:null;if(Sr.safari&&i&&"false"==i.contentEditable)return Lo(i);if(!(i&&"false"!=i.contentEditable||a&&"false"!=a.contentEditable)){if(i)return Lo(i);if(a)return Lo(a)}}function Lo(t){return t.contentEditable="true",Sr.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function zo(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Bo(t,e){if(e instanceof le){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Vo(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Vo(t)}function Vo(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function Ho(t,e,n,r){return t.someProp("createSelectionBetween",(function(r){return r(t,e,n)}))||ae.between(e,n,r)}function Uo(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function Wo(t,e){var n=t.selection,r=n.$anchor,o=n.$head,i=e>0?r.max(o):r.min(o),a=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return a&&re.findFrom(a,e)}function qo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Ko(t,e,n){var r=t.state.selection;if(!(r instanceof ae)){if(r instanceof le&&r.node.isInline)return qo(t,new ae(e>0?r.$to:r.$from));var o=Wo(t.state,e);return!!o&&qo(t,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var i=Wo(t.state,e);return!!(i&&i instanceof le)&&qo(t,i)}if(!(Sr.mac&&n.indexOf("m")>-1)){var a,s=r.$head,l=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!l||l.isText)return!1;var c=e<0?s.pos-l.nodeSize:s.pos;return!!(l.isAtom||(a=t.docView.descAt(c))&&!a.contentDOM)&&(le.isSelectable(l)?qo(t,new le(e<0?t.state.doc.resolve(s.pos-l.nodeSize):s)):!!Sr.webkit&&qo(t,new ae(t.state.doc.resolve(e<0?c:c+l.nodeSize))))}}function Go(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Yo(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Xo(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var o,i,a=!1;for(Sr.gecko&&1==n.nodeType&&r<Go(n)&&Yo(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;var s=n.childNodes[r-1];if(Yo(s))o=n,i=--r;else{if(3!=s.nodeType)break;r=(n=s).nodeValue.length}}else{if(Zo(n))break;for(var l=n.previousSibling;l&&Yo(l);)o=n.parentNode,i=Ar(l),l=l.previousSibling;if(l)r=Go(n=l);else{if((n=n.parentNode)==t.dom)break;r=0}}a?Jo(t,e,n,r):o&&Jo(t,e,o,i)}}function $o(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var o,i,a=Go(n);;)if(r<a){if(1!=n.nodeType)break;if(!Yo(n.childNodes[r]))break;o=n,i=++r}else{if(Zo(n))break;for(var s=n.nextSibling;s&&Yo(s);)o=s.parentNode,i=Ar(s)+1,s=s.nextSibling;if(s)r=0,a=Go(n=s);else{if((n=n.parentNode)==t.dom)break;r=a=0}}o&&Jo(t,e,o,i)}}function Zo(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Jo(t,e,n,r){if(Vr(e)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var i=t.state;setTimeout((function(){t.state==i&&Ro(t)}),50)}function Qo(t,e,n){var r=t.state.selection;if(r instanceof ae&&!r.empty||n.indexOf("s")>-1)return!1;if(Sr.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var a=Wo(t.state,e);if(a&&a instanceof le)return qo(t,a)}if(!o.parent.inlineContent){var s=e<0?o:i,l=r instanceof ue?re.near(s,e):re.findFrom(s,e);return!!l&&qo(t,l)}return!1}function ti(t,e){if(!(t.state.selection instanceof ae))return!0;var n=t.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var a=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var s=t.state.tr;return e<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),t.dispatch(s),!0}return!1}function ei(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function ni(t,e){var n=e.keyCode,r=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||Sr.mac&&72==n&&"c"==r?ti(t,-1)||Xo(t):46==n||Sr.mac&&68==n&&"c"==r?ti(t,1)||$o(t):13==n||27==n||(37==n?Ko(t,-1,r)||Xo(t):39==n?Ko(t,1,r)||$o(t):38==n?Qo(t,-1,r)||Xo(t):40==n?function(t){if(Sr.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;ei(t,o,!0),setTimeout((function(){return ei(t,o,!1)}),20)}}}(t)||Qo(t,1,r)||$o(t):r==(Sr.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function ri(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(Sr.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||Sr.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function oi(t,e,n,r,o){if(e<0){var i=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,a=jo(t,i);if(a&&!t.state.selection.eq(a)){var s=t.state.tr.setSelection(a);"pointer"==i?s.setMeta("pointer",!0):"key"==i&&s.scrollIntoView(),t.dispatch(s)}}else{var c=t.state.doc.resolve(e),u=c.sharedDepth(n);e=c.before(u+1),n=t.state.doc.resolve(n).after(u+1);var p=t.state.selection,h=function(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,i=r.fromOffset,a=r.toOffset,s=r.from,l=r.to,c=t.root.getSelection(),u=null,p=c.anchorNode;if(p&&t.dom.contains(1==p.nodeType?p:p.parentNode)&&(u=[{node:p,offset:c.anchorOffset}],Vr(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Sr.chrome&&8===t.lastKeyCode)for(var h=a;h>i;h--){var d=o.childNodes[h-1],f=d.pmViewDesc;if("BR"==d.nodeName&&!f){a=h;break}if(!f||f.size)break}var m=t.state.doc,v=t.someProp("domParser")||rt.fromSchema(t.state.schema),g=m.resolve(s),y=null,b=v.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:a,preserveWhitespace:!g.parent.type.spec.code||"full",editableContent:!0,findPositions:u,ruleFromNode:ri,context:g});if(u&&null!=u[0].pos){var x=u[0].pos,w=u[1]&&u[1].pos;null==w&&(w=x),y={anchor:x+s,head:w+s}}return{doc:b,sel:y,from:s,to:l}}(t,e,n);if(Sr.chrome&&t.cursorWrapper&&h.sel&&h.sel.anchor==t.cursorWrapper.deco.from){var d=t.cursorWrapper.deco.type.toDOM.nextSibling,f=d&&d.nodeValue?d.nodeValue.length:1;h.sel={anchor:h.sel.anchor+f,head:h.sel.anchor+f}}var m,v,g=t.state.doc,y=g.slice(h.from,h.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(m=t.state.selection.to,v="end"):(m=t.state.selection.from,v="start"),t.lastKeyCode=null;var b=function(t,e,n,r,o){var i=t.findDiffStart(e,n);if(null==i)return null;var a=t.findDiffEnd(e,n+t.size,n+e.size),s=a.a,l=a.b;if("end"==o){var c=Math.max(0,i-Math.min(s,l));r-=s+c-i}if(s<i&&t.size<e.size){l=(i-=r<=i&&r>=s?i-r:0)+(l-s),s=i}else if(l<i){s=(i-=r<=i&&r>=l?i-r:0)+(s-l),l=i}return{start:i,endA:s,endB:l}}(y.content,h.doc.content,h.from,m,v);if(!b){if(!(r&&p instanceof ae&&!p.empty&&p.$head.sameParent(p.$anchor))||t.composing||h.sel&&h.sel.anchor!=h.sel.head){if((Sr.ios&&t.lastIOSEnter>Date.now()-225||Sr.android)&&o.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))&&t.someProp("handleKeyDown",(function(e){return e(t,Hr(13,"Enter"))})))return void(t.lastIOSEnter=0);if(h.sel){var x=ii(t,t.state.doc,h.sel);x&&!x.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(x))}return}b={start:p.from,endA:p.to,endB:p.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof ae&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),Sr.ie&&Sr.ie_version<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>h.from&&" "==h.doc.textBetween(b.start-h.from-1,b.start-h.from+1)&&(b.start--,b.endA--,b.endB--);var w,k=h.doc.resolveNoCache(b.start-h.from),O=h.doc.resolveNoCache(b.endB-h.from),C=k.sameParent(O)&&k.parent.inlineContent;if((Sr.ios&&t.lastIOSEnter>Date.now()-225&&(!C||o.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!C&&k.pos<h.doc.content.size&&(w=re.findFrom(h.doc.resolve(k.pos+1),1,!0))&&w.head==O.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,Hr(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>b.start&&function(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||ai(r,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=t.resolve(ai(i,!0,!0));if(!a.parent.isTextblock||a.pos>n||ai(a,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(g,b.start,b.endA,k,O)&&t.someProp("handleKeyDown",(function(e){return e(t,Hr(8,"Backspace"))})))Sr.android&&Sr.chrome&&t.domObserver.suppressSelectionUpdates();else{Sr.chrome&&Sr.android&&b.toB==b.from&&(t.lastAndroidDelete=Date.now()),Sr.android&&!C&&k.start()!=O.start()&&0==O.parentOffset&&k.depth==O.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==b.endA&&(b.endB-=2,O=h.doc.resolveNoCache(b.endB-h.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,Hr(13,"Enter"))}))}),20));var _,S,E,I,T=b.start,D=b.endA;if(C)if(k.pos==O.pos)Sr.ie&&Sr.ie_version<=11&&0==k.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return Ro(t)}),20)),_=t.state.tr.delete(T,D),S=g.resolve(b.start).marksAcross(g.resolve(b.endA));else if(b.endA==b.endB&&(I=g.resolve(b.start))&&(E=function(t,e){for(var n,r,o,i=t.firstChild.marks,a=e.firstChild.marks,s=i,c=a,u=0;u<a.length;u++)s=a[u].removeFromSet(s);for(var p=0;p<i.length;p++)c=i[p].removeFromSet(c);if(1==s.length&&0==c.length)r=s[0],n="add",o=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=s.length||1!=c.length)return null;r=c[0],n="remove",o=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var h=[],d=0;d<e.childCount;d++)h.push(o(e.child(d)));if(l.from(h).eq(t))return{mark:r,type:n}}(k.parent.content.cut(k.parentOffset,O.parentOffset),I.parent.content.cut(I.parentOffset,b.endA-I.start()))))_=t.state.tr,"add"==E.type?_.addMark(T,D,E.mark):_.removeMark(T,D,E.mark);else if(k.parent.child(k.index()).isText&&k.index()==O.index()-(O.textOffset?0:1)){var P=k.parent.textBetween(k.parentOffset,O.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,T,D,P)})))return;_=t.state.tr.insertText(P,T,D)}if(_||(_=t.state.tr.replace(T,D,h.doc.slice(b.start-h.from,b.endB-h.from))),h.sel){var A=ii(t,_.doc,h.sel);A&&!(Sr.chrome&&Sr.android&&t.composing&&A.empty&&(b.start!=b.endB||t.lastAndroidDelete<Date.now()-100)&&(A.head==T||A.head==_.mapping.map(D)-1)||Sr.ie&&A.empty&&A.head==T)&&_.setSelection(A)}S&&_.ensureMarks(S),t.dispatch(_.scrollIntoView())}}}function ii(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Ho(t,e.resolve(n.anchor),e.resolve(n.head))}function ai(t,e,n){for(var r=t.depth,o=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n)for(var i=t.node(r).maybeChild(t.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function si(t,e){for(var n=[],r=e.content,o=e.openStart,i=e.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var a=r.firstChild;n.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),r=a.content}var s=t.someProp("clipboardSerializer")||ft.fromSchema(t.state.schema),l=di(),c=l.createElement("div");c.appendChild(s.serializeFragment(r,{document:l}));for(var u,p=c.firstChild;p&&1==p.nodeType&&(u=pi[p.nodeName.toLowerCase()]);){for(var h=u.length-1;h>=0;h--){for(var d=l.createElement(u[h]);c.firstChild;)d.appendChild(c.firstChild);c.appendChild(d),"tbody"!=u[h]&&(o++,i++)}p=c.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n)),{dom:c,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function li(t,e,n,r,o){var i,a,s=o.parent.type.spec.code;if(!n&&!e)return null;var c=e&&(r||s||!n);if(c){if(t.someProp("transformPastedText",(function(t){e=t(e,s||r)})),s)return new m(l.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0);var u=t.someProp("clipboardTextParser",(function(t){return t(e,o,r)}));if(u)a=u;else{var p=o.marks(),h=t.state.schema,d=ft.fromSchema(h);i=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){i.appendChild(document.createElement("p")).appendChild(d.serializeNode(h.text(t,p)))}))}}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),i=function(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=di().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(t);(n=o&&pi[o[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""));if(r.innerHTML=t,n)for(var i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),Sr.webkit&&function(t){for(var e=t.querySelectorAll(Sr.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<e.length;n++){var r=e[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}(i);var f=i&&i.querySelector("[data-pm-slice]"),v=f&&/^(\d+) (\d+) (.*)/.exec(f.getAttribute("data-pm-slice"));if(!a){var g=t.someProp("clipboardParser")||t.someProp("domParser")||rt.fromSchema(t.state.schema);a=g.parseSlice(i,{preserveWhitespace:!(!c&&!v),context:o})}return a=v?function(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var o=t.content,i=t.openStart,a=t.openEnd,s=n.length-2;s>=0;s-=2){var c=r.nodes[n[s]];if(!c||c.hasRequiredAttrs())break;o=l.from(c.create(n[s+1],o)),i++,a++}return new m(o,i,a)}(function(t,e,n){e<t.openStart&&(t=new m(ui(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd));n<t.openEnd&&(t=new m(ui(t.content,1,n,t.openEnd,0,0),t.openStart,n));return t}(a,+v[1],+v[2]),v[3]):m.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n).contentMatchAt(e.index(n)),o=void 0,i=[];if(t.forEach((function(t){if(i){var e,n=r.findWrapping(t.type);if(!n)return i=null;if(e=i.length&&o.length&&function t(e,n,r,o,i){if(i<e.length&&i<n.length&&e[i]==n[i]){var a=t(e,n,r,o.lastChild,i+1);if(a)return o.copy(o.content.replaceChild(o.childCount-1,a));if(o.contentMatchAt(o.childCount).matchType(i==e.length-1?r.type:e[i+1]))return o.copy(o.content.append(l.from(ci(r,e,i+1))))}}(n,o,t,i[i.length-1],0))i[i.length-1]=e;else{i.length&&(i[i.length-1]=function t(e,n){if(0==n)return e;var r=e.content.replaceChild(e.childCount-1,t(e.lastChild,n-1)),o=e.contentMatchAt(e.childCount).fillBefore(l.empty,!0);return e.copy(r.append(o))}(i[i.length-1],o.length));var a=ci(t,n);i.push(a),r=r.matchType(a.type,a.attrs),o=n}}})),i)return{v:l.from(i)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}(a.content,o),!1),t.someProp("transformPasted",(function(t){a=t(a)})),a}function ci(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,l.from(t));return t}function ui(t,e,n,r,o,i){var a=e<0?t.firstChild:t.lastChild,s=a.content;return o<r-1&&(s=ui(s,e,n,r,o+1,i)),o>=n&&(s=e<0?a.contentMatchAt(0).fillBefore(s,t.childCount>1||i<=o).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(l.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(s))}var pi={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},hi=null;function di(){return hi||(hi=document.implementation.createHTMLDocument("title"))}var fi={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},mi=Sr.ie&&Sr.ie_version<=11,vi=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};vi.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},vi.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var gi=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);Sr.ie&&Sr.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new vi,mi&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};gi.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))},gi.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},gi.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,fi),mi&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},gi.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}mi&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},gi.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},gi.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},gi.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},gi.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&Uo(t)){var t;if(this.suppressingSelectionUpdates)return Ro(this.view);if(Sr.ie&&Sr.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&Nr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},gi.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},gi.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},gi.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&Uo(this.view)&&!this.ignoreSelectionChange(e),r=-1,o=-1,i=!1,a=[];if(this.view.editable)for(var s=0;s<t.length;s++){var l=this.registerMutation(t[s],a);l&&(r=r<0?l.from:Math.min(l.from,r),o=o<0?l.to:Math.max(l.to,o),l.typeOver&&(i=!0))}if(Sr.gecko&&a.length>1){var c=a.filter((function(t){return"BR"==t.nodeName}));if(2==c.length){var u=c[0],p=c[1];u.parentNode&&u.parentNode.parentNode==p.parentNode?p.remove():u.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(t){if(yi)return;yi=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,o,i,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||Ro(this.view),this.currentSelection.set(e))}},gi.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(var r=0;r<t.addedNodes.length;r++)e.push(t.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};var o=t.previousSibling,i=t.nextSibling;if(Sr.ie&&Sr.ie_version<=11&&t.addedNodes.length)for(var a=0;a<t.addedNodes.length;a++){var s=t.addedNodes[a],l=s.previousSibling,c=s.nextSibling;(!l||Array.prototype.indexOf.call(t.addedNodes,l)<0)&&(o=l),(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(i=c)}var u=o&&o.parentNode==t.target?Ar(o)+1:0,p=n.localPosFromDOM(t.target,u,-1),h=i&&i.parentNode==t.target?Ar(i):t.target.childNodes.length;return{from:p,to:n.localPosFromDOM(t.target,h,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var yi=!1;var bi={},xi={};function wi(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function ki(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return Oi(t,e)})}))}function Oi(t,e){return t.someProp("handleDOMEvents",(function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function Ci(t){return{left:t.clientX,top:t.clientY}}function _i(t,e,n,r,o){if(-1==r)return!1;for(var i=t.state.doc.resolve(r),a=function(r){if(t.someProp(e,(function(e){return r>i.depth?e(t,n,i.nodeAfter,i.before(r),o,!0):e(t,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},s=i.depth+1;s>0;s--){var l=a(s);if(l)return l.v}return!1}function Si(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function Ei(t,e,n,r,o){return _i(t,"handleClickOn",e,n,r)||t.someProp("handleClick",(function(n){return n(t,e,r)}))||(o?function(t,e){if(-1==e)return!1;var n,r,o=t.state.selection;o instanceof le&&(n=o.node);for(var i=t.state.doc.resolve(e),a=i.depth+1;a>0;a--){var s=a>i.depth?i.nodeAfter:i.node(a);if(le.isSelectable(s)){r=n&&o.$from.depth>0&&a>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(a);break}}return null!=r&&(Si(t,le.create(t.state.doc,r),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&le.isSelectable(r))&&(Si(t,new le(n),"pointer"),!0)}(t,n))}function Ii(t,e,n,r){return _i(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(function(n){return n(t,e,r)}))}function Ti(t,e,n,r){return _i(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",(function(n){return n(t,e,r)}))||function(t,e,n){if(0!=n.button)return!1;var r=t.state.doc;if(-1==e)return!!r.inlineContent&&(Si(t,ae.create(r,0,r.content.size),"pointer"),!0);for(var o=r.resolve(e),i=o.depth+1;i>0;i--){var a=i>o.depth?o.nodeAfter:o.node(i),s=o.before(i);if(a.inlineContent)Si(t,ae.create(r,s+1,s+1+a.content.size),"pointer");else{if(!le.isSelectable(a))continue;Si(t,le.create(r,s),"pointer")}return!0}}(t,n,r)}function Di(t){return Fi(t)}xi.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!ji(t,e))if(229!=e.keyCode&&t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!Sr.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",(function(n){return n(t,e)}))||ni(t,e)?e.preventDefault():wi(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout((function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",(function(e){return e(t,Hr(13,"Enter"))})),t.lastIOSEnter=0)}),200)}},xi.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},xi.keypress=function(t,e){if(!(ji(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||Sr.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof ae&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,r)}))||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var Pi=Sr.mac?"metaKey":"ctrlKey";bi.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=Di(t),r=Date.now(),o="singleClick";r-t.lastClick.time<500&&function(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(e,t.lastClick)&&!e[Pi]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(Ci(e));i&&("singleClick"==o?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new Ai(t,i,e,n)):("doubleClick"==o?Ii:Ti)(t,i.pos,i.inside,e)?e.preventDefault():wi(t,"pointer"))};var Ai=function(t,e,n,r){var o,i,a=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=r,this.selectNode=n[Pi],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,e.inside>-1)o=t.state.doc.nodeAt(e.inside),i=e.inside;else{var s=t.state.doc.resolve(e.pos);o=s.parent,i=s.depth?s.before():0}this.mightDrag=null;var l=r?null:n.target,c=l?t.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;var u=t.state.selection;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||u instanceof le&&u.from<=i&&u.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Sr.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){a.view.mouseDown==a&&a.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),wi(t,"pointer")};function ji(t,e){return!!t.composing||!!(Sr.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}Ai.prototype.done=function(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return Ro(t.view)})),this.view.mouseDown=null},Ai.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Ci(t))),this.allowDefault||!e?wi(this.view,"pointer"):Ei(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||Sr.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Sr.chrome&&!(this.view.state.selection instanceof ae)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Si(this.view,re.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):wi(this.view,"pointer")}},Ai.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),wi(this.view,"pointer"),0==t.buttons&&this.done()},bi.touchdown=function(t){Di(t),wi(t,"pointer")},bi.contextmenu=function(t){return Di(t)};var Mi=Sr.android?5e3:-1;function Ri(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return Fi(t)}),e))}function Ni(t){for(t.composing&&(t.composing=!1,t.compositionEndedAt=function(){var t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}());t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty()}function Fi(t,e){if(t.domObserver.forceFlush(),Ni(t),e||t.docView.dirty){var n=jo(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}xi.compositionstart=xi.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),Fi(t,!0),t.markCursor=null;else if(Fi(t),Sr.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var a=i<0?o.lastChild:o.childNodes[i-1];if(!a)break;if(3==a.nodeType){r.collapse(a,a.nodeValue.length);break}o=a,i=-1}t.composing=!0}Ri(t,Mi)},xi.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,Ri(t,20))};var Li=Sr.ie&&Sr.ie_version<15||Sr.ios&&Sr.webkit_version<604;function zi(t,e,n,r){var o=li(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(function(e){return e(t,r,o||m.empty)})))return!0;if(!o)return!1;var i=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),a=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}bi.copy=xi.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var o=Li?null:e.clipboardData,i=si(t,n.content()),a=i.dom,s=i.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",s)):function(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}}(t,a),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},xi.paste=function(t,e){var n=Li?null:e.clipboardData;n&&zi(t,n.getData("text/plain"),n.getData("text/html"),e)?e.preventDefault():function(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?zi(t,r.value,null,e):zi(t,r.textContent,r.innerHTML,e)}),50)}}(t,e)};var Bi=function(t,e){this.slice=t,this.move=e},Vi=Sr.mac?"altKey":"ctrlKey";for(var Hi in bi.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var r=t.state.selection,o=r.empty?null:t.posAtCoords(Ci(e));if(o&&o.pos>=r.from&&o.pos<=(r instanceof le?r.to-1:r.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(le.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var i=t.docView.nearestDesc(e.target,!0);i&&i.node.type.spec.draggable&&i!=t.docView&&t.dispatch(t.state.tr.setSelection(le.create(t.state.doc,i.posBefore)))}var a=t.state.selection.content(),s=si(t,a),l=s.dom,c=s.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Li?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",Li||e.dataTransfer.setData("text/plain",c),t.dragging=new Bi(a,!e[Vi])}},bi.dragend=function(t){var e=t.dragging;window.setTimeout((function(){t.dragging==e&&(t.dragging=null)}),50)},xi.dragover=xi.dragenter=function(t,e){return e.preventDefault()},xi.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var r=t.posAtCoords(Ci(e));if(r){var o=t.state.doc.resolve(r.pos);if(o){var i=n&&n.slice;i?t.someProp("transformPasted",(function(t){i=t(i)})):i=li(t,e.dataTransfer.getData(Li?"Text":"text/plain"),Li?null:e.dataTransfer.getData("text/html"),!1,o);var a=n&&!e[Vi];if(t.someProp("handleDrop",(function(n){return n(t,e,i||m.empty,a)})))e.preventDefault();else if(i){e.preventDefault();var s=i?Vt(t.state.doc,o.pos,i):o.pos;null==s&&(s=o.pos);var l=t.state.tr;a&&l.deleteSelection();var c=l.mapping.map(s),u=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,p=l.doc;if(u?l.replaceRangeWith(c,c,i.content.firstChild):l.replaceRange(c,c,i),!l.doc.eq(p)){var h=l.doc.resolve(c);if(u&&le.isSelectable(i.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(i.content.firstChild))l.setSelection(new le(h));else{var d=l.mapping.map(s);l.mapping.maps[l.mapping.maps.length-1].forEach((function(t,e,n,r){return d=r})),l.setSelection(Ho(t,h,l.doc.resolve(d)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}}}}}},bi.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&Ro(t)}),20))},bi.blur=function(t,e){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),e.relatedTarget&&t.dom.contains(e.relatedTarget)&&t.domObserver.currentSelection.set({}),t.focused=!1)},bi.beforeinput=function(t,e){if(Sr.chrome&&Sr.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,Hr(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},xi)bi[Hi]=xi[Hi];function Ui(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var Wi=function(t,e){this.spec=e||$i,this.side=this.spec.side||0,this.toDOM=t};Wi.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new Gi(i-n,i-n,this)},Wi.prototype.valid=function(){return!0},Wi.prototype.eq=function(t){return this==t||t instanceof Wi&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Ui(this.spec,t.spec))};var qi=function(t,e){this.spec=e||$i,this.attrs=t};qi.prototype.map=function(t,e,n,r){var o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Gi(o,i,this)},qi.prototype.valid=function(t,e){return e.from<e.to},qi.prototype.eq=function(t){return this==t||t instanceof qi&&Ui(this.attrs,t.attrs)&&Ui(this.spec,t.spec)},qi.is=function(t){return t.type instanceof qi};var Ki=function(t,e){this.spec=e||$i,this.attrs=t};Ki.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,1);if(o.deleted)return null;var i=t.mapResult(e.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Gi(o.pos-n,i.pos-n,this)},Ki.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),r=n.index,o=n.offset;return o==e.from&&o+t.child(r).nodeSize==e.to},Ki.prototype.eq=function(t){return this==t||t instanceof Ki&&Ui(this.attrs,t.attrs)&&Ui(this.spec,t.spec)};var Gi=function(t,e,n){this.from=t,this.to=e,this.type=n},Yi={spec:{configurable:!0},inline:{configurable:!0}};Gi.prototype.copy=function(t,e){return new Gi(t,e,this.type)},Gi.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},Gi.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},Gi.widget=function(t,e,n){return new Gi(t,t,new Wi(e,n))},Gi.inline=function(t,e,n,r){return new Gi(t,e,new qi(n,r))},Gi.node=function(t,e,n,r){return new Gi(t,e,new Ki(n,r))},Yi.spec.get=function(){return this.type.spec},Yi.inline.get=function(){return this.type instanceof qi},Object.defineProperties(Gi.prototype,Yi);var Xi=[],$i={},Zi=function(t,e){this.local=t&&t.length?t:Xi,this.children=e&&e.length?e:Xi};Zi.create=function(t,e){return e.length?ra(e,t,0,$i):Ji},Zi.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},Zi.prototype.findInner=function(t,e,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=e&&a.to>=t&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<e&&this.children[s+1]>t){var l=this.children[s]+1;this.children[s+2].findInner(t-l,e-l,n,r+l,o)}},Zi.prototype.map=function(t,e,n){return this==Ji||0==t.maps.length?this:this.mapInner(t,e,0,0,n||$i)},Zi.prototype.mapInner=function(t,e,n,r,o){for(var i,a=0;a<this.local.length;a++){var s=this.local[a].map(t,n,r);s&&s.type.valid(e,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(t,e,n,r,o,i,a){for(var s=t.slice(),l=function(t,e,n,r){for(var a=0;a<s.length;a+=3){var l=s[a+1],c=void 0;-1==l||t>l+i||(e>=s[a]+i?s[a+1]=-1:n>=o&&(c=r-n-(e-t))&&(s[a]+=c,s[a+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,p=0;p<s.length;p+=3)if(-1==s[p+1]){var h=n.map(t[p]+i),d=h-o;if(d<0||d>=r.content.size){u=!0;continue}var f=n.map(t[p+1]+i,-1)-o,m=r.content.findIndex(d),v=m.index,g=m.offset,y=r.maybeChild(v);if(y&&g==d&&g+y.nodeSize==f){var b=s[p+2].mapInner(n,y,h+1,t[p]+i+1,a);b!=Ji?(s[p]=d,s[p+1]=f,s[p+2]=b):(s[p+1]=-2,u=!0)}else u=!0}if(u){var x=ra(function(t,e,n,r,o,i,a){function s(t,e){for(var i=0;i<t.local.length;i++){var l=t.local[i].map(r,o,e);l?n.push(l):a.onRemove&&a.onRemove(t.local[i].spec)}for(var c=0;c<t.children.length;c+=3)s(t.children[c+2],t.children[c]+e+1)}for(var l=0;l<t.length;l+=3)-1==t[l+1]&&s(t[l+2],e[l]+i+1);return n}(s,t,e||[],n,o,i,a),r,0,a);e=x.local;for(var w=0;w<s.length;w+=3)s[w+1]<0&&(s.splice(w,3),w-=3);for(var k=0,O=0;k<x.children.length;k+=3){for(var C=x.children[k];O<s.length&&s[O]<C;)O+=3;s.splice(O,0,x.children[k],x.children[k+1],x.children[k+2])}}return new Zi(e&&e.sort(oa),s)}(this.children,i,t,e,n,r,o):i?new Zi(i.sort(oa)):Ji},Zi.prototype.add=function(t,e){return e.length?this==Ji?Zi.create(t,e):this.addInner(t,e,0):this},Zi.prototype.addInner=function(t,e,n){var r,o=this,i=0;t.forEach((function(t,a){var s,l=a+n;if(s=ea(e,t,l)){for(r||(r=o.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(t,s,l+1):r.splice(i,0,a,a+t.nodeSize,ra(s,t,l+1,$i)),i+=3}}));for(var a=ta(i?na(e):e,-n),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new Zi(a.length?this.local.concat(a).sort(oa):this.local,r||this.children)},Zi.prototype.remove=function(t){return 0==t.length||this==Ji?this:this.removeInner(t,0)},Zi.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+e,s=n[o+1]+e,l=0,c=void 0;l<t.length;l++)(c=t[l])&&c.from>a&&c.to<s&&(t[l]=null,(i||(i=[])).push(c));if(i){n==this.children&&(n=this.children.slice());var u=n[o+2].removeInner(i,a+1);u!=Ji?n[o+2]=u:(n.splice(o,3),o-=3)}}if(r.length)for(var p=0,h=void 0;p<t.length;p++)if(h=t[p])for(var d=0;d<r.length;d++)r[d].eq(h,e)&&(r==this.local&&(r=this.local.slice()),r.splice(d--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Zi(r,n):Ji},Zi.prototype.forChild=function(t,e){if(this==Ji)return this;if(e.isLeaf)return Zi.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}for(var i=t+1,a=i+e.content.size,s=0;s<this.local.length;s++){var l=this.local[s];if(l.from<a&&l.to>i&&l.type instanceof qi){var c=Math.max(i,l.from)-i,u=Math.min(a,l.to)-i;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){var p=new Zi(r.sort(oa));return n?new Qi([p,n]):p}return n||Ji},Zi.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof Zi)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},Zi.prototype.locals=function(t){return ia(this.localsInner(t))},Zi.prototype.localsInner=function(t){if(this==Ji)return Xi;if(t.inlineContent||!this.local.some(qi.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof qi||e.push(this.local[n]);return e};var Ji=new Zi;Zi.empty=Ji,Zi.removeOverlap=ia;var Qi=function(t){this.members=t};function ta(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(new Gi(o.from+e,o.to+e,o.type))}return n}function ea(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,o=null,i=0,a=void 0;i<t.length;i++)(a=t[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),t[i]=null);return o}function na(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function ra(t,e,n,r){var o=[],i=!1;e.forEach((function(e,a){var s=ea(t,e,a+n);if(s){i=!0;var l=ra(s,e,n+a+1,r);l!=Ji&&o.push(a,a+e.nodeSize,l)}}));for(var a=ta(i?na(t):t,-n).sort(oa),s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new Zi(a,o):Ji}function oa(t,e){return t.from-e.from||t.to-e.to}function ia(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var o=n+1;o<e.length;o++){var i=e[o];if(i.from!=r.from){i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),aa(e,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),aa(e,o+1,i.copy(r.to,i.to)))}}return e}function aa(t,e,n){for(;e<t.length&&oa(n,t[e])>0;)e++;t.splice(e,0,n)}function sa(t){var e=[];return t.someProp("decorations",(function(n){var r=n(t.state);r&&r!=Ji&&e.push(r)})),t.cursorWrapper&&e.push(Zi.create(t.state.doc,[t.cursorWrapper.deco])),Qi.from(e)}Qi.prototype.map=function(t,e){var n=this.members.map((function(n){return n.map(t,e,$i)}));return Qi.from(n)},Qi.prototype.forChild=function(t,e){if(e.isLeaf)return Zi.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(t,e);o!=Ji&&(o instanceof Qi?n=n.concat(o.members):n.push(o))}return Qi.from(n)},Qi.prototype.eq=function(t){if(!(t instanceof Qi)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},Qi.prototype.locals=function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(t);if(o.length)if(e){n&&(e=e.slice(),n=!1);for(var i=0;i<o.length;i++)e.push(o[i])}else e=o}return e?ia(n?e:e.sort(oa)):Xi},Qi.from=function(t){switch(t.length){case 0:return Ji;case 1:return t[0];default:return new Qi(t)}};var la,ca,ua=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=fa(this),this.markCursor=null,this.cursorWrapper=null,da(this),this.nodeViews=ma(this),this.docView=yo(this.state.doc,ha(this),sa(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new gi(t,(function(e,n,r,o){return oi(t,e,n,r,o)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=bi[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||Oi(t,e)||!t.editable&&e.type in xi||n(t,e)})};for(var n in bi)e(n);Sr.safari&&t.dom.addEventListener("input",(function(){return null})),ki(t)}(this),this.pluginViews=[],this.updatePluginViews()},pa={props:{configurable:!0},root:{configurable:!0}};function ha(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e.class+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))})),[Gi.node(0,t.state.doc.content.size,e)]}function da(t){if(t.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:Gi.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function fa(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function ma(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}if(pa.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},ua.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&ki(this),this._props=t,this.updateStateInner(t.state,!0)},ua.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)},ua.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},ua.prototype.updateStateInner=function(t,e){var n=this,r=this.state,o=!1,i=!1;if(t.storedMarks&&this.composing&&(Ni(this),i=!0),this.state=t,e){var a=ma(this);(function(t,e){var n=0,r=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var i in e)r++;return n!=r})(a,this.nodeViews)&&(this.nodeViews=a,o=!0),ki(this)}this.editable=fa(this),da(this);var s=sa(this),l=ha(this),c=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=o||!this.docView.matchesNode(t.doc,l,s);!u&&t.selection.eq(r.selection)||(i=!0);var p,h,d,f,m,v,g,y,b,x,w,k="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(t){for(var e,n,r=t.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var s=t.root.elementFromPoint(i,a);if(s!=t.dom&&t.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=o-20){e=s,n=l.top;break}}}return{refDOM:e,refTop:n,stack:Gr(t.dom)}}(this);if(i){this.domObserver.stop();var O=u&&(Sr.ie||Sr.chrome)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&(f=r.selection,m=t.selection,v=Math.min(f.$anchor.sharedDepth(f.head),m.$anchor.sharedDepth(m.head)),f.$anchor.start(v)!=m.$anchor.start(v));if(u){var C=Sr.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(t.doc,l,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=yo(t.doc,l,s,this.dom,this)),C&&!this.trackWrites&&(O=!0)}O||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(p=this,h=p.docView.domFromPos(p.state.selection.anchor,0),d=p.root.getSelection(),Nr(h.node,h.offset,d.anchorNode,d.anchorOffset)))?Ro(this,O):(Bo(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==c)this.dom.scrollTop=0;else if("to selection"==c){var _=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof le?Kr(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),_):Kr(this,this.coordsAtPos(t.selection.head,1),_))}else k&&(y=(g=k).refDOM,b=g.refTop,x=g.stack,w=y?y.getBoundingClientRect().top:0,Yr(x,0==w?0:w-b))},ua.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},ua.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},ua.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var a=o[i].props[t];if(null!=a&&(n=e?e(a):a))return n}},ua.prototype.hasFocus=function(){return this.root.activeElement==this.dom},ua.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(Xr)return t.focus(Xr);var e=Gr(t);t.focus(null==Xr?{get preventScroll(){return Xr={preventScroll:!0},!0}}:void 0),Xr||(Xr=!1,Yr(e,0))}(this.dom),Ro(this),this.domObserver.start()},pa.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},ua.prototype.posAtCoords=function(t){return Jr(this,t)},ua.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),eo(this,t,e)},ua.prototype.domAtPos=function(t,e){return void 0===e&&(e=0),this.docView.domFromPos(t,e)},ua.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},ua.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},ua.prototype.endOfTextblock=function(t,e){return co(this,e||this.state,t)},ua.prototype.destroy=function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],sa(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},ua.prototype.dispatchEvent=function(t){return function(t,e){Oi(t,e)||!bi[e.type]||!t.editable&&e.type in xi||bi[e.type](t,e)}(this,t)},ua.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(ua.prototype,pa),"undefined"!=typeof WeakMap){var va=new WeakMap;la=function(t){return va.get(t)},ca=function(t,e){return va.set(t,e),e}}else{var ga=[],ya=0;la=function(t){for(var e=0;e<ga.length;e+=2)if(ga[e]==t)return ga[e+1]},ca=function(t,e){return 10==ya&&(ya=0),ga[ya++]=t,ga[ya++]=e}}var ba=function(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r},xa=function(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r};function wa(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],n=0;n<t.colspan;n++)e.push(0);return e}function ka(t,e){var n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(t){return Number(t)})):null,o=Number(t.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(var a in e){var s=e[a].getFromDOM,l=s&&s(t);null!=l&&(i[a]=l)}return i}function Oa(t,e){var n={};for(var r in 1!=t.attrs.colspan&&(n.colspan=t.attrs.colspan),1!=t.attrs.rowspan&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(",")),e){var o=e[r].setDOMAttr;o&&o(t.attrs[r],n)}return n}function Ca(t){var e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in e)n[r]={default:e[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(t){return ka(t,e)}}],toDOM:function(t){return["td",Oa(t,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(t){return ka(t,e)}}],toDOM:function(t){return["th",Oa(t,e),0]}}}}function _a(t){var e=t.cached.tableNodeTypes;if(!e)for(var n in e=t.cached.tableNodeTypes={},t.nodes){var r=t.nodes[n],o=r.spec.tableRole;o&&(e[o]=r)}return e}xa.prototype.findCell=function(t){for(var e=0;e<this.map.length;e++){var n=this.map[e];if(n==t){for(var r=e%this.width,o=e/this.width|0,i=r+1,a=o+1,s=1;i<this.width&&this.map[e+s]==n;s++)i++;for(var l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return new ba(r,o,i,a)}}throw new RangeError("No cell with offset "+t+" found")},xa.prototype.colCount=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError("No cell with offset "+t+" found")},xa.prototype.nextCell=function(t,e,n){var r=this.findCell(t),o=r.left,i=r.right,a=r.top,s=r.bottom;return"horiz"==e?(n<0?0==o:i==this.width)?null:this.map[a*this.width+(n<0?o-1:i)]:(n<0?0==a:s==this.height)?null:this.map[o+this.width*(n<0?a-1:s)]},xa.prototype.rectBetween=function(t,e){var n=this.findCell(t),r=n.left,o=n.right,i=n.top,a=n.bottom,s=this.findCell(e),l=s.left,c=s.right,u=s.top,p=s.bottom;return new ba(Math.min(r,l),Math.min(i,u),Math.max(o,c),Math.max(a,p))},xa.prototype.cellsInRect=function(t){for(var e=[],n={},r=t.top;r<t.bottom;r++)for(var o=t.left;o<t.right;o++){var i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==t.left&&o&&this.map[i-1]==a||r==t.top&&r&&this.map[i-this.width]==a||e.push(a))}return e},xa.prototype.positionAt=function(t,e,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r==t){for(var a=e+t*this.width,s=(t+1)*this.width;a<s&&this.map[a]<o;)a++;return a==s?i-1:this.map[a]}o=i}},xa.get=function(t){return la(t)||ca(t,function(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);for(var e=function(t){for(var e=-1,n=!1,r=0;r<t.childCount;r++){var o=t.child(r),i=0;if(n)for(var a=0;a<r;a++)for(var s=t.child(a),l=0;l<s.childCount;l++){var c=s.child(l);a+c.attrs.rowspan>r&&(i+=c.attrs.colspan)}for(var u=0;u<o.childCount;u++){var p=o.child(u);i+=p.attrs.colspan,p.attrs.rowspan>1&&(n=!0)}-1==e?e=i:e!=i&&(e=Math.max(e,i))}return e}(t),n=t.childCount,r=[],o=0,i=null,a=[],s=0,l=e*n;s<l;s++)r[s]=0;for(var c=0,u=0;c<n;c++){var p=t.child(c);u++;for(var h=0;;h++){for(;o<r.length&&0!=r[o];)o++;if(h==p.childCount)break;for(var d=p.child(h),f=d.attrs,m=f.colspan,v=f.rowspan,g=f.colwidth,y=0;y<v;y++){if(y+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:v-y});break}for(var b=o+y*e,x=0;x<m;x++){0==r[b+x]?r[b+x]=u:(i||(i=[])).push({type:"collision",row:c,pos:u,n:m-x});var w=g&&g[x];if(w){var k=(b+x)%e*2,O=a[k];null==O||O!=w&&1==a[k+1]?(a[k]=w,a[k+1]=1):O==w&&a[k+1]++}}}o+=m,u+=d.nodeSize}for(var C=(c+1)*e,_=0;o<C;)0==r[o++]&&_++;_&&(i||(i=[])).push({type:"missing",row:c,n:_}),u++}for(var S=new xa(e,n,r,i),E=!1,I=0;!E&&I<a.length;I+=2)null!=a[I]&&a[I+1]<n&&(E=!0);E&&function(t,e,n){t.problems||(t.problems=[]);for(var r=0,o={};r<t.map.length;r++){var i=t.map[r];if(!o[i]){o[i]=!0;for(var a=n.nodeAt(i),s=null,l=0;l<a.attrs.colspan;l++){var c=(r+l)%t.width,u=e[2*c];null==u||a.attrs.colwidth&&a.attrs.colwidth[l]==u||((s||(s=wa(a.attrs)))[l]=u)}s&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}}(S,a,t);return S}(t))};var Sa=new _e("selectingCells");function Ea(t){for(var e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function Ia(t){for(var e=t.selection.$head,n=e.depth;n>0;n--)if("row"==e.node(n).type.spec.tableRole)return!0;return!1}function Ta(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:Ea(e.$head)||function(t){for(var e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){var r=e.type.spec.tableRole;if("cell"==r||"header_cell"==r)return t.doc.resolve(n)}for(var o=t.nodeBefore,i=t.pos;o;o=o.lastChild,i--){var a=o.type.spec.tableRole;if("cell"==a||"header_cell"==a)return t.doc.resolve(i-o.nodeSize)}}(e.$head)}function Da(t){return"row"==t.parent.type.spec.tableRole&&t.nodeAfter}function Pa(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function Aa(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function ja(t,e,n){var r=t.start(-1),o=xa.get(t.node(-1)).nextCell(t.pos-r,e,n);return null==o?null:t.node(0).resolve(r+o)}function Ma(t,e,n){var r={};for(var o in t)r[o]=t[o];return r[e]=n,r}function Ra(t,e,n){void 0===n&&(n=1);var r=Ma(t,"colspan",t.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some((function(t){return t>0}))||(r.colwidth=null)),r}function Na(t,e,n){void 0===n&&(n=1);var r=Ma(t,"colspan",t.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(e,0,0)}return r}function Fa(t,e,n){for(var r=_a(e.type.schema).header_cell,o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=r)return!1;return!0}var La=function(t){function e(e,n){void 0===n&&(n=e);var r=e.node(-1),o=xa.get(r),i=e.start(-1),a=o.rectBetween(e.pos-i,n.pos-i),s=e.node(0),l=o.cellsInRect(a).filter((function(t){return t!=n.pos-i}));l.unshift(n.pos-i);var c=l.map((function(t){var e=r.nodeAt(t),n=t+i+1;return new ie(s.resolve(n),s.resolve(n+e.content.size))}));t.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,n){var r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(Da(r)&&Da(o)&&Aa(r,o)){var i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?e.rowSelection(r,o):i&&this.isColSelection()?e.colSelection(r,o):new e(r,o)}return ae.between(r,o)},e.prototype.content=function(){for(var t=this.$anchorCell.node(-1),e=xa.get(t),n=this.$anchorCell.start(-1),r=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],a=r.top;a<r.bottom;a++){for(var s=[],c=a*e.width+r.left,u=r.left;u<r.right;u++,c++){var p=e.map[c];if(!o[p]){o[p]=!0;var h=e.findCell(p),d=t.nodeAt(p),f=r.left-h.left,v=h.right-r.right;if(f>0||v>0){var g=d.attrs;f>0&&(g=Ra(g,0,f)),v>0&&(g=Ra(g,g.colspan-v,v)),d=h.left<r.left?d.type.createAndFill(g):d.type.create(g,d.content)}if(h.top<r.top||h.bottom>r.bottom){var y=Ma(d.attrs,"rowspan",Math.min(h.bottom,r.bottom)-Math.max(h.top,r.top));d=h.top<r.top?d.type.createAndFill(y):d.type.create(y,d.content)}s.push(d)}}i.push(t.child(a).copy(l.from(s)))}var b=this.isColSelection()&&this.isRowSelection()?t:i;return new m(l.from(b),1,1)},e.prototype.replace=function(e,n){void 0===n&&(n=m.empty);for(var r=e.steps.length,o=this.ranges,i=0;i<o.length;i++){var a=o[i],s=a.$from,l=a.$to,c=e.mapping.slice(r);e.replace(c.map(s.pos),c.map(l.pos),i?m.empty:n)}var u=t.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);u&&e.setSelection(u)},e.prototype.replaceWith=function(t,e){this.replace(t,new m(l.from(e),0,0))},e.prototype.forEachCell=function(t){for(var e=this.$anchorCell.node(-1),n=xa.get(e),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)t(e.nodeAt(o[i]),r+o[i])},e.prototype.isColSelection=function(){var t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;var n=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},e.colSelection=function(t,n){void 0===n&&(n=t);var r=xa.get(t.node(-1)),o=t.start(-1),i=r.findCell(t.pos-o),a=r.findCell(n.pos-o),s=t.node(0);return i.top<=a.top?(i.top>0&&(t=s.resolve(o+r.map[i.left])),a.bottom<r.height&&(n=s.resolve(o+r.map[r.width*(r.height-1)+a.right-1]))):(a.top>0&&(n=s.resolve(o+r.map[a.left])),i.bottom<r.height&&(t=s.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new e(t,n)},e.prototype.isRowSelection=function(){var t=xa.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),n=t.colCount(this.$anchorCell.pos-e),r=t.colCount(this.$headCell.pos-e);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==t.width},e.prototype.eq=function(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos},e.rowSelection=function(t,n){void 0===n&&(n=t);var r=xa.get(t.node(-1)),o=t.start(-1),i=r.findCell(t.pos-o),a=r.findCell(n.pos-o),s=t.node(0);return i.left<=a.left?(i.left>0&&(t=s.resolve(o+r.map[i.top*r.width])),a.right<r.width&&(n=s.resolve(o+r.map[r.width*(a.top+1)-1]))):(a.left>0&&(n=s.resolve(o+r.map[a.top*r.width])),i.right<r.width&&(t=s.resolve(o+r.map[r.width*(i.top+1)-1]))),new e(t,n)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,n,r){return void 0===r&&(r=n),new e(t.resolve(n),t.resolve(r))},e.prototype.getBookmark=function(){return new za(this.$anchorCell.pos,this.$headCell.pos)},e}(re);La.prototype.visible=!1,re.jsonID("cell",La);var za=function(t,e){this.anchor=t,this.head=e};function Ba(t){if(!(t.selection instanceof La))return null;var e=[];return t.selection.forEachCell((function(t,n){e.push(Gi.node(n,n+t.nodeSize,{class:"selectedCell"}))})),Zi.create(t.doc,e)}function Va(t){if(!t.size)return null;for(var e=t.content,n=t.openStart,r=t.openEnd;1==e.childCount&&(n>0&&r>0||"table"==e.firstChild.type.spec.tableRole);)n--,r--,e=e.firstChild.content;var o=e.firstChild,i=o.type.spec.tableRole,a=o.type.schema,s=[];if("row"==i)for(var c=0;c<e.childCount;c++){var u=e.child(c).content,p=c?0:Math.max(0,n-1),h=c<e.childCount-1?0:Math.max(0,r-1);(p||h)&&(u=Ha(_a(a).row,new m(u,p,h)).content),s.push(u)}else{if("cell"!=i&&"header_cell"!=i)return null;s.push(n||r?Ha(_a(a).row,new m(e,n,r)).content:e)}return function(t,e){for(var n=[],r=0;r<e.length;r++)for(var o=e[r],i=o.childCount-1;i>=0;i--)for(var a=o.child(i).attrs,s=a.rowspan,c=a.colspan,u=r;u<r+s;u++)n[u]=(n[u]||0)+c;for(var p=0,h=0;h<n.length;h++)p=Math.max(p,n[h]);for(var d=0;d<n.length;d++)if(d>=e.length&&e.push(l.empty),n[d]<p){for(var f=_a(t).cell.createAndFill(),m=[],v=n[d];v<p;v++)m.push(f);e[d]=e[d].append(l.from(m))}return{height:e.length,width:p,rows:e}}(a,s)}function Ha(t,e){var n=t.createAndFill();return new Ot(n).replace(0,n.content.size,e).doc}function Ua(t,e,n,r,o,i,a,s){if(0==a||a==e.height)return!1;for(var l=!1,c=o;c<i;c++){var u=a*e.width+c,p=e.map[u];if(e.map[u-e.width]==p){l=!0;var h=n.nodeAt(p),d=e.findCell(p),f=d.top,m=d.left;t.setNodeMarkup(t.mapping.slice(s).map(p+r),null,Ma(h.attrs,"rowspan",a-f)),t.insert(t.mapping.slice(s).map(e.positionAt(a,m,n)),h.type.createAndFill(Ma(h.attrs,"rowspan",f+h.attrs.rowspan-a))),c+=h.attrs.colspan-1}}return l}function Wa(t,e,n,r,o,i,a,s){if(0==a||a==e.width)return!1;for(var l=!1,c=o;c<i;c++){var u=c*e.width+a,p=e.map[u];if(e.map[u-1]==p){l=!0;var h=n.nodeAt(p),d=e.colCount(p),f=t.mapping.slice(s).map(p+r);t.setNodeMarkup(f,null,Ra(h.attrs,a-d,h.attrs.colspan-(a-d))),t.insert(f+h.nodeSize,h.type.createAndFill(Ra(h.attrs,0,a-d))),c+=h.attrs.rowspan-1}}return l}function qa(t,e,n,r,o){var i=n?t.doc.nodeAt(n-1):t.doc,a=xa.get(i),s=r.top,c=r.left,u=c+o.width,p=s+o.height,h=t.tr,d=0;function f(){i=n?h.doc.nodeAt(n-1):h.doc,a=xa.get(i),d=h.mapping.maps.length}(function(t,e,n,r,o,i,a){var s,c,u=_a(t.doc.type.schema);if(o>e.width)for(var p=0,h=0;p<e.height;p++){var d=n.child(p);h+=d.nodeSize;var f=[],m=void 0;m=null==d.lastChild||d.lastChild.type==u.cell?s||(s=u.cell.createAndFill()):c||(c=u.header_cell.createAndFill());for(var v=e.width;v<o;v++)f.push(m);t.insert(t.mapping.slice(a).map(h-1+r),f)}if(i>e.height){for(var g=[],y=0,b=(e.height-1)*e.width;y<Math.max(e.width,o);y++){var x=!(y>=e.width)&&n.nodeAt(e.map[b+y]).type==u.header_cell;g.push(x?c||(c=u.header_cell.createAndFill()):s||(s=u.cell.createAndFill()))}for(var w=u.row.create(null,l.from(g)),k=[],O=e.height;O<i;O++)k.push(w);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),k)}return!(!s&&!c)})(h,a,i,n,u,p,d)&&f(),Ua(h,a,i,n,c,u,s,d)&&f(),Ua(h,a,i,n,c,u,p,d)&&f(),Wa(h,a,i,n,s,p,c,d)&&f(),Wa(h,a,i,n,s,p,u,d)&&f();for(var v=s;v<p;v++){var g=a.positionAt(v,c,i),y=a.positionAt(v,u,i);h.replace(h.mapping.slice(d).map(g+n),h.mapping.slice(d).map(y+n),new m(o.rows[v-s],0,0))}f(),h.setSelection(new La(h.doc.resolve(n+a.positionAt(s,c,i)),h.doc.resolve(n+a.positionAt(p-1,u-1,i)))),e(h)}za.prototype.map=function(t){return new za(t.map(this.anchor),t.map(this.head))},za.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&Aa(e,n)?new La(e,n):re.near(n,1)};var Ka=_r({ArrowLeft:Ya("horiz",-1),ArrowRight:Ya("horiz",1),ArrowUp:Ya("vert",-1),ArrowDown:Ya("vert",1),"Shift-ArrowLeft":Xa("horiz",-1),"Shift-ArrowRight":Xa("horiz",1),"Shift-ArrowUp":Xa("vert",-1),"Shift-ArrowDown":Xa("vert",1),Backspace:$a,"Mod-Backspace":$a,Delete:$a,"Mod-Delete":$a});function Ga(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Ya(t,e){return function(n,r,o){var i=n.selection;if(i instanceof La)return Ga(n,r,re.near(i.$headCell,e));if("horiz"!=t&&!i.empty)return!1;var a=ts(o,t,e);if(null==a)return!1;if("horiz"==t)return Ga(n,r,re.near(n.doc.resolve(i.head+e),e));var s,l=n.doc.resolve(a),c=ja(l,t,e);return s=c?re.near(c,1):e<0?re.near(n.doc.resolve(l.before(-1)),-1):re.near(n.doc.resolve(l.after(-1)),1),Ga(n,r,s)}}function Xa(t,e){return function(n,r,o){var i=n.selection;if(!(i instanceof La)){var a=ts(o,t,e);if(null==a)return!1;i=new La(n.doc.resolve(a))}var s=ja(i.$headCell,t,e);return!!s&&Ga(n,r,new La(i.$anchorCell,s))}}function $a(t,e){var n=t.selection;if(!(n instanceof La))return!1;if(e){var r=t.tr,o=_a(t.schema).cell.createAndFill().content;n.forEachCell((function(t,e){t.content.eq(o)||r.replace(r.mapping.map(e+1),r.mapping.map(e+t.nodeSize-1),new m(o,0,0))})),r.docChanged&&e(r)}return!0}function Za(t,e){var n=Ea(t.state.doc.resolve(e));return!!n&&(t.dispatch(t.state.tr.setSelection(new La(n))),!0)}function Ja(t,e,n){if(!Ia(t.state))return!1;var r=Va(n),o=t.state.selection;if(o instanceof La){r||(r={width:1,height:1,rows:[l.from(Ha(_a(t.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),s=xa.get(i).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return r=function(t,e,n){var r=t.width,o=t.height,i=t.rows;if(r!=e){for(var a=[],s=[],c=0;c<i.length;c++){for(var u=i[c],p=[],h=a[c]||0,d=0;h<e;d++){var f=u.child(d%u.childCount);h+f.attrs.colspan>e&&(f=f.type.create(Ra(f.attrs,f.attrs.colspan,h+f.attrs.colspan-e),f.content)),p.push(f),h+=f.attrs.colspan;for(var m=1;m<f.attrs.rowspan;m++)a[c+m]=(a[c+m]||0)+f.attrs.colspan}s.push(l.from(p))}i=s,r=e}if(o!=n){for(var v=[],g=0,y=0;g<n;g++,y++){for(var b=[],x=i[y%o],w=0;w<x.childCount;w++){var k=x.child(w);g+k.attrs.rowspan>n&&(k=k.type.create(Ma(k.attrs,"rowspan",Math.max(1,n-k.attrs.rowspan)),k.content)),b.push(k)}v.push(l.from(b))}i=v,o=n}return{width:r,height:o,rows:i}}(r,s.right-s.left,s.bottom-s.top),qa(t.state,t.dispatch,a,s,r),!0}if(r){var c=Ta(t.state),u=c.start(-1);return qa(t.state,t.dispatch,u,xa.get(c.node(-1)).findCell(c.pos-u),r),!0}return!1}function Qa(t,e){if(!e.ctrlKey&&!e.metaKey){var n,r=es(t,e.target);if(e.shiftKey&&t.state.selection instanceof La)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&null!=(n=Ea(t.state.selection.$anchor))&&ns(t,e).pos!=n.pos)o(n,e),e.preventDefault();else if(!r)return;t.root.addEventListener("mouseup",i),t.root.addEventListener("dragstart",i),t.root.addEventListener("mousemove",a)}function o(e,n){var r=ns(t,n),o=null==Sa.getState(t.state);if(!r||!Aa(e,r)){if(!o)return;r=e}var i=new La(e,r);if(o||!t.state.selection.eq(i)){var a=t.state.tr.setSelection(i);o&&a.setMeta(Sa,e.pos),t.dispatch(a)}}function i(){t.root.removeEventListener("mouseup",i),t.root.removeEventListener("dragstart",i),t.root.removeEventListener("mousemove",a),null!=Sa.getState(t.state)&&t.dispatch(t.state.tr.setMeta(Sa,-1))}function a(n){var a,s=Sa.getState(t.state);if(null!=s)a=t.state.doc.resolve(s);else if(es(t,n.target)!=r&&!(a=ns(t,e)))return i();a&&o(a,n)}}function ts(t,e,n){if(!(t.state.selection instanceof ae))return null;for(var r=t.state.selection.$head,o=r.depth-1;o>=0;o--){var i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){var a=r.before(o),s="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(s)?a:null}}return null}function es(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e}function ns(t,e){var n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Ea(t.state.doc.resolve(n.pos)):null}var rs=new _e("fix-tables");function is(t,e){var n,r=function(e,r){"table"==e.type.spec.tableRole&&(n=function(t,e,n,r){var o=xa.get(e);if(!o.problems)return r;r||(r=t.tr);for(var i,a,s=[],l=0;l<o.height;l++)s.push(0);for(var c=0;c<o.problems.length;c++){var u=o.problems[c];if("collision"==u.type){for(var p=e.nodeAt(u.pos),h=0;h<p.attrs.rowspan;h++)s[u.row+h]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Ra(p.attrs,p.attrs.colspan-u.n,u.n))}else if("missing"==u.type)s[u.row]+=u.n;else if("overlong_rowspan"==u.type){var d=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Ma(d.attrs,"rowspan",d.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var f=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Ma(f.attrs,"colwidth",u.colwidth))}}for(var m=0;m<s.length;m++)s[m]&&(null==i&&(i=m),a=m);for(var v=0,g=n+1;v<o.height;v++){var y=e.child(v),b=g+y.nodeSize,x=s[v];if(x>0){var w="cell";y.firstChild&&(w=y.firstChild.type.spec.tableRole);for(var k=[],O=0;O<x;O++)k.push(_a(t.schema)[w].createAndFill());var C=0!=v&&i!=v-1||a!=v?b-1:g+1;r.insert(r.mapping.map(C),k)}g=b}return r.setMeta(rs,{fixTables:!0})}(t,e,r,n))};return e?e.doc!=t.doc&&function t(e,n,r,o){var i=e.childCount,a=n.childCount;t:for(var s=0,l=0;s<a;s++){for(var c=n.child(s),u=l,p=Math.min(i,s+3);u<p;u++)if(e.child(u)==c){l=u+1,r+=c.nodeSize;continue t}o(c,r),l<i&&e.child(l).sameMarkup(c)?t(e.child(l),c,r+1,o):c.nodesBetween(0,c.content.size,o,r+1),r+=c.nodeSize}}(e.doc,t.doc,0,r):t.doc.descendants(r),n}function as(t){var e,n=t.selection,r=Ta(t),o=r.node(-1),i=r.start(-1),a=xa.get(o);return(e=n instanceof La?a.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):a.findCell(r.pos-i)).tableStart=i,e.map=a,e.table=o,e}function ss(t,e,n){var r=e.map,o=e.tableStart,i=e.table,a=n>0?-1:0;Fa(r,i,n+a)&&(a=0==n||n==r.width?null:0);for(var s=0;s<r.height;s++){var l=s*r.width+n;if(n>0&&n<r.width&&r.map[l-1]==r.map[l]){var c=r.map[l],u=i.nodeAt(c);t.setNodeMarkup(t.mapping.map(o+c),null,Na(u.attrs,n-r.colCount(c))),s+=u.attrs.rowspan-1}else{var p=null==a?_a(i.type.schema).cell:i.nodeAt(r.map[l+a]).type,h=r.positionAt(s,n,i);t.insert(t.mapping.map(o+h),p.createAndFill())}}return t}function ls(t,e){if(!Ia(t))return!1;if(e){var n=as(t);e(ss(t.tr,n,n.left))}return!0}function cs(t,e){if(!Ia(t))return!1;if(e){var n=as(t);e(ss(t.tr,n,n.right))}return!0}function us(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,a=t.mapping.maps.length,s=0;s<r.height;){var l=s*r.width+n,c=r.map[l],u=o.nodeAt(c);if(n>0&&r.map[l-1]==c||n<r.width-1&&r.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(a).map(i+c),null,Ra(u.attrs,n-r.colCount(c)));else{var p=t.mapping.slice(a).map(i+c);t.delete(p,p+u.nodeSize)}s+=u.attrs.rowspan}}function ps(t,e){if(!Ia(t))return!1;if(e){var n=as(t),r=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;us(r,n,o),o!=n.left;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=xa.get(n.table);e(r)}return!0}function hs(t,e,n){for(var r=_a(e.type.schema).header_cell,o=0;o<t.width;o++)if(e.nodeAt(t.map[o+n*t.width]).type!=r)return!1;return!0}function ds(t,e,n){for(var r=e.map,o=e.tableStart,i=e.table,a=o,s=0;s<n;s++)a+=i.child(s).nodeSize;var l=[],c=n>0?-1:0;hs(r,i,n+c)&&(c=0==n||n==r.height?null:0);for(var u=0,p=r.width*n;u<r.width;u++,p++)if(n>0&&n<r.height&&r.map[p]==r.map[p-r.width]){var h=r.map[p],d=i.nodeAt(h).attrs;t.setNodeMarkup(o+h,null,Ma(d,"rowspan",d.rowspan+1)),u+=d.colspan-1}else{var f=null==c?_a(i.type.schema).cell:i.nodeAt(r.map[p+c*r.width]).type;l.push(f.createAndFill())}return t.insert(a,_a(i.type.schema).row.create(null,l)),t}function fs(t,e){if(!Ia(t))return!1;if(e){var n=as(t);e(ds(t.tr,n,n.top))}return!0}function ms(t,e){if(!Ia(t))return!1;if(e){var n=as(t);e(ds(t.tr,n,n.bottom))}return!0}function vs(t,e,n){for(var r=e.map,o=e.table,i=e.tableStart,a=0,s=0;s<n;s++)a+=o.child(s).nodeSize;var l=a+o.child(n).nodeSize,c=t.mapping.maps.length;t.delete(a+i,l+i);for(var u=0,p=n*r.width;u<r.width;u++,p++){var h=r.map[p];if(n>0&&h==r.map[p-r.width]){var d=o.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(c).map(h+i),null,Ma(d,"rowspan",d.rowspan-1)),u+=d.colspan-1}else if(n<r.width&&h==r.map[p+r.width]){var f=o.nodeAt(h),m=f.type.create(Ma(f.attrs,"rowspan",f.attrs.rowspan-1),f.content),v=r.positionAt(n+1,u,o);t.insert(t.mapping.slice(c).map(i+v),m),u+=f.attrs.colspan-1}}}function gs(t,e){if(!Ia(t))return!1;if(e){var n=as(t),r=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;vs(r,n,o),o!=n.top;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=xa.get(n.table);e(r)}return!0}function ys(t){var e=t.content;return 1==e.childCount&&e.firstChild.isTextblock&&0==e.firstChild.childCount}function bs(t,e){var n=t.selection;if(!(n instanceof La)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=as(t),o=r.map;if(function(t,e){for(var n=t.width,r=t.height,o=t.map,i=e.top*n+e.left,a=i,s=(e.bottom-1)*n+e.left,l=i+(e.right-e.left-1),c=e.top;c<e.bottom;c++){if(e.left>0&&o[a]==o[a-1]||e.right<n&&o[l]==o[l+1])return!0;a+=n,l+=n}for(var u=e.left;u<e.right;u++){if(e.top>0&&o[i]==o[i-n]||e.bottom<r&&o[s]==o[s+n])return!0;i++,s++}return!1}(o,r))return!1;if(e){for(var i,a,s=t.tr,c={},u=l.empty,p=r.top;p<r.bottom;p++)for(var h=r.left;h<r.right;h++){var d=o.map[p*o.width+h],f=r.table.nodeAt(d);if(!c[d])if(c[d]=!0,null==i)i=d,a=f;else{ys(f)||(u=u.append(f.content));var m=s.mapping.map(d+r.tableStart);s.delete(m,m+f.nodeSize)}}if(s.setNodeMarkup(i+r.tableStart,null,Ma(Na(a.attrs,a.attrs.colspan,r.right-r.left-a.attrs.colspan),"rowspan",r.bottom-r.top)),u.size){var v=i+1+a.content.size,g=ys(a)?i+1:v;s.replaceWith(g+r.tableStart,v+r.tableStart,u)}s.setSelection(new La(s.doc.resolve(i+r.tableStart))),e(s)}return!0}function xs(t,e){var n=_a(t.schema);return ws((function(t){var e=t.node;return n[e.type.spec.tableRole]}))(t,e)}function ws(t){return function(e,n){var r,o,i=e.selection;if(i instanceof La){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(!(r=function(t){for(var e=t.depth;e>0;e--){var n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}(i.$from)))return!1;o=Ea(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var a=r.attrs,s=[],l=a.colwidth;a.rowspan>1&&(a=Ma(a,"rowspan",1)),a.colspan>1&&(a=Ma(a,"colspan",1));for(var c,u=as(e),p=e.tr,h=0;h<u.right-u.left;h++)s.push(l?Ma(a,"colwidth",l&&l[h]?[l[h]]:null):a);for(var d=u.top;d<u.bottom;d++){var f=u.map.positionAt(d,u.left,u.table);d==u.top&&(f+=r.nodeSize);for(var m=u.left,v=0;m<u.right;m++,v++)m==u.left&&d==u.top||p.insert(c=p.mapping.map(f+u.tableStart,1),t({node:r,row:d,col:m}).createAndFill(s[v]))}p.setNodeMarkup(o,t({node:r,row:u.top,col:u.left}),s[0]),i instanceof La&&p.setSelection(new La(p.doc.resolve(i.$anchorCell.pos),c&&p.doc.resolve(c))),n(p)}return!0}}function ks(t,e,n){for(var r=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1}),o=0;o<r.length;o++){var i=e.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function Os(t,e){return(e=e||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(t){return function(e,n){if(!Ia(e))return!1;if(n){for(var r=_a(e.schema),o=as(e),i=e.tr,a=o.map.cellsInRect("column"==t?new ba(o.left,0,o.right,o.map.height):"row"==t?new ba(0,o.top,o.map.width,o.bottom):o),s=a.map((function(t){return o.table.nodeAt(t)})),l=0;l<a.length;l++)s[l].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[l],r.cell,s[l].attrs);if(0==i.steps.length)for(var c=0;c<a.length;c++)i.setNodeMarkup(o.tableStart+a[c],r.header_cell,s[c].attrs);n(i)}return!0}}(t):function(e,n){if(!Ia(e))return!1;if(n){var r=_a(e.schema),o=as(e),i=e.tr,a=ks("row",o,r),s=ks("column",o,r),l=("column"===t?a:"row"===t&&s)?1:0,c="column"==t?new ba(0,l,1,o.map.height):"row"==t?new ba(l,0,o.map.width,1):o,u="column"==t?s?r.cell:r.header_cell:"row"==t?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(c).forEach((function(t){var e=t+o.tableStart,n=i.doc.nodeAt(e);n&&i.setNodeMarkup(e,u,n.attrs)})),n(i)}return!0}}var Cs=Os("row",{useDeprecatedLogic:!0}),_s=Os("column",{useDeprecatedLogic:!0}),Ss=Os("cell",{useDeprecatedLogic:!0});function Es(t){return function(e,n){if(!Ia(e))return!1;var r=function(t,e){if(e<0){var n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(var r=t.index(-1)-1,o=t.before();r>=0;r--){var i=t.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;for(var a=t.node(-1),s=t.indexAfter(-1),l=t.after();s<a.childCount;s++){var c=a.child(s);if(c.childCount)return l+1;l+=c.nodeSize}}}(Ta(e),t);if(null!=r){if(n){var o=e.doc.resolve(r);n(e.tr.setSelection(ae.between(o,Pa(o))).scrollIntoView())}return!0}}}function Is(t,e){for(var n=t.selection.$anchor,r=n.depth;r>0;r--){if("table"==n.node(r).type.spec.tableRole)return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}var Ts=function(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Ds(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function Ds(t,e,n,r,o,i){for(var a=0,s=!0,l=e.firstChild,c=t.firstChild,u=0,p=0;u<c.childCount;u++)for(var h=c.child(u).attrs,d=h.colspan,f=h.colwidth,m=0;m<d;m++,p++){var v=o==p?i:f&&f[m],g=v?v+"px":"";a+=v||r,v||(s=!1),l?(l.style.width!=g&&(l.style.width=g),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=g}for(;l;){var y=l.nextSibling;l.parentNode.removeChild(l),l=y}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}Ts.prototype.update=function(t){return t.type==this.node.type&&(this.node=t,Ds(t,this.colgroup,this.table,this.cellMinWidth),!0)},Ts.prototype.ignoreMutation=function(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))};var Ps=new _e("tableColumnResizing");var As=function(t,e){this.activeHandle=t,this.dragging=e};function js(t,e,n){var r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;var o=r.pos,i=Ea(t.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;var a=xa.get(i.node(-1)),s=i.start(-1),l=a.map.indexOf(i.pos-s);return l%a.width==0?-1:s+a.map[l-1]}function Ms(t,e,n){var r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function Rs(t,e){t.dispatch(t.state.tr.setMeta(Ps,{setHandle:e}))}function Ns(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function Fs(t){void 0===t&&(t={});var e=t.allowTableNodeSelection;return void 0===e&&(e=!1),new ke({key:Sa,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(Sa);if(null!=n)return-1==n?null:n;if(null==e||!t.docChanged)return e;var r=t.mapping.mapResult(e),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:Ba,handleDOMEvents:{mousedown:Qa},createSelectionBetween:function(t){if(null!=Sa.getState(t.state))return t.state.selection},handleTripleClick:Za,handleKeyDown:Ka,handlePaste:Ja},appendTransaction:function(t,n,r){return function(t,e,n){var r,o,i=(e||t).selection,a=(e||t).doc;if(i instanceof le&&(o=i.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=La.create(a,i.from);else if("row"==o){var s=a.resolve(i.from+1);r=La.rowSelection(s,s)}else if(!n){var l=xa.get(i.node),c=i.from+1,u=c+l.map[l.width*l.height-1];r=La.create(a,c+1,u)}}else i instanceof ae&&function(t){var e=t.$from,n=t.$to;if(e.pos==n.pos||e.pos<e.pos-6)return!1;for(var r=e.pos,o=n.pos,i=e.depth;i>=0&&!(e.after(i+1)<e.end(i));i--,r++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,o--);return r==o&&/row|table/.test(e.node(i).type.spec.tableRole)}(i)?r=ae.create(a,i.from):i instanceof ae&&function(t){for(var e,n,r=t.$from,o=t.$to,i=r.depth;i>0;i--){var a=r.node(i);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){e=a;break}}for(var s=o.depth;s>0;s--){var l=o.node(s);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return e!==n&&0===o.parentOffset}(i)&&(r=ae.create(a,i.$from.start(),i.$from.end()));return r&&(e||(e=t.tr)).setSelection(r),e}(r,is(r,n),e)}})}As.prototype.apply=function(t){var e=this,n=t.getMeta(Ps);if(n&&null!=n.setHandle)return new As(n.setHandle,null);if(n&&void 0!==n.setDragging)return new As(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){var r=t.mapping.map(e.activeHandle,-1);Da(t.doc.resolve(r))||(r=null),e=new As(r,e.dragging)}return e};var Ls=["blockquote",0],zs=["hr"],Bs=["pre",["code",0]],Vs=["ol",0],Hs=["ul",0],Us=["li",0],Ws=function(t){for(var e,n={},r=t.attributes,o=0;o<r.length;o++)n[(e=r[o]).name]=e.value;return n},qs=function(t,e){for(var n in t)if(n&&null!==t[n]&&n!==e)return!0;return!1},Ks=function(t,e){var n={};for(var r in t)r&&null!==t[r]&&r!==e&&(n[r]=t[r]);return n},Gs=function(t){var e;return(e={})[t]={name:t,inclusive:!0,parseDOM:[{tag:t}],toDOM:function(){return[t,0]}},e},Ys=Pe({link:{attrs:Pe({},{style:{default:null},class:{default:null},id:{default:null}},{href:{default:null},target:{default:null},title:{default:null}}),inclusive:!1,parseDOM:[{tag:"a",getAttrs:Ws}],toDOM:function(t){return["a",Ks(t.attrs),0]}}},Gs("strong"),Gs("b"),Gs("em"),Gs("i"),Gs("u"),Gs("del"),Gs("sub"),Gs("sup"),Gs("code"),{style:{attrs:Pe({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"span",getAttrs:Ws}],toDOM:function(t){return qs(t.attrs)?["span",Ks(t.attrs),0]:["span",0]}}}),Xs=Pe({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:Pe({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"p",getAttrs:Ws}],toDOM:function(t){return qs(t.attrs)?["p",Ks(t.attrs),0]:["p",0]}},div:{content:"block*",group:"block",attrs:Pe({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"div",getAttrs:Ws}],toDOM:function(t){return qs(t.attrs)?["div",Ks(t.attrs),0]:["div",0]}},blockquote:{attrs:Pe({},{style:{default:null},class:{default:null},id:{default:null}}),content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote",getAttrs:Ws}],toDOM:function(t){return qs(t.attrs)?["blockquote",Ks(t.attrs),0]:Ls}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return zs}},heading:{attrs:Pe({},{style:{default:null},class:{default:null},id:{default:null}},{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:function(t){return Pe({},Ws(t),{level:1})}},{tag:"h2",getAttrs:function(t){return Pe({},Ws(t),{level:2})}},{tag:"h3",getAttrs:function(t){return Pe({},Ws(t),{level:3})}},{tag:"h4",getAttrs:function(t){return Pe({},Ws(t),{level:4})}},{tag:"h5",getAttrs:function(t){return Pe({},Ws(t),{level:5})}},{tag:"h6",getAttrs:function(t){return Pe({},Ws(t),{level:6})}}],toDOM:function(t){return qs(t.attrs,"level")?["h"+t.attrs.level,Ks(t.attrs,"level"),0]:["h"+t.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return Bs}},text:{inline:!0,group:"inline"},image:{inline:!0,attrs:Pe({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},{style:{default:null},class:{default:null},id:{default:null}}),group:"inline",draggable:!0,parseDOM:[{tag:"img",getAttrs:Ws}],toDOM:function(t){return qs(t.attrs)?["img",Ks(t.attrs)]:["img"]}},hard_break:{inline:!0,attrs:Pe({},{style:{default:null},class:{default:null},id:{default:null}}),group:"inline",selectable:!1,parseDOM:[{tag:"br",getAttrs:Ws}],toDOM:function(t){return qs(t.attrs)?["br",Ks(t.attrs)]:["br"]}},ordered_list:{content:"list_item+",group:"block",attrs:Pe({},{style:{default:null},class:{default:null},id:{default:null}},{type:{default:null},order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:function(t){return Pe({},Ws(t),{order:t.hasAttribute("start")?parseInt(t.getAttribute("start")||"1",10):1})}}],toDOM:function(t){return 1===t.attrs.order?qs(t.attrs,"order")?["ol",Ks(t.attrs,"order"),0]:Vs:["ol",Pe({},Ks(t.attrs,"order"),{start:t.attrs.order}),0]}},bullet_list:{content:"list_item+",group:"block",attrs:Pe({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"ul",getAttrs:Ws}],toDOM:function(t){return qs(t.attrs)?["ul",Ks(t.attrs),0]:Hs}},list_item:{content:"(paragraph | heading) block*",attrs:Pe({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"li",getAttrs:Ws}],toDOM:function(t){return qs(t.attrs)?["li",Ks(t.attrs),0]:Us},defining:!0}},Ca({tableGroup:"block",cellContent:"block+",cellAttributes:{}})),$s=function(){};$s.prototype.append=function(t){return t.length?(t=$s.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},$s.prototype.prepend=function(t){return t.length?$s.from(t).append(this):this},$s.prototype.appendInner=function(t){return new Js(this,t)},$s.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?$s.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},$s.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},$s.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},$s.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},$s.from=function(t){return t instanceof $s?t:t&&t.length?new Zs(t):$s.empty};var Zs=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(!1===t(this.values[o],r+o))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(!1===t(this.values[o],r+o))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=200)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=200)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}($s);$s.empty=new Zs([]);var Js=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}($s),Qs=$s,tl=function(t,e){this.items=t,this.eventCount=e};tl.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(r=this.remapping(i,this.items.length),o=r.maps.length);var a,s,l=t.tr,c=[],u=[];return this.items.forEach((function(t,e){if(!t.step)return r||(r=n.remapping(i,e+1),o=r.maps.length),o--,void u.push(t);if(r){u.push(new el(t.map));var p,h=t.step.map(r.slice(o));h&&l.maybeStep(h).doc&&(p=l.mapping.maps[l.mapping.maps.length-1],c.push(new el(p,null,null,c.length+u.length))),o--,p&&r.appendMap(p,o)}else l.maybeStep(t.step);return t.selection?(a=r?t.selection.map(r.slice(o)):t.selection,s=new tl(n.items.slice(0,i).append(u.reverse().concat(c)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:l,selection:a}},tl.prototype.addTransform=function(t,e,n,r){for(var o=[],i=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null,l=0;l<t.steps.length;l++){var c,u=t.steps[l].invert(t.docs[l]),p=new el(t.mapping.maps[l],u,e);(c=s&&s.merge(p))&&(p=c,l?o.pop():a=a.slice(0,a.length-1)),o.push(p),e&&(i++,e=null),r||(s=p)}var h,d,f,m=i-n.depth;return m>rl&&(d=m,(h=a).forEach((function(t,e){if(t.selection&&0==d--)return f=e,!1})),a=h.slice(f),i-=m),new tl(a.append(o),i)},tl.prototype.remapping=function(t,e){var n=new wt;return this.items.forEach((function(e,r){var o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)}),t,e),n},tl.prototype.addMaps=function(t){return 0==this.eventCount?this:new tl(this.items.append(t.map((function(t){return new el(t)}))),this.eventCount)},tl.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,a=this.eventCount;this.items.forEach((function(t){t.selection&&a--}),r);var s=e;this.items.forEach((function(e){var r=o.getMirror(--s);if(null!=r){i=Math.min(i,r);var l=o.maps[r];if(e.step){var c=t.steps[r].invert(t.docs[r]),u=e.selection&&e.selection.map(o.slice(s+1,r));u&&a++,n.push(new el(l,c,u))}else n.push(new el(l))}}),r);for(var l=[],c=e;c<i;c++)l.push(new el(o.maps[c]));var u=this.items.slice(0,r).append(l).append(n),p=new tl(u,a);return p.emptyItemCount()>500&&(p=p.compress(this.items.length-n.length)),p},tl.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},tl.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((function(i,a){if(a>=t)r.push(i),i.selection&&o++;else if(i.step){var s=i.step.map(e.slice(n)),l=s&&s.getMap();if(n--,l&&e.appendMap(l,n),s){var c=i.selection&&i.selection.map(e.slice(n));c&&o++;var u,p=new el(l.invert(),s,c),h=r.length-1;(u=r.length&&r[h].merge(p))?r[h]=u:r.push(p)}}else i.map&&n--}),this.items.length,0),new tl(Qs.from(r.reverse()),o)},tl.empty=new tl(Qs.empty,0);var el=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};el.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new el(e.getMap().invert(),e,this.selection)}};var nl=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},rl=20;function ol(t){var e=[];return t.forEach((function(t,n,r,o){return e.push(r,o)})),e}function il(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function al(t,e,n,r){var o=cl(e),i=ul.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,o);if(a){var s=a.selection.resolve(a.transform.doc),l=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),i,o),c=new nl(r?l:a.remaining,r?a.remaining:l,null,0);n(a.transform.setSelection(s).setMeta(ul,{redo:r,historyState:c}).scrollIntoView())}}var sl=!1,ll=null;function cl(t){var e=t.plugins;if(ll!=e){sl=!1,ll=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){sl=!0;break}}return sl}var ul=new _e("history"),pl=new _e("closeHistory");function hl(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new ke({key:ul,state:{init:function(){return new nl(tl.empty,tl.empty,null,0)},apply:function(e,n,r){return function(t,e,n,r){var o,i=n.getMeta(ul);if(i)return i.historyState;n.getMeta(pl)&&(t=new nl(t.done,t.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(a&&a.getMeta(ul))return a.getMeta(ul).redo?new nl(t.done.addTransform(n,null,r,cl(e)),t.undone,ol(n.mapping.maps[n.steps.length-1]),t.prevTime):new nl(t.done,t.undone.addTransform(n,null,r,cl(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new nl(t.done.rebased(n,o),t.undone.rebased(n,o),il(t.prevRanges,n.mapping),t.prevTime):new nl(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),il(t.prevRanges,n.mapping),t.prevTime);var s=0==t.prevTime||!a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)})),n}(n,t.prevRanges)),l=a?il(t.prevRanges,n.mapping):ol(n.mapping.maps[n.steps.length-1]);return new nl(t.done.addTransform(n,s?e.selection.getBookmark():null,r,cl(e)),tl.empty,l,n.time)}(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput:function(t,e){var n="historyUndo"==e.inputType?dl(t.state,t.dispatch):"historyRedo"==e.inputType&&fl(t.state,t.dispatch);return n&&e.preventDefault(),n}}}})}function dl(t,e){var n=ul.getState(t);return!(!n||0==n.done.eventCount)&&(e&&al(n,t,e,!1),!0)}function fl(t,e){var n=ul.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&al(n,t,e,!0),!0)}var ml=function(t,e){var n;this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,r,o){var i=n;if(e[1]){var a=e[0].lastIndexOf(e[1]);i+=e[0].slice(a+e[1].length);var s=(r+=a)-o;s>0&&(i=e[0].slice(a-s,a)+i,r=o)}return t.tr.insertText(i,r,o)}):e};function vl(t,e,n,r,o,i){if(t.composing)return!1;var a=t.state,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;for(var l=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"")+r,c=0;c<o.length;c++){var u=o[c].match.exec(l),p=u&&o[c].handler(a,u,e-(u[0].length-r.length),n);if(p)return t.dispatch(p.setMeta(i,{transform:p,from:e,to:n,text:r})),!0}return!1}function gl(t,e){for(var n=t.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){for(var a=t.tr,s=i.transform,l=s.steps.length-1;l>=0;l--)a.step(s.steps[l].invert(s.docs[l]));if(i.text){var c=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else a.delete(i.from,i.to);e(a)}return!0}}return!1}var yl=new ml(/--$/,""),bl=new ml(/\.\.\.$/,""),xl=new ml(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),wl=new ml(/"$/,""),kl=new ml(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),Ol=new ml(/'$/,""),Cl=[xl,wl,kl,Ol];var _l={mark:"strong",altMarks:["b"],altStyle:{name:"font-weight",value:/^(bold(er)?|[5-9]\d{2,})$/}},Sl={mark:"em",altMarks:["i"],altStyle:{name:"font-style",value:/^italic$/i}},El={mark:"u",altStyle:{name:"text-decoration",value:/^underline$/i}},Il={mark:"del",altStyle:{name:"text-decoration",value:/^line-through$/i}},Tl={mark:"sub"},Dl={mark:"sup"},Pl={mark:"link"},Al=("undefined"!=typeof navigator&&/Mac/.test(navigator.platform),/style=['"]?[^'"]*?mso-list:\s*[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi),jl=function(t){return/^MsoListParagraph/.test(t.className)},Ml=function(t){var e=t.innerHTML;return e=(e=e.replace(/<!--(.|\s)*?-->/gi,"")).replace(/<\/?[^>]+?\/?>/gm,"")},Rl=function(t,e){var n=document.createElement(t);return n.style.listStyleType=e,n},Nl=function(t){var e=null;return/^\d/.test(t)||(e=(/^[a-z]/.test(t)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(t)?"roman":"alpha")),e},Fl=function(t,e){var n=[];Array.from(t).forEach((function(t){if(t.nodeType===Node.ELEMENT_NODE){var r=t;r.getAttribute("datalist")?(n.push(t),e.add(n)):jl(r)&&n.length?n.push(t):(n=[],"DIV"===r.nodeName?Fl(r.children,e):"TABLE"===r.nodeName&&Array.from(r.querySelectorAll("td,th")).forEach((function(t){Fl(t.children,e)})))}}))},Ll=function(t){var e,n=t.innerHTML,r=function(t){return t.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};return n=n.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,""),/^[\u2022\u00b7\u00a7\u00d8ovn][\u00a0 ]+/.test(n)?{tag:"ul",style:(e=r(Ml(t)),/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(e)?null:/^o/.test(e)?"circle":"square")}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(n)?{tag:"ol",style:Nl(r(Ml(t)))}:void 0},zl=function(t){var e,n=t.nodeName.toLowerCase();t.firstChild&&t.firstChild.nodeType===Node.COMMENT_NODE&&t.removeChild(t.firstChild),1===t.childNodes.length?e=t.firstChild.nodeType===Node.TEXT_NODE?Ml(t):t.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(t.removeChild(t.firstChild),3===t.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(t.firstChild.nodeValue)&&t.removeChild(t.firstChild),/^(&nbsp;|\s)+$/i.test(t.firstChild.innerHTML)&&t.removeChild(t.firstChild),e="p"!==n?"<"+n+">"+t.innerHTML+"</"+n+">":t.innerHTML),t.parentNode.removeChild(t);var r=document.createElement("li");return r.innerHTML=e,r},Bl=function(t){var e=document.createElement("div");e.innerHTML=function(t){return t=t.replace(Al,(function(t,e,n){return'datalist="'+e+'" datalevel="'+n+'" '+t}))}(t);var n=new Set;return Fl(e.children,n),n.forEach((function(t){return function(t){var e,n,r,o,i,a,s,l,c,u,p,h,d,f=-1,m={};for(l=0;l<t.length;l++){var v=(d={datalist:(c=t[l]).getAttribute("datalist"),datalevel:c.getAttribute("datalevel")}).datalist,g=Ll(c);if(u=g&&g.tag){if(p=d.datalevel||parseFloat(c.style.marginLeft||0),d.datalevel||c.style.marginLeft){var y=u+v;m[p]||(m[p]={}),(!n||n<0)&&(n=p,r=v,o=(s=t.filter((function(t){return t.getAttribute("datalist")===String(r)})))[s.length-1],a=Rl(u,g&&g.style),c.parentNode.insertBefore(a,c),f=p,m[p][y]=a),i=o===c,h=m[p][y],(p>f||!h)&&(h=Rl(u,g&&g.style),m[p][y]=h,e.appendChild(h)),e=zl(c),h.appendChild(e),i?n=f=-1:f=p}}else!e||i&&!jl(c)||(c.style.marginLeft&&(c.style.marginLeft=""),c.style.marginLeft&&(c.style.margin=""),e.appendChild(c))}}(t)})),e.innerHTML},Vl=function(t,e){return t.replace(new RegExp("<\\/?("+e+")(?:\\s[^>]*?)?>","gi"),"")},Hl=function(t){t.ownerElement&&t.ownerElement.removeAttribute(t.name)},Ul=/\s*;\s*/,Wl=/\s*:\s*/,ql=function(t,e){var n=t;if(e.convertMsLists&&(n=Bl(n)),e.stripTags&&(n=Vl(n,e.stripTags)),e.attributes){var r=document.createElement("div");r.innerHTML=n,Array.from(r.querySelectorAll("*")).forEach((function(t){return function(t,e){if(t.nodeType===Node.ELEMENT_NODE){for(var n=t.attributes.length-1;n>=0;n--){var r=t.attributes[n];e[r.name]?e[r.name](r):e["*"]&&e["*"](r)}"SPAN"===t.nodeName&&0===t.attributes.length&&function(t){var e=t.parentNode;if(e){for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}}(t)}}(t,e.attributes)})),n=r.innerHTML}return n};function Kl(t){for(var e=t.length,n=new Array(e/2),r=0;r<e;r+=2)n[r]=String.fromCharCode(parseInt(t.substring(r,r+2),16));return btoa(n.join(""))}var Gl=/<img\s[^>]*?src=(?:'|")file:\/[^'"]+(?:'|")[^>]*>/gi,Yl=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,Xl=new RegExp("(?:("+Yl.source+"))([\\da-fA-F\\s]+)\\}","g"),$l=/[^\da-fA-F]/g,Zl=/file:\/[^'"]+\.(jpg|png|gif)/i,Jl=/\\(png|jpeg)blip\\/,Ql=function(t,e,n){for(var r,o=t.table,i=t.table_row,a=t.table_cell,s=[],l=0;l<e+1;l++){r=[];for(var c=0;c<n+1;c++)r.push(a.createAndFill());s.push(i.createAndFill(void 0,r))}return o.createAndFill(void 0,s)},tc=function(t,e,n,r,o){var i,a,s,l,c,u,p=[],h=[],d=e.matchCase,f=e.matchWord,m=e.useRegExp,v=e.text;if(m&&(/^\\$/.test(v)||/[^\\]\\$/.test(v))&&(v=v.substring(0,v.length-1)),!v)return p;var g=d?"g":"gi",y=m?new RegExp(v,g):oc(v,g);return t.nodesBetween(n,r,(function(e,d,m){if(o(p))return!1;e.inlineContent&&d+e.content.size>=n&&(h.length=0,e.nodesBetween(0,e.content.size,(function(e,m,v,g){if(o(p))return!1;var b=1+d+m;if(e.isText&&b+e.nodeSize>=n){if(c=e.text||"",u=v.childCount-1>=g+1&&v.child(g+1),h.push(n<=b?{text:c,start:b}:{text:c.slice(n-b),start:n}),u&&u.isText)return;for(a=h.map((function(t){return t.text})).join(""),i=y.exec(a);null!==i&&(s=h[0].start+i.index,l=s+i[0].length,n<=s&&r>=l&&rc(i,f)&&p.push(ae.create(t,s,l)),!o(p));)i=y.exec(a)}else h.length=0})))})),p},ec=function(t,e){return tc(t,e,0,t.content.size,(function(){return!1}))},nc=/^[\s0-9~`!@#$%\^&*\(\)_\-=+\\|\[\]{};:'"\?/.,<>]?$/,rc=function(t,e){if(e){if(!0===e){var n=t.input,r=n.charAt(t.index-1),o=n.charAt(t.index+t[0].length);return nc.test(r)&&nc.test(o)}return e(t)}return!0},oc=function(t,e){var n=t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d").replace(/\s/g,"\\s");return new RegExp(n,e)};var ic=/\s+/g,ac=/text-align/,sc=function(){return new ke({key:new _e("spaces-fix"),props:{decorations:function(t){var e,n,r,o,i=[],a=t.doc;return a.nodesBetween(0,a.content.size,(function(t,a,s){if(t.type.isText&&function(t){return ac.test(t&&t.attrs&&t.attrs.style||"")}(s))for(n=ic.exec(t.text||"");null!==n;){if(e=a+n.index,r=n[0].length,n.index+r<n.input.length)for(o=0;o<=r-1;o+=2)i.push(Gi.inline(e+o,e+o+1,{style:"white-space: normal"}));n=ic.exec(t.text||"")}})),Zi.create(a,i)}}})},lc=new _e("highlight");function cc(t){return void 0===t&&(t={}),new ke({view:function(e){return new uc(e,t)}})}var uc=function(t,e){var n=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(e){var r=function(t){return n[e](t)};return t.dom.addEventListener(e,r),{name:e,handler:r}}))};uc.prototype.destroy=function(){var t=this;this.handlers.forEach((function(e){var n=e.name,r=e.handler;return t.editorView.dom.removeEventListener(n,r)}))},uc.prototype.update=function(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())},uc.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},uc.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var n=e.nodeBefore,r=e.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!t){var a=this.editorView.coordsAtPos(this.cursorPos);t={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var s,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!c||c==document.body&&"static"==getComputedStyle(c).position)s=-pageXOffset,l=-pageYOffset;else{var u=c.getBoundingClientRect();s=u.left-c.scrollLeft,l=u.top-c.scrollTop}this.element.style.left=t.left-s+"px",this.element.style.top=t.top-l+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},uc.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return e.setCursor(null)}),t)},uc.prototype.dragover=function(t){if(this.editorView.editable){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY});if(e){var n=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(n=Vt(this.editorView.state.doc,n,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(n),this.scheduleRemoval(5e3)}}},uc.prototype.dragend=function(){this.scheduleRemoval(20)},uc.prototype.drop=function(){this.scheduleRemoval(20)},uc.prototype.dragleave=function(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)};var pc=function(t){function e(e){t.call(this,e,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return e.valid(o)?new e(o):t.near(o)},e.prototype.content=function(){return m.empty},e.prototype.eq=function(t){return t instanceof e&&t.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(t.resolve(n.pos))},e.prototype.getBookmark=function(){return new hc(this.anchor)},e.valid=function(t){var e=t.parent;if(e.isTextblock||!function(t){for(var e=t.depth;e>=0;e--){var n=t.index(e);if(0!=n)for(var r=t.node(e).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}(t)||!function(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(t))return!1;var n=e.type.spec.allowGapCursor;if(null!=n)return n;var r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock},e.findFrom=function(t,n,r){t:for(;;){if(!r&&e.valid(t))return t;for(var o=t.pos,i=null,a=t.depth;;a--){var s=t.node(a);if(n>0?t.indexAfter(a)<s.childCount:t.index(a)>0){i=s.child(n>0?t.indexAfter(a):t.index(a)-1);break}if(0==a)return null;o+=n;var l=t.doc.resolve(o);if(e.valid(l))return l}for(;;){var c=n>0?i.firstChild:i.lastChild;if(!c){if(i.isAtom&&!i.isText&&!le.isSelectable(i)){t=t.doc.resolve(o+i.nodeSize*n),r=!1;continue t}break}i=c,o+=n;var u=t.doc.resolve(o);if(e.valid(u))return u}return null}},e}(re);pc.prototype.visible=!1,re.jsonID("gapcursor",pc);var hc=function(t){this.pos=t};hc.prototype.map=function(t){return new hc(t.map(this.pos))},hc.prototype.resolve=function(t){var e=t.resolve(this.pos);return pc.valid(e)?new pc(e):re.near(e)};var dc=function(){return new ke({props:{decorations:gc,createSelectionBetween:function(t,e,n){if(e.pos==n.pos&&pc.valid(n))return new pc(n)},handleClick:vc,handleKeyDown:fc}})},fc=_r({ArrowLeft:mc("horiz",-1),ArrowRight:mc("horiz",1),ArrowUp:mc("vert",-1),ArrowDown:mc("vert",1)});function mc(t,e){var n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,o){var i=t.selection,a=e>0?i.$to:i.$from,s=i.empty;if(i instanceof ae){if(!o.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=t.doc.resolve(e>0?a.after():a.before())}var l=pc.findFrom(a,e,s);return!!l&&(r&&r(t.tr.setSelection(new pc(l))),!0)}}function vc(t,e,n){if(!t.editable)return!1;var r=t.state.doc.resolve(e);if(!pc.valid(r))return!1;var o=t.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(o>-1&&le.isSelectable(t.state.doc.nodeAt(o)))&&(t.dispatch(t.state.tr.setSelection(new pc(r))),!0)}function gc(t){if(!(t.selection instanceof pc))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",Zi.create(t.doc,[Gi.widget(t.selection.head,e,{key:"gapcursor"})])}var yc=function(){return(yc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},bc=function(t){var e;return(e={})[t]={default:null,getFromDOM:function(e){return e.getAttribute(t)},setDOMAttr:function(e,n){n[t]=e}},e},xc=function(t){var e={};return Array.from(t.attributes).forEach((function(t){e[t.nodeName]=t.nodeValue})),e},wc=Ca({tableGroup:"block",cellContent:"block+",cellAttributes:yc({},bc("style"),bc("class"),bc("id"))});wc.table_row.attrs=wc.table_row.attrs||{},wc.table_row.attrs.style={default:null},wc.table_row.attrs.class={default:null},wc.table_row.attrs.id={default:null},wc.table_row.toDOM=function(t){return["tr",t.attrs,0]},wc.table_row.parseDOM=[{tag:"tr",getAttrs:xc}],wc.table.attrs=wc.table.attrs||{},wc.table.attrs.style={default:null},wc.table.attrs.class={default:null},wc.table.attrs.id={default:null},wc.table.toDOM=function(t){return["table",t.attrs,["tbody",0]]},wc.table.parseDOM=[{tag:"table",getAttrs:xc}];var kc,Oc,Cc,_c,Sc=yc({},Xs,wc),Ec='\nhtml, body {\n    margin: 0;\n    height: 100%;\n    padding: 0;\n}\n\nhtml {\n  min-height: 100%;\n}\n\nbody {\n  box-sizing: border-box;\n  position: relative;\n  word-wrap: break-word;\n  padding: 8px;\n}\n\nbody > .k-content {\n  outline: 0;\n  height: 100%;\n  white-space: pre-wrap;\n}\n\n.k-content > p {\n  margin: 0 0 1em;\n}\n\n.k-content table {\n  white-space: pre-wrap;\n}\n\n.k-content .k-text-selected, .k-content::selection {\n  color: HighlightText;\n  background-color: Highlight;\n}\n\n.k-content .k-text-highlighted {\n  background-color: #bbdefb;\n}\n\n.k-content .ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\n.ProseMirror-hideselection *::selection { background: transparent; }\n.ProseMirror-hideselection *::-moz-selection { background: transparent; }\n.ProseMirror-hideselection { caret-color: transparent; }\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n',Ic='\n  .ProseMirror .tableWrapper {\n    overflow-x: auto;\n    margin: 1em 0;\n  }\n\n  .ProseMirror table {\n    margin: 0;\n    border-collapse: collapse;\n    table-layout: fixed;\n    width: 100%;\n    overflow: hidden;\n  }\n\n  .ProseMirror td, .ProseMirror th {\n    min-width: 1em;\n    border: 1px solid #ddd;\n    padding: 3px 5px;\n    vertical-align: top;\n    box-sizing: border-box;\n    position: relative;\n  }\n\n  .ProseMirror th {\n    font-weight: bold;\n    text-align: left;\n  }\n\n  .ProseMirror .column-resize-handle {\n    position: absolute;\n    right: -2px; top: 0; bottom: 0;\n    width: 4px;\n    z-index: 20;\n    background-color: #adf;\n    pointer-events: none;\n  }\n\n  .ProseMirror.resize-cursor {\n    cursor: ew-resize;\n    cursor: col-resize;\n  }\n\n  /* Give selected cells a blue overlay */\n  .ProseMirror .selectedCell:after {\n    z-index: 2;\n    position: absolute;\n    content: "";\n    left: 0; right: 0; top: 0; bottom: 0;\n    background: rgba(200, 200, 255, 0.4);\n    pointer-events: none;\n  }\n',Tc="editor.pdf",Dc=((kc={})["editor.bold"]="Bold",kc["editor.italic"]="Italic",kc["editor.underline"]="Underline",kc["editor.strikethrough"]="Strikethrough",kc["editor.subscript"]="Subscript",kc["editor.superscript"]="Superscript",kc["editor.unlink"]="Remove hyperlink",kc["editor.undo"]="Undo",kc["editor.redo"]="Redo",kc["editor.fontSize"]="Font Size",kc["editor.fontName"]="Font Name",kc["editor.format"]="Format",kc["editor.alignLeft"]="Align text left",kc["editor.alignRight"]="Align text right",kc["editor.alignCenter"]="Center text",kc["editor.alignJustify"]="Justify",kc["editor.indent"]="Indent",kc["editor.outdent"]="Outdent",kc["editor.orderedList"]="Insert ordered list",kc["editor.bulletList"]="Insert unordered list",kc["editor.print"]="Print",kc["editor.selectAll"]="Select All",kc["editor.cleanFormatting"]="Clean formatting",kc[Tc]="Export as PDF",kc["editor.foregroundColor"]="Color",kc["editor.backgroundColor"]="Background color",kc["editor.createTable"]="Create a table",kc["editor.insertTableHint"]="Create a {0} x {1} table",kc["editor.addRowBefore"]="Add row above",kc["editor.addRowAfter"]="Add row below",kc["editor.addColumnBefore"]="Add column on the left",kc["editor.addColumnAfter"]="Add column on the right",kc["editor.deleteRow"]="Delete row",kc["editor.deleteColumn"]="Delete column",kc["editor.deleteTable"]="Delete table",kc["editor.mergeCells"]="Merge cells",kc["editor.splitCell"]="Split cell",kc["editor.hyperlink"]="Insert hyperlink",kc["editor.hyperlink-dialog-title"]="Insert hyperlink",kc["editor.hyperlink-dialog-content-address"]="Web address",kc["editor.hyperlink-dialog-content-title"]="Title",kc["editor.hyperlink-dialog-content-newwindow"]="Open link in new window",kc["editor.hyperlink-dialog-cancel"]="Cancel",kc["editor.hyperlink-dialog-insert"]="Insert",kc["editor.insertFile"]="Insert file",kc["editor.insertfile-dialog-title"]="Insert file",kc["editor.insertfile-dialog-content-address"]="Web address",kc["editor.insertfile-dialog-content-title"]="Title",kc["editor.insertfile-dialog-cancel"]="Cancel",kc["editor.insertfile-dialog-insert"]="Insert",kc["editor.image"]="Insert image",kc["editor.image-dialog-title"]="Insert image",kc["editor.image-address"]="Web address",kc["editor.image-title"]="Title",kc["editor.image-altText"]="Alternate text",kc["editor.image-width"]="Width (px)",kc["editor.image-height"]="Height (px)",kc["editor.image-cancel"]="Cancel",kc["editor.image-insert"]="Insert",kc["editor.viewHtml"]="View HTML",kc["editor.viewHtml-dialog-title"]="View HTML",kc["editor.viewHtml-cancel"]="Cancel",kc["editor.viewHtml-update"]="Update",kc["editor.findReplace-tool-title"]="Find and Replace",kc["editor.findReplace-dialog-title"]="Find and Replace",kc["editor.findReplace-tab-find"]="Find",kc["editor.findReplace-tab-replace"]="Replace",kc["editor.findReplace-findWhat"]="Find What:",kc["editor.findReplace-replaceWith"]="Replace With",kc["editor.findReplace-replace"]="Replace",kc["editor.findReplace-replaceAll"]="Replace All",kc["editor.findReplace-matchCase"]="Match Case",kc["editor.findReplace-matchWord"]="Match whole word only",kc["editor.findReplace-matchCyclic"]="Match cyclic (Wrap around)",kc["editor.findReplace-useRegExp"]="Regular Expression",kc["editor.findReplace-prevMatch"]="Prev",kc["editor.findReplace-nextMatch"]="Next",kc["editor.findReplace-matches"]="{0} of {1} matches",kc),Pc="editor.bold",Ac="editor.italic",jc="editor.underline",Mc="editor.strikethrough",Rc="editor.subscript",Nc="editor.superscript",Fc="editor.unlink",Lc="editor.undo",zc="editor.redo",Bc="editor.fontSize",Vc="editor.fontName",Hc="editor.format",Uc="editor.alignLeft",Wc="editor.alignRight",qc="editor.alignCenter",Kc="editor.alignJustify",Gc="editor.indent",Yc="editor.outdent",Xc="editor.orderedList",$c="editor.bulletList",Zc="editor.print",Jc="editor.selectAll",Qc="editor.cleanFormatting",tu=Tc,eu="editor.foregroundColor",nu="editor.backgroundColor",ru="editor.createTable",ou="editor.insertTableHint",iu="editor.addRowBefore",au="editor.addRowAfter",su="editor.addColumnBefore",lu="editor.addColumnAfter",cu="editor.deleteRow",uu="editor.deleteColumn",pu="editor.deleteTable",hu="editor.mergeCells",du="editor.splitCell",fu="editor.hyperlink",mu="editor.hyperlink-dialog-title",vu="editor.hyperlink-dialog-content-address",gu="editor.hyperlink-dialog-content-title",yu="editor.hyperlink-dialog-content-newwindow",bu="editor.hyperlink-dialog-cancel",xu="editor.hyperlink-dialog-insert",wu="editor.insertFile",ku="editor.insertfile-dialog-title",Ou="editor.insertfile-dialog-content-address",Cu="editor.insertfile-dialog-content-title",_u="editor.insertfile-dialog-cancel",Su="editor.insertfile-dialog-insert",Eu="editor.image",Iu="editor.image-dialog-title",Tu="editor.image-address",Du="editor.image-title",Pu="editor.image-altText",Au="editor.image-width",ju="editor.image-height",Mu="editor.image-cancel",Ru="editor.image-insert",Nu="editor.viewHtml",Fu="editor.viewHtml-dialog-title",Lu="editor.viewHtml-cancel",zu="editor.viewHtml-update",Bu="editor.findReplace-tool-title",Vu="editor.findReplace-dialog-title",Hu="editor.findReplace-tab-find",Uu="editor.findReplace-tab-replace",Wu="editor.findReplace-findWhat",qu="editor.findReplace-replaceWith",Ku="editor.findReplace-replace",Gu="editor.findReplace-replaceAll",Yu="editor.findReplace-matchCase",Xu="editor.findReplace-matchWord",$u="editor.findReplace-matchCyclic",Zu="editor.findReplace-useRegExp",Ju="editor.findReplace-prevMatch",Qu="editor.findReplace-nextMatch",tp="editor.findReplace-matches",ep=function(){return(ep=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},np=ep({},On.listsTypes);Cc=Oc||(Oc={}),_c={type:"button"},Cc.bold=ep({},_l,{props:ep({icon:"bold"},_c),messages:{title:Pc},commandName:"Bold"}),Cc.italic=ep({},Sl,{props:ep({icon:"italic"},_c),messages:{title:Ac},commandName:"Italic"}),Cc.underline=ep({},El,{props:ep({icon:"underline"},_c),messages:{title:jc},commandName:"Underline"}),Cc.strikethrough=ep({},Il,{props:ep({icon:"strikethrough"},_c),messages:{title:Mc},commandName:"Strikethrough"}),Cc.subscript=ep({},Tl,{props:ep({icon:"subscript"},_c),messages:{title:Rc},commandName:"Subscript"}),Cc.superscript=ep({},Dl,{props:ep({icon:"superscript"},_c),messages:{title:Nc},commandName:"Superscript"}),Cc.link=ep({},Pl,{props:ep({icon:"link-horizontal"},_c),messages:{insertHyperlink:fu,insertHyperlinkDialogTitle:mu,insertHyperlinkAddress:vu,insertHyperlinkTitle:gu,insertHyperlinkNewWindow:yu,insertHyperlinkCancel:bu,insertHyperlinkInsert:xu},commandName:"Link"}),Cc.insertFile=ep({},Pl,{props:ep({icon:"file-add"},_c),messages:{insertHyperlink:wu,insertHyperlinkDialogTitle:ku,insertHyperlinkAddress:Ou,insertHyperlinkTitle:Cu,insertHyperlinkNewWindow:"",insertHyperlinkCancel:_u,insertHyperlinkInsert:Su},commandName:"InsertFile",linkTarget:!1}),Cc.insertTable={props:ep({icon:"table-insert"},_c),messages:{createTable:ru,createTableHint:ou},commandName:"InsertTable"},Cc.addRowBefore={props:ep({icon:"table-row-insert-above"},_c),messages:{title:iu},commandName:"AddRowBefore"},Cc.addRowAfter={props:ep({icon:"table-row-insert-below"},_c),messages:{title:au},commandName:"AddRowAfter"},Cc.addColumnBefore={props:ep({icon:"table-column-insert-left"},_c),messages:{title:su},commandName:"AddColumnBefore"},Cc.addColumnAfter={props:ep({icon:"table-column-insert-right"},_c),messages:{title:lu},commandName:"AddColumnAfter"},Cc.deleteRow={props:ep({icon:"table-row-delete"},_c),messages:{title:cu},commandName:"DeleteRow"},Cc.deleteColumn={props:ep({icon:"table-column-delete"},_c),messages:{title:uu},commandName:"DeleteColumn"},Cc.deleteTable={props:ep({icon:"table-delete"},_c),messages:{title:pu},commandName:"DeleteTable"},Cc.mergeCells={props:ep({icon:"cells-merge"},_c),messages:{title:hu},commandName:"MergeCells"},Cc.splitCell={props:ep({icon:"cell-split-horizontally"},_c),messages:{title:du},commandName:"SplitCell"},Cc.print={props:ep({icon:"print"},_c),messages:{title:Zc}},Cc.selectAll={props:ep({icon:"select-all"},_c),messages:{title:Jc}},Cc.pdf={props:ep({icon:"pdf"},_c),messages:{title:tu}},Cc.savePdfOptions={fileName:"editor.pdf",paperSize:"A4",margin:"1cm"},Cc.cleanFormatting={props:ep({icon:"clear-css"},_c),messages:{title:Qc},commandName:"CleanFormatting"},Cc.image={node:"image",props:ep({icon:"image"},_c),messages:{insertImage:Eu,insertImageDialogTitle:Iu,insertImageAddress:Tu,insertImageTitle:Du,insertImageAltText:Pu,insertImageWidth:Au,insertImageHeight:ju,insertImageCancel:Mu,insertImageInsert:Ru},commandName:"InsertImage"},Cc.viewHtml={props:ep({icon:"html"},_c),messages:{viewHtml:Nu,viewHtmlDialogTitle:Fu,viewHtmlCancel:Lu,viewHtmlUpdate:zu},commandName:"SetContent"},Cc.findAndReplace={props:ep({icon:"find"},_c),messages:{findReplaceToolTitle:Bu,findReplaceDialogTitle:Vu,findReplaceTabFind:Hu,findReplaceTabReplace:Uu,findReplaceFindWhat:Wu,findReplaceReplaceWith:qu,findReplaceReplace:Ku,findReplaceReplaceAll:Gu,findReplaceMatchCase:Yu,findReplaceMatchWord:Xu,findReplaceMatchCyclic:$u,findReplaceUseRegExp:Zu,findReplacePrevMatch:Ju,findReplaceNextMatch:Qu,findReplaceMatches:tp}},Cc.unlink=ep({},Pl,{props:ep({icon:"unlink-horizontal"},_c),messages:{title:Fc},commandName:"Unlink"}),Cc.undo={props:ep({icon:"undo"},_c),messages:{title:Lc},commandName:"Undo"},Cc.redo={props:ep({icon:"redo"},_c),messages:{title:zc},commandName:"Redo"},Cc.fontSize={style:"font-size",defaultItem:{text:Dc[Bc],value:"",localizationKey:Bc},items:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],commandName:"FontSize"},Cc.fontName={style:"font-family",defaultItem:{text:Dc[Vc],value:"",localizationKey:Vc},items:[{text:"Arial",value:"Arial, Helvetica, sans-serif",style:{fontFamily:"Arial, Helvetica, sans-serif"}},{text:"Courier New",value:"'Courier New', Courier, monospace",style:{fontFamily:"'Courier New', Courier, monospace"}},{text:"Georgia",value:"Georgia, serif",style:{fontFamily:"Georgia, serif"}},{text:"Impact",value:"Impact, Charcoal, sans-serif",style:{fontFamily:"Impact, Charcoal, sans-serif"}},{text:"Lucida Console",value:"'Lucida Console', Monaco, monospace",style:{fontFamily:"'Lucida Console', Monaco, monospace"}},{text:"Tahoma",value:"Tahoma, Geneva, sans-serif",style:{fontFamily:"Tahoma, Geneva, sans-serif"}},{text:"Times New Roman",value:"'Times New Roman', Times,serif",style:{fontFamily:"'Times New Roman', Times,serif"}},{text:"Trebuchet MS",value:"'Trebuchet MS', Helvetica, sans-serif",style:{fontFamily:"'Trebuchet MS', Helvetica, sans-serif"}},{text:"Verdana",value:"Verdana, Geneva, sans-serif",style:{fontFamily:"Verdana, Geneva, sans-serif"}}],commandName:"FontName"},Cc.formatBlock={defaultItem:{text:Dc[Hc],value:"",localizationKey:Hc},items:[{text:"Paragraph",value:"p",style:{display:"block",marginLeft:0}},{text:"Heading 1",value:"h1",style:{display:"block",fontSize:"2em",marginLeft:0,fontWeight:"bold"}},{text:"Heading 2",value:"h2",style:{display:"block",fontSize:"1.5em",marginLeft:0,fontWeight:"bold"}},{text:"Heading 3",value:"h3",style:{display:"block",fontSize:"1.17em",marginLeft:0,fontWeight:"bold"}},{text:"Heading 4",value:"h4",style:{display:"block",fontSize:"1em",marginLeft:0,fontWeight:"bold"}},{text:"Heading 5",value:"h5",style:{display:"block",fontSize:"0.83em",marginLeft:0,fontWeight:"bold"}},{text:"Heading 6",value:"h6",style:{display:"block",fontSize:"0.67em",marginLeft:0,fontWeight:"bold"}}],commandName:"FormatBlock"},Cc.foreColor={style:"color",colorPickerProps:{icon:"foreground-color",view:"palette",title:eu},commandName:"ForeColor"},Cc.backColor={style:"background-color",colorPickerProps:{icon:"background",view:"palette",title:nu},commandName:"BackColor"},Cc.alignLeft={actions:ar.slice(),props:ep({icon:"align-left"},_c),messages:{title:Uc},commandName:"AlignLeft"},Cc.alignRight={actions:sr.slice(),props:ep({icon:"align-right"},_c),messages:{title:Wc},commandName:"AlignRight"},Cc.alignCenter={actions:lr.slice(),props:ep({icon:"align-center"},_c),messages:{title:qc},commandName:"AlignCenter"},Cc.alignJustify={actions:cr.slice(),props:ep({icon:"align-justify"},_c),messages:{title:Kc},commandName:"AlignJustify"},Cc.alignRemove={actions:ur.slice(),props:ep({icon:"align-remove"},_c),messages:{},commandName:"AlignRemove"},Cc.indent={actions:On.nodes,listsTypes:np,props:ep({icon:"indent-increase"},_c),messages:{title:Gc},commandName:"Indent"},Cc.outdent={actions:Cn.nodes,listsTypes:np,props:ep({icon:"indent-decrease"},_c),messages:{title:Yc},commandName:"Outdent"},Cc.orderedList={listType:np.orderedList,props:ep({icon:"list-ordered"},_c),messages:{title:Xc},commandName:"OrderedList",types:ep({},np)},Cc.bulletList={listType:np.bulletList,props:ep({icon:"list-unordered"},_c),messages:{title:$c},commandName:"UnorderedList",types:ep({},np)};var rp=n(12),op=n(16),ip=n(5),ap=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.href=null,e.title=null,e.target=null,e.onClose=function(){e.props.view.focus(),e.props.onClose()},e.onInsert=function(){var t=e.props.view,n=e.props.settings.mark,r={href:e.href?e.href.value:void 0,title:e.title?e.title.value:void 0,target:e.target&&e.target.checked?"_blank":void 0};en({mark:n,attrs:r},e.props.settings.commandName)(t.state,t.dispatch),e.onClose()},e}return ap(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.view,o=e.settings,a=e.dir,s=e.render,l=Object(ip.provideLocalizationService)(this),c=o.messages,u=c.insertHyperlinkDialogTitle,p=c.insertHyperlinkAddress,h=c.insertHyperlinkTitle,d=c.insertHyperlinkNewWindow,f=c.insertHyperlinkCancel,m=c.insertHyperlinkInsert,v=!!n&&Ge(n.state,n.state.schema.marks[o.mark]),g=r.createElement("div",{className:"k-edit-form-container"},r.createElement("div",{className:"k-edit-label"},r.createElement("label",{htmlFor:"k-editor-link-url"},l.toLanguageString(p,Dc[p]))),r.createElement("div",{className:"k-edit-field"},r.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-link-url",ref:function(e){return t.href=e},defaultValue:v&&v.attrs.href||void 0,autoFocus:!0})),r.createElement("div",{className:"k-edit-label k-editor-link-text-row"},r.createElement("label",{htmlFor:"k-editor-link-text"},l.toLanguageString(h,Dc[h]))),r.createElement("div",{className:"k-edit-field k-editor-link-text-row"},r.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-link-text",ref:function(e){return t.title=e},defaultValue:v&&v.attrs.title||void 0})),!1!==o.linkTarget&&r.createElement("div",{className:"k-edit-field"},r.createElement("input",{type:"checkbox",className:"k-checkbox",id:"k-editor-link-target",ref:function(e){return t.target=e},defaultChecked:v&&!!v.attrs.target||void 0}),r.createElement("label",{htmlFor:"k-editor-link-target",className:"k-checkbox-label"},l.toLanguageString(d,Dc[d])))),y=[r.createElement(i.Button,{onClick:this.onClose,dir:a,key:"cancel"},l.toLanguageString(f,Dc[f])),r.createElement(i.Button,{onClick:this.onInsert,primary:!0,dir:a,key:"insert"},l.toLanguageString(m,Dc[m]))],b=r.createElement(op.Dialog,{title:l.toLanguageString(u,Dc[u]),onClose:this.onClose,closeIcon:!0,dir:a,style:"rtl"===a?{textAlign:"right"}:void 0},g,r.createElement(op.DialogActionsBar,null,y));return s?s(b,{content:g,actionButtons:y}):Object(rp.createPortal)(b,document.body)},e}(r.Component);Object(ip.registerForLocalization)(sp);var lp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.src=null,e.altText=null,e.title=null,e.width=null,e.height=null,e.onClose=function(){e.props.view.focus(),e.props.onClose()},e.onInsert=function(){var t=e.props,n=t.view,r=t.settings,o=n.state.schema.nodes[r.node],i={src:e.src?e.src.value:null,title:e.title?e.title.value:null,alt:e.altText?e.altText.value:null,width:e.width?e.width.value:null,height:e.height?e.height.value:null},a=Object.keys(i).filter((function(t){return null!==i[t]&&""!==i[t]})).reduce((function(t,e){var n;return Object.assign(t,((n={})[e]=i[e],n))}),{}),s=o.createAndFill(a);Fe(s,!0)(n.state,(function(t){return n.dispatch(t.setMeta("commandName",r.commandName).setMeta("args",a))})),e.onClose()},e}return lp(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.view,o=e.settings,a=e.dir,s=e.render,l=o.messages,c=l.insertImageDialogTitle,u=l.insertImageAddress,p=l.insertImageTitle,h=l.insertImageAltText,d=l.insertImageWidth,f=l.insertImageHeight,m=l.insertImageCancel,v=l.insertImageInsert,g=Object(ip.provideLocalizationService)(this),y=n&&n.state,b={};y&&y.selection instanceof le&&y.selection.node.type===y.schema.nodes[o.node]&&(b=y.selection.node.attrs);var x=r.createElement("div",{className:"k-edit-form-container"},r.createElement("div",{className:"k-edit-label"},r.createElement("label",{htmlFor:"k-editor-image-url"},g.toLanguageString(u,Dc[u]))),r.createElement("div",{className:"k-edit-field"},r.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-image-url",defaultValue:b.src,ref:function(e){return t.src=e},autoFocus:!0})),r.createElement("div",{className:"k-edit-label"},r.createElement("label",{htmlFor:"k-editor-image-alt"},g.toLanguageString(h,Dc[h]))),r.createElement("div",{className:"k-edit-field"},r.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-image-alt",defaultValue:b.alt,ref:function(e){return t.altText=e}})),r.createElement("div",{className:"k-edit-label"},r.createElement("label",{htmlFor:"k-editor-image-title"},g.toLanguageString(p,Dc[p]))),r.createElement("div",{className:"k-edit-field"},r.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-image-title",defaultValue:b.title,ref:function(e){return t.title=e}})),r.createElement("div",{className:"k-edit-label"},r.createElement("label",{htmlFor:"k-editor-image-width"},g.toLanguageString(d,Dc[d]))),r.createElement("div",{className:"k-edit-field"},r.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-image-width",defaultValue:b.width,ref:function(e){return t.width=e}})),r.createElement("div",{className:"k-edit-label"},r.createElement("label",{htmlFor:"k-editor-image-height"},g.toLanguageString(f,Dc[f]))),r.createElement("div",{className:"k-edit-field"},r.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-image-height",defaultValue:b.height,ref:function(e){return t.height=e}}))),w=[r.createElement(i.Button,{onClick:this.onClose,dir:a,key:"cancel"},g.toLanguageString(m,Dc[m])),r.createElement(i.Button,{onClick:this.onInsert,primary:!0,dir:a,key:"insert"},g.toLanguageString(v,Dc[v]))],k=r.createElement(op.Dialog,{title:g.toLanguageString(c,Dc[c]),onClose:this.onClose,key:"dialog",closeIcon:!0,dir:a,style:"rtl"===a?{textAlign:"right"}:void 0},x,r.createElement(op.DialogActionsBar,null,w));return s?s(k,{content:x,actionButtons:w}):Object(rp.createPortal)(k,document.body)},e}(r.Component);Object(ip.registerForLocalization)(cp);var up=new _e("editor-props"),pp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.htmlArea=null,e.onUpdate=function(){var t=e.props,n=t.view,r=t.settings,o=Ee(e.htmlArea?e.htmlArea.value:""),i=up.getState(n.state).preserveWhitespace;De(o,r.commandName,{preserveWhitespace:i})(n.state,n.dispatch),e.onClose()},e.onClose=function(){e.props.view.focus(),e.props.onClose()},e}return pp(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.view,o=e.settings,a=e.dir,s=e.render,l=Object(ip.provideLocalizationService)(this),c=o.messages,u=c.viewHtmlDialogTitle,p=c.viewHtmlCancel,h=c.viewHtmlUpdate,d=r.createElement("textarea",{className:"k-textarea k-editor-textarea",style:{height:"280px",width:"490px"},ref:function(e){return t.htmlArea=e},defaultValue:ze(Te(n.state)),autoFocus:!0}),f=[r.createElement(i.Button,{onClick:this.onClose,dir:a,key:"cancel"},l.toLanguageString(p,Dc[p])),r.createElement(i.Button,{onClick:this.onUpdate,primary:!0,dir:a,key:"update"},l.toLanguageString(h,Dc[h]))],m=r.createElement(op.Dialog,{title:l.toLanguageString(u,Dc[u]),onClose:this.onClose,key:"dialog",closeIcon:!0,dir:a,style:"rtl"===a?{textAlign:"right"}:void 0},d,r.createElement(op.DialogActionsBar,null,f));return s?s(m,{content:d,actionButtons:f}):Object(rp.createPortal)(m,document.body)},e}(r.Component);Object(ip.registerForLocalization)(hp);var dp=n(21),fp={onMouseDown:function(t){return t.preventDefault()},onPointerDown:function(t){return t.preventDefault()}},mp={userSelect:"none"},vp=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach((function(e,n){t=t.replace("{"+n+"}",String(e))})),t},gp=function(t,e){return e.dataItem.style?r.cloneElement(t,t.props,r.createElement("span",{style:e.dataItem.style},t.props.children)):t},yp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bp=function(){return(bp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xp={className:"k-checkbox",type:"checkbox"},wp=Oc.findAndReplace,kp=function(t){function e(e){var n=t.call(this,e)||this;return n.onTabSelect=function(t){n.setState({selectedTab:t.selected})},n.onClose=function(){var t=n.props.view,e=t.state,r=e.tr.setSelection(ae.create(e.doc,e.selection.from,e.selection.to));t.updateState(e.apply(r)),t.focus(),n.props.onClose.call(void 0)},n.matchesMessage=function(t){var e=n.state.matches,r=n.state.nextMatch,o=0,i=0;if(e&&r){var a=e.findIndex((function(t){return t.eq(r)}));o=-1===a?e.length:a+1,i=e.length}return vp(t,o,i)},n.onFindNext=function(){n.onFind()},n.onFindPrev=function(){n.onFind(!0)},n.onFind=function(t){void 0===t&&(t=!1);var e=n.props.view,r=n.state,o=r.searchText,i=r.matchCase,a=r.matchCyclic,s={text:o,matchWord:r.matchWord,matchCase:i,useRegExp:r.useRegExp,backward:t,matchCyclic:a},l=function(t,e){var n=e.backward,r=e.matchCyclic,o=Ae(e,["backward","matchCyclic"]),i=n?function(){return!1}:function(t){return t.length>0},a=t.doc,s=t.selection,l=[];return n?!(l=tc(a,o,0,s.from,i)).length&&r&&(l=tc(a,o,s.from,a.content.size,i)):!(l=tc(a,o,s.to,a.content.size,i)).length&&r&&(l=tc(a,o,0,s.to,i)),l.length?l[l.length-1]:null}(e.state,s);if(l){var c=e.state.tr.setSelection(l);c.scrollIntoView(),e.updateState(e.state.apply(c)),n.setState({nextMatch:l})}},n.onReplace=function(){var t=n.props.view,e=t.state.selection,r=n.state.replaceText;if(!e.empty){var o=e.from,i=o+r.length,a=function(t,e,n){var r=t.from,o=t.to;return n.insertText(e,r,o).setSelection(ae.create(n.doc,r,r+e.length)),n}(e,r,t.state.tr);a.setSelection(ae.create(a.doc,o,i)),a.scrollIntoView(),t.dispatch(a),n.setNextState({})}},n.onReplaceAll=function(){var t=n.props.view,e=n.state,r=e.searchText,o=e.replaceText,i=e.matchCase,a={text:r,matchWord:e.matchWord,matchCase:i,useRegExp:e.useRegExp};t.dispatch(function(t,e,n){var r=ec(t.doc,n);if(0===r.length)return null;for(var o=t.tr,i=r.length-1;i>=0;i--)o.insertText(e,r[i].from,r[i].to);return o}(t.state,o,a)),n.setNextState({})},n.onKeyDown=function(t){13===t.keyCode?n.onFindNext():27===t.keyCode&&n.onClose()},n.onMatchCaseChecked=function(t){return n.setNextState({matchCase:t.target.checked})},n.onMatchWordChecked=function(t){return n.setNextState({matchWord:t.target.checked})},n.onMatchCyclicChecked=function(t){return n.setNextState({matchCyclic:t.target.checked})},n.onUseRegExpChecked=function(t){return n.setNextState({useRegExp:t.target.checked})},n.onSearchChange=function(t){return n.setNextState({searchText:t.target.value})},n.onReplaceChange=function(t){return n.setNextState({replaceText:t.target.value})},n.setNextState=function(t){var e=bp({},n.state,t,{matches:void 0,nextMatch:void 0}),r=n.props.view;if(e.searchText){var o=e.searchText,i=e.matchWord,a=e.matchCase,s=e.useRegExp,l=e.matchCyclic,c={text:o,matchWord:i,matchCase:a,useRegExp:s},u=r.state.selection,p=ec(r.state.doc,c),h=!n.state.searchText&&p[0]||p.find((function(t){return t.from>=u.from}))||l&&p[0]||void 0;n.setState(bp({},e,{matches:p,nextMatch:h}))}else n.setState(e)},n.state={selectedTab:0,searchText:Le(e.view.state),replaceText:"",matchCase:!1,matchWord:!1,matchCyclic:!1,useRegExp:!1},n}return yp(e,t),Object.defineProperty(e.prototype,"settings",{get:function(){return this.props.settings||wp},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(t,e){var n=this.props.view,r=this.state,o=r.matches,i=void 0===o?[]:o,a=r.nextMatch;if(e.nextMatch!==a){var s=n.state,l=s.tr,c=[];i.forEach((function(t){c.push({from:t.from,to:t.to,attrs:{class:a&&t.eq(a)?"k-text-selected":"k-text-highlighted"}})})),l.setMeta(lc,c),l.setSelection(a||ae.create(s.doc,s.selection.from)),n.dispatch(l)}},e.prototype.render=function(){var t=Object(ip.provideLocalizationService)(this),e=this.settings.messages,n=e.findReplaceDialogTitle,o=e.findReplaceTabFind,i=e.findReplaceTabReplace,a=e.findReplaceFindWhat,s=e.findReplaceReplaceWith,l=e.findReplaceReplace,c=e.findReplaceReplaceAll,u=e.findReplaceMatchCase,p=e.findReplaceMatchWord,h=e.findReplaceMatchCyclic,d=e.findReplaceUseRegExp,f=e.findReplacePrevMatch,m=e.findReplaceNextMatch,v=e.findReplaceMatches,g=this.state,y=g.matchCase,b=g.matchWord,x=g.matchCyclic,w=g.useRegExp,k=g.searchText,O=g.replaceText,C=g.nextMatch,_=r.createElement("div",{className:"k-search-options"},r.createElement("span",null,r.createElement("input",bp({},xp,{id:"match-case",checked:y,onChange:this.onMatchCaseChecked})),r.createElement("label",{htmlFor:"match-case",className:"k-checkbox-label"},t.toLanguageString(u,Dc[u]))),r.createElement("span",null,r.createElement("input",bp({},xp,{id:"match-whole",checked:b,onChange:this.onMatchWordChecked})),r.createElement("label",{htmlFor:"match-whole",className:"k-checkbox-label"},t.toLanguageString(p,Dc[p]))),r.createElement("span",null,r.createElement("input",bp({},xp,{id:"match-cyclic",checked:x,onChange:this.onMatchCyclicChecked})),r.createElement("label",{htmlFor:"match-cyclic",className:"k-checkbox-label"},t.toLanguageString(h,Dc[h]))),r.createElement("span",null,r.createElement("input",bp({},xp,{id:"regular-expression",checked:w,onChange:this.onUseRegExpChecked})),r.createElement("label",{htmlFor:"regular-expression",className:"k-checkbox-label"},t.toLanguageString(d,Dc[d])))),S=r.createElement("div",{className:"k-matches-container"},r.createElement("button",{className:"k-button k-flat k-primary",onClick:this.onFindPrev},r.createElement("span",{className:"k-icon k-i-arrow-chevron-left"}),t.toLanguageString(f,Dc[f])),r.createElement("span",null,this.matchesMessage(t.toLanguageString(v,Dc[v]))),r.createElement("button",{className:"k-button k-flat k-primary",onClick:this.onFindNext},t.toLanguageString(m,Dc[m]),r.createElement("span",{className:"k-icon k-i-arrow-chevron-right"}))),E=r.createElement(r.Fragment,null,r.createElement("div",{className:"k-edit-label"},r.createElement("label",{htmlFor:"findWhat"},t.toLanguageString(a,Dc[a]))),r.createElement("div",{className:"k-edit-field"},r.createElement("input",{id:"findWhat",type:"text",className:"k-textbox",value:k,onChange:this.onSearchChange,onFocus:this.onSearchChange,onKeyDown:this.onKeyDown,autoFocus:!0}))),I=r.createElement(r.Fragment,null,r.createElement("div",{className:"k-edit-label"},r.createElement("label",{htmlFor:"replaceWith"},t.toLanguageString(s,Dc[s]))),r.createElement("div",{className:"k-edit-field"},r.createElement("input",{id:"replaceWith",className:"k-textbox",type:"text",value:O,onChange:this.onReplaceChange})));return rp.createPortal(r.createElement(op.Window,{title:t.toLanguageString(n,Dc[n]),onClose:this.onClose,style:{width:"auto",height:"auto",userSelect:"none"},resizable:!1,minimizeButton:function(){return null},maximizeButton:function(){return null}},r.createElement(dp.TabStrip,{selected:this.state.selectedTab,className:"k-editor-find-replace",onSelect:this.onTabSelect,animation:!1},r.createElement(dp.TabStripTab,{title:t.toLanguageString(o,Dc[o])},r.createElement("div",{className:"k-edit-form-container"},E),_,S),r.createElement(dp.TabStripTab,{title:t.toLanguageString(i,Dc[i])},r.createElement("div",{className:"k-edit-form-container"},E,I),r.createElement("div",{className:"k-actions k-hstack k-justify-content-end"},r.createElement("button",{className:"k-button",disabled:!Boolean(C),onClick:this.onReplace},t.toLanguageString(l,Dc[l])),r.createElement("button",{className:"k-button",disabled:!Boolean(C),onClick:this.onReplaceAll},t.toLanguageString(c,Dc[c]))),_,S))),document.body)},e}(r.Component);Object(ip.registerForLocalization)(kp);var Op,Cp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cp(e,t),e}(sp);t.InsertLinkDialog=e;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cp(e,t),e}(cp);t.InsertImageDialog=n;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cp(e,t),e}(hp);t.ViewHtmlDialog=r;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cp(e,t),e}(kp);t.FindAndReplaceDialog=o}(Op||(Op={}));var _p,Sp,Ep=function(){return(Ep=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ip=Oc.bold,Tp=Oc.underline,Dp=Oc.italic,Pp="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Ap=function(){return(Ap=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};(Sp=_p||(_p={})).alignBlocks=function(t,e,n){return Boolean(cn(e,n)(t.state,t.dispatch))},Sp.applyInlineStyle=function(t,e,n){return Qe(e,n)(t.state,t.dispatch)},Sp.applyLink=function(t,e,n){return en(e,n)(t.state,t.dispatch)},Sp.canIndentList=function(t,e){return En(t,e)},Sp.canInsert=function(t,e){return Me(t,e)},Sp.canOutdentList=function(t,e){return In(t,{listsTypes:e,nodes:[]})},Sp.convertMsLists=function(t){return Bl(t)},Sp.createDocument=function(t,e,n){return Ie(e,t,void 0!==n?n:{preserveWhitespace:"full"})},Sp.createTable=function(t,e,n){return Ql(t,e,n)},Sp.formatBlockElements=function(t,e,n){return on(e,n)(t.state,t.dispatch)},Sp.getBlockFormats=function(t){return an(t)},Sp.getHtml=function(t){return Te(t)},Sp.getInlineStyles=function(t,e){return $e(t,e)},Sp.getMark=function(t,e){return Ge(t,e)},Sp.hasMark=function(t,e){return We(t,e)},Sp.hasNode=function(t,e){return ln(t,e)},Sp.indentBlocks=function(t,e,n,r){return Boolean(_n(e,n,r)(t.state,t.dispatch))},Sp.indentHtml=function(t){return ze(t)},Sp.insertNode=function(t,e,n){Fe(e,n)(t.state,t.dispatch)},Sp.isAligned=function(t,e){return un(t,e)},Sp.isIndented=function(t,e,n){return Sn(t,e,n)},Sp.removeComments=function(t){return function(t){return t.replace(/<!--[\s\S]+?-->/g,"")}(t)},Sp.removeTag=function(t,e){return Vl(t,e)},Sp.pasteCleanup=function(t,e){return ql(t,e)},Sp.sanitizeClassAttr=function(t){!function(t){/^Mso/.test(t.value)&&Hl(t)}(t)},Sp.sanitizeStyleAttr=function(t){!function(t){var e,n,r=t.value.split(Ul).filter((function(t){return Boolean(t)})),o=t.ownerElement.style,i="";r.forEach((function(t){var r;r=t.split(Wl),e=r[0],n=r[1],void 0!==o[e]&&(i+=e+": "+n+"; ")})),(i=i.trim())?t.value=i:Hl(t)}(t)},Sp.removeAttribute=function(t){Hl(t)},Sp.sanitize=function(t){return function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/^[\s\S]+?<!--StartFragment-->\s*([\s\S]*?)\s*<!--EndFragment-->[\s\S]+$/,"$1")).replace(/<\/?[ovw]:[^>]*?>/gi,"")).replace(/<\\?\??xml[^>]*>/gi,"")).replace(/<(?:link|meta) [^>]+?>/gi,"")).replace(/<style[^>]*?>\s*<\/style>/gi,"")).replace(/<\/?st1:.*?>/gi,"")).replace(/<a name="[a-zA-Z0-9_]+">/gim,"")).replace(/v:shapes?="[^"]+"/gi,"")).replace(/<!\[if !supportLists\]>/gi,"")).replace(/<!\[endif\]>/gi,"")}(t)},Sp.replaceImageSourcesFromRtf=function(t,e){return function(t,e){var n=t.match(Gl);if(!n||-1===e.types.indexOf("text/rtf"))return t;var r=e.getData("text/rtf"),o=[],i=r.match(Xl);if(!r||!i)return t;for(var a=0,s=i;a<s.length;a++){var l=s[a],c=Jl.exec(l);if(c){var u=l.replace(Yl,"").replace($l,"");o.push("data:image/"+c[1]+";base64,"+Kl(u))}}return n.length!==o.length?t:t.replace(Gl,(function(t){var e=o.shift()||"";return t.replace(Zl,e)}))}(t,e)},Sp.textHighlight=function(t){return function(t){return void 0===t&&(t=lc),new ke({key:t,state:{init:function(){return null},apply:function(t){return t.getMeta(this.spec.key)}},props:{decorations:function(t){var e=(this.spec.key.getState(t)||[]).map((function(t){return Gi.inline(t.from,t.to,t.attrs)}));return Zi.create(t.doc,e)}}})}(t)},Sp.setHtml=function(t,e,n,r){var o=Ee(e);De(o,n,r)(t.state,t.dispatch)},Sp.toggleInlineFormat=function(t,e,n,r){return Je(e,n,r)(t.state,t.dispatch)},Sp.toggleList=function(t,e,n){return or(t.state,t.dispatch,t,e,n)},Sp.getShortcuts=function(t){return function(t){var e=Gn(zn,(function(e,n){var r=t&&t.types&&t.types.hardBreak||"hard_break",o=e.schema.nodes[r];return n&&n(e.tr.replaceSelectionWith(o.create()).scrollIntoView()),!0})),n=t&&t.types&&t.types.listItem||"list_item",r=t&&t.toolsSettings||{};return Ep({"Mod-b":function(t,e){return Je(r.bold||Ip)(t,e)},"Mod-i":function(t,e){return Je(r.italic||Dp)(t,e)},"Mod-u":function(t,e){return Je(r.underline||Tp)(t,e)},"Mod-z":dl,"Shift-Mod-z":fl},Ep({},Pp?{}:{"Mod-y":fl}),{Backspace:gl,"Mod-Enter":e,"Shift-Enter":e},Ep({},Pp?{"Ctrl-Enter":e}:{}),{Enter:function(t,e){return bn(t.schema.nodes[n])(t,e)},Tab:Es(1),"Shift-Tab":Es(-1)})}(t)},Sp.propsKey=up,Sp.marks=Ap({},Ys),Sp.nodes=Ap({},Sc);var jp,Mp,Rp,Np=function(t,e){var n=e.tr||t.state.tr.setSelection(new ue(t.state.doc)).replaceSelectionWith(e.doc||_p.createDocument(t.state.schema,e.html||"")).setMeta("commandName","setHTML");t.updateState(t.state.apply(n))},Fp="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent),Lp=n(13),zp={name:"@progress/kendo-react-editor",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616765,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},Bp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vp=function(){return(Vp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Hp=Oc.link,Up=Oc.bold,Wp=Oc.italic,qp=Oc.underline,Kp=function(t){function e(e){var n=t.call(this,e)||this;if(n.state={view:void 0,linkDialog:!1},n.trOnChange=null,n.htmlOnChange=null,n.focus=function(){n.state.view&&n.state.view.focus()},n.renderDialog=function(t,e,o){return n.state[o]&&r.createElement(t,{view:n.state.view,settings:e,dir:n.props.dir,onClose:function(){var t;return n.setState(((t={})[o]=!1,t))}})},n.renderTool=function(t,e){var o=r.createElement(t,{view:n.state.view,dir:n.props.dir,key:e});return o.type===i.ToolbarSeparator?r.createElement(t,{key:e}):o},n.updateTools=function(t,e){n.setState({view:t})},n.onPasteHtml=function(t){if(n.props.onPasteHtml){var e=n.props.onPasteHtml.call(void 0,{target:n,pastedHtml:t,nativeEvent:n.pasteEvent});if(n.pasteEvent=void 0,"string"==typeof e)return e}return t},n.dispatchTransaction=function(t){var e=t.docChanged;if(n.props.onChange&&e){n.trOnChange=t;var r=t.doc,o=t.doc.type.schema,i=n;n.props.onChange.call(void 0,{target:i,value:r,get html(){return i.htmlOnChange=_p.getHtml({doc:r,schema:o}),i.htmlOnChange},transaction:t,schema:o})}!n.view||void 0!==n.props.value&&e||n.view.updateState(n.view.state.apply(t))},n.onFocus=function(t,e){return n.props.onFocus&&n.props.onFocus.call(void 0,{target:n,nativeEvent:e}),!1},n.onBlur=function(t,e){return n.props.onBlur&&n.props.onBlur.call(void 0,{target:n,nativeEvent:e}),!1},n.onPaste=function(t,e){return n.props.onPasteHtml&&(n.pasteEvent=e),!1},void 0!==Lp)Lp.validatePackage(zp);else{var o="License activation failed for "+zp.name+"\n";o+="The @progress/kendo-licensing script is not loaded.\n",o+="See "+zp.licensingDocsUrl+" for more information.\n",console.warn(o)}return n}return Bp(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return null!==this.trOnChange?this.trOnChange.doc:void 0!==this.props.value?this.props.value:this.view?this.view.state.doc:this.props.defaultContent||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentElement",{get:function(){return this._contentElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.state.view},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.iframe&&Fp||this.initialize()},e.prototype.componentDidUpdate=function(t){var e=this.props.value,n=this.view;void 0!==e&&n&&(!function(t,e,n,r,o){"string"==typeof e?r&&e===o?Np(t,{tr:r}):e!==n&&Np(t,{html:e}):r&&e.eq(r.doc)?Np(t,{tr:r}):t.state.doc.eq(e)||Np(t,{doc:e})}(n,e,t.value,this.trOnChange,this.htmlOnChange),this.trOnChange=null,this.htmlOnChange=null)},e.prototype.componentWillUnmount=function(){this.state.view&&this.state.view.destroy()},e.prototype.render=function(){var t=this,e=this.props,n=e.tools,o=void 0===n?[]:n,a=e.defaultEditMode,s=void 0===a?"iframe":a,l=e.preserveWhitespace,c=void 0===l?"full":l,u=e.style,p=e.className;this.view&&(up.getState(this.view.state).preserveWhitespace=c);var h=this.props.contentStyle;void 0===h&&void 0===(u||{}).height&&(h={height:"300px"});var d=o.map((function(e,n){return Array.isArray(e)?r.createElement(i.ButtonGroup,{key:n},e.map(t.renderTool,n)):t.renderTool(e,n)}));return r.createElement("div",{ref:function(e){return t._element=e},className:"k-widget k-editor"+(p?" "+p:""),dir:this.props.dir,style:u},d.length>0&&r.createElement(i.Toolbar,{keyboardNavigation:this.props.keyboardNavigation},d),"iframe"===s?r.createElement("div",{className:"k-editor-content"},r.createElement("iframe",{onLoad:Fp?function(){t.initialize()}:void 0,ref:function(e){return t.iframe=e},frameBorder:"0",style:h,className:"k-iframe"})):r.createElement("div",{style:h,className:"k-editor-content"},r.createElement("div",{ref:function(e){return t._contentElement=e},suppressContentEditableWarning:!0})),this.renderDialog(Op.InsertLinkDialog,Hp,"linkDialog"))},e.prototype.initialize=function(){var t=this,e=this.iframe&&this.iframe.contentWindow;if(e){var n=e.document;[Ec,Ic,"rtl"===this.props.dir?"body { direction: rtl }":void 0].forEach((function(t){if(t){var e=n.createElement("style");e.appendChild(n.createTextNode(t)),n.head.appendChild(e)}}));var r=n.createElement("meta");r.setAttribute("charset","utf-8"),n.head.appendChild(r),this._contentElement=n.createElement("div"),n.body.appendChild(this._contentElement),this._contentElement.classList.add("k-content")}var o=this._contentElement;if(o){var i=this.props.preserveWhitespace,a=void 0===i?"full":i,s=this,l=[new ke({view:function(){return{update:t.updateTools}},key:new _e("toolbar-tools-update-plugin")}),new ke({filterTransaction:function(e,n){return!1!==(t.props.onExecute&&t.props.onExecute.call(void 0,{target:s,transaction:e,state:n}))},key:new _e("onExecute-event-plugin")}),new ke({key:up,state:{init:function(){return{preserveWhitespace:a}},apply:function(t,e){return e}}}),sc(),hl(),cc(),dc(),Fs()],c=Vp({},_p.getShortcuts({types:{listItem:"list_item",hardBreak:"hard_break"},toolsSettings:{bold:Up,italic:Wp,underline:qp}}),{"Mod-k":function(){var e=t.state,n=e.linkDialog,r=e.view;if(r){var o=r.state,i=o.selection.empty,a=Ge(o,o.schema.marks[Hp.mark]);n||i&&!a||t.setState({linkDialog:!0})}return!n}}),u=this.props,p=u.defaultContent,h=void 0===p?"":p,d=u.value,f=u.onMount,m=d&&"string"!=typeof d?d:_p.createDocument(new et({nodes:Sc,marks:Ys}),Ee(d||h),{preserveWhitespace:a}),v={state:be.create({plugins:l.concat([Cr(c),Cr(Qn)]),doc:m}),transformPastedHTML:this.onPasteHtml,dispatchTransaction:this.dispatchTransaction,handleDOMEvents:{focus:this.onFocus,blur:this.onBlur,paste:this.onPaste}},g=f&&f.call(void 0,{plugins:l,shortcuts:c,target:s,viewProps:v,dom:o})||new ua({mount:o},v);this.setState({view:g})}},e.propTypes={defaultContent:o.string,value:o.oneOfType([o.object,o.string]),defaultEditMode:o.oneOf(["iframe","div"]),contentStyle:o.object,dir:o.string,className:o.string,style:o.object,tools:o.arrayOf(o.any),keyboardNavigation:o.bool,preserveWhitespace:o.oneOf([!0,!1,"full"]),onMount:o.func,onFocus:o.func,onBlur:o.func,onChange:o.func,onPasteHtml:o.func,onExecute:o.func},e}(r.Component),Gp=n(14),Yp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={row:-1,col:-1},e}return Yp(e,t),e.prototype.renderCell=function(t,e,n){var o=this,i=Math.floor(t/this.props.columns),a=t%this.props.columns,s=a<=n&&i<=e;return r.createElement("span",{className:"k-ct-cell k-state-disabled"+(s?" k-state-selected":""),onMouseEnter:function(){return o.setState({row:i,col:a})},onClick:function(){return o.props.onCellClick.call(void 0,i,a)},key:t})},e.prototype.render=function(){var t=this,e=[],n=this.props.columns*this.props.rows,o=this.state,i=o.row,a=o.col,s=this.props.onDown,l=this.props.createTableMessage;a>-1&&(l=vp(this.props.createTableHintMessage,i+1,a+1));for(var c=0;c<n;c++)e.push(this.renderCell(c,i,a));return[r.createElement("div",{onMouseLeave:function(){return t.setState({row:-1,col:-1})},key:"cells",style:{borderColor:"inherit"},onPointerDown:s,onMouseDown:s},e),r.createElement("div",{className:"k-status",key:"status",onPointerDown:s,onMouseDown:s},l)]},e}(r.Component),$p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Mp=jp||(jp={}),Rp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pointerdown=!1,e.onWindowDown=function(t){var n=e.props.anchor;(!n||n!==t.target&&n.firstElementChild!==t.target)&&(e.props.show&&!e.pointerdown&&e.props.onClose(),e.pointerdown=!1)},e.onPointerDown=function(){return e.pointerdown=!0},e}return $p(e,t),e.prototype.componentDidUpdate=function(t){t.show&&this.props.show&&this.props.onClose()},e.prototype.componentDidMount=function(){window.addEventListener("mousedown",this.onWindowDown),window.addEventListener("pointerdown",this.onWindowDown)},e.prototype.componentWillUnmount=function(){window.removeEventListener("mousedown",this.onWindowDown),window.removeEventListener("pointerdown",this.onWindowDown)},e.prototype.render=function(){var t=this.props,n=t.show,o=t.anchor,i=t.dir,a=t.rows,s=void 0===a?e.defaultProps.rows:a,l=t.columns,c=void 0===l?e.defaultProps.columns:l,u="rtl"===i?"right":"left";return r.createElement(Gp.Popup,{anchor:o,anchorAlign:{horizontal:u,vertical:"bottom"},popupAlign:{horizontal:u,vertical:"top"},popupClass:"k-ct-popup k-group k-reset k-state-border-up",show:n,style:"rtl"===i?{direction:"rtl"}:void 0},r.createElement(Xp,{rows:s,columns:c,createTableMessage:this.props.createTableMessage,createTableHintMessage:this.props.createTableHintMessage,onCellClick:this.props.onTableInsert,onDown:this.onPointerDown}))},e.propTypes={show:o.bool.isRequired,createTableMessage:o.string.isRequired,createTableHintMessage:o.string.isRequired,onClose:o.func.isRequired,onTableInsert:o.func.isRequired,anchor:o.any,rows:o.number,columns:o.number,dir:o.string},e.defaultProps={rows:6,columns:8},e}(r.Component),Mp.InsertTablePopup=Rp;var Zp,Jp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qp=function(){return(Qp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},th=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};(Zp||(Zp={})).createInsertTableTool=function(t){var e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openedPopup:!1},t.button=null,t.togglePopup=function(){t.setState({openedPopup:!t.state.openedPopup})},t.closePopup=function(){t.state.openedPopup&&t.togglePopup()},t.onTableInsert=function(e,n){var r=t.props.view;if(r){var o=Ql(r.state.schema.nodes,e,n);o&&Fe(o,!0)(r.state,r.dispatch),r.focus(),t.closePopup()}},t}return Jp(n,e),n.prototype.render=function(){var e=this,n=this.props,o=n.view,a=n.render,s=th(n,["view","render"]),l=o&&o.state,c=Object(ip.provideLocalizationService)(this),u=t.messages,p=u.createTable,h=u.createTableHint,d=c.toLanguageString(p,Dc[p]),f=c.toLanguageString(h,Dc[h]),m=[r.createElement(i.Button,Qp({onClick:this.togglePopup,ref:function(t){return e.button=t&&t.element},key:"InsertTable",disabled:!l||!Me(l,l.schema.nodes.table)},fp,{title:d},t.props,s)),o&&r.createElement(jp.InsertTablePopup,{key:"insertTablePopup",createTableMessage:d,createTableHintMessage:f,dir:s.dir,anchor:this.button,show:this.state.openedPopup,onClose:this.closePopup,onTableInsert:this.onTableInsert})||null];return a?a.call(void 0,m,{view:o}):m},n}(r.Component);return Object(ip.registerForLocalization)(e),e};var eh,nh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rh=function(){return(rh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},oh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ih=Oc.alignRemove,ah=n(10),sh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lh=function(){return(lh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ch=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};(eh||(eh={})).createStyleDropDownList=function(t){var e=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onChange=function(e){var r=e.target.value,o=n.props.view,i=t.style;if(o){Qe({style:i,value:r.value},t.commandName)(o.state,o.dispatch);var a=e.syntheticEvent;a&&"click"===a.type&&o.focus()}},n}return sh(n,e),n.prototype.render=function(){var e=t.style,n=this.props,o=n.view,i=n.render,a=n.data,s=n.defaultItem,l=ch(n,["view","render","data","defaultItem"]),c=a||t.items,u=s||t.defaultItem,p=o?$e(o.state,{name:e,value:/^.+$/}):[],h=Object(ip.provideLocalizationService)(this);u&&u.localizationKey&&((u=lh({},u)).text=u.localizationKey?h.toLanguageString(u.localizationKey,Dc[u.localizationKey]):u.text);var d=1===new Set(p).size?p[0]:null,f=r.createElement(ah.DropDownList,lh({value:d?c.find((function(t){return t.value===d})):d,data:c,defaultItem:u,itemRender:gp,textField:"text",dataItemKey:"value",onChange:this.onChange,style:mp,leftRightKeysNavigation:!1},l));return i?i.call(void 0,f,{view:o}):f},n}(r.Component);return Object(ip.registerForLocalization)(e),e};var uh,ph=n(11),hh=function(){return(hh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},dh=function(t){var e=t.view,n=t.style,o=t.colorPickerProps,i=t.commandName,a=o.title,s=r.useCallback((function(t){e&&(Qe({style:n,value:t.value},i)(e.state,e.dispatch),e.focus())}),[e,n,i]);return r.createElement(ph.ColorPicker,hh({onChange:s,onActiveColorClick:s},o,{title:a?Object(ip.useLocalization)().toLanguageString(a,Dc[a]):a}))},fh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mh=function(){return(mh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},vh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};(uh||(uh={})).createFormatBlockDropDownList=function(t){var e=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onChange=function(e){var r=e.target.value,o=n.props.view;if(o&&on(r.value,t.commandName)(o.state,o.dispatch)){var i=e.syntheticEvent;i&&"click"===i.type&&o.focus()}},n}return fh(n,e),n.prototype.render=function(){var e=this.props,n=e.view,o=e.render,i=e.data,a=e.defaultItem,s=vh(e,["view","render","data","defaultItem"]),l=i||t.items,c=a||t.defaultItem,u=n&&n.state,p=u?an(u):[],h=Object(ip.provideLocalizationService)(this);c&&c.localizationKey&&((c=mh({},c)).text=c.localizationKey?h.toLanguageString(c.localizationKey,Dc[c.localizationKey]):c.text);var d=1===new Set(p).size?p[0]:null,f=r.createElement(ah.DropDownList,mh({value:d?l.find((function(t){return t.value===d})):d,onChange:this.onChange,itemRender:gp,data:l,defaultItem:c,textField:"text",dataItemKey:"value",style:mp,leftRightKeysNavigation:!1},s));return o?o.call(void 0,f,{view:n}):f},n}(r.Component);return Object(ip.registerForLocalization)(e),e};var gh,yh,bh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xh=function(){return(xh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},wh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},kh=function(t,e){var n=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return bh(o,n),o.prototype.render=function(){var n=this.props,o=n.view,a=n.render,s=wh(n,["view","render"]),l=Object(ip.provideLocalizationService)(this),c=t.messages.title,u=o&&o.state,p=!!u&&!e(u),h=r.createElement(i.Button,xh({onClick:function(){return o&&e(o.state,(function(e){return o.dispatch(e.setMeta("commandName",t.commandName))}))},disabled:p},fp,{title:l.toLanguageString(c,Dc[c])},t.props,s));return a?a.call(void 0,h,{view:o}):h},o}(r.Component);return Object(ip.registerForLocalization)(n),n};(yh=gh||(gh={})).createUndoTool=function(t){return kh(t,dl)},yh.createRedoTool=function(t){return kh(t,fl)};var Oh,Ch=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_h=function(){return(_h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Sh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};(Oh||(Oh={})).createIndentTool=function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ch(n,e),n.prototype.render=function(){var e=this.props,n=e.view,o=e.render,a=Sh(e,["view","render"]),s=n&&n.state,l=s&&s.schema.nodes,c=l&&l[t.listsTypes.listItem],u=t.actions,p=!!s&&(Sn(s,u,a.dir)||u.some((function(t){return l[t.node]&&ln(s,l[t.node])})))&&!ln(s,c),h=!!s&&En(s,c),d=p||h,f=Object(ip.provideLocalizationService)(this),m=t.messages.title,v=r.createElement(i.Button,_h({onClick:function(){n&&h?wn(c)(n.state,n.dispatch):n&&p&&_n(u,t.commandName,a.dir)(n.state,n.dispatch)},title:f.toLanguageString(m,Dc[m]),disabled:!d},fp,t.props,a));return o?o.call(void 0,v,{view:n}):v},n}(r.Component);return Object(ip.registerForLocalization)(e),e};var Eh,Ih=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Th=function(){return(Th=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Dh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};(Eh||(Eh={})).createInlineFormatTool=function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ih(n,e),n.prototype.render=function(){var e=this.props,n=e.view,o=e.render,a=Dh(e,["view","render"]),s=n&&n.state,l={mark:t.mark,altMarks:t.altMarks,altStyle:t.altStyle},c=Object(ip.provideLocalizationService)(this),u=t.messages.title,p=r.createElement(i.Button,Th({onClick:function(){return n&&Je(l,s&&s.tr.setMeta("commandName",t.commandName))(n.state,n.dispatch)},selected:!!s&&We(s,l),togglable:!0},fp,{title:c.toLanguageString(u,Dc[u])},t.props,a));return o?o.call(void 0,p,{view:n}):p},n}(r.Component);return Object(ip.registerForLocalization)(e),e};var Ph,Ah=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jh=function(){return(jh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Mh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Rh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nh=function(){return(Nh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Fh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};(Ph||(Ph={})).createLinkTool=function(t){var e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openedDialog:!1},t.toggleDialog=function(){t.setState({openedDialog:!t.state.openedDialog})},t}return Rh(n,e),n.prototype.render=function(){var e=this.props,n=e.view,o=e.render,a=Fh(e,["view","render"]),s=n&&n.state,l=!s||s.selection.empty,c=s&&Ge(s,s.schema.marks[t.mark]),u=Object(ip.provideLocalizationService)(this),p=t.messages.insertHyperlink,h=[r.createElement(i.Button,Nh({onClick:this.toggleDialog,key:"link",disabled:l&&!c},fp,{title:u.toLanguageString(p,Dc[p])},t.props,a)),this.state.openedDialog&&n&&r.createElement(Op.InsertLinkDialog,{key:"insertLinkDialog",settings:t,dir:a.dir,view:n,onClose:this.toggleDialog})||null];return o?o.call(void 0,h,{view:n}):h},n}(r.Component);return Object(ip.registerForLocalization)(e),e};var Lh,zh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bh=function(){return(Bh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Vh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};(Lh||(Lh={})).createListTool=function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return zh(n,e),n.prototype.render=function(){var e=this.props,n=e.view,o=e.render,a=Vh(e,["view","render"]),s=!1,l=Object(ip.provideLocalizationService)(this),c=t.messages.title,u=t.types,p=t.listType;if(n){var h=n.state,d=h.schema.nodes,f=ln(h,d[u.orderedList]),m=ln(h,d[u.bulletList]);s=p===u.orderedList?f&&!m:!f&&m}var v=r.createElement(i.Button,Bh({onClick:function(){return n&&or(n.state,n.dispatch,n,Bh({listType:p},u),t.commandName)},togglable:!0,selected:s,title:l.toLanguageString(c,Dc[c])},fp,t.props,a));return o?o.call(void 0,v,{view:n}):v},n}(r.Component);return Object(ip.registerForLocalization)(e),e};var Hh,Uh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wh=function(){return(Wh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},qh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};(Hh||(Hh={})).createOutdentTool=function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Uh(n,e),n.prototype.render=function(){var e=this.props,n=e.view,o=e.render,a=qh(e,["view","render"]),s=n&&n.state,l=!!s&&Sn(s,t.actions,a.dir),c=s&&s.schema.nodes[t.listsTypes.listItem],u=!!s&&In(s,{nodes:t.actions,listsTypes:t.listsTypes}),p=l||u,h=Object(ip.provideLocalizationService)(this),d=t.messages.title,f=r.createElement(i.Button,Wh({onClick:function(){n&&u?xn(c)(n.state,n.dispatch):n&&l&&_n(t.actions,t.commandName,a.dir)(n.state,n.dispatch)},title:h.toLanguageString(d,Dc[d]),disabled:!p},fp,t.props,a));return o?o.call(void 0,f,{view:n}):f},n}(r.Component);return Object(ip.registerForLocalization)(e),e};var Kh,Gh,Yh=function(t,e){var n=ps(t,e);if(n&&!e){var r=Ta(t),o=r&&r.node(r.depth);if(o&&1===o.content.childCount)return!1}return n},Xh=function(t,e){var n=gs(t,e);if(n&&!e){var r=Ta(t),o=r&&r.node(r.depth-1);if(o&&1===o.content.childCount)return!1}return n};(Gh=Kh||(Kh={})).createAddRowBeforeTool=function(t){return kh(t,fs)},Gh.createAddRowAfterTool=function(t){return kh(t,ms)},Gh.createAddColumnBeforeTool=function(t){return kh(t,ls)},Gh.createAddColumnAfterTool=function(t){return kh(t,cs)},Gh.createDeleteRowTool=function(t){return kh(t,Xh)},Gh.createDeleteColumnTool=function(t){return kh(t,Yh)},Gh.createDeleteTableTool=function(t){return kh(t,Is)},Gh.createMergeCellsTool=function(t){return kh(t,bs)},Gh.createSplitCellTool=function(t){return kh(t,xs)};var $h,Zh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jh=function(){return(Jh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};($h||($h={})).createUnlinkTool=function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Zh(n,e),n.prototype.render=function(){var e=this.props,n=e.view,o=e.render,a=Qh(e,["view","render"]),s={mark:t.mark},l=!!n&&We(n.state,s),c=Object(ip.provideLocalizationService)(this),u=t.messages.title,p=r.createElement(i.Button,Jh({onClick:function(){return n&&tn(s,n.state.tr.setMeta("commandName",t.commandName))(n.state,n.dispatch)},disabled:!l},fp,{title:c.toLanguageString(u,Dc[u])},t.props,a));return o?o.call(void 0,p,{view:n}):p},n}(r.Component);return Object(ip.registerForLocalization)(e),e};var td,ed=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nd=function(){return(nd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},rd=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};(td||(td={})).createViewHtmlTool=function(t){var e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openedDialog:!1},t.toggleDialog=function(){t.setState({openedDialog:!t.state.openedDialog})},t}return ed(n,e),n.prototype.render=function(){var e=this.props,n=e.view,o=e.render,a=rd(e,["view","render"]),s=Object(ip.provideLocalizationService)(this),l=t.messages.viewHtml,c=[r.createElement(i.Button,nd({onClick:this.toggleDialog,key:"viewHtml"},fp,{title:s.toLanguageString(l,Dc[l])},t.props,a)),this.state.openedDialog&&n&&r.createElement(Op.ViewHtmlDialog,{key:"viewHtmlDialog",view:n,settings:t,dir:a.dir,onClose:this.toggleDialog})||null];return o?o.call(void 0,c,{view:n}):c},n}(r.Component);return Object(ip.registerForLocalization)(e),e};var od,id=function(){return(id=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ad=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},sd=Oc.print,ld=function(t){var e=t.view,n=t.render,o=t.settings,a=void 0===o?sd:o,s=ad(t,["view","render","settings"]),l=e&&e.dom,c=l&&l.ownerDocument,u=c&&c.defaultView,p=a.messages.title,h=r.useCallback((function(){u&&u.print()}),[u]),d=r.createElement(i.Button,id({onClick:h,disabled:!u||u===window,title:Object(ip.useLocalization)().toLanguageString(p,Dc[p])},fp,a.props,s));return n?n.call(void 0,d,{view:e}):d},cd=n(25),ud=function(){return(ud=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},pd=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},hd=Oc.pdf,dd=Oc.savePdfOptions,fd=function(t){var e=t.view,n=t.render,o=t.settings,a=void 0===o?hd:o,s=t.savePdfOptions,l=t.savePdfCallback,c=pd(t,["view","render","settings","savePdfOptions","savePdfCallback"]),u=a.messages.title,p=r.useCallback((function(){e&&Object(cd.savePDF)(e.dom,ud({},dd,s||{}),l)}),[e,s,l]),h=r.createElement(i.Button,ud({onClick:p,title:Object(ip.useLocalization)().toLanguageString(u,Dc[u])},fp,a.props,c));return n?n.call(void 0,h,{view:e}):h},md=function(){return(md=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},vd=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},gd=Oc.selectAll,yd=function(t){var e=t.view,n=t.render,o=t.settings,a=void 0===o?gd:o,s=vd(t,["view","render","settings"]),l=a.messages.title,c=r.useCallback((function(){e&&(Wn(e.state,e.dispatch),e.focus())}),[e]),u=r.createElement(i.Button,md({onClick:c,title:Object(ip.useLocalization)().toLanguageString(l,Dc[l])},fp,a.props,s));return n?n.call(void 0,u,{view:e}):u},bd=function(){return(bd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xd=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},wd=Oc.cleanFormatting,kd=(void 0===od&&(od={blocksInSelection:!0}),function(t,e){var n=t.tr,r=od.blocksInSelection,o=od.blockNodeType,i=(od.exceptMarks||[t.schema.marks.link]).filter(Boolean);Ue(n,{except:i}),function(t,e){void 0===e&&(e={blocksInSelection:!0});var n=t.doc,r=t.selection,o=e.blocksInSelection,i=e.blockNodeType;rn({doc:n,selection:r},{blocksInSelection:o}).filter((function(t){return t.isTextblock})).forEach((function(e){var n=e.attrs||{},r=n.style,o=void 0===r?"":r,a=n.class,s=void 0===a?"":a,l=Ae(n,["style","class"]),c=i||e.type;(o||s||c!==e.type)&&nn(t,e,c,l)}))}(n,{blocksInSelection:r,blockNodeType:o});var a=n.docChanged;return a&&e&&e(n),a}),Od=function(t){var e=t.view,n=t.render,o=t.settings,a=void 0===o?wd:o,s=xd(t,["view","render","settings"]),l=a.messages.title,c=r.useCallback((function(){e&&kd(e.state,(function(t){t.setMeta("commandName",a.commandName),e.dispatch(t)}))}),[e]),u=r.createElement(i.Button,bd({onClick:c,disabled:!e||!kd(e.state),title:Object(ip.useLocalization)().toLanguageString(l,Dc[l])},fp,a.props,s));return n?n.call(void 0,u,{view:e}):u},Cd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_d=function(){return(_d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Sd=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Ed=Oc.findAndReplace,Id=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={showDialog:!1},e.onClose=function(){return e.setState({showDialog:!1})},e.onOpen=function(){return e.setState({showDialog:!0})},e}return Cd(e,t),e.prototype.render=function(){var t=this.props,e=t.view,n=Sd(t,["view"]),o=Ed.props,a=Object(ip.provideLocalizationService)(this),s=Ed.messages.findReplaceToolTitle;return[r.createElement(i.Button,_d({onClick:this.onOpen},fp,{disabled:!e,title:a.toLanguageString(s,Dc[s]),key:"tool"},o,n)),this.state.showDialog&&e&&r.createElement(kp,{view:e,onClose:this.onClose,dir:n.dir,key:"dialog"})]},e}(r.Component);Object(ip.registerForLocalization)(Id);var Td,Dd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pd=function(){return(Pd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(t){function e(t){return function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return nh(n,e),n.prototype.render=function(){var e=this.props,n=e.view,o=e.render,a=oh(e,["view","render"]),s=n&&n.state,l=!!s&&un(s,t.actions),c=l?ih.actions:t.actions,u=l?ih.commandName:t.commandName,p=Object(ip.provideLocalizationService)(this),h=t.messages.title,d=r.createElement(i.Button,rh({onClick:function(){return n&&cn(c,u)(n.state,n.dispatch)},selected:l,togglable:!0},fp,{title:p.toLanguageString(h,Dc[h])},t.props,a));return o?o.call(void 0,d,{view:n}):d},n}(r.Component);return Object(ip.registerForLocalization)(e),e}(t)}t.createAlignTool=e;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(e(Oc.alignLeft));t.AlignLeft=n;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(e(Oc.alignRight));t.AlignRight=o;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(e(Oc.alignCenter));t.AlignCenter=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(e(Oc.alignJustify));function l(t){return Zp.createInsertTableTool(t)}t.AlignJustify=s,t.createInsertTableTool=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(l(Oc.insertTable));t.InsertTable=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(jp.InsertTablePopup);function p(t){return eh.createStyleDropDownList(t)}t.InsertTablePopup=u,t.createStyleDropDownList=p;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(p(Oc.fontSize));t.FontSize=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(p(Oc.fontName));function f(t){return uh.createFormatBlockDropDownList(t)}t.FontName=d,t.ForeColor=function(t){return r.createElement(dh,Pd({},Oc.foreColor,t))},t.BackColor=function(t){return r.createElement(dh,Pd({},Oc.backColor,t))},t.createFormatBlockDropDownList=f;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(f(Oc.formatBlock));function v(t){return gh.createUndoTool(t)}function g(t){return gh.createRedoTool(t)}t.FormatBlock=m,t.createUndoTool=v,t.createRedoTool=g;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(v(Oc.undo));t.Undo=y;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(g(Oc.redo));function x(t){return Oh.createIndentTool(t)}t.Redo=b,t.createIndentTool=x;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(x(Oc.indent));function k(t){return Eh.createInlineFormatTool(t)}t.Indent=w,t.createInlineFormatTool=k;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(k(Oc.bold));t.Bold=O;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(k(Oc.italic));t.Italic=C;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(k(Oc.underline));t.Underline=_;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(k(Oc.strikethrough));t.Strikethrough=S;var E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(k(Oc.subscript));t.Subscript=E;var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(k(Oc.superscript));function T(t){return function(t){var e=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openedDialog:!1},t.toggleDialog=function(){t.setState({openedDialog:!t.state.openedDialog})},t}return Ah(n,e),n.prototype.render=function(){var e=this.props,n=e.view,o=e.render,a=Mh(e,["view","render"]),s=n&&n.state,l=s?s.schema.nodes[t.node]:void 0,c=Object(ip.provideLocalizationService)(this),u=t.messages.insertImage,p=[r.createElement(i.Button,jh({onClick:this.toggleDialog,key:"insertImage",disabled:!l||!s||!Me(s,l)},fp,{title:c.toLanguageString(u,Dc[u])},t.props,a)),this.state.openedDialog&&n&&r.createElement(Op.InsertImageDialog,{key:"insertImageDialog",view:n,settings:t,dir:a.dir,onClose:this.toggleDialog})||null];return o?o.call(void 0,p,{view:n}):p},n}(r.Component);return Object(ip.registerForLocalization)(e),e}(t)}t.Superscript=I,t.createInsertImageTool=T;var D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(T(Oc.image));function P(t){return Ph.createLinkTool(t)}t.InsertImage=D,t.createLinkTool=P;var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(P(Oc.link));t.Link=A;var j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(P(Oc.insertFile));function M(t){return Lh.createListTool(t)}t.InsertFile=j,t.createListTool=M;var R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(M(Oc.orderedList));t.OrderedList=R;var N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(M(Oc.bulletList));function F(t){return Hh.createOutdentTool(t)}t.UnorderedList=N,t.createOutdentTool=F;var L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(F(Oc.outdent));function z(t){return Kh.createAddRowBeforeTool(t)}function B(t){return Kh.createAddRowAfterTool(t)}function V(t){return Kh.createAddColumnBeforeTool(t)}function H(t){return Kh.createAddColumnAfterTool(t)}function U(t){return Kh.createDeleteRowTool(t)}function W(t){return Kh.createDeleteColumnTool(t)}function q(t){return Kh.createDeleteTableTool(t)}function K(t){return Kh.createMergeCellsTool(t)}function G(t){return Kh.createSplitCellTool(t)}t.Outdent=L,t.Print=function(t){return r.createElement(ld,Pd({},t))},t.Pdf=function(t){return r.createElement(fd,Pd({},t))},t.SelectAll=function(t){return r.createElement(yd,Pd({},t))},t.CleanFormatting=function(t){return r.createElement(Od,Pd({},t))},t.createAddRowBeforeTool=z,t.createAddRowAfterTool=B,t.createAddColumnBeforeTool=V,t.createAddColumnAfterTool=H,t.createDeleteRowTool=U,t.createDeleteColumnTool=W,t.createDeleteTableTool=q,t.createMergeCellsTool=K,t.createSplitCellTool=G;var Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(z(Oc.addRowBefore));t.AddRowBefore=Y;var X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(B(Oc.addRowAfter));t.AddRowAfter=X;var $=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(V(Oc.addColumnBefore));t.AddColumnBefore=$;var Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(H(Oc.addColumnAfter));t.AddColumnAfter=Z;var J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(U(Oc.deleteRow));t.DeleteRow=J;var Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(W(Oc.deleteColumn));t.DeleteColumn=Q;var tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(q(Oc.deleteTable));t.DeleteTable=tt;var et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(K(Oc.mergeCells));t.MergeCells=et;var nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(G(Oc.splitCell));function rt(t){return $h.createUnlinkTool(t)}t.SplitCell=nt,t.createUnlinkTool=rt;var ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(rt(Oc.unlink));function it(t){return td.createViewHtmlTool(t)}t.Unlink=ot,t.createViewHtmlTool=it;var at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(it(Oc.viewHtml));t.ViewHtml=at;var st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dd(e,t),e}(Id);t.FindAndReplace=st}(Td||(Td={}));var Ad={Selection:re,SelectionRange:ie,TextSelection:ae,NodeSelection:le,AllSelection:ue,EditorState:be,Plugin:ke,PluginKey:_e,Transaction:fe,Decoration:Gi,DecorationSet:Zi,EditorView:ua,Node:A,ResolvedPos:C,NodeRange:T,Fragment:l,Slice:m,ReplaceError:f,Mark:d,Schema:et,NodeType:$,MarkType:tt,ContentMatch:N,DOMParser:rt,DOMSerializer:ft,Transform:Ot,Step:Et,StepResult:It,joinPoint:zt,canJoin:Ft,canSplit:Nt,insertPoint:Bt,dropPoint:Vt,liftTarget:jt,findWrapping:Mt,StepMap:xt,MapResult:bt,Mapping:wt,AddMarkStep:Ut,RemoveMarkStep:Wt,ReplaceStep:Tt,ReplaceAroundStep:Dt,replaceStep:qt,deleteSelection:Tn,joinBackward:Dn,selectNodeBackward:An,joinForward:Mn,selectNodeForward:Rn,joinUp:function(t,e){var n,r=t.selection,o=r instanceof le;if(o){if(r.node.isTextblock||!Ft(t.doc,r.from))return!1;n=r.from}else if(null==(n=zt(t.doc,r.from,-1)))return!1;if(e){var i=t.tr.join(n);o&&i.setSelection(le.create(i.doc,n-t.doc.resolve(n).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},joinDown:function(t,e){var n,r=t.selection;if(r instanceof le){if(r.node.isTextblock||!Ft(t.doc,r.to))return!1;n=r.to}else if(null==(n=zt(t.doc,r.to,1)))return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},lift:function(t,e){var n=t.selection,r=n.$from,o=n.$to,i=r.blockRange(o),a=i&&jt(i);return null!=a&&(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)},newlineInCode:Fn,exitCode:zn,createParagraphNear:Bn,liftEmptyBlock:Vn,splitBlock:Hn,splitBlockKeepMarks:Un,selectParentNode:function(t,e){var n,r=t.selection,o=r.$from,i=r.to,a=o.sharedDepth(i);return 0!=a&&(n=o.before(a),e&&e(t.tr.setSelection(le.create(t.doc,n))),!0)},selectAll:Wn,wrapIn:function(t,e){return function(n,r){var o=n.selection,i=o.$from,a=o.$to,s=i.blockRange(a),l=s&&Mt(s,t,e);return!!l&&(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0)}},setBlockType:function(t,e){return function(n,r){var o=n.selection,i=o.from,a=o.to,s=!1;return n.doc.nodesBetween(i,a,(function(r,o){if(s)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)s=!0;else{var i=n.doc.resolve(o),a=i.index();s=i.parent.canReplaceWith(a,a+1,t)}})),!!s&&(r&&r(n.tr.setBlockType(i,a,t,e).scrollIntoView()),!0)}},toggleMark:function(t,e){return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,s=o.ranges;if(i&&!a||!function(t,e,n){for(var r=function(r){var o=e[r],i=o.$from,a=o.$to,s=0==i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,a.pos,(function(t){if(s)return!1;s=t.inlineContent&&t.type.allowsMarkType(n)})),s)return{v:!0}},o=0;o<e.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,s,t))return!1;if(r)if(a)t.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{for(var l=!1,c=n.tr,u=0;!l&&u<s.length;u++){var p=s[u],h=p.$from,d=p.$to;l=n.doc.rangeHasMark(h.pos,d.pos,t)}for(var f=0;f<s.length;f++){var m=s[f],v=m.$from,g=m.$to;if(l)c.removeMark(v.pos,g.pos,t);else{var y=v.pos,b=g.pos,x=v.nodeAfter,w=g.nodeBefore,k=x&&x.isText?/^\s*/.exec(x.text)[0].length:0,O=w&&w.isText?/\s*$/.exec(w.text)[0].length:0;y+k<b&&(y+=k,b-=O),c.addMark(y,b,t.create(e))}}r(c.scrollIntoView())}return!0}},autoJoin:Kn,chainCommands:Gn,pcBaseKeymap:$n,macBaseKeymap:Zn,baseKeymap:Qn,history:hl,undo:dl,redo:fl,undoDepth:function(t){var e=ul.getState(t);return e?e.done.eventCount:0},redoDepth:function(t){var e=ul.getState(t);return e?e.undone.eventCount:0},InputRule:ml,inputRules:function(t){var e=t.rules,n=new ke({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,r,o,i){return vl(t,r,o,i,e,n)},handleDOMEvents:{compositionend:function(t){setTimeout((function(){var r=t.state.selection.$cursor;r&&vl(t,r.pos,r.pos,"",e,n)}))}}},isInputRules:!0});return n},undoInputRule:gl,emDash:yl,ellipsis:bl,openDoubleQuote:xl,closeDoubleQuote:wl,openSingleQuote:kl,closeSingleQuote:Ol,smartQuotes:Cl,wrappingInputRule:function(t,e,n,r){return new ml(t,(function(t,o,i,a){var s=n instanceof Function?n(o):n,l=t.tr.delete(i,a),c=l.doc.resolve(i).blockRange(),u=c&&Mt(c,e,s);if(!u)return null;l.wrap(c,u);var p=l.doc.resolve(i-1).nodeBefore;return p&&p.type==e&&Ft(l.doc,i-1)&&(!r||r(o,p))&&l.join(i-1),l}))},textblockTypeInputRule:function(t,e,n){return new ml(t,(function(t,r,o,i){var a=t.doc.resolve(o),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?t.tr.delete(o,i).setBlockType(o,o,e,s):null}))},keymap:Cr,keydownHandler:_r,orderedList:fn,bulletList:mn,listItem:vn,addListNodes:function(t,e,n){return t.append({ordered_list:gn(fn,{content:"list_item+",group:n}),bullet_list:gn(mn,{content:"list_item+",group:n}),list_item:gn(vn,{content:e})})},wrapInList:yn,splitListItem:bn,liftListItem:xn,sinkListItem:wn,dropCursor:cc,gapCursor:dc,tableEditing:Fs,fixTables:is,fixTablesKey:rs,cellAround:Ea,isInTable:Ia,selectionCell:Ta,moveCellForward:Pa,inSameTable:Aa,findCell:function(t){return xa.get(t.node(-1)).findCell(t.pos-t.start(-1))},colCount:function(t){return xa.get(t.node(-1)).colCount(t.pos-t.start(-1))},nextCell:ja,removeColSpan:Ra,addColSpan:Na,columnIsHeader:Fa,tableNodes:Ca,tableNodeTypes:_a,CellSelection:La,TableMap:xa,tableEditingKey:Sa,columnResizing:function(t){void 0===t&&(t={});var e=t.handleWidth;void 0===e&&(e=5);var n=t.cellMinWidth;void 0===n&&(n=25);var r=t.View;void 0===r&&(r=Ts);var o=t.lastColumnResizable;return void 0===o&&(o=!0),new ke({key:Ps,state:{init:function(t,e){return this.spec.props.nodeViews[_a(e.schema).table.name]=function(t,e){return new r(t,n,e)},new As(-1,!1)},apply:function(t,e){return e.apply(t)}},props:{attributes:function(t){return Ps.getState(t).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(t,n){!function(t,e,n,r,o){var i=Ps.getState(t.state);if(!i.dragging){var a=function(t){for(;t&&"TD"!=t.nodeName&&"TH"!=t.nodeName;)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}(e.target),s=-1;if(a){var l=a.getBoundingClientRect(),c=l.left,u=l.right;e.clientX-c<=n?s=js(t,e,"left"):u-e.clientX<=n&&(s=js(t,e,"right"))}if(s!=i.activeHandle){if(!o&&-1!==s){var p=t.state.doc.resolve(s),h=p.node(-1),d=xa.get(h),f=p.start(-1);if(d.colCount(p.pos-f)+p.nodeAfter.attrs.colspan-1==d.width-1)return}Rs(t,s)}}}(t,n,e,0,o)},mouseleave:function(t){!function(t){var e=Ps.getState(t.state);e.activeHandle>-1&&!e.dragging&&Rs(t,-1)}(t)},mousedown:function(t,e){!function(t,e,n){var r=Ps.getState(t.state);if(-1==r.activeHandle||r.dragging)return!1;var o=t.state.doc.nodeAt(r.activeHandle),i=function(t,e,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=t.domAtPos(e),s=a.node.childNodes[a.offset].offsetWidth,l=r;if(o)for(var c=0;c<r;c++)o[c]&&(s-=o[c],l--);return s/l}(t,r.activeHandle,o.attrs);function a(e){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);var r=Ps.getState(t.state);r.dragging&&(!function(t,e,n){for(var r=t.state.doc.resolve(e),o=r.node(-1),i=xa.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=t.state.tr,c=0;c<i.height;c++){var u=c*i.width+s;if(!c||i.map[u]!=i.map[u-i.width]){var p=i.map[u],h=o.nodeAt(p).attrs,d=1==h.colspan?0:s-i.colCount(p);if(!h.colwidth||h.colwidth[d]!=n){var f=h.colwidth?h.colwidth.slice():Ns(h.colspan);f[d]=n,l.setNodeMarkup(a+p,null,Ma(h,"colwidth",f))}}}l.docChanged&&t.dispatch(l)}(t,r.activeHandle,Ms(r.dragging,e,n)),t.dispatch(t.state.tr.setMeta(Ps,{setDragging:null})))}function s(e){if(!e.which)return a(e);var r=Ps.getState(t.state),o=Ms(r.dragging,e,n);!function(t,e,n,r){var o=t.state.doc.resolve(e),i=o.node(-1),a=o.start(-1),s=xa.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,l=t.domAtPos(o.start(-1)).node;for(;"TABLE"!=l.nodeName;)l=l.parentNode;Ds(i,l.firstChild,l,r,s,n)}(t,r.activeHandle,o,n)}t.dispatch(t.state.tr.setMeta(Ps,{setDragging:{startX:e.clientX,startWidth:i}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),e.preventDefault()}(t,e,n)}},decorations:function(t){var e=Ps.getState(t);if(e.activeHandle>-1)return function(t,e){for(var n=[],r=t.doc.resolve(e),o=r.node(-1),i=xa.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan,l=0;l<i.height;l++){var c=s+l*i.width-1;if(!(s!=i.width&&i.map[c]==i.map[c+1]||0!=l&&i.map[c-1]==i.map[c-1-i.width])){var u=i.map[c],p=a+u+o.nodeAt(u).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",n.push(Gi.widget(p,h))}}return Zi.create(t.doc,n)}(t,e.activeHandle)},nodeViews:{}}})},columnResizingPluginKey:Ps,updateColumnsOnResize:Ds,selectedRect:as,addColumn:ss,addColumnBefore:ls,addColumnAfter:cs,deleteColumn:ps,rowIsHeader:hs,addRow:ds,addRowBefore:fs,addRowAfter:ms,deleteRow:gs,mergeCells:bs,splitCell:xs,splitCellWithType:ws,setCellAttr:function(t,e){return function(n,r){if(!Ia(n))return!1;var o=Ta(n);if(o.nodeAfter.attrs[t]===e)return!1;if(r){var i=n.tr;n.selection instanceof La?n.selection.forEachCell((function(n,r){n.attrs[t]!==e&&i.setNodeMarkup(r,null,Ma(n.attrs,t,e))})):i.setNodeMarkup(o.pos,null,Ma(o.nodeAfter.attrs,t,e)),r(i)}return!0}},toggleHeader:Os,toggleHeaderRow:Cs,toggleHeaderColumn:_s,toggleHeaderCell:Ss,goToNextCell:Es,deleteTable:Is}},function(t,e,n){"use strict";n.r(e),n.d(e,"Grid",(function(){return Ht})),n.d(e,"GridColumn",(function(){return s})),n.d(e,"GridCell",(function(){return kt})),n.d(e,"GridEditCell",(function(){return k})),n.d(e,"GridGroupCell",(function(){return Ct})),n.d(e,"GridHierarchyCell",(function(){return v})),n.d(e,"GridDetailRow",(function(){return Cn})),n.d(e,"GridRow",(function(){return Et})),n.d(e,"GridFilterCell",(function(){return lt})),n.d(e,"GridHeaderCell",(function(){return j})),n.d(e,"GridColumnMenuSort",(function(){return te})),n.d(e,"GridColumnMenuFilter",(function(){return bn})),n.d(e,"GridColumnMenuGroup",(function(){return Yt})),n.d(e,"GridColumnMenuItem",(function(){return Kt})),n.d(e,"GridColumnMenuItemContent",(function(){return cn})),n.d(e,"GridColumnMenuItemGroup",(function(){return Wt})),n.d(e,"GridColumnMenuFilterUI",(function(){return fn})),n.d(e,"GridColumnMenuFilterCell",(function(){return pn})),n.d(e,"GridColumnMenuCheckboxFilter",(function(){return kn})),n.d(e,"GridToolbar",(function(){return Sn})),n.d(e,"GridNoRecords",(function(){return Pt})),n.d(e,"getSelectedState",(function(){return a.getSelectedState})),n.d(e,"setSelectedState",(function(){return a.setSelectedState})),n.d(e,"getSelectedStateFromKeyDown",(function(){return a.getSelectedStateFromKeyDown})),n.d(e,"GRID_COL_INDEX_ATTRIBUTE",(function(){return x})),n.d(e,"GRID_ROW_INDEX_ATTRIBUTE",(function(){return b}));var r=n(0),o=n(1),i=n(2),a=n(6),s=function(t){return null};s.displayName="KendoReactGridColumn",s.defaultProps={filterable:!0,editable:!0,sortable:!0,resizable:!0,reorderable:!0,groupable:!0},s.propTypes={field:o.string,title:o.string,editable:o.bool,sortable:o.oneOfType([o.bool,o.shape({allowUnsort:o.bool})]),cell:o.any,filterCell:o.any,filterTitle:o.string,filterable:o.bool,filter:o.oneOf(["text","numeric","boolean","date"]),editor:o.oneOf(["text","numeric","boolean","date"]),width:o.oneOfType([o.string,o.number]),minResizableWidth:o.number,headerCell:o.any,footerCell:o.any,headerSelectionValue:o.bool,format:o.string,headerClassName:o.string,className:o.string,reorderable:o.bool,resizable:o.bool,orderIndex:o.number,groupable:o.bool,columnMenu:o.any,locked:o.bool};var l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},c=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};function u(t,e){var n=(t||"").split("."),r=e;return n.forEach((function(t){r=r?r[t]:void 0})),r}var p,h=function(t){return t.sort((function(t,e){return t.declarationIndex-e.declarationIndex})),t.map((function(t){t.declarationIndex,t.parentIndex,t.depth,t.colSpan,t.rowSpan,t.index,t.kFirst;var e=t.children,n=c(t,["declarationIndex","parentIndex","depth","colSpan","rowSpan","index","kFirst","children"]);return e.length?l({children:h(e)},n):n}))},d=function(){return(d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},f=function(t){var e=r.useCallback((function(e){t.selectionChange&&t.selectionChange({syntheticEvent:e})}),[t.selectionChange]),n=r.useMemo((function(){return Object(i.r)()}),[]),o=u(t.field,t.dataItem),s=Object(a.useTableKeyboardNavigation)(t.id),l="groupHeader"!==t.rowType?r.createElement("td",d({colSpan:t.colSpan,style:t.style,className:t.className,"aria-colindex":t.ariaColumnIndex,role:"gridcell"},s),r.createElement("input",{checked:"boolean"==typeof o&&o,id:n,type:"checkbox",className:"k-checkbox",onChange:e}),r.createElement("label",{className:"k-checkbox-label",htmlFor:n})):null;return t.render?t.render.call(void 0,l,t):l},m=function(){return(m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},v=function(t){var e=null,n=u(t.field,t.dataItem),o=Object(a.useTableKeyboardNavigation)(t.id),s=r.useCallback((function(e){e.isDefaultPrevented()||e.keyCode===i.d.enter&&t.onChange&&(e.preventDefault(),t.onChange({dataItem:t.dataItem,dataIndex:t.dataIndex,syntheticEvent:e,field:t.field,value:!n}))}),[t.dataItem,t.dataIndex,t.field,t.onChange,n]);if("groupFooter"===t.rowType)e=r.createElement("td",m({className:"k-hierarchy-cell"},o));else if("groupHeader"!==t.rowType){var l=n?"k-icon k-i-minus":"k-icon k-i-plus";e=r.createElement("td",m({className:"k-hierarchy-cell",onKeyDown:s,"aria-expanded":n?"true":"false",role:"gridcell","aria-colindex":t.ariaColumnIndex},o),r.createElement("a",{onClick:function(e){e.preventDefault(),t.onChange&&t.onChange({dataItem:t.dataItem,dataIndex:t.dataIndex,syntheticEvent:e,field:t.field,value:!n})},className:l,href:"#",tabIndex:-1}))}return t.render?t.render.call(void 0,e,t):e},g=n(11),y=n(15),b=a.TABLE_ROW_INDEX_ATTRIBUTE,x=a.TABLE_COL_INDEX_ATTRIBUTE,w=(a.TABLE_PREVENT_SELECTION_ELEMENT,function(){return(w=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}),k=function(t){var e,n,o,s,l,c=u(t.field,t.dataItem),p=null,h=Object(i.g)("k-grid-edit-cell",((e={})["k-state-selected"]=t.isSelected,e),t.className),d=r.useMemo((function(){return Object(i.r)()}),[]),f=Object(a.useTableKeyboardNavigation)(t.id),m=r.useCallback((function(e){if(t.onChange){var n="checkbox"===e.target.type?e.target.checked:e.target.value;t.onChange({dataItem:t.dataItem,dataIndex:t.dataIndex,field:t.field,syntheticEvent:e,value:n})}}),[t.onChange,t.dataItem,t.dataIndex,t.field]),v=r.useCallback((function(e){t.onChange&&t.onChange({dataItem:t.dataItem,dataIndex:t.dataIndex,field:t.field,syntheticEvent:e.syntheticEvent,value:e.value})}),[t.onChange,t.dataItem,t.dataIndex,t.field]);switch(t.editor){case"numeric":p=r.createElement("td",w({colSpan:t.colSpan,style:t.style,className:h,"aria-colindex":t.ariaColumnIndex,"aria-selected":t.isSelected},((n={})[x]=t.columnIndex,n),{role:"gridcell"},f),r.createElement(g.NumericTextBox,{width:"100%",value:void 0===c?null:c,onChange:v}));break;case"date":p=r.createElement("td",w({colSpan:t.colSpan,style:t.style,className:h,"aria-colindex":t.ariaColumnIndex,"aria-selected":t.isSelected},((o={})[x]=t.columnIndex,o),{role:"gridcell"},f),r.createElement(y.DatePicker,{width:"100%",value:c,onChange:v}));break;case"boolean":p=r.createElement("td",w({colSpan:t.colSpan,style:t.style,className:h,"aria-colindex":t.ariaColumnIndex,"aria-selected":t.isSelected},((s={})[x]=t.columnIndex,s),{role:"gridcell"},f),r.createElement("input",{checked:c||!1,id:d,type:"checkbox",className:"k-checkbox",onChange:m}),r.createElement("label",{className:"k-checkbox-label",htmlFor:d}));break;default:p=r.createElement("td",w({colSpan:t.colSpan,style:t.style,className:h,"aria-colindex":t.ariaColumnIndex,"aria-selected":t.isSelected},((l={})[x]=t.columnIndex,l),{role:"gridcell"},f),r.createElement("input",{style:{width:"100%"},className:"k-textbox",value:c||"",onChange:m}))}return t.render?t.render.call(void 0,p,t):p},O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(){return(C=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.element=null,e.headerWrap=null,e.table=null,e.syncScroll=!1,e.scrollbarWidth=Object(i.o)(),e.onScroll=function(t){if(e.syncScroll)e.syncScroll=!1;else if(e.headerWrap){var n=e.headerWrap.scrollLeft,r=e.props.scrollableDataElement();r&&r.scrollLeft!==n&&(r.scrollLeft=n)}},e}return O(e,t),e.prototype.componentDidMount=function(){var t=Object(a.isRtl)(this.element);this.props.columnResize&&this.props.columnResize.setIsRtl(t),this.forceUpdate()},e.prototype.setScrollLeft=function(t){this.headerWrap&&this.headerWrap.scrollLeft!==t&&(this.syncScroll=!0,this.headerWrap.scrollLeft=t)},e.prototype.setWidth=function(t){this.table&&(this.table.style.width=t+"px")},e.prototype.render=function(){var t=this;return this.props.staticHeaders?r.createElement("div",{ref:function(e){t.element=e},className:Object(i.g)("k-grid-header",{"k-grid-draggable-header":this.props.draggable}),role:"presentation"},r.createElement("div",{ref:function(e){t.headerWrap=e},className:"k-grid-header-wrap",style:this.scrollbarWidth?{}:{borderWidth:0},onScroll:this.onScroll,role:"presentation"},r.createElement("table",{ref:function(e){t.table=e},role:"presentation"},r.createElement("colgroup",{ref:function(e){t.props.columnResize.colGroupHeader=e},role:"presentation"},this.props.cols),r.createElement("thead",C({role:"presentation"},a.tableKeyboardNavigationHeaderAttributes),this.props.headerRow,this.props.filterRow)))):r.createElement("thead",{className:Object(i.g)("k-grid-header",{"k-grid-draggable-header":this.props.draggable})},this.props.headerRow,this.props.filterRow)},e}(r.Component),S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign.apply(Object,[{allowUnsort:!0,mode:"single"}].concat(t))},E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onDrag=function(t){e.isDragged=!0;var n=e.draggable&&e.draggable.element;n&&e.props.resize(t.event,n,!1)},e.onRelease=function(t){if(e.isDragged){var n=e.draggable&&e.draggable.element;n&&e.props.resize(t.event,n,!0),e.isDragged=!1}},e.onDoubleClick=function(t){if(!e.isDragged){var n=e.draggable&&e.draggable.element;n&&e.props.autofit(t,n)}},e}return E(e,t),e.prototype.render=function(){var t=this;return r.createElement(i.b,{onDrag:this.onDrag,onRelease:this.onRelease,ref:function(e){t.draggable=e}},r.createElement("span",{className:"k-column-resizer",style:{touchAction:"none"},draggable:!1,onDoubleClick:this.onDoubleClick}))},e}(r.Component),T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onPress=function(t){var n=e.draggable&&e.draggable.element;n&&e.props.pressHandler&&e.props.pressHandler(t.event,n)},e.onDrag=function(t){var n=e.draggable&&e.draggable.element;n&&e.props.dragHandler&&e.props.dragHandler(t.event,n)},e.onRelease=function(t){e.draggable&&e.draggable.element&&e.props.releaseHandler&&e.props.releaseHandler(t.event)},e}return T(e,t),e.prototype.render=function(){var t=this;return r.createElement(i.b,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease,ref:function(e){t.draggable=e}},r.createElement("tr",{style:{touchAction:"none"},role:"row","aria-rowindex":this.props.ariaRowIndex},this.props.children))},e}(r.PureComponent),P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(){return(A=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.render=function(){var t=this.props.onClick?{onClick:this.props.onClick}:{},e=r.createElement("span",A({className:"k-link"},t),this.props.title||this.props.field||"",this.props.children);return this.props.render?this.props.render.call(void 0,e,this.props):e},e}(r.Component),M=n(14),R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(){return(N=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},F=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={show:!1},e.blurTimeout=void 0,e.blur=function(){clearTimeout(e.blurTimeout),e.blurTimeout=window.setTimeout((function(){e.closeMenu()}))},e.focus=function(){clearTimeout(e.blurTimeout)},e.anchorClick=function(){e.setState({show:!e.state.show},(function(){return e.state.show&&e._content&&e._content.focus()}))},e.closeMenu=function(){e.setState({show:!1})},e}return R(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.render,o=F(e,["render"]);return r.createElement("div",{style:{display:"inline"}},r.createElement("div",{style:{display:"inline",position:"absolute",cursor:"pointer",right:5},ref:function(e){return t._anchor=e},onClick:this.anchorClick},r.createElement("span",{className:"k-icon k-i-more-vertical"})),r.createElement(M.Popup,{anchor:this._anchor,show:this.state.show},r.createElement("div",{ref:function(e){return t._content=e},className:"k-grid-columnmenu-popup",tabIndex:0,onBlur:this.blur,onFocus:this.focus,style:{outline:"none"}},r.createElement(n,N({},o,{onCloseMenu:this.closeMenu})))))},e}(r.Component),z=n(5),B="grid.filterClearButton",V="grid.filterTitle",H=((p={})["grid.noRecords"]="No records available",p["grid.groupPanelEmpty"]="Drag a column header and drop it here to group by that column",p[B]="Clear",p["grid.filterSubmitButton"]="Filter",p[V]="Filter",p["grid.sortAscending"]="Sort Ascending",p["grid.sortDescending"]="Sort Descending",p["grid.groupColumn"]="Group Column",p["grid.ungroupColumn"]="Ungroup Column",p["grid.pagerItemsPerPage"]="items per page",p["grid.pagerInfo"]="{0} - {1} of {2} items",p["grid.pagerFirstPage"]="Go to the first page",p["grid.pagerPreviousPage"]="Go to the previous page",p["grid.pagerNextPage"]="Go to the next page",p["grid.pagerLastPage"]="Go to the last page",p["grid.pagerPage"]="Page",p["grid.pagerOf"]="of",p["grid.pagerTotalPages"]="{0}",p["grid.searchPlaceholder"]="Search",p["grid.filterCheckAll"]="Check All",p["grid.filterChooseOperator"]="Choose Operator",p["grid.filterSelectedItems"]="selected items",p["grid.sortAriaLabel"]="Sortable",p["grid.filterAriaLabel"]="Filter",p["grid.filterEqOperator"]="Is equal to",p["grid.filterNotEqOperator"]="Is not equal to",p["grid.filterIsNullOperator"]="Is null",p["grid.filterIsNotNullOperator"]="Is not null",p["grid.filterIsEmptyOperator"]="Is empty",p["grid.filterIsNotEmptyOperator"]="Is not empty",p["grid.filterStartsWithOperator"]="Starts with",p["grid.filterContainsOperator"]="Contains",p["grid.filterNotContainsOperator"]="Does not contain",p["grid.filterEndsWithOperator"]="Ends with",p["grid.filterGteOperator"]="Is greater than or equal to",p["grid.filterGtOperator"]="Is greater than",p["grid.filterLteOperator"]="Is less than or equal to",p["grid.filterLtOperator"]="Is less than",p["grid.filterIsTrue"]="Is true",p["grid.filterIsFalse"]="Is false",p["grid.filterBooleanAll"]="(All)",p["grid.filterAfterOrEqualOperator"]="Is after or equal to",p["grid.filterAfterOperator"]="Is after",p["grid.filterBeforeOperator"]="Is before",p["grid.filterBeforeOrEqualOperator"]="Is before or equal to",p["grid.filterAndLogic"]="And",p["grid.filterOrLogic"]="Or",p);function U(t){var e=t.replace(/^pager\.([a-z])/,(function(t,e){return"grid.pager"+e.toUpperCase()}));return{messageKey:e,defaultMessage:H[e]}}var W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(){return(q=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},K={true:{asc:"desc",desc:"","":"asc"},false:{asc:"desc",desc:"asc","":"asc"}},G={none:"none",asc:"ascending",desc:"descending"},Y=function(t){function e(e){var n=t.call(this,e)||this;return n.serviceIndex=0,n.index=-1,n.cellKeyDown=function(t,e){t.isDefaultPrevented()||t.keyCode===i.d.enter&&n.cellClick(t,e)},n.cells=function(t){return t.map((function(t){var e=n.props.columns[t],o=n.props.sortable&&e.sortable,i=n.props.sort?n.props.sort.findIndex((function(t){return t.field===e.field})):-1,s=i>=0&&n.props.sort[i].dir||"none",l={field:e.field,onClick:o&&function(t){return n.cellClick(t,e)}||void 0,selectionChange:n.props.selectionChange,title:e.title,selectionValue:e.headerSelectionValue,render:n.props.cellRender,children:n.sortIcon(i,o),key:1},c=(e.kFirst?"k-first ":"")+n.cellClass(e.field,e.headerClassName,e.locked),u=null===e.columnMenu?null:e.columnMenu||n.props.columnMenu,p=void 0!==e.left?n.props.isRtl?{left:e.right,right:e.left}:{left:e.left,right:e.right}:{},h=e.isAccessible?{ariaSort:G[s],role:"columnheader",ariaColumnIndex:e.ariaColumnIndex,ariaSelected:!1}:{role:"presentation"},d=e.declarationIndex>=0?++n.index:--n.serviceIndex;return r.createElement(a.HeaderThElement,q({},h,{key:d,colSpan:e.colSpan,rowSpan:e.rowSpan,className:c,style:p,columnId:e.id,navigatable:e.navigatable,onKeyDown:o&&function(t){return n.cellKeyDown(t,e)}||void 0}),[u&&r.createElement(L,{key:0,column:{field:e.field,filter:e.filter},sortable:o&&n.props.sortable,sort:n.props.sort,onSortChange:n.props.sortChange,filter:n.props.filter,filterable:n.props.filterable&&e.filterable,filterOperators:n.props.filterOperators,onFilterChange:n.props.filterChange,group:n.props.group,groupable:n.props.groupable,onGroupChange:n.props.groupChange,render:u}),e.headerCell&&r.createElement(e.headerCell,q({},l))||r.createElement(j,q({},l)),n.props.columnResize&&n.props.columnResize.resizable&&e.resizable&&r.createElement(I,{key:2,resize:function(t,r,o){return n.props.columnResize&&n.props.columnResize.dragHandler(t,e,r,o)},autofit:function(t){return n.props.columnResize&&n.props.columnResize.dblClickHandler(t,[e.id])}})])}))},n.cellClick=n.cellClick.bind(n),n}return W(e,t),e.prototype.cellClick=function(t,e){if(t.preventDefault(),this.props.sortChange){var n=S(this.props.sortable||!1,e.sortable||!1),r=n.allowUnsort,o=n.mode,i=(this.props.sort||[]).filter((function(t){return t.field===e.field}))[0],a=K[r][i&&i.dir||""],s="single"===o?[]:(this.props.sort||[]).filter((function(t){return t.field!==e.field}));""!==a&&e.field&&s.push({field:e.field,dir:a}),this.props.sortChange(s,t)}},e.prototype.cellClass=function(t,e,n){var r="k-header "+(n?"k-grid-header-sticky":"")+(e?" "+e:"");return this.props.sort&&this.props.sort.filter((function(e){return e.field===t})).length>0&&(r+=" k-sorted"),r},e.prototype.sortIcon=function(t,e){if(!this.props.sort)return null;var n=Object(z.provideLocalizationService)(this).toLanguageString("grid.sortAriaLabel",H["grid.sortAriaLabel"]);return t>=0?[r.createElement("span",{key:1,"aria-label":n,className:"k-icon k-i-sort-"+this.props.sort[t].dir+"-sm"}),this.props.sort.length>1&&r.createElement("span",{key:2,className:"k-sort-order"},t+1)]:e&&r.createElement("span",{"aria-label":n})},e.prototype.render=function(){var t=this;return this.serviceIndex=0,this.index=-1,this.props.columnsMap.map((function(e,n){return t.props.pressHandler&&r.createElement(D,{key:n,pressHandler:t.props.pressHandler,dragHandler:t.props.dragHandler,releaseHandler:t.props.releaseHandler,ariaRowIndex:n+1},t.cells(e))||r.createElement("tr",{role:"row","aria-rowindex":n+1},t.cells(e))}))},e}(r.Component);Object(z.registerForLocalization)(Y);var X=n(10),$=[{text:"grid.filterAndLogic",operator:"and"},{text:"grid.filterOrLogic",operator:"or"}],Z={text:[{text:"grid.filterContainsOperator",operator:"contains"},{text:"grid.filterNotContainsOperator",operator:"doesnotcontain"},{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterStartsWithOperator",operator:"startswith"},{text:"grid.filterEndsWithOperator",operator:"endswith"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"},{text:"grid.filterIsEmptyOperator",operator:"isempty"},{text:"grid.filterIsNotEmptyOperator",operator:"isnotempty"}],numeric:[{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterGteOperator",operator:"gte"},{text:"grid.filterGtOperator",operator:"gt"},{text:"grid.filterLteOperator",operator:"lte"},{text:"grid.filterLtOperator",operator:"lt"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"}],date:[{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterAfterOrEqualOperator",operator:"gte"},{text:"grid.filterAfterOperator",operator:"gt"},{text:"grid.filterBeforeOperator",operator:"lt"},{text:"grid.filterBeforeOrEqualOperator",operator:"lte"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"}],boolean:[{text:"grid.filterEqOperator",operator:"eq"}]},J=function(t){return"isnull"===t||"isnotnull"===t||"isempty"===t||"isnotempty"===t},Q=function(t,e){return t.map((function(t){return{text:e.toLanguageString(t.text,H[t.text]),operator:t.operator}}))},tt=[{text:"grid.filterBooleanAll",operator:""},{text:"grid.filterIsTrue",operator:!0},{text:"grid.filterIsFalse",operator:!1}],et={text:!1,numeric:!1,date:!1,boolean:!0},nt=function(t,e,n){var r=rt(n.operators),o=n.operator;switch(n.filterType){case"numeric":case"date":o&&!J(o)||(o=r),null===t&&o===r&&(o="");break;case"text":o&&!J(o)||(o=r),t||o!==r||(o="");break;default:return}n.onChange({value:t,operator:o,syntheticEvent:e})},rt=function(t,e){return e?t[e][0].operator:t[0].operator},ot=function(t){return t||"text"},it=function(t,e){var n=t.target.value;e({value:n.operator,operator:""===n.operator?"":"eq",syntheticEvent:t.syntheticEvent})},at=function(t,e,n){var r=e,o=t.target.value;t.target.state.opened&&(J(o.operator)&&(r=null),null!==e||J(o.operator)||(r=void 0),n({value:r,operator:o.operator,syntheticEvent:t.syntheticEvent}))},st=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(t){function e(e){var n=t.call(this,e)||this;return n.renderOperatorEditor=function(t){if("boolean"!==n.props.filterType){var e=n.props.operators.find((function(t){return t.operator===n.props.operator}))||null;return r.createElement(X.DropDownList,{value:e,onChange:n.operatorChange,className:"k-dropdown-operator",iconClassName:"k-i-filter k-icon",data:n.props.operators,textField:"text",title:t.toLanguageString("grid.filterChooseOperator",H["grid.filterChooseOperator"]),popupSettings:{width:""}})}},n.inputChange=n.inputChange.bind(n),n.clear=n.clear.bind(n),n.operatorChange=n.operatorChange.bind(n),n.boolDropdownChange=n.boolDropdownChange.bind(n),n}return st(e,t),e.prototype.render=function(){var t=Object(z.provideLocalizationService)(this),e=r.createElement("div",{className:"k-filtercell"},r.createElement("div",{className:"k-filtercell-wrapper"},this.filterComponent(this.props.filterType,this.props.value,this.props.booleanValues),r.createElement("div",{className:"k-filtercell-operator"},this.renderOperatorEditor(t),r.createElement("button",{className:null!==this.props.value&&""!==this.props.value||this.props.operator?"k-button k-button-icon k-clear-button-visible":"k-button k-button-icon",title:t.toLanguageString(B,H[B]),type:"button",onClick:this.clear},r.createElement("span",{className:"k-icon k-i-filter-clear"})))));return this.props.render?this.props.render.call(void 0,e,this.props):e},e.prototype.inputChange=function(t,e){nt(t,e,this.props)},e.prototype.operatorChange=function(t){at(t,this.props.value,this.props.onChange)},e.prototype.boolDropdownChange=function(t){it(t,this.props.onChange)},e.prototype.clear=function(t){t.preventDefault(),this.props.onChange({value:"",operator:"",syntheticEvent:t})},e.prototype.filterComponent=function(t,e,n){var o=this;switch(t){case"numeric":return r.createElement(g.NumericTextBox,{value:e,onChange:function(t){o.inputChange(t.value,t.syntheticEvent)},title:this.props.title});case"date":return r.createElement(y.DatePicker,{value:e,onChange:function(t){o.inputChange(t.value,t.syntheticEvent)},title:this.props.title});case"boolean":return r.createElement(X.DropDownList,{onChange:this.boolDropdownChange,value:n.find((function(t){return t.operator===(null==e?"":e)})),data:n,textField:"text",title:this.props.title});default:return r.createElement("input",{className:"k-textbox",value:e||"",onChange:function(t){o.inputChange(t.target.value,t)},title:this.props.title})}},e}(r.Component);Object(z.registerForLocalization)(lt);var ct=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ut=function(){return(ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ct(e,t),e.prototype.headerCellClassName=function(t,e){var n=e?"k-grid-header-sticky":"";return this.props.sort&&this.props.sort.filter((function(e){return e.field===t})).length>0&&(n+=" k-sorted"),n},e.prototype.setFilter=function(t,e,n,r){if(this.props.filterChange){var o=[];if((""!==t&&null!==t||""!==e)&&o.push({field:n,operator:e,value:t}),this.props.filter&&this.props.filter.filters)(this.props.filter.filters||[]).forEach((function(t){var e=t;e&&e.field!==n&&o.push(e)}));var i=this.props.filter&&this.props.filter.logic?this.props.filter.logic:"and";this.props.filterChange(o.length>0?{logic:i,filters:o}:null,r)}},e.prototype.render=function(){var t=this,e=Object(z.provideLocalizationService)(this),n=this.props.filter&&this.props.filter.filters||[],o=0,i=-1,s=this.props.columns.filter((function(t){return 0===t.children.length})).map((function(s){var l=ot(s.filter),c=function(t){if(void 0!==t){var e=n.filter((function(e){return e.field===t}));return e.length?e[0]:void 0}}(s.field),u=s.filterable&&{render:t.props.cellRender,field:s.field,title:s.filterTitle,value:c?c.value:"text"===l?"":null,operator:c&&c.operator,operators:Q(t.props.filterOperators[l]||[],e),booleanValues:Q(tt,e),filterType:l,onChange:function(e){t.setFilter(e.value,e.operator,s.field,e.syntheticEvent)}},p=s.declarationIndex>=0?++i:--o,h={ariaLabel:s.filterable?e.toLanguageString("grid.filterAriaLabel",H["grid.filterAriaLabel"]):void 0,ariaColumnIndex:s.ariaColumnIndex},d=void 0!==s.left?t.props.isRtl?{left:s.right,right:s.left}:{left:s.left,right:s.right}:{};return r.createElement(a.HeaderThElement,ut({key:p,columnId:a.tableKeyboardNavigationTools.getFilterColumnId(s.id),navigatable:s.navigatable,style:d,className:t.headerCellClassName(s.field,s.locked)||void 0},h),u&&(s.filterCell?r.createElement(s.filterCell,ut({},u)):r.createElement(lt,ut({},u))))}));return r.createElement("tr",{className:"k-filter-row","aria-rowindex":this.props.ariaRowIndex,role:"row"},s)},e}(r.Component);Object(z.registerForLocalization)(pt);var ht=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onPress=function(t){var n=e.draggable&&e.draggable.element;n&&e.props.onPress&&e.props.onPress(t.event,n)},e.onDrag=function(t){var n=e.draggable&&e.draggable.element;n&&e.props.onDrag&&e.props.onDrag(t.event,n)},e.onRelease=function(t){e.draggable&&e.draggable.element&&e.props.onRelease&&e.props.onRelease(t.event)},e.sortChange=function(t){if(t.preventDefault(),e.props.onSortChange){var n="asc"===e.props.dir?"desc":"asc";e.props.onSortChange(t,n)}},e.groupRemove=function(t){t.preventDefault(),e.props.onRemove&&e.props.onRemove(t)},e}return ht(e,t),e.prototype.render=function(){var t=this;return r.createElement(i.b,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease,ref:function(e){t.draggable=e}},r.createElement("div",{className:"k-indicator-container",style:{touchAction:"none"}},r.createElement("div",{className:"k-group-indicator"},r.createElement("a",{className:"k-link",href:"#",tabIndex:-1,onClick:this.sortChange},r.createElement("span",{className:"k-icon k-i-sort-"+this.props.dir+"-sm"}),this.props.title),r.createElement("a",{className:"k-button k-button-icon k-flat",tabIndex:-1,onClick:this.groupRemove},r.createElement("span",{className:"k-icon k-i-group-delete"})))))},e}(r.Component),ft=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onGroupRemove=function(t,n){var r=e.props.group.slice();r.splice(n,1),e.props.groupChange(r,t)},e.onGroupSortChange=function(t,n,r,o){var i=Object.assign({},r,{dir:o}),a=e.props.group.slice();a.splice(n,1,i),e.props.groupChange(a,t)},e}return ft(e,t),e.prototype.render=function(){var t=this,e=(this.props.group||[]).map((function(e,n){return r.createElement(dt,{key:n,dir:e.dir||"asc",title:t.props.resolveTitle(e.field),onRemove:function(e){t.onGroupRemove(e,n)},onSortChange:function(r,o){t.onGroupSortChange(r,n,e,o)},onPress:t.props.pressHandler,onDrag:t.props.dragHandler,onRelease:t.props.releaseHandler})}));return r.createElement("div",{ref:this.props.refCallback,className:"k-grouping-header k-grouping-header-flex"},e,r.createElement("div",{className:"k-indicator-container"},!e.length&&Object(z.provideLocalizationService)(this).toLanguageString("grid.groupPanelEmpty",H["grid.groupPanelEmpty"]),""))},e}(r.Component);Object(z.registerForLocalization)(mt);var vt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.footerWrap=null,e.table=null,e.scrollbarWidth=Object(i.o)(),e}return vt(e,t),e.prototype.componentDidMount=function(){this.setState({})},e.prototype.setScrollLeft=function(t){this.footerWrap&&(this.footerWrap.scrollLeft=t)},e.prototype.setWidth=function(t){this.table&&(this.table.style.width=t+"px")},e.prototype.render=function(){var t=this;return this.props.staticHeaders?r.createElement("div",{className:"k-grid-footer",role:"presentation"},r.createElement("div",{ref:function(e){t.footerWrap=e},className:"k-grid-footer-wrap",style:this.scrollbarWidth?{}:{borderWidth:0},role:"presentation"},r.createElement("table",{ref:function(e){t.table=e},role:"presentation"},r.createElement("colgroup",{ref:function(e){t.props.columnResize.colGroupFooter=e},role:"presentation"},this.props.cols),r.createElement("tfoot",{role:"presentation"},this.props.row)))):r.createElement("tfoot",{className:"k-grid-footer"},this.props.row)},e}(r.Component),yt=function(){function t(t){this.containerHeight=0,this.topCacheCount=0,this.attendedSkip=0,this.propsSkip=0,this.total=0,this.scrollableVirtual=!1,this.realSkip=0,this.pageSize=0,this.heightContainer=null,this.fixedScroll=!1,this.askedSkip=void 0,this.prevScrollPos=0,this.tableTranslate=0,this.scrollSyncing=!1,t&&(this.topCacheCount=4,this.attendedSkip=-this.topCacheCount),this.scrollHandler=this.scrollHandler.bind(this)}return Object.defineProperty(t.prototype,"rowHeights",{get:function(){for(var t=[],e=this.tableBody&&this.tableBody.children||[],n=0,r=0;r<e.length;r++)e[r].className.indexOf("k-grouping-row")>-1?n+=e[r].scrollHeight:e[r].className.indexOf("k-detail-row")>-1?t[t.length-1].line+=e[r].scrollHeight:(t.push({line:e[r].scrollHeight,acc:n}),n=0);return t},enumerable:!0,configurable:!0}),t.prototype.changePage=function(t,e){this.attendedSkip=t-this.topCacheCount,this.PageChange({skip:Math.max(0,t-this.topCacheCount),take:this.pageSize},e)},t.prototype.translate=function(t){this.tableTranslate=t,this.scrollableVirtual&&this.table&&(this.table.style.transform="translateY("+t+"px)")},t.prototype.syncScroll=function(){if(this.scrollableVirtual&&this.container){this.syncTimeout=null;var t=this.container.scrollTop,e=this.containerHeight,n=this.rowHeights,r=(t-this.tableTranslate)/n[0].line,o=Math.floor(e*(this.propsSkip+r)/this.total);this.container.scrollTop!==(this.prevScrollPos=o)&&(this.scrollSyncing=!0,this.container.scrollTop=this.prevScrollPos=o),this.translate(this.tableTranslate+o-t)}},t.prototype.reset=function(){this.scrollSyncing=!0,this.fixedScroll||(this.container&&(this.container.scrollTop=0),this.translate(0))},t.prototype.localScrollUp=function(t){if(this.container){var e=this.rowHeights,n=this.container.scrollTop,r=this.tableTranslate,o=0,i=n-r;if(!(i>0)){for(;o<this.topCacheCount+this.attendedSkip-this.realSkip&&this.propsSkip-o>0&&!(r+(e[e.length-1-o].line+e[e.length-1-o].acc)+i<=n);)r-=e[e.length-1-o].line+e[e.length-1-o].acc,o++;if(0===o&&0===this.topCacheCount&&this.attendedSkip>0&&(r=Math.max(r-e[0].line,0),o=1),this.propsSkip-o<=0&&r>n)return this.translate(0),this.changePage(0,t),void(this.container.scrollTop=0);r>n&&(r=n),r!==this.tableTranslate&&(this.translate(r),this.changePage(this.propsSkip-o,t))}}},t.prototype.localScrollDown=function(t){if(this.container){for(var e=this.rowHeights,n=this.container.scrollTop,r=this.tableTranslate,o=0;o<e.length-this.topCacheCount&&!(r+e[o].line+e[o].acc>n);)r+=e[o].line+e[o].acc,o++;o>=e.length-this.topCacheCount&&this.propsSkip+o>=this.total?(this.translate(r),this.changePage(this.total-1,t)):r!==this.tableTranslate&&(this.translate(r),this.changePage(this.propsSkip+o,t))}},t.prototype.scrollNonStrict=function(t){var e=this.total*this.prevScrollPos/this.containerHeight,n=Math.floor(e);n>=this.total&&(n=this.total-1);var r=Math.min(e-n,1),o=0,i=n-this.propsSkip,a=this.rowHeights;i>=0&&i<=1?o=-(a[0].line+a[0].acc)*r:-1===i&&(o=-(a[a.length-1].line+a[a.length-1].acc)*r),this.translate(o+this.containerHeight*e/this.total),this.changePage(n,t)},t.prototype.scrollHandler=function(t){if(this.scrollableVirtual)if(!this.scrollSyncing&&this.container&&this.table){var e=this;clearTimeout(this.syncTimeout),this.syncTimeout=window.setTimeout((function(){e.syncScroll()}),200);var n=this.container.scrollTop,r=this.prevScrollPos;if(this.prevScrollPos=n,void 0!==this.askedSkip)return this.translate(this.containerHeight*this.askedSkip/this.total),this.changePage(this.askedSkip,t),this.prevScrollPos=n,void(this.askedSkip=void 0);n-r<0&&n>this.tableTranslate-this.table.scrollHeight/10?this.localScrollUp(t):n-r>0&&n<this.tableTranslate+2*this.table.scrollHeight/3?this.localScrollDown(t):this.scrollNonStrict(t),this.prevScrollPos=n}else this.scrollSyncing=!1},t}(),bt=function(){function t(t){var e=this;this.resizable=!1,this.isRtl=!1,this.setIsRtl=function(t){e.isRtl=t},this.dragHandler=function(t,n,r,o){var i=t.originalEvent;o||(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation());var a=r.parentElement;if(a&&a.parentElement){var s=a.clientWidth,l=s;if(e.isRtl?l+=r.getBoundingClientRect().right-r.offsetWidth/2-t.clientX:l+=t.clientX-r.getBoundingClientRect().left-r.offsetWidth/2,o||!(Math.abs(l-s)<1)){e.fixateInitialWidths(a.parentElement.clientWidth),e.setWidths(n,Math.floor(l)/s);var c=e.columns.filter((function(t){return!t.children.length})).findIndex((function(t){return t.id===n.id}));e.onResize(c,s,l,i,o,n.id)}}},this.dblClickHandler=function(t,n){var r=e.columns.filter((function(t){return n.indexOf(t.id)>-1}));if(e.colGroupMain&&r.length){for(var o={},i=r;i.length>0;){var a=i.pop();if(!a)break;a.children.length?i.push.apply(i,a.children):o[a.id]=a}var s=e.columns.filter((function(t){return!t.children.length})),l=[];s.forEach((function(t,e){o[t.id]&&l.push(e)}));var c=[e.colGroupMain.parentElement],u=[e.colGroupMain];e.colGroupHeader&&(c.push(e.colGroupHeader.parentElement),u.push(e.colGroupHeader)),e.colGroupFooter&&(c.push(e.colGroupFooter.parentElement),u.push(e.colGroupFooter)),c.forEach((function(t){return t.classList.add("k-autofitting")}));var p=[];u.forEach((function(t){l.forEach((function(e){t.children[e]&&(t.children[e].width="",p[e]=Math.max(p[e]||0,t.children[e].clientWidth))}))})),u.forEach((function(t){l.forEach((function(e){t.children[e]&&(t.children[e].width=p[e]+"px",s[e].width=p[e])}))})),c.forEach((function(t){return t.classList.remove("k-autofitting")})),e.onResize(l[0],0,0,t,!0,n[0])}},this.updateColElements=function(t){for(var n=e.columns.filter((function(t){return!t.children.length})),r=1e-10,o=function(o){var i=t[o],a=n.findIndex((function(t){return t.id===i.id})),s=parseFloat((i.width||0).toString()),l=Math.floor(s);r+=s-l;var c=l+Math.floor(r);r-=Math.floor(r),e.colGroupMain&&e.colGroupMain.children[a]&&(e.colGroupMain.children[a].width=c+"px"),e.colGroupHeader&&e.colGroupHeader.children[a]&&(e.colGroupHeader.children[a].width=c+"px"),e.colGroupFooter&&e.colGroupFooter.children[a]&&(e.colGroupFooter.children[a].width=c+"px")},i=0;i<t.length;i++)o(i)},this.onResize=t}return t.prototype.fixateInitialWidths=function(t){for(var e=this.columns.filter((function(t){return!t.children.length})),n=0,r=this.colGroupMain?this.colGroupMain.children:[],o=0;o<r.length;o++)r[o].width?t-=parseFloat(r[o].width):n++;if(0!==n){var i=Math.floor(t/n);for(o=0;o<r.length;o++){var a=r[o];a.width||(a.width=i,e[o].width=i.toString(),this.colGroupHeader&&(this.colGroupHeader.children[o].width=i),this.colGroupFooter&&(this.colGroupFooter.children[o].width=i))}}},t.prototype.setWidths=function(t,e){for(var n=this.columns.findIndex((function(e){return e.id===t.id})),r=[],o=t.children.length,i=n+1;o>0&&i<this.columns.length;i++,o--){var a=this.columns[i];a.children.length?o+=a.children.length:r.push(a)}return 0===r.length&&r.push(t),r.forEach((function(t){var n=t.width?parseFloat(t.width.toString())*e:0,r=void 0===t.minResizableWidth?10:t.minResizableWidth;n<r&&(n=r),t.width=n})),this.updateColElements(r),r},t}(),xt=function(){function t(t,e,n){var r=this;this.reorderable=!1,this.groupable=!1,this.startColumn=-1,this.startGroup=-1,this.currentColumn=-1,this.currentGroup=-1,this.dropElementClue=null,this.dragElementClue=null,this.groupPanelDivElement=null,this.refGroupPanelDiv=function(t){r.groupPanelDivElement=t},this.refDropElementClue=function(t){r.dropElementClue=t},this.refDragElementClue=function(t){r.dragElementClue=t},this.pressHandler=function(t,e){var n=r.getColumnIndex(t,e);if(r.startGroup=r.getGroupIndex(t),n>=0){var o=r.columns[n];(o.reorderable&&r.reorderable||o.groupable&&r.groupable)&&(r.startColumn=n)}},this.dragHandler=function(t,e){if(t.isTouch||t.originalEvent.preventDefault(),t.originalEvent.stopPropagation(),-1!==r.startColumn||-1!==r.startGroup){r.currentColumn=r.getColumnIndex(t,e),r.currentGroup=r.getGroupIndex(t),r.groupPanelDivElement&&r.startGroup>=0&&(r.currentGroup=Math.min(r.currentGroup,r.groupPanelDivElement.children.length-2));var n=!r.isValid();n&&(r.currentColumn=-1,r.currentGroup=-1);var o=r.currentColumn>=0?e.children[r.columns[r.currentColumn].index]:r.groupPanelDivElement&&r.groupPanelDivElement.children[r.currentGroup];r.updateDragElementClue(t,e,o,n),r.updateDropElementClue(t,e,o,n)}},this.releaseHandler=function(t){var e=r.startColumn,n=r.currentColumn,o=r.startGroup,i=r.currentGroup;t.originalEvent.preventDefault(),r.dropElementClue&&r.dropElementClue.setState({visible:!1}),r.dragElementClue&&r.dragElementClue.setState({visible:!1});var a=r.isValid();r.startColumn=r.startGroup=r.currentColumn=r.currentGroup=-1,a&&(e>=0&&n>=0?r.columnReorder(e,n,t.originalEvent):o>=0&&i>=0?r.groupReorder(o,i,t.originalEvent):e>=0&&i>=0&&r.columnToGroup(e,i,t.originalEvent))},this.columnReorder=t,this.groupReorder=e,this.columnToGroup=n}return t.prototype.getColumnIndex=function(t,e){if(!e||e.parentElement===this.groupPanelDivElement)return-1;var n=Object(a.getIndex)(t,e);if(-1===n)return-1;for(var r=function(t){if(e.parentNode.children[t]===e)return{value:o.columns.findIndex((function(e){return e.index===n&&e.depth===t}))}},o=this,i=0;i<e.parentNode.children.length;i++){var s=r(i);if("object"==typeof s)return s.value}return-1},t.prototype.getGroupIndex=function(t){return Object(a.getIndex)(t,this.groupPanelDivElement)},t.prototype.isValid=function(){return this.startGroup>=0?this.currentGroup>=0&&this.currentGroup!==this.startGroup:-1!==this.startColumn&&(this.currentGroup>=0?!0===this.columns[this.startColumn].groupable&&!0===this.groupable:!0===this.reorderable&&this.currentColumn>=0&&this.currentColumn!==this.startColumn&&!0===this.columns[this.startColumn].reorderable&&this.columns[this.currentColumn].parentIndex===this.columns[this.startColumn].parentIndex)},t.prototype.updateDragElementClue=function(t,e,n,r){if(this.dragElementClue){var o=this.startColumn>=0?e.children[this.columns[this.startColumn].index].innerText:e.innerText;this.dragElementClue.setState({visible:!0,top:t.pageY+10,left:t.pageX,innerText:o,status:r||!n?"k-i-cancel":"k-i-add"})}},t.prototype.updateDropElementClue=function(t,e,n,r){if(this.dropElementClue)if(!r&&n){var o=n.getBoundingClientRect(),i=o.left+t.pageX-t.clientX-6;(this.currentColumn>this.startColumn||this.currentGroup>this.startGroup&&-1!==this.startGroup)&&(i+=o.width);var a=o.top+t.pageY-t.clientY;this.dropElementClue.setState({visible:!0,top:a,left:i,height:this.currentColumn>=0?e.clientHeight:o.height})}else this.dropElementClue.setState({visible:!1})},t}(),wt=function(){return(wt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},kt=function(t){var e,n=null,o=Object(z.useInternationalization)(),s=Object(a.useTableKeyboardNavigation)(t.id);if("groupFooter"===t.rowType)n=r.createElement("td",{className:t.className});else if(void 0!==t.field&&"groupHeader"!==t.rowType){var l=u(t.field,t.dataItem),c="";null!=l&&(c=t.format?o.format(t.format,l):l.toString());var p=Object(i.g)(t.className,{"k-state-selected":t.isSelected});n=r.createElement("td",wt({colSpan:t.colSpan,style:t.style,className:p,role:"gridcell","aria-colindex":t.ariaColumnIndex,"aria-selected":t.isSelected},((e={})[x]=t.columnIndex,e),s),c)}return t.render?t.render.call(void 0,n,t):n},Ot=function(){return(Ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ct=function(t){var e=null,n=t.columnIndex,o=t.level,s=t.columnsCount,l=t.rowType,c=t.dataItem,u=t.field,p=t.onChange,h=t.expanded,d=t.render,f=t.dataIndex,m=t.ariaColumnIndex,v=u||"",g=Object(a.useTableKeyboardNavigation)(t.id),y=r.useCallback((function(t){t.isDefaultPrevented()||t.keyCode===i.d.enter&&p&&(t.preventDefault(),p({dataItem:c,dataIndex:f,syntheticEvent:t,field:void 0,value:!h}))}),[h,p,c,f]);return void 0===n||void 0===o||n<o||void 0===s||"groupHeader"!==l||void 0===c[v]?e=r.createElement("td",{style:t.style,key:"g"+n,className:"k-group-cell",role:"presentation"}):n<=o&&(e=r.createElement("td",Ot({style:t.style,key:"g-colspan",colSpan:s-n,role:"gridcell","aria-selected":!1,"aria-expanded":h,"aria-colindex":m,onKeyDown:y},g),r.createElement("p",{className:"k-reset"},r.createElement("a",{onClick:function(t){t.preventDefault(),p&&p({dataItem:c,dataIndex:f,syntheticEvent:t,field:void 0,value:!h})},href:"#",tabIndex:-1,className:h?"k-i-collapse k-icon":"k-i-expand k-icon"}),c[v]instanceof Date&&c[v].toString?c[v].toString():c[v]))),d?d.call(void 0,e,t):e},_t=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),St=function(){return(St=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _t(e,t),e.prototype.render=function(){var t,e=Object(i.g)({"k-grouping-row":"groupHeader"===this.props.rowType,"k-group-footer":"groupFooter"===this.props.rowType,"k-master-row":"groupHeader"!==this.props.rowType&&"groupFooter"!==this.props.rowType,"k-alt":"groupHeader"!==this.props.rowType&&"groupFooter"!==this.props.rowType&&this.props.isAltRow,"k-state-selected":this.props.isSelected,"k-grid-edit-row":this.props.isInEdit}),n=r.createElement("tr",St({onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,className:e,style:{height:this.props.rowHeight?this.props.rowHeight+"px":"",visibility:this.props.isHidden?"hidden":""},role:"row","aria-rowindex":this.props.ariaRowIndex},((t={})[b]="data"===this.props.rowType?this.props.dataIndex:void 0,t)),this.props.children);return this.props.render?this.props.render.call(void 0,n,this.props):n},e}(r.Component),It=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._inputId=Object(i.r)(),e}return It(e,t),e.prototype.render=function(){var t=this,e=[r.createElement("input",{key:0,checked:this.props.selectionValue,id:this._inputId,type:"checkbox",className:"k-checkbox",onChange:function(e){return t.props.selectionChange({field:t.props.field,syntheticEvent:e})}}),r.createElement("label",{key:1,className:"k-checkbox-label",htmlFor:this._inputId})];return this.props.render?this.props.render.call(void 0,e,this.props):e},e}(r.Component),Dt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dt(e,t),e.prototype.render=function(){return this.props.children||Object(z.provideLocalizationService)(this).toLanguageString("grid.noRecords",H["grid.noRecords"])},e.displayName="KendoReactGridNoRecords",e}(r.Component);Object(z.registerForLocalization)(Pt);var At=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jt=function(){return(jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Mt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._element=null,e.renderCell=function(t,n){var o={colSpan:1!==t.colSpan?t.colSpan:void 0,style:void 0!==t.left?e.props.isRtl?{left:t.right,right:t.left}:{left:t.left,right:t.right}:{},className:t.locked&&void 0!==t.left?"k-grid-footer-sticky":""},i=jt({field:t.field,ariaColumnIndex:t.ariaColumnIndex},o);return t.footerCell&&r.createElement(t.footerCell,jt({},i,{key:n}))||r.createElement("td",jt({key:n},o,{role:"columnfooter","aria-selected":!1,"aria-colindex":t.ariaColumnIndex}))},e}return At(e,t),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),e.prototype.render=function(){return r.createElement("tr",{role:"row","aria-rowindex":this.props.ariaRowIndex},(t=this.props.columns,t.filter((function(e){return!function(t,e){for(var n=t[e.parentIndex];n;){if(n.footerCell)return!0;n=t[n.parentIndex]}return!1}(t,e)&&(Boolean(e.footerCell)||!(e.children&&e.children.length>0))}))).map(this.renderCell));var t},e}(r.Component),Rt={name:"@progress/kendo-react-grid",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616955,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},Nt=function(){return(Nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ft=function(t){var e=t.colSpan,n=t.ariaColIndex,o=t.dataItem,i=t.dataIndex,s=t.id,l=Object(a.useTableKeyboardNavigation)(s);return r.createElement("td",Nt({className:"k-detail-cell",colSpan:e,"aria-colindex":n,role:"gridcell"},l),r.createElement(t.detail,{dataItem:o,dataIndex:i}))},Lt=function(){return(Lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},zt=function(t){var e=Object(a.useTableKeyboardNavigation)(t.id);return r.createElement("td",Lt({className:"k-hierarchy-cell"},e))},Bt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vt=function(){return(Vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ht=function(t){function e(e){var n=t.call(this,e)||this;n._columns=[],n._columnsMap=[[]],n.contextStateRef={current:void 0},n.navigationStateRef={current:void 0},n.element=null,n.tableElement=null,n._header=null,n._footer=null,n.forceUpdateTimeout=void 0,n.isRtl=!1,n._gridId=Object(i.r)(),n.scrollIntoView=function(t){if(n.vs.container&&"none"!==n.props.scrollable){var e=t.rowIndex;if("virtual"===n.props.scrollable)n.vs.askedSkip=e,n.vs.container.scroll(0,Math.round(n.vs.askedSkip/n.vs.total*n.vs.container.scrollHeight));else if(n.element){var r=e<1?n.element.querySelector("tbody > tr:nth-child(1)"):n.element.querySelector("tbody > tr:nth-child("+e+")");r&&r.scrollIntoView(!0)}}},n.fitColumns=function(t){n.columnResize.dblClickHandler(null,t)},n.scrollHandler=function(t){t.target===t.currentTarget&&(clearTimeout(n.forceUpdateTimeout),n.props.columnVirtualization&&!n.vs.scrollableVirtual&&(n.forceUpdateTimeout=window.setTimeout((function(){n.forceUpdate()}),0)),n._header&&n._header.setScrollLeft(t.currentTarget.scrollLeft),n._footer&&n._footer.setScrollLeft(t.currentTarget.scrollLeft),n.vs&&n.vs.scrollHandler(t),Object(i.k)(n.props.onScroll,t,n,void 0))},n.onKeyDown=function(t){if(a.tableKeyboardNavigation.onKeyDown(t,{contextStateRef:n.contextStateRef,navigationStateRef:n.navigationStateRef,onNavigationAction:n.onNavigationAction}),n.props.onKeyDown){var e=Object(a.getSelectionOptions)(n.props.selectable),r=e.mode,o=e.cell;n.props.onKeyDown.call(void 0,Vt({dataItems:n.getLeafDataItems(),mode:r,cell:o,componentId:n._gridId,selectedField:n.props.selectedField},n.getArguments(t)))}},n.onFocus=function(t){a.tableKeyboardNavigation.onFocus(t,{contextStateRef:n.contextStateRef})},n.onNavigationAction=function(t){n.props.onNavigationAction&&n.props.onNavigationAction.call(void 0,Vt({focusElement:t.focusElement},n.getArguments(t.event)))},n.rowClick=function(t,e){n.props.onRowClick&&"TD"===t.target.nodeName&&n.props.onRowClick.call(void 0,Vt({dataItem:e.dataItem},n.getArguments(t)))},n.rowDblClick=function(t,e){n.props.onRowDoubleClick&&"TD"===t.target.nodeName&&n.props.onRowDoubleClick.call(void 0,Vt({dataItem:e.dataItem},n.getArguments(t)))},n.itemChange=function(t){var e=n.props.onItemChange;if(t.field===n.props.expandField||n.props.group&&void 0===t.field){var r=n.props.onExpandChange;r&&r.call(void 0,Vt({},n.getArguments(t.syntheticEvent),{dataItem:t.dataItem,dataIndex:t.dataIndex,value:t.value}))}else e&&e.call(void 0,Vt({},n.getArguments(t.syntheticEvent),{dataItem:t.dataItem,field:t.field,value:t.value}))},n.onHeaderSelectionChange=function(t){n.props.onHeaderSelectionChange&&n.props.onHeaderSelectionChange.call(void 0,{field:t.field,nativeEvent:t.syntheticEvent&&t.syntheticEvent.nativeEvent,syntheticEvent:t.syntheticEvent,target:n,dataItems:n.getLeafDataItems(),selectedField:n.props.selectedField})},n.selectionRelease=function(t){if(n.props.onSelectionChange){var e=Vt({syntheticEvent:void 0,target:n,selectedField:n.props.selectedField||"",componentId:n._gridId,dataItems:n.getLeafDataItems(),dataItem:null},t);n.props.onSelectionChange.call(void 0,e)}},n.pageChange=function(t,e){n.raiseDataEvent(n.props.onPageChange,{page:t},{skip:t.skip,take:t.take},e)},n.pagerPageChange=function(t){n.pageChange({skip:t.skip,take:t.take},t.syntheticEvent)},n.sortChange=function(t,e){n.raiseDataEvent(n.props.onSortChange,{sort:t},{sort:t},e)},n.filterChange=function(t,e){n.raiseDataEvent(n.props.onFilterChange,{filter:t},{filter:t,skip:0},e)},n.groupChange=function(t,e){var r=e.nativeEvent?e:{nativeEvent:e.nativeEvent||e.originalEvent};n.raiseDataEvent(n.props.onGroupChange,{group:t},{group:t,skip:0},r)},n.onResize=function(t,e,r,o,i,a){n.resetTableWidth(),n.props.onColumnResize&&n.props.onColumnResize.call(void 0,{columns:n.columns,nativeEvent:o,targetColumnId:a,index:t,newWidth:e,oldWidth:r,end:i,target:n})},n.resolveTitle=function(t){var e=n._columns.find((function(e){return e.field===t})),r=e&&(e.title||e.field);return void 0===r?t:r},n.getLeafDataItems=function(){return n._data.filter((function(t){return"data"===t.rowType})).map((function(t){return t.dataItem}))},Object(i.D)(Rt);var r=!0===n.props.groupable||"object"==typeof n.props.groupable&&!1!==n.props.groupable.enabled;return n.vs=new yt(r||void 0===e.rowHeight||0===e.rowHeight),n.dragLogic=new xt(n.columnReorder.bind(n),n.groupReorder.bind(n),n.columnToGroup.bind(n)),n.columnResize=new bt(n.onResize),a.tableKeyboardNavigation.onConstructor({navigatable:Boolean(e.navigatable),contextStateRef:n.contextStateRef,navigationStateRef:n.navigationStateRef,idPrefix:n._gridId}),n}return Bt(e,t),Object.defineProperty(e.prototype,"columns",{get:function(){var t=this._columns.filter((function(t){return t.declarationIndex>=0&&-1===t.parentIndex}));return h(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){if(i.e)return this.element&&this.element.ownerDocument||document},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){Object(i.w)();var t=Object(a.isRtl)(this.element);this.isRtl=t,a.tableKeyboardNavigation.onComponentDidMount({scope:this.element||void 0,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef}),this.isRtl&&this.forceUpdate()},e.prototype.getSnapshotBeforeUpdate=function(){return a.tableKeyboardNavigation.onGetSnapshotBeforeUpdate({document:this.document,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef}),null},e.prototype.componentDidUpdate=function(){Object(i.w)(),a.tableKeyboardNavigation.onComponentDidUpdate({scope:this.element||void 0,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef})},e.prototype.componentWillUnmount=function(){clearTimeout(this.forceUpdateTimeout),this.columnResize.columns=[],this.dragLogic.columns=[],this._columns=[]},e.prototype.render=function(){var t=this,e=this.props.total||0,n=a.tableKeyboardNavigationTools.getIdPrefix(this.navigationStateRef),o=[];Array.isArray(this.props.data)?(o=this.props.data,e=e||this.props.data.length):this.props.data&&(o=this.props.data.data,e=e||this.props.data.total);var s=!0===this.props.groupable||"object"==typeof this.props.groupable&&!1!==this.props.groupable.enabled;this.columnResize.resizable=this.props.resizable||!1,this.dragLogic.reorderable=this.props.reorderable||!1,this.dragLogic.groupable=s;var l=this.props.selectable&&this.props.selectable.drag?"none":void 0;e!==this.vs.total&&(this.vs.reset(),this.vs=new yt(s||void 0===this.props.rowHeight||0===this.props.rowHeight),this.vs.table=this.tableElement),this.vs.fixedScroll=this.props.fixedScroll||!1,this.vs.PageChange=this.pageChange,this.vs.realSkip=this.props.skip||0,this.vs.pageSize=(void 0!==this.props.take?this.props.take:this.props.pageSize)||0,this.vs.scrollableVirtual="virtual"===this.props.scrollable,this.vs.total=e,this.vs.propsSkip=(this.props.skip||0)+("virtual"===this.props.scrollable?this.vs.topCacheCount+(this.vs.attendedSkip-(this.props.skip||0)):0),void 0!==this.props.rowHeight&&this.props.rowHeight>0&&!s?this.vs.containerHeight=Math.min(1533915,this.props.rowHeight*(e||0)):this.vs.containerHeight=1533915;var c="object"==typeof this.props.groupable&&this.props.groupable.footer||"none";this._data=[];var p=function t(e,n,r,o,i,a,s){void 0===s&&(s=0);for(var l=s,c=0;c<n.length;c++)if(i&&void 0!==n[c].value&&void 0!==n[c].items){l=Math.max(l,s+1);var p=void 0===a||void 0===u(a,n[c])||u(a,n[c]);e[e.length]={dataIndex:-1,dataItem:n[c],level:s,rowType:"groupHeader",expanded:p},p&&(l=Math.max(t(e,n[c].items,r,o,i,a,s+1),l)),("always"===r||p&&"visible"===r)&&(e[e.length]={dataIndex:-1,dataItem:n[c],rowType:"groupFooter",level:s,expanded:p})}else e[e.length]={dataIndex:o.index,dataItem:n[c],rowType:"data",level:s,expanded:void 0===a||u(a,n[c])},o.index++;return l}(this._data,o,c,{index:this.props.skip||0},void 0!==this.props.group,this.props.expandField),h=r.Children.toArray(this.props.children);this.initColumns(h.filter((function(t){return t&&"KendoReactGridColumn"===t.type.displayName})),p);var d=h.filter((function(t){return t&&"KendoReactGridToolbar"===t.type.displayName})),f=h.filter((function(t){return t&&"KendoReactGridNoRecords"===t.type.displayName})),m=this._columns.filter((function(t){return 0===t.children.length})),v=s&&r.createElement(mt,{group:this.props.group||[],groupChange:this.groupChange,pressHandler:this.dragLogic.pressHandler,dragHandler:this.dragLogic.dragHandler,releaseHandler:this.dragLogic.releaseHandler,refCallback:this.dragLogic.refGroupPanelDiv,resolveTitle:this.resolveTitle}),g=r.createElement(_,{columnResize:this.columnResize,staticHeaders:"none"!==this.props.scrollable,scrollableDataElement:function(){return t.vs.container},draggable:this.props.reorderable||s,ref:function(e){t._header=e},headerRow:r.createElement(Y,{sort:this.props.sort,sortable:this.props.sortable,sortChange:this.sortChange,group:this.props.group||[],groupable:s,groupChange:this.groupChange,filter:this.props.filter,filterable:this.props.filterable,filterOperators:this.props.filterOperators||Z,filterChange:this.filterChange,columnMenu:this.props.columnMenu,selectionChange:this.onHeaderSelectionChange,columns:this._columns,columnResize:this.columnResize,pressHandler:this.dragLogic.pressHandler,dragHandler:this.dragLogic.dragHandler,releaseHandler:this.dragLogic.releaseHandler,columnsMap:this._columnsMap,cellRender:this.props.headerCellRender,isRtl:this.isRtl}),filterRow:this.props.filterable&&r.createElement(pt,{columns:this._columns,filter:this.props.filter,filterOperators:this.props.filterOperators||Z,filterChange:this.filterChange,sort:this.props.sort,cellRender:this.props.filterCellRender,isRtl:this.isRtl,ariaRowIndex:this._columnsMap.length+1})||void 0,cols:m.map((function(t,e){return r.createElement("col",{key:e.toString(),width:void 0!==t.width?Math.floor(parseFloat(t.width.toString()))+"px":void 0})}))}),y=this.vs&&this.vs.container&&this.vs.container.scrollLeft||0,b=parseFloat(((this.props.style||{}).width||"").toString()),x=Object(a.tableColumnsVirtualization)({enabled:this.props.columnVirtualization,columns:this._columns,tableViewPortWidth:b,scrollLeft:y}),w=x.colSpans,O=x.hiddenColumns,C=0;if("virtual"===this.props.scrollable)for(var S=0;S<this.vs.topCacheCount+this.vs.attendedSkip-(this.props.skip||0);S++){var E=this._data.shift();if(!E)break;this._data.push(E),C++,"groupHeader"===E.rowType&&S--}var I,T=function(e){return e>=t._data.length-C},D=this.vs.propsSkip||0,P=[],A=this._columnsMap.length+(this.props.filterable?1:0)+1;if(this._data.length){var j=-1,M=0;this._data.forEach((function(e,o){"data"===e.rowType&&(D++,j++);var s=D%2==0,l=t.props.dataItemKey&&Object(i.q)(t.props.dataItemKey)(e.dataItem),c=o+(t.vs.propsSkip||0),p=l||"ai"+c,h=p+"_1",d=function(e,o,i){var s=!1,l=t.props.selectedField?u(t.props.selectedField,e.dataItem):void 0;return{row:t._columns.map((function(c,p){if(O[p])return null;var h=(c.className?c.className+" ":"")+(c.locked?"k-grid-content-sticky":""),d=void 0!==c.left?t.isRtl?{left:c.right,right:c.left}:{left:c.left,right:c.right}:{},f={id:a.tableKeyboardNavigationTools.generateNavigatableId(o+"-"+String(p),n),colSpan:w[p],dataItem:e.dataItem,field:c.field,editor:c.editor,format:c.format,className:h,render:t.props.cellRender,onChange:t.itemChange,selectionChange:t.props.onSelectionChange?function(n){t.selectionChange({event:n,dataItem:e.dataItem,dataIndex:i,columnIndex:p})}:void 0,columnIndex:p,columnsCount:m.length,rowType:e.rowType,level:e.level,expanded:e.expanded,dataIndex:e.dataIndex,style:d,ariaColumnIndex:c.ariaColumnIndex,isSelected:Array.isArray(l)&&l.indexOf(p)>-1},v=!1;if(c.editable&&t.props.editField){var g=u(t.props.editField,e.dataItem);!0!==g&&g!==c.field||(s=!0,v=!0)}return c.cell?r.createElement(c.cell,Vt({key:p},f)):v?r.createElement(k,Vt({key:p},f)):r.createElement(kt,Vt({key:p},f))})),isInEdit:s,isSelected:"boolean"==typeof l&&l}}(e,p,j);if(I=c+A+M,P.push(r.createElement(Et,{key:p,dataItem:e.dataItem,isAltRow:s,isInEdit:d.isInEdit,rowType:e.rowType,isHidden:T(o),onClick:function(n){return t.rowClick(n,e)},onDoubleClick:function(n){return t.rowDblClick(n,e)},selectedField:t.props.selectedField,rowHeight:t.props.rowHeight,render:t.props.rowRender,ariaRowIndex:I,dataIndex:j,isSelected:d.isSelected},d.row)),t.props.detail&&"data"===e.rowType&&e.expanded){var f=m.length-(t.props.expandField?1:0)-(t.props.group?t.props.group.length:0)||1;M++,I=c+A+M,P.push(r.createElement("tr",{key:h,className:s?"k-detail-row k-alt":"k-detail-row",style:{visibility:T(o)?"hidden":""},role:"row","aria-rowindex":I},t.props.group&&t.props.group.map((function(t,n){return r.createElement(Ct,{id:"",dataIndex:e.dataIndex,field:t.field,dataItem:e.dataItem,key:n,style:{},ariaColumnIndex:1+n,isSelected:!1})})),t.props.expandField&&r.createElement(zt,{id:a.tableKeyboardNavigationTools.generateNavigatableId(h+"-dhcell",n)}),r.createElement(Ft,{dataItem:e.dataItem,dataIndex:e.dataIndex,colSpan:f,ariaColIndex:2+(t.props.group?t.props.group.length:0),detail:t.props.detail,id:a.tableKeyboardNavigationTools.generateNavigatableId(h+"-dcell",n)})))}}))}else P.push(r.createElement("tr",{key:"no-records",className:"k-grid-norecords","aria-rowindex":A},r.createElement("td",{colSpan:m.length},f.length?f:r.createElement(Pt,null))));var R=Vt({className:"k-grid-pager",onPageChange:this.pagerPageChange,total:e,skip:this.vs.propsSkip||0,take:(void 0!==this.props.take?this.props.take:this.props.pageSize)||10,messagesMap:U},function(t){return n=(e=!0===t?{}:t).buttonCount,r=void 0===n?10:n,o=e.info,i=void 0===o||o,a=e.type,s=void 0===a?"numeric":a,l=e.pageSizes,c=void 0===l?void 0:l,u=e.previousNext,{buttonCount:r,info:i,pageSizes:!0===c?[5,10,20]:c||void 0,previousNext:void 0===u||u,type:s};var e,n,r,o,i,a,s,l,c,u}(this.props.pageable||{})),N=this.props.pager?r.createElement(this.props.pager,Vt({},R)):r.createElement(a.Pager,Vt({},R)),F=this._columns.some((function(t){return Boolean(t.footerCell)}))?r.createElement(gt,{columnResize:this.columnResize,staticHeaders:"none"!==this.props.scrollable,ref:function(e){return t._footer=e},row:r.createElement(Mt,{columns:this._columns,isRtl:this.isRtl,ariaRowIndex:I+1}),cols:m.map((function(t,e){return r.createElement("col",{key:e.toString(),width:void 0!==t.width?Math.floor(parseFloat(t.width.toString()))+"px":void 0})}))}):null,L=r.createElement("colgroup",{ref:function(e){t.columnResize.colGroupMain=e},role:"presentation"},m.map((function(e,n){return r.createElement("col",{key:n.toString(),className:(o=e.field,t.props.sort&&t.props.sort.filter((function(t){return t.field===o})).length>0?"k-sorted":void 0),width:void 0!==e.width?Math.floor(parseFloat(e.width.toString()))+"px":void 0});var o}))),z=this.dragLogic.reorderable||this.dragLogic.groupable;if("none"===this.props.scrollable)return r.createElement(a.TableKeyboardNavigationContext.Provider,{value:this.contextStateRef.current},r.createElement("div",Vt({style:this.props.style,className:Object(i.g)("k-widget k-grid",this.props.className),"aria-colcount":m.length,"aria-rowcount":e,ref:function(e){t.element=e},onKeyDown:this.onKeyDown,onFocus:this.onFocus},a.tableKeyboardNavigationScopeAttributes),d,v,r.createElement(a.TableSelection,{selectable:this.props.selectable,onRelease:this.selectionRelease,childRef:function(e){t.vs.table=e,t.tableElement=e,t.resetTableWidth()}},r.createElement("table",{style:{userSelect:l}},L,g,r.createElement("tbody",Vt({},a.tableKeyboardNavigationBodyAttributes),P),F)),this.props.pageable&&N,z&&r.createElement(r.Fragment,null,r.createElement(a.DropClue,{ref:this.dragLogic.refDropElementClue}),r.createElement(a.DragClue,{ref:this.dragLogic.refDragElementClue}))));var B=this.props.style||{};return"virtual"===this.props.scrollable&&(B.height||(B=Object.assign({},B,{height:"450px"}))),r.createElement(a.TableKeyboardNavigationContext.Provider,{value:this.contextStateRef.current},r.createElement("div",Vt({style:B,className:Object(i.g)("k-widget k-grid",{"k-grid-virtual":"virtual"===this.props.scrollable},this.props.className),ref:function(e){t.element=e,t.resetTableWidth()},role:"grid","aria-colcount":m.length,"aria-rowcount":e,onKeyDown:this.onKeyDown,onFocus:this.onFocus},a.tableKeyboardNavigationScopeAttributes),d,v,g,r.createElement("div",{className:"k-grid-container",role:"presentation"},r.createElement("div",{ref:function(e){t.vs.container=e},className:"k-grid-content k-virtual-content",onScroll:this.scrollHandler,role:"presentation"},r.createElement("div",{style:{position:"relative"},role:"presentation"},r.createElement(a.TableSelection,{selectable:this.props.selectable,onRelease:this.selectionRelease,childRef:function(e){t.vs.table=e,t.tableElement=e}},r.createElement("table",{className:"k-grid-table",role:"presentation",style:{userSelect:l}},L,r.createElement("tbody",Vt({ref:function(e){t.vs.tableBody=e},role:"presentation"},a.tableKeyboardNavigationBodyAttributes),P)))),r.createElement("div",{className:"k-height-container",role:"presentation"},r.createElement("div",{style:"virtual"===this.props.scrollable?{height:this.vs.containerHeight+"px"}:{}})))),F,this.props.pageable&&N,z&&r.createElement(r.Fragment,null,r.createElement(a.DropClue,{ref:this.dragLogic.refDropElementClue}),r.createElement(a.DragClue,{ref:this.dragLogic.refDragElementClue}))))},e.prototype.selectionChange=function(t){if(this.props.onSelectionChange){var e=t.event,n=t.dataItem,r=t.dataIndex,o=t.columnIndex,i=Object(a.getSelectionOptions)(this.props.selectable),s=i.mode,l=i.cell,c=Vt({},this.getArguments(e.syntheticEvent),{dataItem:n,startColIndex:o,endColIndex:o,startRowIndex:r,endRowIndex:r,dataItems:this.getLeafDataItems(),altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,mode:s,cell:l,isDrag:!1,componentId:this._gridId,selectedField:this.props.selectedField||""});this.props.onSelectionChange.call(void 0,c)}},e.prototype.raiseDataEvent=function(t,e,n,r){var o=this.props.onDataStateChange;t?t.call(void 0,Vt({},this.getArguments(r),e)):o&&o.call(void 0,Vt({},this.getArguments(r),{dataState:Vt({},this.getDataState(),n)}))},e.prototype.columnReorder=function(t,e,n){var r,o=this,i=this._columns[t].depth,a=function(t){do{t++}while(t<o._columns.length&&o._columns[t].depth>i);return t},s=this._columns.splice(t,a(t)-t);(r=this._columns).splice.apply(r,[t<e?a(e-s.length):e,0].concat(s)),this._columns.filter((function(t){return t.declarationIndex>=0})).forEach((function(t,e){return t.orderIndex=e}));var l=this.columns;this.forceUpdate(),this.props.onColumnReorder&&this.props.onColumnReorder.call(void 0,{target:this,columns:l,nativeEvent:n})},e.prototype.groupReorder=function(t,e,n){if(void 0!==this.props.group){var r=this.props.group.slice();r.splice.apply(r,[e,0].concat(r.splice(t,1))),this.groupChange(r,n)}},e.prototype.columnToGroup=function(t,e,n){var r=this._columns[t].field;if(r){var o=(this.props.group||[]).slice();o.splice(e,0,{field:r}),this.groupChange(o,n)}},e.prototype.resetTableWidth=function(){var t=0;if(this.columnResize.colGroupMain){for(var e=this.columnResize.colGroupMain.children,n=0;n<e.length;n++){var r=e[n].width;if(!r)return;t+=parseFloat(r.toString())}t=Math.round(t),this._header&&this._header.setWidth(t),this._footer&&this._footer.setWidth(t),this.vs.table&&(this.vs.table.style.width=t+"px")}},e.prototype.initColumns=function(t,e){var n=this,r=a.tableKeyboardNavigationTools.getIdPrefix(this.navigationStateRef);this._columns=function t(e,n,r,o){void 0===o&&(o=0);var i=[];if(!e)return[];if(e&&void 0===e.length&&(e=[e]),e.forEach((function(e,l){e=e.props?e.props:e;var c=n[l]||null,u=t(e.children,c&&c.children||[],r,o+1);i.push(Object.assign({depth:o},s.defaultProps,u.length?{cell:function(){return null},filterCell:function(){return null}}:{},c?{width:c.width,orderIndex:c.orderIndex}:{},e,{id:e.id?e.id:a.tableKeyboardNavigationTools.generateNavigatableId(""+r.prevId++,r.idPrefix,"column"),declarationIndex:i.length,children:u,rowSpan:0,colSpan:0,isAccessible:!0}))})),i.sort((function(t,e){return t.orderIndex===e.orderIndex?t.declarationIndex-e.declarationIndex:(t.orderIndex||0)-(e.orderIndex||0)})),0===o){var l=[],c=function(t,e){return t.forEach((function(t){t.parentIndex=e,c(t.children,l.push(t)-1)}))};return c(i,-1),l}return i}(t,this.columns,{prevId:0,idPrefix:r}),0===this._columns.length&&(this._columns=function(t,e,n,r){var o=[];Array.isArray(t)?o=t:t&&(o=t.data);var i=[];if(o.length>0){var l=o[0];if(e)for(var c=0;c<e.length;c++)l=l.items&&l.items[0];Object.getOwnPropertyNames(l).forEach((function(t){t!==n&&i.push(Object.assign({id:a.tableKeyboardNavigationTools.generateNavigatableId(""+r.prevId++,r.idPrefix,"column"),declarationIndex:-1,parentIndex:-1,depth:0,colSpan:0,rowSpan:0,index:0,left:0,right:0,rightBorder:!1,children:[],ariaColumnIndex:0,isAccessible:!0},s.defaultProps,{field:t}))}))}return i}(this.props.data,this.props.group,this.props.expandField,{prevId:0,idPrefix:r})),this.props.selectedField&&this._columns.filter((function(t){return t.field===n.props.selectedField})).forEach((function(t){t.width=t.width||"50px",t.cell=t.cell||f,t.headerCell=t.headerCell||Tt}));var o={id:"",resizable:!0,width:"32px",title:" ",declarationIndex:-1,orderIndex:-1,children:[],parentIndex:-1,depth:0,colSpan:0,rowSpan:0,left:0,right:0,index:0,rightBorder:!1,ariaColumnIndex:0,isAccessible:!0},i=0;this.props.expandField&&this.props.onExpandChange&&this.props.detail&&(this._columns.unshift(Vt({},o,{cell:v,field:this.props.expandField,headerClassName:"k-hierarchy-cell k-header",id:a.tableKeyboardNavigationTools.generateNavigatableId(""+this._columns.length,r,"column")})),i++);for(var l=0;l<e;l++)this._columns.unshift(Vt({},o,{isAccessible:!1,cell:Ct,field:"value"})),i++;this._columns.slice(i).forEach((function(t){return t.parentIndex>=0&&(t.parentIndex+=i)})),this._columnsMap=Object(a.mapColumns)(this._columns),this.columnResize.columns=this._columns,this.dragLogic.columns=this._columns},e.prototype.getDataState=function(){return{filter:this.props.filter,sort:this.props.sort,skip:this.props.skip,take:void 0!==this.props.take?this.props.take:this.props.pageSize,group:this.props.group}},e.prototype.getArguments=function(t){return{nativeEvent:t&&t.nativeEvent,syntheticEvent:t,target:this}},e.displayName="KendoReactGrid",e.defaultProps={},e.propTypes={data:o.oneOfType([o.array,o.shape({data:o.array,total:o.number})]),sortable:o.oneOfType([o.bool,o.shape({mode:o.oneOf(["single","multiple"]),allowUnsort:o.bool})]),onSortChange:o.func,sort:o.array,filterable:o.bool,filter:o.any,onFilterChange:o.func,pageable:o.oneOfType([o.bool,o.shape({buttonCount:o.number,info:o.bool,type:o.oneOf(["numeric","input"]),pageSizes:o.oneOfType([o.bool,o.arrayOf(o.number)]),previousNext:o.bool})]),pageSize:o.number,onPageChange:o.func,total:o.number,skip:o.number,take:o.number,fixedScroll:o.bool,onExpandChange:o.func,expandField:o.string,selectedField:o.string,onSelectionChange:o.func,onHeaderSelectionChange:o.func,resizable:o.bool,reorderable:o.bool,group:o.any,groupable:o.oneOfType([o.bool,o.shape({enabled:o.bool,footer:o.oneOf(["always","visible","none"])})]),onGroupChange:o.func,onRowClick:o.func,onRowDoubleClick:o.func,onItemChange:o.func,editField:o.string,scrollable:o.oneOf(["none","scrollable","virtual"]),rowHeight:o.number,detail:o.any,style:o.object,onDataStateChange:o.func,onColumnResize:o.func,onColumnReorder:o.func,dataItemKey:o.string,navigatable:o.bool},e.contextType=a.TableKeyboardNavigationContext,e}(r.Component),Ut=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ut(e,t),e.prototype.render=function(){var t=this.props.children;return r.createElement("div",{className:"k-columnmenu-item-wrapper"},t)},e}(r.Component),qt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClick=function(t){e.props.onClick&&e.props.onClick(t)},e}return qt(e,t),e.prototype.render=function(){var t=this.props,e=t.title,n=t.iconClass,o=t.selected;return r.createElement("div",{onClick:this.onClick,className:"k-columnmenu-item "+(o?"k-state-selected":"")},n&&r.createElement("span",{className:"k-icon "+n}),e)},e}(r.Component),Gt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onGroupClick=function(t){if(t.preventDefault(),e.props.onGroupChange){var n=e.props.column;if(!n.field)return;var r=(e.props.group||[]).slice(),o=r.findIndex((function(t){return t.field===n.field}));o>-1?r.splice(o,1):r.push({field:n.field}),e.props.onGroupChange(r,t)}e.props.onCloseMenu&&e.props.onCloseMenu()},e}return Gt(e,t),e.prototype.render=function(){var t=this.props,e=t.group,n=t.column,o=Object(z.provideLocalizationService)(this),i=Boolean(e&&n.field&&e.find((function(t){return t.field===n.field}))),a=i?"grid.ungroupColumn":"grid.groupColumn",s=i?"k-i-ungroup":"k-i-group";return r.createElement(Wt,null,r.createElement(Kt,{title:o.toLanguageString(a,H[a]),iconClass:s,onClick:this.onGroupClick}))},e}(r.Component);Object(z.registerForIntl)(Yt),Object(z.registerForLocalization)(Yt);var Xt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$t={true:{asc:{asc:"",desc:"desc"},desc:{asc:"asc",desc:""},"":{asc:"asc",desc:"desc"}},false:{asc:{asc:"asc",desc:"desc"},desc:{asc:"asc",desc:"desc"},"":{asc:"asc",desc:"desc"}}},Zt=function(t,e){return e?e.findIndex((function(e){return e.field===t})):-1},Jt=function(t,e){return!!(e&&t>-1&&"asc"===e[t].dir)},Qt=function(t,e){return!!(e&&t>-1&&"desc"===e[t].dir)},te=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onAscClick=function(t){e.onSort(t,"asc"),e.props.onCloseMenu&&e.props.onCloseMenu()},e.onDescClick=function(t){e.onSort(t,"desc"),e.props.onCloseMenu&&e.props.onCloseMenu()},e.onSort=function(t,n){if(t.preventDefault(),e.props.onSortChange){var r=e.props,o=r.column,i=r.sortable,a=r.sort,s=S(i||!1,!1),l=s.allowUnsort,c=s.mode,u=(a||[]).filter((function(t){return t.field===o.field}))[0],p=$t[l][u&&u.dir||""][n],h="single"===c?[]:(e.props.sort||[]).filter((function(t){return t.field!==o.field}));""!==p&&o.field&&h.push({field:o.field,dir:p}),e.props.onSortChange(h,t)}},e}return Xt(e,t),e.prototype.render=function(){var t=this.props,e=t.sort,n=t.column,o=Zt(n.field,e),i=Object(z.provideLocalizationService)(this);return r.createElement(Wt,null,r.createElement(Kt,{title:i.toLanguageString("grid.sortAscending",H["grid.sortAscending"]),iconClass:"k-i-sort-asc-sm",selected:Jt(o,e),onClick:this.onAscClick}),r.createElement(Kt,{title:i.toLanguageString("grid.sortDescending",H["grid.sortDescending"]),iconClass:"k-i-sort-desc-sm",selected:Qt(o,e),onClick:this.onDescClick}))},e.active=function(t,e){var n=Zt(t,e);return Qt(n,e)||Jt(n,e)},e}(r.Component);Object(z.registerForIntl)(te),Object(z.registerForLocalization)(te);var ee=function(t){return null!=t},ne=function(t){return null==t},re=function(t){return Array.isArray(t)},oe=function(t){return"function"==typeof t},ie=function(t){return"string"==typeof t},ae=function(t){return!function(t){return ne(t)||0===t.trim().length}(t)},se=function(t){return!isNaN(t-parseFloat(t))},le=function(t){return t&&t.getTime},ce=function(t){return ee(t.filters)};var ue,pe=function(t,e,n){return function(r){return t(r)?e(r):n(r)}},he=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduceRight((function(t,e){return e(t)}),e)}},de=function(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},fe=function(t){return le(t.value)},me=function(t){t.filters&&(t.filters=t.filters.map((function(t){var e,n=Object.assign({},t);return!ce(t)&&ie(t.operator)&&(n.operator={"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[(e=t.operator).toLowerCase()]||e),ce(t)&&me(n),n})))},ve=function(t){return ee(t)&&(t=function(t){return ce(t)?Object.assign({},t):{filters:re(t)?t:[t],logic:"and"}}(t),me(t)),t},ge=(ue="",{}),ye=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;ge[void 0]=function(t){return t};var be,xe=function(t,e){var n=t+e;if(ge[n])return ge[n];var r=[];return t.replace(ye,(function(t,e,n,o){r.push(ee(e)?e:n||o)})),ge[n]=function(t){for(var n=t,o=0;o<r.length;o++)if(n=n[r[o]],!ee(n)&&e)return n;return n},ge[n]},we=function(t){return function(e){return[t,e]}},ke=function(){return null},Oe=function(t){return function(e){return ee(t(e))}},Ce=function(t){return function(e){return function(t){return ee(t)&&re(t)&&t.length>0}(t(e))}},_e=function(t,e){return pe(t,e,ke)},Se=function(t,e){return function(n){return t(n).map(e).join("~")}},Ee=he.apply(void 0,[['"',""],[":","-"]].map((function(t){var e=t[0],n=t[1];return function(t){return t.replace(new RegExp(e,"g"),n)}}))),Ie=(be=".",function(t){return t.slice(0,t.indexOf(be))}),Te=function(t){var e=t.field,n=t.dir;return e+"-"+(void 0===n?"asc":n)},De=xe("take"),Pe=xe("aggregates"),Ae=xe("skip"),je=xe("group"),Me=xe("sort",!0),Re=Se(Me,Te),Ne=Se(je,Te),Fe=Se(Pe,(function(t){return t.field+"-"+t.aggregate})),Le=he((function(t){return"datetime'"+t+"'"}),Ie,Ee,JSON.stringify,de),ze=he(we("page"),(function(t){var e=t.skip,n=t.take;return Math.floor((e||0)/n)+1})),Be=he(we("pageSize"),De),Ve=he(we("group"),Ne),He=he(we("sort"),Re),Ue=he(we("aggregate"),Fe),We=(_e(Oe(Ae),ze),_e(Oe(De),Be),_e(Ce(je),Ve),_e(Oe(Pe),Ue),he(_e(Ce(Me),He),(function(t){return Object.assign({},t,{sort:(Me(t)||[]).filter((function(t){var e=t.dir;return ae(e)}))})})),function(t){return t.field+"~"+t.operator+"~"+t.value}),qe=(pe(fe,he(We,(function(t){var e=t.field,n=t.value,r=t.ignoreCase,o=t.operator;return{value:Le(n),field:e,ignoreCase:r,operator:o}})),We),function(t,e,n){return e[t]=n,e}),Ke=function(t){return function(e){var n,r=e[t];return ee(r)?r:e[(n=t,n.replace(/(^[A-Z])/g,(function(t,e){return e.toLowerCase()})))]}},Ge=(Ke("Member"),Ke("AggregateMethodName"),Ke("Value"),function(t){return function(e){return Object.keys(e).reduce(t.bind(null,e),{})}}),Ye=Ge((function(t,e,n){return qe(n.toLowerCase(),e,t[n])})),Xe=Ge((function(t,e,n){return qe(n,e,Ye(t[n]))})),$e=function(t,e){return ee(t)?t:e},Ze=he((function(t){var e=t.field,n=t.hasSubgroups,r=t.value,o=t.aggregates,i=t.items;return{aggregates:Xe(o),field:e,items:n?i.map(Ze):i,value:r}}),(function(t){return{aggregates:t.Aggregates||t.aggregates,field:t.Member||t.member||t.field,hasSubgroups:t.HasSubgroups||t.hasSubgroups||!1,items:t.Items||t.items,value:$e(t.Key,$e(t.key,t.value))}})),Je=function(t){return function(e){return function(n,r,o){return e(n,t(r,o))}}},Qe=(Je((function(t){return t})),{or:{concat:function(t,e){return function(n){return t(n)||e(n)}},identity:function(){return!1}},and:{concat:function(t,e){return function(n){return t(n)&&e(n)}},identity:function(){return!0}}}),tn={contains:function(t,e){return(t||"").indexOf(e)>=0},doesnotcontain:function(t,e){return-1===(t||"").indexOf(e)},doesnotendwith:function(t,e){return(t||"").indexOf(e,(t||"").length-(e||"").length)<0},doesnotstartwith:function(t,e){return-1===(t||"").lastIndexOf(e,0)},endswith:function(t,e){return(t||"").indexOf(e,(t||"").length-(e||"").length)>=0},eq:function(t,e){return t===e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e},isempty:function(t){return""===t},isnotempty:function(t){return""!==t},isnotnull:function(t){return ee(t)},isnull:function(t){return ne(t)},lt:function(t,e){return t<e},lte:function(t,e){return t<=e},neq:function(t,e){return t!=e},startswith:function(t,e){return 0===(t||"").lastIndexOf(e,0)}},en=/^\/Date\((.*?)\)\/$/,nn=function(t){var e=t.field,n=t.ignoreCase,r=t.value,o=t.operator;e=ee(e)?e:function(t){return t},n=!ee(n)||n;var i=function(t,e,n){if(!ee(e))return t;var r=t;if(ie(e)){var o=en.exec(e);o?e=new Date(+o[1]):r=function(e){var r=t(e);return"string"==typeof r&&n?r.toLowerCase():se(r)?r+"":r}}return le(e)?function(t){var e=r(t);return le(e)?e.getTime():e}:r}(oe(e)?e:xe(e,!0),r,n);r=function(t,e){if(null!=t&&ie(t)){var n=en.exec(t);if(n)return new Date(+n[1]).getTime();if(e)return t.toLowerCase()}else if(null!=t&&le(t))return t.getTime();return t}(r,n);var a=oe(o)?o:tn[o];return function(t){return a(i(t),r,n)}},rn=function(t){var e=Qe[t.logic];return t.filters.filter(ee).map((function(t){return ce(t)?rn(t):nn(t)})).reduce(e.concat,e.identity)},on=function(t){return t&&0!==t.filters.length?rn(t):function(){return!0}},an=function(t,e){return!ee(e)||ce(e)&&0===e.filters.length?t:t.filter(on(ve(e)))},sn=(Je((function(t){return t})),n(18)),ln=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ln(e,t),e.prototype.render=function(){return r.createElement("div",{className:"k-columnmenu-item-content"},r.createElement(sn.Reveal,{style:{position:"relative",display:"block"}},this.props.show?this.props.children:null))},e}(r.Component),un=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pn=function(t){function e(e){var n=t.call(this,e)||this;return n.renderOperatorEditor=function(){if("boolean"!==n.props.filterType){var t=n.props.operators.find((function(t){return t.operator===n.props.operator}))||null;return r.createElement(X.DropDownList,{value:t,onChange:n.operatorChange,data:n.props.operators,textField:"text"})}},n.inputChange=n.inputChange.bind(n),n.operatorChange=n.operatorChange.bind(n),n.boolDropdownChange=n.boolDropdownChange.bind(n),n}return un(e,t),e.prototype.render=function(){return r.createElement("div",null,this.renderOperatorEditor(),this.filterComponent(this.props.filterType,this.props.value,this.props.booleanValues))},e.prototype.inputChange=function(t,e){nt(t,e,this.props)},e.prototype.operatorChange=function(t){at(t,this.props.value,this.props.onChange)},e.prototype.boolDropdownChange=function(t){it(t,this.props.onChange)},e.prototype.filterComponent=function(t,e,n){var o=this;switch(t){case"numeric":return r.createElement(g.NumericTextBox,{value:e,onChange:function(t){o.inputChange(t.value,t.syntheticEvent)},rangeOnEnter:!1});case"date":return r.createElement(y.DatePicker,{value:e,onChange:function(t){o.inputChange(t.value,t.syntheticEvent)}});case"boolean":return r.createElement(X.DropDownList,{onChange:this.boolDropdownChange,value:n.find((function(t){return t.operator===(null==e?"":e)})),data:n,textField:"text"});default:return r.createElement("input",{className:"k-textbox",value:e||"",onChange:function(t){o.inputChange(t.target.value,t)}})}},e}(r.Component),hn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dn=function(){return(dn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hn(e,t),e.prototype.render=function(){var t=this.props,e=t.firstFilterProps,n=t.hideSecondFilter,o=t.secondFilterProps,i=t.logicData,a=t.logicValue,s=t.onLogicChange;return r.createElement("div",null,r.createElement(pn,dn({},e)),!n&&r.createElement("div",null,r.createElement(X.DropDownList,{data:i,value:a,onChange:s,className:"k-filter-and",textField:"text"}),r.createElement(pn,dn({},o))))},e}(r.Component),mn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vn=function(){return(vn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},gn=function(t){return t||{filters:[],logic:"and"}},yn=function(t,e){return gn(e).filters.filter((function(e){return!!ce(e)&&(e.filters&&e.filters.length&&e.filters.length<=2&&!e.filters.find((function(e){return ce(e)||e.field!==t})))}))[0]||null},bn=function(t){function e(e){var n,r=t.call(this,e)||this;if(r.removeGroup=function(t,e){var n=e.filters.slice(),r=n.findIndex((function(e){return e===t}));return r>-1&&n.splice(r,1),vn({},e,{filters:n})},r.insertGroup=function(t,e){return vn({},e,{filters:[t].concat(e.filters)})},r.isControlled=function(){return void 0!==r.props.expanded},r.onFilterExpand=function(){var t=r.isControlled(),e=!(t?r.props.expanded:r.state.expanded);r.props.onExpandChange&&r.props.onExpandChange(e),t||r.setState({expanded:e})},r.firstFilterChange=function(t){r.filterChange(0,t)},r.secondFilterChange=function(t){r.filterChange(1,t)},r.filterChange=function(t,e){var n=r.state.filterGroup.filters.map((function(n,r){return r===t?vn({},n,{value:e.value,operator:e.operator}):n}));r.setState({filterGroup:vn({},r.state.filterGroup,{filters:n})})},r.logicChange=function(t){r.setState({filterGroup:vn({},r.state.filterGroup,{logic:t.target.value.operator})})},r.clear=function(t){if(t.preventDefault(),r.props.onFilterChange){var e=r.props.column.field,n=gn(r.props.filter),o=yn(e,r.props.filter),i=n.filters.filter((function(t){return t!==o}));i.length?r.props.onFilterChange(vn({},n,{filters:i}),t):r.props.onFilterChange(null,t),r.props.onCloseMenu&&r.props.onCloseMenu()}},r.currentFilterGroup=function(){return vn({},r.state.filterGroup,{filters:r.state.filterGroup.filters.filter((function(t){return void 0!==t.value&&null!==t.value&&""!==t.value||null===t.value&&t.operator}))})},r.submit=function(t){if(t.preventDefault(),r.props.onFilterChange){var e=r.props.column.field,n=gn(r.props.filter),o=yn(e,r.props.filter),i=r.currentFilterGroup(),a=null;if(o&&i.filters.length>0){var s=n.filters.map((function(t){return t===o?i:t}));a=vn({},n,{filters:s})}else if(0===i.filters.length){(s=n.filters.filter((function(t){return t!==o}))).length&&(a=vn({},n,{filters:s}))}else a=vn({},n,{filters:n.filters.concat([i])});r.props.onFilterChange(a,t),r.props.onCloseMenu&&r.props.onCloseMenu()}},e.column&&e.column.field){var o=ot(e.column.filter),i=rt(e.filterOperators,o);1===(n=(n=yn(e.column.field,e.filter))?vn({},n,{filters:n.filters.map((function(t){return vn({},t)}))}):{logic:"and",filters:[{field:e.column.field,operator:i,value:J(i)?null:void 0},{field:e.column.field,operator:i,value:J(i)?null:void 0}]}).filters.filter((function(t){return t.field===e.column.field})).length&&n.filters.splice(1,0,{field:e.column.field,operator:i})}return r.state={expanded:e.expanded||!1,filterGroup:n},r}return mn(e,t),e.prototype.render=function(){var t=this.props,e=t.column,n=t.filterUI,o=t.hideSecondFilter,i=t.filterOperators;if(!e||!e.field)return r.createElement("div",null);var a=ot(e.filter),s=void 0!==o?o:et[a],l=Object(z.provideLocalizationService)(this),c=this.state.filterGroup.filters,u=Q(i[a],l),p=Q(tt,l),h={field:e.field,value:c[0].value,operator:c[0].operator,operators:u,booleanValues:p,onChange:this.firstFilterChange,filterType:a},d={field:e.field,value:c[1].value,operator:c[1].operator,operators:u,booleanValues:p,onChange:this.secondFilterChange,filterType:a},f=this.state.filterGroup.logic,m=Q($,l),v={value:m.find((function(t){return t.operator===(null===f?"":f)})),onChange:this.logicChange,data:m},g=n,y={firstFilterProps:h,secondFilterProps:d,logicData:v.data,logicValue:v.value,onLogicChange:v.onChange,hideSecondFilter:s},b=0!==this.currentFilterGroup().filters.length||J(c[0].operator)||J(c[1].operator),x=this.isControlled()?this.props.expanded:this.state.expanded;return r.createElement(Wt,null,r.createElement(Kt,{title:l.toLanguageString(V,H[V]),iconClass:"k-i-filter",onClick:this.onFilterExpand}),r.createElement(cn,{show:!!x},r.createElement("div",{className:"kendo-grid-filter-menu-container"},r.createElement("form",{className:"k-filter-menu k-group k-reset k-state-border-up",onSubmit:this.submit,onReset:this.clear},r.createElement("div",{className:"k-filter-menu-container"},g?r.createElement(g,vn({},y)):r.createElement(fn,vn({},y)),r.createElement("div",{className:"k-actions k-hstack k-justify-content-stretch"},r.createElement("button",{className:"k-button",type:"reset"},l.toLanguageString(B,H[B])),r.createElement("button",{className:"k-button k-primary",disabled:!b},l.toLanguageString("grid.filterSubmitButton",H["grid.filterSubmitButton"]))))))))},e.active=function(t,e){return!!yn(t,e)},e}(r.Component);Object(z.registerForLocalization)(bn);var xn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wn=function(){return(wn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},kn=function(t){function e(e){var n=t.call(this,e)||this;return n.defaultFilter=function(){return n.props.filter?Object(i.h)(n.props.filter):{filters:[],logic:"and"}},n.isControlled=function(){return void 0!==n.props.expanded},n.parseData=function(t,e){var r=n.props.column.field||"",o=t.map((function(t){return u(r,t)}));return e?o.filter((function(t,e){return o.indexOf(t)===e})):o},n.getFilterIndex=function(){var t=n.props.column.field;return n.defaultFilter().filters.findIndex((function(e){return e.filters&&e.filters.length>0&&e.filters[0].field===t}))},n.onFilterExpand=function(){var t=n.isControlled(),e=!(t?n.props.expanded:n.state.expanded);n.props.onExpandChange&&n.props.onExpandChange(e),t||n.setState({expanded:e})},n.handleSearchChange=function(t){var e=n.props.searchBoxFilterOperator?n.props.searchBoxFilterOperator:"startswith",r={logic:"and",filters:[{field:n.props.column.field,operator:e,value:t.target.value,ignoreCase:!0}]};n.setState({value:t.target.value,data:n.parseData(an(n.props.data||[],r),n.props.uniqueData)})},n.handleClear=function(){var t=n.props.searchBoxFilterOperator?n.props.searchBoxFilterOperator:"startswith",e={logic:"and",filters:[{field:n.props.column.field,operator:t,value:"",ignoreCase:!0}]};n.setState({value:"",data:n.parseData(an(n.props.data||[],e),n.props.uniqueData)})},n.clear=function(t){if(t.preventDefault(),n.props.onFilterChange){var e=n.state.currentFilter||null;null!==e&&e.filters.length>0?(n.compositeFilterIndex>=0&&e.filters.splice(n.compositeFilterIndex,1),n.props.onFilterChange(e,t)):n.props.onFilterChange(null,t),n.props.onCloseMenu&&n.props.onCloseMenu()}},n.submit=function(t){if(t.preventDefault(),n.props.onFilterChange){var e=n.state.currentFilter||null;n.props.onFilterChange(e,t),n.props.onCloseMenu&&n.props.onCloseMenu()}},n.handleCheckBoxChange=function(t,e){var r=n.props.column.field||"",o=wn({},n.state.currentFilter),i=n.state.currentFilter.filters.slice()||[],a=[];if(-1!==n.compositeFilterIndex&&o.filters[n.compositeFilterIndex].filters&&"all"!==e&&(a=o.filters[n.compositeFilterIndex].filters),t.value&&"all"===e)n.state.data.forEach((function(t){a.push({field:r,operator:"eq",value:t})}));else if(t.value)a.push({field:r,operator:"eq",value:e});else if(n.state.currentFilter){var s=a.findIndex((function(t){return t.value===e}));a.splice(s,1)}o.logic="and",-1!==n.compositeFilterIndex?i[n.compositeFilterIndex]={logic:"or",filters:a}:i.push({logic:"or",filters:a}),(!t.value&&"all"===e||0===a.length)&&i.splice(n.compositeFilterIndex,1),o.filters=i,n.setState({currentFilter:o})},n.isAllSelected=function(){var t=!1;if(n.state.currentFilter){var e=n.state.currentFilter.filters.slice();return-1!==n.compositeFilterIndex&&(t=n.state.data.every((function(t){return!(-1===n.compositeFilterIndex||!e[n.compositeFilterIndex].filters)&&e[n.compositeFilterIndex].filters.findIndex((function(e){return e.value===t}))>=0})))}return t},n.compositeFilterIndex=n.getFilterIndex(),n.state={expanded:e.expanded||!1,value:"",data:n.parseData(n.props.data,n.props.uniqueData)||[],dataFromProps:n.parseData(n.props.data,!1)||[],currentFilter:n.defaultFilter()},n}return xn(e,t),e.prototype.componentDidUpdate=function(){var t,e,n=this.props.column.field||"",r=this.props.data.map((function(t){return u(n,t)}));t=r,e=this.state.dataFromProps,t.length===e.length&&t.every((function(t,n){return t===e[n]}))||this.setState({data:r,dataFromProps:r})},e.prototype.render=function(){var t=this,e=this.props.column;if(!e||!e.field)return r.createElement("div",null);var n=Object(z.provideLocalizationService)(this),o=this.isControlled()?this.props.expanded:this.state.expanded,i=[];if(this.state.currentFilter){var a=this.state.currentFilter.filters.slice();this.compositeFilterIndex=a.findIndex((function(t){return!!(t.filters&&t.filters.length>0)&&t.filters[0].field===e.field})),-1!==this.compositeFilterIndex&&a[this.compositeFilterIndex].filters.length>0&&a[this.compositeFilterIndex].filters.forEach((function(e){e.field===t.props.column.field&&i.push(e.value)}))}var s=this.props.searchBox?r.createElement(this.props.searchBox,{value:this.state.value,onChange:this.handleSearchChange}):r.createElement("div",{className:"k-searchbox"},r.createElement("span",{className:"k-input-prefix"},r.createElement("span",{className:"k-icon k-i-search"})),r.createElement("input",{className:"k-input",type:"text",placeholder:n.toLanguageString("grid.searchPlaceholder",H["grid.searchPlaceholder"]),value:this.state.value,onChange:this.handleSearchChange}),r.createElement("span",{className:"k-input-suffix"},r.createElement("button",{type:"button",className:"k-button k-icon-button k-button-clear",onClick:this.handleClear},r.createElement("span",{className:"k-icon k-i-close"})))),l=i.filter((function(t,e){return i.indexOf(t)===e}));return r.createElement(Wt,null,r.createElement(Kt,{title:n.toLanguageString(V,H[V]),iconClass:"k-i-filter",onClick:this.onFilterExpand}),r.createElement(cn,{show:!!o},r.createElement("div",{className:"kendo-grid-filter-menu-container"},r.createElement("form",{className:"k-filter-menu k-group k-reset k-state-border-up",onSubmit:this.submit,onReset:this.clear},r.createElement("div",{className:"k-filter-menu-container"},s,r.createElement("ul",{className:"k-reset k-multicheck-wrap"},r.createElement("li",{className:"k-item k-check-all-wrap"},r.createElement(g.Checkbox,{label:n.toLanguageString("grid.filterCheckAll",H["grid.filterCheckAll"]),onChange:function(e){return t.handleCheckBoxChange(e,"all")},checked:this.isAllSelected()})),this.state.data.map((function(e,n){return r.createElement("li",{className:"k-item",key:n},r.createElement(g.Checkbox,{label:String(e),onChange:function(n){return t.handleCheckBoxChange(n,e)},checked:l.includes(e)}))}))),r.createElement("div",{className:"k-filter-selected-items"},l.length+" "+n.toLanguageString("grid.filterSelectedItems",H["grid.filterSelectedItems"])),r.createElement("div",{className:"k-actions k-hstack k-justify-content-stretch"},r.createElement("button",{className:"k-button k-primary",type:"submit"},n.toLanguageString("grid.filterSubmitButton",H["grid.filterSubmitButton"])),r.createElement("button",{className:"k-button",type:"reset"},n.toLanguageString(B,H[B]))))))))},e.defaultProps={uniqueData:!0},e}(r.Component);Object(z.registerForLocalization)(kn);var On=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return On(e,t),e.prototype.render=function(){return null},e}(r.Component),_n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _n(e,t),e.prototype.render=function(){return r.createElement("div",{className:"k-toolbar k-grid-toolbar"},this.props.children)},e.displayName="KendoReactGridToolbar",e}(r.Component)},function(t,e,n){"use strict";n.r(e),n.d(e,"PivotGrid",(function(){return ut})),n.d(e,"PivotGridColumn",(function(){return et})),n.d(e,"PivotGridRow",(function(){return s})),n.d(e,"PivotGridCell",(function(){return c})),n.d(e,"PivotGridHeaderCell",(function(){return J})),n.d(e,"PivotGridContainer",(function(){return ht})),n.d(e,"PivotGridConfigurator",(function(){return Gt})),n.d(e,"PivotGridConfiguratorEditor",(function(){return Wt})),n.d(e,"PivotGridConfiguratorButton",(function(){return $t})),n.d(e,"PivotGridFieldsEditor",(function(){return Vt})),n.d(e,"PivotGridAxesEditor",(function(){return Lt})),n.d(e,"PivotGridConfiguratorEditorAxesContext",(function(){return Ft})),n.d(e,"PivotGridAxisEditor",(function(){return Mt})),n.d(e,"PivotGridAxisFilterFieldsEditor",(function(){return Pt})),n.d(e,"PivotOLAPService",(function(){return ee})),n.d(e,"usePivotOLAPService",(function(){return te}));var r=n(0),o=n(2),i={name:"@progress/kendo-react-pivotgrid",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631617076,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=r.forwardRef((function(t,e){var n=r.useRef(null),i=r.useRef(null);r.useImperativeHandle(n,(function(){return{element:i.current,props:t}})),r.useImperativeHandle(e,(function(){return n.current}));var s=Object(o.B)(t,n);return r.createElement("tr",a({ref:i},s,{id:t.id,style:t.style,tabIndex:t.tabIndex,children:t.children,className:Object(o.g)("k-pivotgrid-row",t.className)}))}));s.displayName="KendoReactPivotGridRow";var l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},c=r.forwardRef((function(t,e){var n=r.useRef(null),i=r.useRef(null);r.useImperativeHandle(n,(function(){return{element:i.current,props:t}})),r.useImperativeHandle(e,(function(){return n.current}));var a=Object(o.B)(t,n);return r.createElement("td",l({ref:i},a,{"data-key":t["data-key"],id:t.id,style:t.style,tabIndex:t.tabIndex,className:Object(o.g)("k-pivotgrid-cell",{"k-pivotgrid-header-total":t.total},t.className)}),t.children)}));c.displayName="KendoReactPivotGridCell";var u={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}")',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"'},p="doesnotcontain",h="in",d="neq";function f(t){var e="",n=String(t.value),r=t.field,o=t.operator;return o===h?(e+="{",e+=n,e+="}"):(e+=o===d||o===p?"-":"",e+="Filter(",e+=r+".MEMBERS",e+=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach((function(e,n){t=t.replace(new RegExp("\\{"+n+"\\}","g"),e)})),t}(u[o],r,n),e+=")"),e}function m(t,e,n){var r,o="",i=function(t){for(var e,n=[],r=[],o=[],i=0;i<t.length;i++){var a=t[i],s=a.name;if(e=!1,s.length>1)r.push(a);else{for(var l=x(s[0]),c=0,u=o.length;c<u;c++)if(0===o[c].name[0].indexOf(l)){e=!0;break}e||o.push(a),a.expand&&n.push(a)}}return{expanded:n=n.concat(r),root:o}}(t=t||[]),a=i.expanded,s=function(t){var e=[];return t.forEach((function(t){var n=t.name[0],r=x(n);e.some((function(t){return 0===t.indexOf(r)}))||e.push(n)})),e}(i.root),l=[],c=a.length,u=0,p=[];if(s.length>1||e.length>1){for(l.push(y(s,e));u<c;u++)p=g(r=b(a[u].name,n),s),l.push(y(p,e));o+=l.join(",")}else{for(;u<c;u++)r=b(a[u].name,n),p.push(r[0]);o+=s.concat(p).join(",")}return o}function v(t){for(var e,n=t.length,r=[],o=0;o<n;o++)e=t[o],r.push(void 0!==e.name?e.name:e);return r}function g(t,e){var n=e.length;e=e.slice(0);for(var r=0;r<t.length;r++)for(var o=t[r],i=0;i<n;i++){var a=x(e[i]);if(-1!==o.indexOf(a)){e[i]=o;break}}return e}function y(t,e){var n=t.slice(0);return e.length>1&&n.push("{"+v(e).join(",")+"}"),function t(e){var n,r="CROSSJOIN({";e.length>2?(n=e.pop(),r+=t(e)):(r+=e.shift(),n=e.pop());return r+="},{",r+=n,r+="})"}(n)}function b(t,e){var n=t.length-1,r=t[n],o=function(t,e){for(var n=0,r=t.length;n<r;n++)if(0===e.indexOf(t[n].field))return t[n];return null}(e,r);return o&&o.dir?r="ORDER("+r+".Children,"+o.field+".CurrentMember.MEMBER_CAPTION,"+o.dir+")":r+=".Children",t[n]=r,t}function x(t){var e=t.split(".");return e.length>2?e[0]+"."+e[1]:t}function w(t){var e='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>',n=t.columnAxes,r=void 0===n?[]:n,o=t.rowAxes,i=void 0===o?[]:o,a=t.measureAxes,s=void 0===a?[]:a,l=t.sort,c=void 0===l?[]:l,u=t.filter,p=void 0===u?[]:u,h="rows"===t.measuresAxis;return e+="SELECT NON EMPTY {",!r.length&&i.length&&(!s.length||s.length&&h)&&(r=i,i=[],h=!1),r.length||i.length||(h=!1),r.length?e+=m(r,h?[]:s,c):s.length&&!h&&(e+=v(s).join(",")),e+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS",(i.length||h&&s.length>1)&&(e+=", NON EMPTY {",i.length?e+=m(i,h?s:[],c):e+=v(s).join(","),e+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"),p.length?(e+=" FROM ",e+="(",e+=function(t,e){for(var n="",r="",o=t.length-1;o>=0;o--)r="SELECT (",r+=f(t[o]),r+=") ON 0",n=o===t.length-1?r+=" FROM ["+e+"]":r+" FROM ( "+n+" )";return n}(p,t.connection.cube),e+=")"):e+=" FROM ["+t.connection.cube+"]",1===s.length&&r.length&&(e+=" WHERE ("+v(s).join(",")+")"),(e+="</Statement></Command><Properties><PropertyList><Catalog>"+t.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>").replace(/&/g,"&amp;")}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var k=function(){return(k=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function O(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function C(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function _(t){var e=(new DOMParser).parseFromString(t,"text/xml"),n=Array.from(e.querySelectorAll("Axis")),r=Array.from(e.querySelectorAll("CellData > Cell")).map((function(t){return{fmtValue:S(t,"FmtValue"),ordinal:parseInt(t.getAttribute("CellOrdinal"),10),value:S(t,"Value")}})),o={tuples:[]},i={tuples:[]},a=[];n.forEach((function(t){if("SlicerAxis"!==t.getAttribute("name")){var e=0===o.tuples.length?o.tuples:i.tuples;Array.prototype.push.apply(e,function(t){return Array.from(t.querySelectorAll("Tuple")).map((function(t){return{members:Array.from(t.querySelectorAll("Member")).map((function(t){var e=parseInt(S(t,"LNum")||"0",10),n=parseInt(S(t,"CHILDREN_CARDINALITY")||"0",10)>0;return{caption:S(t,"Caption"),children:[],hasChildren:n,hierarchy:t.getAttribute("Hierarchy"),levelName:S(t,"LName"),levelNum:e,name:S(t,"UName"),parentName:S(t,"PARENT_UNIQUE_NAME")}}))}}))}(t))}}));var s=new Array(i.tuples.length*o.tuples.length).fill(null);r.forEach((function(t){s[t.ordinal]=t}));var l=0;return i.tuples.forEach((function(t){o.tuples.forEach((function(e){a.push({columnTuple:e,data:s[l],rowTuple:t}),l++}))})),{columns:o,data:a,rows:i}}function S(t,e){var n=t.querySelector(e);return n?n.textContent:""}var E={schemaCatalogs:"DBSCHEMA_CATALOGS",schemaCubes:"MDSCHEMA_CUBES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaKPIs:"MDSCHEMA_KPIS",schemaLevels:"MDSCHEMA_LEVELS",schemaMeasures:"MDSCHEMA_MEASURES",schemaMembers:"MDSCHEMA_MEMBERS"};function I(t){var e={},n='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';return n+="<RequestType>"+(E[t.command]||t.command)+"</RequestType>",n+="<Restrictions>"+T("RestrictionList",t.restrictions,!0)+"</Restrictions>",t.connection&&t.connection.catalog&&(e.Catalog=t.connection.catalog),n+="<Properties>"+T("PropertyList",e,!1)+"</Properties>",n+="</Discover></Body></Envelope>"}function T(t,e,n){var r="";if(e){r+="<"+t+">";var o=void 0;for(var i in e)e[i]&&(o=e[i],n&&(i=i.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")),r+="<"+i+">"+o+"</"+i+">");r+="</"+t+">"}else r+="<"+t+"/>";return r}var D={schemaCatalogs:function(t){var e=(new DOMParser).parseFromString(t,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map((function(t){return{name:S(t,"CATALOG_NAME"),description:S(t,"DESCRIPTION")}}))},schemaCubes:function(t){var e=(new DOMParser).parseFromString(t,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map((function(t){return{name:S(t,"CUBE_NAME"),caption:S(t,"CUBE_CAPTION"),description:S(t,"DESCRIPTION"),type:S(t,"CUBE_TYPE")}}))},schemaDimensions:function(t){var e=(new DOMParser).parseFromString(t,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map((function(t){return{caption:S(t,"DIMENSION_CAPTION"),defaultHierarchy:S(t,"DEFAULT_HIERARCHY"),description:S(t,"DESCRIPTION"),name:S(t,"DIMENSION_NAME"),type:parseInt(S(t,"DIMENSION_TYPE"),10),uniqueName:S(t,"DIMENSION_UNIQUE_NAME")}}))},schemaHierarchies:function(t){var e=(new DOMParser).parseFromString(t,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map((function(t){return{name:S(t,"HIERARCHY_NAME"),caption:S(t,"HIERARCHY_CAPTION"),description:S(t,"DESCRIPTION"),uniqueName:S(t,"HIERARCHY_UNIQUE_NAME"),dimensionUniqueName:S(t,"DIMENSION_UNIQUE_NAME"),displayFolder:S(t,"HIERARCHY_DISPLAY_FOLDER"),origin:S(t,"HIERARCHY_ORIGIN"),defaultMember:S(t,"DEFAULT_MEMBER")}}))},schemaKPIs:function(t){var e=(new DOMParser).parseFromString(t,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map((function(t){return{name:S(t,"KPI_NAME"),uniqueName:S(t,"KPI_NAME"),caption:S(t,"KPI_CAPTION"),value:S(t,"KPI_VALUE"),goal:S(t,"KPI_GOAL"),status:S(t,"KPI_STATUS"),trend:S(t,"KPI_TREND"),statusGraphic:S(t,"KPI_STATUS_GRAPHIC"),trendGraphic:S(t,"KPI_TREND_GRAPHIC"),description:S(t,"KPI_DESCRIPTION"),groupName:S(t,"MEASUREGROUP_NAME"),type:"kpi"}}))},schemaLevels:function(t){var e=(new DOMParser).parseFromString(t,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map((function(t){return{name:S(t,"LEVEL_NAME"),caption:S(t,"LEVEL_CAPTION"),description:S(t,"DESCRIPTION"),uniqueName:S(t,"LEVEL_UNIQUE_NAME"),dimensionUniqueName:S(t,"DIMENSION_UNIQUE_NAME"),displayFolder:S(t,"LEVEL_DISPLAY_FOLDER"),orderingProperty:S(t,"LEVEL_ORDERING_PROPERTY"),origin:S(t,"LEVEL_ORIGIN"),hierarchyUniqueName:S(t,"HIERARCHY_UNIQUE_NAME")}}))},schemaMeasures:function(t){var e=(new DOMParser).parseFromString(t,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map((function(t){return{name:S(t,"MEASURE_NAME"),caption:S(t,"MEASURE_CAPTION"),uniqueName:S(t,"MEASURE_UNIQUE_NAME"),description:S(t,"DESCRIPTION"),aggregator:S(t,"MEASURE_AGGREGATOR"),groupName:S(t,"MEASUREGROUP_NAME"),displayFolder:S(t,"MEASURE_DISPLAY_FOLDER"),defaultFormat:S(t,"DEFAULT_FORMAT_STRING")}}))},schemaMembers:function(t){var e=(new DOMParser).parseFromString(t,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map((function(t){return{name:S(t,"MEMBER_NAME"),caption:S(t,"MEMBER_CAPTION"),uniqueName:S(t,"MEMBER_UNIQUE_NAME"),dimensionUniqueName:S(t,"DIMENSION_UNIQUE_NAME"),hierarchyUniqueName:S(t,"HIERARCHY_UNIQUE_NAME"),levelUniqueName:S(t,"LEVEL_UNIQUE_NAME"),childrenCardinality:S(t,"CHILDREN_CARDINALITY")}}))}},P=function(t,e){return O(void 0,void 0,void 0,(function(){var n,r;return C(this,(function(o){switch(o.label){case 0:return n=k({body:I(e),headers:{"Content-Type":"text/xml"},method:"POST"},t.init),[4,fetch(t.url,n)];case 1:return[4,o.sent().text()];case 2:return r=o.sent(),[2,D[e.command](r)]}}))}))},A=function(t){return{columns:t.columns.tuples,data:t.data,rows:t.rows.tuples}};var j=function(t,e){return void 0===e&&(e=new Set),(t.children||[]).forEach((function(t){e.add(t.levelName),j(t,e)})),e.size},M=function(t){var e=0;return(t.children||[]).forEach((function(t){e+=M(t)||1})),e},R=function(t,e,n,r,o,i,a,s){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===r&&(r=void 0),void 0===o&&(o=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===s&&(s=void 0);var l=j(t),c=M(t),u=r||l,p=o||c,h=i?i.slice():[],d=a?a.slice():new Array(p),f=h.findIndex((function(e){return e&&e.name===t.levelName&&e.level===t.levelNum})),m=h[f],v={name:t.levelName,level:t.levelNum,index:e,cells:new Array(p).fill(null)},g=-1!==e&&-1!==n,y={caption:t.caption,name:t.name,levelName:t.levelName,levelNum:t.levelNum,hasChildren:t.hasChildren,parentName:t.parentName,hierarchy:t.hierarchy,total:void 0!==t.total&&t.total||s&&s.children.length<=1&&s.total,parent:s,rowIndex:e,colIndex:n,depth:1,breadth:1,path:t.path||[],normalizedPath:t.normalizedPath||[],children:t.children.filter((function(e){return e.hierarchy===t.hierarchy}))};if(g)if(m)m.cells[n]=y,m.index>=e&&(e=m.index);else if(h[e]&&h[e].cells.length){for(var b=e;b<h.length;b++){h[b].index++}h.splice(e,0,v),h[e].cells[n]=y}else h[e]=v,h[e].cells[n]=y;var x=0;return t.children&&t.children.length?t.children.forEach((function(t){var r=R(t,e+1,n+x,u,p,h,d,y),o=r[0],i=r[1],a=r[3];x+=a||1,h=o.slice(),d=i.slice()})):t.normalizedPath&&(d[n]={total:y.total,path:t.normalizedPath}),y.depth=l,y.breadth=c,[h,d,l,c]},N=function(t,e,n){var r;void 0===e&&(e=null),void 0===n&&(n=0);for(var o=k({},t,{total:!0,hasChildren:!1,children:[]}),i=0;i<t.children.length;i++){var a=N(t.children[i],t,i);r=r||a.hierarchy,a.hierarchy===r||!e||e.children.some((function(t){return t.total&&t.name===o.name}))||t.total||(o.children.push(a),t.children.splice(i,1),i--)}if(t.children.filter((function(t){return!t.total})).length>=1&&e&&!e.children.some((function(t){return t.total&&t.name===o.name}))&&!t.total){var s=t.children[0].hierarchy;t.hierarchy===s&&e.children.splice(n+1,0,o)}return t},F=function(t){for(var e={children:[]},n={},r=function(r){for(var o=z(t[r]),i="",a=function(t){var r,a,s,l=o.members[t];if(e.children&&0===e.children.length)r=e;else if(n[i]&&!n[i+l.name]&&0===l.levelNum)r=n[i];else if(n[i+l.parentName]&&l.levelNum>0&&!n[i+l.parentName+l.name])r=n[i+l.parentName];else if(!n[i+l.parentName]&&l.levelNum>0&&!n[i+l.parentName+l.name]){var c=Object.keys(n).find((function(t){return 0===t.indexOf(l.hierarchy)&&t.lastIndexOf(i+l.parentName)+(i+l.parentName).length===t.length}));c&&(r=n[c])}if(r){l.path=(a=l,((s=r)&&s.hierarchy===a.hierarchy?(s.path||[]).slice(0,-1).concat([(0===a.levelNum?a.hierarchy:a.name)||null]):(s&&s.path?s.path:[]).concat([0===a.levelNum?a.hierarchy:a.name])).filter(Boolean)),l.normalizedPath=function(t,e){return(e&&e.hierarchy===t.hierarchy?(e.normalizedPath||[]).slice(0,-1).concat([t.name||null]):(e&&e.normalizedPath?e.normalizedPath:[]).concat([t.name])).filter(Boolean)}(l,r);var u=r.children.findIndex((function(t){return t.hierarchy!==r.hierarchy}));-1!==u?r.children.splice(Math.max(u,0),0,l):r.children.push(l)}i+=l.parentName+=l.name,n[i]||(n[i]=l)},s=0;s<o.members.length;s++)a(s)},o=0;o<t.length;o++)r(o);return z(N(e))},L=function(t){for(var e=R(t),n=e[0],r=e[1],o=e[2],i=e[3],a=0;a<i;a++)for(var s=null,l=0;l<o;l++)if(n[l]){var c=n[l].cells[a];!c&&s&&(s.rowSpan=(s.rowSpan||1)+1),s&&(s.colSpan=s.breadth),c&&(s=c)}return function(t,e,n,r){for(var o=new Array(r),i=0;i<r;i++)for(var a=0;a<n;a++)if(t[a]&&t[a].cells[i]){var s=t[a].cells[i];o[i]||(o[i]={cells:new Array(n).fill(null)}),o[i].cells[a]=k({},s,{rowSpan:s.colSpan,colSpan:s.rowSpan})}return[o,e,r,n]}(n,r,o,i)};function z(t){return JSON.parse(JSON.stringify(t))}var B=function(t,e,n){return{hierarchyUniqueName:t,uniqueName:e,caption:e,measure:e,name:e,type:n,kpi:!0}};function V(t){var e=t.name;return[B(e,t.value,"value"),B(e,t.goal,"goal"),B(e,t.status,"status"),B(e,t.trend,"trend")]}var H,U=function(t,e){return String(t.name)===String([e.defaultHierarchy?e.defaultHierarchy:e.uniqueName])},W=function(t,e){return String(t.name)===String(e.name)};!function(t){t.toggle="HEADERS_ACTION_TOGGLE",t.expand="HEADERS_ACTION_EXPAND",t.collapse="HEADERS_ACTION_COLLAPSE"}(H||(H={}));var q,K=function(t,e,n){var r=new Set;return t.children.forEach((function(t){var o=e(t);n&&r.add(String(t.path)),K(t,e,n||o).map((function(t){r.add(t)}))})),Array.from(r.values())},G=function(t,e){switch(e.type){case H.toggle:var n=t.find((function(t){return String(t.name)===String(e.payload)}));return G(t,k({},e,{type:n&&n.expand?H.collapse:H.expand}));case H.expand:var r=t.find((function(t){return String(t.name)===String(e.payload)}));return r&&!0===r.expand?t:!r||!1!==r.expand&&void 0!==r.expand?t.concat([{name:e.payload,expand:!0}]):t.map((function(t){return t===r?k({},r,{expand:!0}):t}));case H.collapse:var o=K(e.tree,(function(t){return!t.total&&String(t.path)===String(e.payload)}));return t.slice().filter((function(t){return!o.some((function(e){return e===String(t.name)}))})).map((function(t){return k({},t,{expand:Boolean(t.expand)})})).map((function(t){return String(t.name)===String(e.payload)?e.payload.length>1?void 0:{name:e.payload,expand:!1}:t})).filter(Boolean);default:return t}};!function(t){t.toggleSelection="PIVOT_CONFIGURATOR_ACTION_TOGGLE_SELECTION",t.addColumnAxis="PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXIS",t.addColumnAxes="PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXES",t.removeColumnAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXIS",t.removeColumnAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXES",t.addRowAxis="PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXIS",t.addRowAxes="PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXES",t.removeRowAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXIS",t.removeRowAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXES",t.addMeasureAxis="PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXIS",t.addMeasureAxes="PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXES",t.removeMeasureAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXIS",t.removeMeasureAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXES",t.remove="PIVOT_CONFIGURATOR_ACTION_REMOVE",t.setSort="PIVOT_CONFIGURATOR_ACTION_SET_SORT",t.setFilter="PIVOT_CONFIGURATOR_ACTION_SET_FILTER",t.addFilter="PIVOT_CONFIGURATOR_ACTION_ADD_FILTER",t.changeFilter="PIVOT_CONFIGURATOR_ACTION_CHANGE_FILTER",t.removeFilter="PIVOT_CONFIGURATOR_ACTION_REMOVE_FILTER",t.setDragItem="PIVOT_CONFIGURATOR_ACTION_SET_DRAGITEM",t.drop="PIVOT_CONFIGURATOR_ACTION_DROP",t.setDropZone="PIVOT_CONFIGURATOR_ACTION_SET_DROP_ZONE",t.setDropTarget="PIVOT_CONFIGURATOR_ACTION_SET_DROP_TARGET",t.setDropDirection="PIVOT_CONFIGURATOR_ACTION_SET_DROP_DIRECTION"}(q||(q={}));var Y=function(t,e){var n,r,o,i,a,s,l,c,u;switch(e.type){case q.toggleSelection:if(!Array.isArray(e.payload)){var p=e.payload;if(2===p.type||"aggregator"in p)return t.measureAxes.some((function(t){return U(t,p)}))?Y(t,k({},e,{type:q.removeMeasureAxis})):Y(t,k({},e,{type:q.addMeasureAxis}));if("kpi"===p.type){var h=V(p);return h.every((function(e){return t.measureAxes.some((function(t){return U(t,e)}))}))?Y(t,k({},e,{type:q.removeMeasureAxes,payload:h})):Y(t,k({},e,{type:q.addMeasureAxes,payload:h.filter((function(e){return!t.measureAxes.some((function(t){return U(t,e)}))}))}))}return e.payload.kpi?t.measureAxes.some((function(t){return U(t,p)}))?Y(t,k({},e,{type:q.removeMeasureAxis})):Y(t,k({},e,{type:q.addMeasureAxis})):t.columnAxes.some((function(t){return U(t,p)}))?Y(t,k({},e,{type:q.removeColumnAxis})):t.rowAxes.some((function(t){return U(t,p)}))?Y(t,k({},e,{type:q.removeRowAxis})):!t.columnAxes||!t.columnAxes.length||t.rowAxes&&t.rowAxes.length?Y(t,k({},e,{type:q.addColumnAxis})):Y(t,k({},e,{type:q.addRowAxis}))}break;case q.addColumnAxis:r=(t.columnAxes||[]).concat([{name:[e.payload.defaultHierarchy||e.payload.uniqueName]}]);break;case q.addColumnAxes:break;case q.removeColumnAxis:r=(t.columnAxes||[]).filter((function(t){return!U(t,e.payload)})).slice();break;case q.removeColumnAxes:break;case q.addRowAxis:n=(t.rowAxes||[]).concat([{name:[e.payload.defaultHierarchy||e.payload.uniqueName]}]);break;case q.addRowAxes:break;case q.removeRowAxis:n=(t.rowAxes||[]).filter((function(t){return!U(t,e.payload)})).slice();break;case q.removeRowAxes:break;case q.addMeasureAxis:o=(t.measureAxes||[]).concat([{name:[e.payload.defaultHierarchy||e.payload.uniqueName]}]);break;case q.removeMeasureAxis:o=(t.measureAxes||[]).filter((function(t){return!U(t,e.payload)})).slice();break;case q.addMeasureAxes:o=(t.measureAxes||[]).concat((e.payload||[]).map((function(t){return{name:[t.defaultHierarchy||t.uniqueName]}})));break;case q.removeMeasureAxes:o=(t.measureAxes||[]).filter((function(t){return!e.payload.some((function(e){return U(t,e)}))})).slice();break;case q.remove:t.columnAxes.some((function(t){return W(t,e.payload)}))&&(r=t.columnAxes.filter((function(t){return!W(t,e.payload)})).slice()),t.rowAxes.some((function(t){return W(t,e.payload)}))&&(n=t.rowAxes.filter((function(t){return!W(t,e.payload)})).slice()),t.measureAxes.some((function(t){return W(t,e.payload)}))&&(o=t.measureAxes.filter((function(t){return!W(t,e.payload)})).slice());break;case q.setDragItem:s=e.payload;break;case q.setDropZone:l=e.payload;break;case q.setDropTarget:u=e.payload;break;case q.setDropDirection:c=e.payload;break;case q.drop:if(t.dragItem&&t.dropZone){var d=t.columnAxes.find((function(t){return W(t,e.payload)})),f=t.rowAxes.find((function(t){return W(t,e.payload)})),m=t.measureAxes.find((function(t){return W(t,e.payload)})),v=void 0;switch(d&&(v=d,r=t.columnAxes.filter((function(t){return!W(t,e.payload)})).slice()),f&&(v=f,n=t.rowAxes.filter((function(t){return!W(t,e.payload)})).slice()),m&&(v=m,o=t.measureAxes.filter((function(t){return!W(t,e.payload)})).slice()),t.dropZone){case"columnAxes":r=r||t.columnAxes.slice();var g=-1;if(t.dropTarget&&t.dropDirection){var y=t.dropDirection?"before"===t.dropDirection?0:1:0;g=r.findIndex((function(e){return W(e,t.dropTarget)}))+y}g>=0?r.splice(g,0,v):r.push(v);break;case"rowAxes":n=n||t.rowAxes.slice();g=-1;if(t.dropTarget&&t.dropDirection){y=t.dropDirection?"before"===t.dropDirection?0:1:0;g=n.findIndex((function(e){return W(e,t.dropTarget)}))+y}g>=0?n.splice(g,0,v):n.push(v);break;case"measureAxes":o=o||t.measureAxes.slice();g=-1;if(t.dropTarget&&t.dropDirection){y=t.dropDirection?"before"===t.dropDirection?0:1:0;g=o.findIndex((function(e){return W(e,t.dropTarget)}))+y}g>=0?o.splice(g,0,v):o.push(v)}}s=null,l=null,u=null;break;case q.setSort:i=e.payload;break;case q.setFilter:a=Array.isArray(e.payload)?e.payload:[e.payload];break;case q.addFilter:a=(t.filter||[]).slice(),Array.isArray(e.payload)?a.push.apply(a,e.payload):a.push(e.payload);break;case q.changeFilter:a=Array.isArray(e.payload)?(t.filter||[]).map((function(t){return e.payload.some((function(e){return e.field===t.field}))?e.payload.find((function(e){return e.field===t.field})):t})):(t.filter||[]).map((function(t){return t.field===e.payload.field?e.payload:t}));break;case q.removeFilter:a=(t.filter||[]).slice(),a=Array.isArray(e.payload)?a.filter((function(t){return!e.payload.some((function(e){return e.field===t.field&&e.operator===t.operator}))})):a.filter((function(t){return!(t.field===e.payload.field&&t.operator===e.payload.operator)}))}return{dragItem:s,dropTarget:u,dropDirection:c,dropZone:l,columnAxes:r,rowAxes:n,measureAxes:o,filter:a,sort:i}},X=function(){return(X=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},$=function(t,e,n){return[t,function(r,o){var i=G(t,X({},r,{tree:e}));n&&n(i,o)}]},Z=function(){return(Z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},J=r.forwardRef((function(t,e){var n=r.useRef(null),i=r.useRef(null);r.useImperativeHandle(n,(function(){return{element:i.current,props:t}})),r.useImperativeHandle(e,(function(){return n.current}));var a=Object(o.y)(t.icon||Q.icon),s=a[0],l=a[1],c=Object(o.B)(t,n);return r.createElement("th",Z({ref:i},c,{colSpan:t.colSpan,rowSpan:t.rowSpan,"data-key":t["data-key"],id:t.id,style:t.style,tabIndex:t.tabIndex,className:Object(o.g)("k-pivotgrid-cell",{"k-pivotgrid-header-total":t.total,"k-pivotgrid-header-root":t.root,"k-pivotgrid-expanded":t.expanded,"k-first":t.first},t.className)}),t.expandable&&r.createElement(s,Z({},l,{onClick:function(e){t.onIconClick&&t.onIconClick.call(void 0,{syntheticEvent:e.syntheticEvent,target:n.current})},name:"arrow-chevron-"+(t.expanded?"up":"down")})),t.children)})),Q={icon:o.c};J.defaultProps=Q,J.displayName="KendoReactPivotGridHeaderCell";var tt=function(){return(tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},et=r.forwardRef((function(t,e){var n=r.useRef(null),i=r.useRef(null);r.useImperativeHandle(n,(function(){return{element:i.current,props:t}})),r.useImperativeHandle(e,(function(){return n.current}));var a=Object(o.B)(t,n);return r.createElement("col",tt({ref:i},a,{id:t.id,style:t.style,tabIndex:t.tabIndex,children:t.children,className:t.className}))}));et.defaultProps={path:[]},et.displayName="KendoReactPivotGridColumn";var nt=function(t,e,n){return void 0===t&&(t=[]),void 0===e&&(e={}),void 0===n&&(n=null),t.map((function(t){var r={dataItem:t};return Object.keys(e).forEach((function(t){r[t]=e[t](r,n)})),r}))},rt=function(t){void 0===t&&(t=[]);var e=t.slice();return(t||[]).forEach((function(t){e=e.concat(rt(t.children))})),e},ot=function(t){void 0===t&&(t=[]);var e=new Set;return t.forEach((function(t){e.add(String(t.name))})),Array.from(e)},it=function(t){return void 0===t&&(t=[]),""+t.join(",")},at=function(t,e){return it(t.map((function(t){return t.name})))+"|"+it(e.map((function(t){return t.name})))},st=function(t,e,n){if(!t)return[];for(var r,o=0,i=[],a=t.length;o<a;o++)r=t[o].operator,(n||"in"===r)&&r!==n||t[o].field!==e||i.push(t[o]);return i},lt=function(t,e){return t.uniqueName===e.uniqueName},ct=function(){return(ct=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ut=r.forwardRef((function(t,e){Object(o.D)(i);var n=ct({},pt,t),a=n.rows,s=n.rowAxes,l=n.columns,c=n.columnAxes,u=n.data,p=r.useRef(null),h=r.useRef(null);r.useImperativeHandle(h,(function(){return{props:t,element:p.current}})),r.useImperativeHandle(e,(function(){return h.current}));for(var d=r.useRef(null),f=r.useRef(null),m=r.useRef(null),v=r.useRef(null),g=r.useRef(null),y=F((a||[]).slice()),b=$((s||[]).slice(),y,(function(e,n){t.onRowAxesChange&&t.onRowAxesChange({value:e,target:h.current,syntheticEvent:n})}))[1],x=L(y),w=x[0],k=x[1],O=x[2],C=x[3],_=F((l||[]).slice()),S=$((c||[]).slice(),_,(function(e,n){t.onColumnAxesChange&&t.onColumnAxesChange({value:e,target:h.current,syntheticEvent:n})}))[1],E=function(t){for(var e=R(t),n=e[0],r=e[1],o=e[2],i=e[3],a=0;a<i;a++)for(var s=null,l=0;l<o;l++)if(n[l]){var c=n[l].cells[a];!c&&s&&(s.rowSpan=(s.rowSpan||1)+1),s&&(s.colSpan=s.breadth||1),c&&(s=c)}return[n,r,o,i]}(_),I=E[0],T=E[1],D=E[3],P=function(t,e,n,r,o){var i=Array.from(new Array(o),(function(){return{cells:Array.from(new Array(r),(function(){return null}))}})),a=function(t){return t.join("|")},s=function(t){return t.members.map((function(t){return t.name}))},l=new Map,c=new Map;return e.forEach((function(t,e){l.set(a(t.path),e)})),n.forEach((function(t,e){c.set(a(t.path),e)})),t.forEach((function(t){var e=l.get(a(s(t.columnTuple))),r=c.get(a(s(t.rowTuple)));void 0!==e&&void 0!==r&&(i[r].cells[e]||(i[r].row=n[r].path,i[r].cells[e]=t))})),i}((u||[]).slice(),T,k,D,O),A=[],j=[],M=[],N=Object(o.y)(t.row||pt.row),z=N[0],B=N[1],V=Object(o.y)(t.column||pt.column),U=V[0],W=V[1],q=Object(o.y)(t.cell||pt.cell),K=q[0],G=q[1],Y=Object(o.y)(t.headerCell||pt.headerCell),X=Y[0],Z=Y[1],J=t.columnHeadersRow||z,Q=t.columnHeadersColumn||U,tt=t.columnHeadersCell||X,et=t.rowHeadersRow||z,nt=t.rowHeadersColumn||U,rt=t.rowHeadersCell||X,ot=t.dataRow||z,st=t.dataColumn||U,lt=0;lt<T.length;lt++)A.push(r.createElement(st,ct({key:String(T[lt].path)},W,{path:T[lt].path}))),M.push(r.createElement(Q,ct({key:String(T[lt].path)},W,{path:T[lt].path})));for(lt=0;lt<C;lt++)j.push(r.createElement(nt,ct({key:lt},W)));var ut=function(t){t.target.props.expandable&&S({type:H.toggle,payload:t.target.props.dataItem.path},t.syntheticEvent)},ht=function(t){t.target.props.expandable&&b({type:H.toggle,payload:t.target.props.dataItem.path},t.syntheticEvent)},dt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=r.useRef(),o=function(e){void 0!==n.current&&window.cancelAnimationFrame(n.current);var r=e.currentTarget,o=r.scrollLeft;t.forEach((function(t){var e=t.current;e&&e!==r&&(n.current=window.requestAnimationFrame((function(){e.scrollLeft=Math.round(o)})))}))};return o}(g,v),ft=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=r.useRef(),o=function(e){void 0!==n.current&&window.cancelAnimationFrame(n.current);var r=e.currentTarget,o=r.scrollTop;t.forEach((function(t){var e=t.current;e&&e!==r&&(n.current=window.requestAnimationFrame((function(){e.scrollTop=Math.round(o)})))}))};return o}(g,m),mt=r.useCallback((function(){p.current&&f.current&&(p.current.style.gridTemplateRows=f.current.offsetHeight+"px auto")}),[]),vt=r.useCallback((function(){p.current&&d.current&&(p.current.style.gridTemplateColumns=d.current.offsetWidth+"px auto")}),[]);return r.useEffect((function(){if(f.current){var t=new window.ResizeObserver(mt);return t.observe(f.current),function(){t.disconnect()}}}),[mt]),r.useEffect((function(){if(d.current){var t=new window.ResizeObserver(vt);return t.observe(d.current),function(){t.disconnect()}}}),[vt]),r.useLayoutEffect((function(){if(Object(o.w)(),d.current){var t=new window.ResizeObserver(o.w);return t.observe(d.current),function(){t.disconnect()}}}),[]),r.createElement("div",{ref:p,id:t.id,style:t.style,tabIndex:t.tabIndex,className:Object(o.g)("k-pivotgrid",t.className)},r.createElement("span",{className:"k-pivotgrid-empty-cell"}),r.createElement("div",{ref:v,className:"k-pivotgrid-column-headers",onScroll:dt},r.createElement("table",{ref:f,className:"k-pivotgrid-table"},r.createElement("colgroup",null,M),r.createElement("tbody",{className:"k-pivotgrid-tbody"},I.map((function(t){var e=!1;return r.createElement(J,ct({key:t.name},B),t.cells.map((function(t,n){var o=0!==n&&!e;t&&(e=!0);var i=t&&Boolean(t.children&&t.children.length),a=t&&t.hasChildren&&(!t.total||t.total&&t.parent.total);return t?r.createElement(tt,ct({},Z,{key:it(t.normalizedPath)+(t.total?"|[TOTAL]":"")+(i?"|[EXPANDED]":""),"data-key":it(t.normalizedPath)+(t.total?"|[TOTAL]":"")+(i?"|[EXPANDED]":""),columnPath:t.normalizedPath,rowSpan:t.rowSpan||void 0,colSpan:t.colSpan||void 0,onIconClick:ut,dataItem:t,expanded:i,expandable:a,total:t.total,first:o,root:0===t.levelNum}),t.caption):null})))}))))),r.createElement("div",{ref:m,className:"k-pivotgrid-row-headers"},r.createElement("table",{ref:d,className:"k-pivotgrid-table"},r.createElement("colgroup",null,j),r.createElement("tbody",{className:"k-pivotgrid-tbody"},w.map((function(t,e){return r.createElement(et,ct({key:it(k[e].path)},B,{path:k[e].path}),t.cells.filter(Boolean).map((function(t){return t?r.createElement(rt,ct({},Z,{key:it(t.normalizedPath)+(t.total?"|[TOTAL]":"")+(Boolean(t.children&&t.children.length)?"|[EXPANDED]":""),"data-key":it(t.normalizedPath)+(t.total?"|[TOTAL]":"")+(Boolean(t.children&&t.children.length)?"|[EXPANDED]":""),rowPath:t.normalizedPath,rowSpan:t.rowSpan||void 0,colSpan:t.colSpan||void 0,dataItem:t,expanded:Boolean(t.children&&t.children.length),expandable:t.hasChildren&&!t.total,total:t.total,onIconClick:ht,root:0===t.levelNum}),t.caption):null})))}))))),r.createElement("div",{ref:g,className:"k-pivotgrid-values",onScroll:function(t){dt(t),ft(t)}},r.createElement("table",{className:"k-pivotgrid-table"},r.createElement("colgroup",null,A),r.createElement("tbody",{className:"k-pivotgrid-tbody"},P.map((function(t,e){return r.createElement(ot,ct({key:it(k[e].path)},B,{path:k[e].path}),t.cells.map((function(t,n){return r.createElement(K,ct({key:""+at(t.rowTuple.members,t.columnTuple.members),"data-key":""+at(t.rowTuple.members,t.columnTuple.members)},G,{rowPath:t.rowTuple.members.map((function(t){return t.name})),columnPath:t.columnTuple.members.map((function(t){return t.name})),dataItem:t,total:k[e].total||T[n].total}),t&&t.data?t.data.fmtValue:"")})))}))))))})),pt={rowAxes:[],columnAxes:[],data:[],row:s,column:et,cell:c,headerCell:J};ut.displayName="KendoReactPivotGrid";var ht=r.forwardRef((function(t,e){var n=r.useRef(null),i=r.useRef(null);return r.useImperativeHandle(i,(function(){return{props:t,element:n.current}})),r.useImperativeHandle(e,(function(){return i.current})),r.createElement("div",{ref:n,id:t.id,style:t.style,tabIndex:t.tabIndex,className:Object(o.g)("k-d-flex k-pos-relative",{"k-flex-row":"right"===t.configuratorPosition,"k-flex-row-reverse":"left"===t.configuratorPosition,"k-flex-column":"bottom"===t.configuratorPosition,"k-flex-column-reverse":"top"===t.configuratorPosition},t.className)},t.children)}));ht.defaultProps={configuratorPosition:"right"},ht.displayName="KendoReactPivotGridContainer";var dt,ft=n(7),mt=n(5),vt=n(9),gt=n(8),yt=n(6);!function(t){t.toggle="EXPAND_TOGGLE",t.expand="EXPAND_EXPAND",t.collapse="EXPAND_COLLAPSE"}(dt||(dt={}));var bt,xt=function(t,e,n,o){void 0===t&&(t=[]),void 0===o&&(o=function(t,e){return t===e});var i=r.useState(t),a=i[0],s=i[1];return[a,function(t,r){var i=function(t,e,n){switch(e.type){case dt.toggle:return Array.isArray(t)?t.find((function(t){return n(t,e.payload)}))?t.filter((function(t){return!n(t,e.payload)})).slice():t.concat([e.payload]):n(t,e.payload)?null:e.payload;case dt.expand:if(Array.isArray(t)){if(!t.find((function(t){return n(t,e.payload)})))return t.concat([e.payload])}else if(!n(t,e.payload))return e.payload;break;case dt.collapse:if(Array.isArray(t)){if(t.find((function(t){return n(t,e.payload)})))return t.filter((function(t){return!n(t,e.payload)})).slice()}else n(t,e.payload);break;default:return t}}(a,t,o);e&&e.call(void 0,{value:i,target:n.current,syntheticEvent:r}),s(i)}]},wt=function(){return(wt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(t){t.toggleExpansion="PIVOT_CONFIGURATOR_ACTION_TOGGLE_EXPANSION"}(bt||(bt={}));var kt,Ot=wt({},q,bt),Ct=r.createContext({}),_t=r.createContext([{expanded:[],rowAxes:[],columnAxes:[],measureAxes:[],dragItem:null,dropZone:null,dropDirection:null,dropTarget:null},o.v]),St=n(20),Et=n(26),It="pivotgrid.configuratorMissingFields",Tt=((kt={})["pivotgrid.fieldMenuReset"]="Reset",kt["pivotgrid.fieldMenuApply"]="Apply",kt["pivotgrid.configuratorCancel"]="Cancel",kt["pivotgrid.configuratorApply"]="Apply",kt["pivotgrid.configuratorTitle"]="Settings",kt["pivotgrid.configuratorEditorSearchTitle"]="Fields",kt["pivotgrid.configuratorEditorSearchPlaceholder"]="Search...",kt["pivotgrid.configuratorColumnsTitle"]="Columns",kt["pivotgrid.configuratorRowsTitle"]="Rows",kt["pivotgrid.configuratorMeasuresTitle"]="Values",kt["pivotgrid.configuratorButtonLabel"]="Change settings",kt[It]="Select some fields to begin setup",kt),Dt=function(){return(Dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Pt=r.forwardRef((function(t,e){var n=Dt({},At,t),i=n.data,a=n.dataItem,s=n.defaultFilter,l=r.useRef(null),c=r.useRef(null),u=Object(mt.useLocalization)(),p=Object(o.y)(t.columnMenuItem||At.columnMenuItem),h=p[0],d=p[1],f=Object(o.y)(t.columnMenuForm||At.columnMenuForm),m=f[0],v=f[1],g=Object(o.y)(t.resetButton||At.resetButton),y=g[0],b=g[1],x=Object(o.y)(t.applyButton||At.applyButton),w=x[0],k=x[1],O=Object(o.y)(t.treeView||At.treeView),C=O[0],_=O[1],S=Object(o.y)(t.noData||At.noData),E=S[0],I=S[1];r.useImperativeHandle(c,(function(){return{props:t,element:l.current}})),r.useImperativeHandle(e,(function(){return c.current}));var T=r.useState(!1),D=T[0],P=T[1],A=r.useContext(Ct),j=A.onAxisFilterFieldsExpandChange,M=A.onAxisFilterFieldExpand,R=r.useContext(_t)[1],N=r.useState(s),F=N[0],L=N[1],z=F?F.value.split(","):[],B=xt([],void 0,c,lt),V=B[0],H=B[1],U={caption:function(t){return t.dataItem.caption},id:function(t){return t.dataItem.uniqueName},parent:function(t,e){return e&&e.value},value:function(t){return t.dataItem.defaultHierarchy||t.dataItem.uniqueName},expanded:function(t){return V.some((function(e){return e.uniqueName===t.id}))},checked:function(t){return!z.length||(z||[]).some((function(e){return e===t.dataItem.uniqueName}))},hasChildren:function(t){return parseInt(t.dataItem.childrenCardinality,10)>0},children:function(t){return nt(t.dataItem.children,U,t)},checkIndeterminate:function(t){var e=(t.children||[]).length&&t.children.every((function(t){return t.checked}));return e&&(t.checked=!0),(t.children||[]).some((function(t){return t.checked}))&&!e}},W=nt(i,U),q=rt(W);return r.createElement("div",{ref:l,id:t.id,tabIndex:t.tabIndex,style:t.style,className:Object(o.g)("k-columnmenu-item-wrapper",t.className)},r.createElement(h,Dt({},d,{title:"Include Fields",iconClass:"k-i-grid-layout",onClick:function(t){P(!D),j&&j({value:!D,target:c.current,syntheticEvent:t})}})),r.createElement(m,Dt({show:D,actions:r.createElement(r.Fragment,null,r.createElement(y,Dt({type:"reset",onClick:function(t){P(!1),F&&R({type:Ot.removeFilter,payload:F},t)}},b),u.toLanguageString("pivotgrid.fieldMenuReset",Tt["pivotgrid.fieldMenuReset"])),r.createElement(w,Dt({primary:!0,onClick:function(t){P(!1),F&&R({type:s?Ot.changeFilter:Ot.addFilter,payload:F},t)}},k),u.toLanguageString("pivotgrid.fieldMenuApply",Tt["pivotgrid.fieldMenuApply"])))},v),W&&W.length?r.createElement(C,Dt({data:W,checkboxes:!0,onExpandChange:function(t){H({type:dt.toggle,payload:t.item.dataItem},t.syntheticEvent),M&&M({value:t.item.dataItem,target:c.current,syntheticEvent:t.syntheticEvent})},onCheckChange:function(t){var e;e=t.item.checked?{field:String(a.name),operator:"in",value:q.filter((function(t){return t.checked})).map((function(t){return String(t.value)})).filter((function(e){return e!==t.item.value&&e!==t.item.parent})).join(",")}:{field:String(a.name),operator:"in",value:q.filter((function(t){return t.checked})).map((function(t){return String(t.value)})).concat([t.item.value]).join(",")},L(e)},textField:"caption",expandIcons:!0,hasChildrenField:"hasChildren",checkIndeterminateField:"checkIndeterminate",childrenField:"children"},_)):r.createElement(E,Dt({},I))))})),At={data:[],resetButton:ft.Button,applyButton:ft.Button,treeView:St.TreeView,noData:function(){return r.createElement(Et.Skeleton,{shape:"rectangle",style:{height:"20px",width:"calc(100% - 16px)",margin:8}})},columnMenuItem:yt.ColumnMenuItem,columnMenuForm:yt.ColumnMenuForm};Pt.defaultProps=At,Pt.displayName="KendoReactPivotGridAxisFilterFieldsEditor";var jt=function(){return(jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Mt=r.forwardRef((function(t,e){var n=r.useRef(0),i=r.useRef(0),a=r.useRef(null),s=r.useRef(null),l=r.useRef(null),c=r.useContext(Ft).axes,u=r.useState(!1),p=u[0],h=u[1],d=r.useContext(_t),f=d[0],m=d[1];r.useImperativeHandle(s,(function(){return a.current&&a.current.element})),r.useImperativeHandle(l,(function(){return{props:t,element:s.current}})),r.useImperativeHandle(e,(function(){return l.current}));var v=Object(o.y)(t.chip||Rt.chip),g=v[0],y=v[1],b=Object(o.y)(t.dropClue||Rt.dropClue),x=b[0],w=b[1],k=Object(o.y)(t.columnMenuTextColumn||Rt.columnMenuTextColumn),O=k[0],C=k[1],_=Object(o.y)(t.filterFieldsEditor||Rt.filterFieldsEditor),S=_[0],E=_[1],I=st(f.filter,String(t.value),"in"),T=st(f.filter,String(t.value));return Object(o.A)(s,{onPress:function(t){n.current=t.clientX,i.current=t.clientY},onDrag:function(e){Math.abs(n.current-e.clientX)<10&&Math.abs(i.current-e.clientY)<10||(s.current&&(s.current.style.transform="translate("+(e.clientX-n.current)+"px, "+(e.clientY-i.current)+"px)"),h(!0),m({type:Ot.setDragItem,payload:t.dataItem}))},onRelease:function(){f.dragItem&&(s.current&&(s.current.style.transform=null),m({type:Ot.drop,payload:t.dataItem})),h(!1)}}),r.createElement(r.Fragment,null,f.dropTarget&&W(f.dropTarget,t.dataItem)&&"before"===f.dropDirection&&r.createElement(x,jt({},w)),r.createElement(g,jt({ref:Object(o.f)(g)?a:void 0},t,{removable:!0,onRemove:function(e){m({type:Ot.remove,payload:t.dataItem},e.syntheticEvent)},onMouseEnter:function(e){f.dragItem&&(m({type:Ot.setDropTarget,payload:t.dataItem},e.syntheticEvent),m({type:Ot.setDropZone,payload:c},e.syntheticEvent))},onMouseMove:function(t){if(f.dragItem&&!p&&s.current){var e=s.current.getBoundingClientRect(),n=t.syntheticEvent.clientX-e.left<e.width/2?"before":"after";m({type:Ot.setDropDirection,payload:n},t.syntheticEvent)}},style:{pointerEvents:p?"none":void 0}},y),t.text,"measureAxes"!==c&&r.createElement(O,jt({field:String(t.value),itemsRender:function(e){var n=e.slice(),o=function(t,e,n){if(t){for(var r,o,i=0,a=t.length;i<a;i++)o=t[i].operator,(n||"in"===o)&&o!==n||t[i].field!==e||(r=t[i]);return r}}(f.filter,String(t.dataItem.name),"in");return n.splice(1,0,r.createElement(S,jt({key:"axis-filter-fields-editor",defaultFilter:o,dataItem:t.dataItem,data:t.dataItem.fields,axes:c},E))),n},sort:f.sort,onSortChange:function(t,e){m({type:Ot.setSort,payload:e},t)},filter:T&&T.length?[{logic:"and",filters:T}]:void 0,onFilterChange:function(t,e){e.length?m({type:Ot.setFilter,payload:(I||[]).concat(e.reduce((function(t,e){return t.concat(e.filters.filter((function(t){return t.value})))}),[]))},t):m({type:Ot.setFilter,payload:I},t)},filterContent:[yt.ColumnMenuTextFilter]},C))),f.dropTarget&&W(f.dropTarget,t.dataItem)&&"after"===f.dropDirection&&r.createElement(x,jt({},w)))})),Rt={chip:ft.Chip,columnMenuTextColumn:yt.ColumnMenuTextColumn,filterFieldsEditor:Pt,dropClue:function(t){return r.createElement("div",jt({className:"k-grouping-dropclue",style:{position:"relative",zIndex:1e4}},t))}};Mt.defaultProps=Rt,Mt.displayName="KendoReactPivotGridAxisEditor";var Nt=function(){return(Nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ft=r.createContext({axes:null}),Lt=r.forwardRef((function(t,e){var n=Nt({},zt,t),i=n.value,a=n.field,s=r.useRef(null),l=r.useRef(null),c=r.useRef(null),u=Object(o.y)(t.chipList||zt.chipList),p=u[0],h=u[1];r.useImperativeHandle(l,(function(){return s.current&&s.current.element})),r.useImperativeHandle(c,(function(){return{props:t,element:l.current}})),r.useImperativeHandle(e,(function(){return c.current}));var d=i.filter((function(t){return 1===t.name.length&&t.name.every((function(t){return-1===t.indexOf("&")}))})).map((function(t){return Nt({},t,{text:String(t.name)})}));return r.createElement(Ft.Provider,{value:{axes:a}},r.createElement(p,Nt({ref:Object(o.f)(p)?s:void 0,textField:"text",valueField:"name",data:d,chip:Mt,style:{position:"relative"},className:t.className,selection:"none"},h)))})),zt={value:[],chipList:ft.ChipList};Lt.defaultProps=zt,Lt.displayName="KendoReactPivotGridAxesEditor";var Bt=function(){return(Bt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Vt=r.forwardRef((function(t,e){var n=Bt({},Ht,t),i=n.data,a=n.rowAxes,s=n.columnAxes,l=n.measureAxes,c=n.onExpand,u=n.onCheck,p=r.useRef(null),h=r.useRef(null),d=Object(o.y)(t.treeView||Ht.treeView),f=d[0],m=d[1],v=Object(o.y)(t.noData||Ht.noData),g=v[0],y=v[1];r.useImperativeHandle(h,(function(){return{props:t,element:p.current&&p.current.element}})),r.useImperativeHandle(e,(function(){return h.current}));var b=r.useContext(_t)[0],x=ot(s),w=ot(a),k=ot(l),O=rt(i).filter((function(t){return x.concat(w,k).some((function(e){return e===t.uniqueName||e===t.defaultHierarchy}))})),C={caption:function(t){return t.dataItem.caption},id:function(t){return t.dataItem.uniqueName},value:function(t){return t.dataItem.defaultHierarchy||t.dataItem.uniqueName},expanded:function(t){return b.expanded.some((function(e){return e.uniqueName===t.dataItem.uniqueName}))},hasChildren:function(t){return!("hierarchyUniqueName"in t.dataItem)&&!("aggregator"in t.dataItem)},selectable:function(t){return!Boolean(!t.hasChildren&&!t.dataItem.aggregator&&!t.dataItem.measure||2===t.dataItem.type||"[KPIs]"===t.dataItem.uniqueName)},children:function(t){return nt(t.dataItem.children,C,t)},checked:function(t){return O.some((function(e){return t.dataItem.defaultHierarchy?e.defaultHierarchy===t.dataItem.defaultHierarchy:e.uniqueName===t.dataItem.uniqueName}))||t.children.length&&t.children.every((function(t){return t.checked}))}},_=nt(t.data,C);return r.createElement(St.TreeViewItemPropsContext.Provider,{value:function(t){return Bt({},t,{checkboxes:t.item.selectable})}},_&&_.length?r.createElement(f,Bt({ref:Object(o.f)(f)?p:void 0,data:_,checkboxes:!0,onExpandChange:function(t){c&&c({value:t.item.dataItem,target:h.current,syntheticEvent:t.syntheticEvent})},onCheckChange:function(t){u&&u({value:t.item.dataItem,target:h.current,syntheticEvent:t.syntheticEvent})},textField:"caption",expandIcons:!0,hasChildrenField:"hasChildren",checkIndeterminateField:"checkIndeterminate",childrenField:"children"},m)):r.createElement(g,Bt({},y)))})),Ht={data:[],rowAxes:[],columnAxes:[],measureAxes:[],treeView:St.TreeView,noData:function(){return r.createElement("div",null,"NO DATA")}};Vt.defaultProps=Ht,Vt.displayName="KendoReactPivotGridFieldsEditor";var Ut=function(){return(Ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Wt=r.forwardRef((function(t,e){var n=t.onFieldsEditorFieldCheck,i=t.onFieldsEditorFieldCheckAction,a=t.onFieldsEditorFieldExpand,s=t.onFieldsEditorFieldExpandAction,l=t.onAxisFilterFieldExpand,c=t.onAxisFilterFieldsExpandChange,u=Object(o.y)(t.fieldsLabel||qt.fieldsLabel),p=u[0],h=u[1],d=Object(o.y)(t.fieldsEditor||qt.fieldsEditor),f=d[0],m=d[1],v=Object(o.y)(t.columnAxesLabel||qt.columnAxesLabel),g=v[0],y=v[1],b=Object(o.y)(t.columnAxesEditor||qt.columnAxesEditor),x=b[0],w=b[1],k=Object(o.y)(t.rowAxesLabel||qt.rowAxesLabel),O=k[0],C=k[1],_=Object(o.y)(t.rowAxesEditor||qt.rowAxesEditor),S=_[0],E=_[1],I=Object(o.y)(t.measureAxesLabel||qt.measureAxesLabel),T=I[0],D=I[1],P=Object(o.y)(t.measureAxesEditor||qt.measureAxesEditor),A=P[0],j=P[1],M=r.useRef(null),R=r.useRef(null),N=Object(mt.useLocalization)(),F=function(t,e){var n=t.valueGetter("rowAxes"),o=t.valueGetter("columnAxes"),i=t.valueGetter("measureAxes"),a=t.valueGetter("sort"),s=t.valueGetter("filter"),l=xt([],void 0,e,lt),c=l[0],u=l[1],p=r.useState(null),h=p[0],d=p[1],f=r.useState(null),m=f[0],v=f[1],g=r.useState(null),y=g[0],b=g[1],x=r.useState(null),w=x[0],k=x[1];return[{dragItem:h,dropTarget:y,dropZone:m,dropDirection:w,columnAxes:o,rowAxes:n,measureAxes:i,sort:a,filter:s,expanded:c},function(e,r){switch(e.type){case Ot.toggleExpansion:u({type:dt.toggle,payload:e.payload},r);break;default:var l=Y({filter:e.override&&void 0!==e.override.filter?e.override.filter:s,sort:e.override&&void 0!==e.override.sort?e.override.sort:a,rowAxes:e.override&&void 0!==e.override.rowAxes?e.override.rowAxes:n,columnAxes:e.override&&void 0!==e.override.columnAxes?e.override.columnAxes:o,measureAxes:e.override&&void 0!==e.override.measureAxes?e.override.measureAxes:i,dragItem:e.override&&void 0!==e.override.dragItem?e.override.dragItem:h,dropDirection:e.override&&void 0!==e.override.dropDirection?e.override.dropDirection:w,dropTarget:e.override&&void 0!==e.override.dropTarget?e.override.dropTarget:y,dropZone:e.override&&void 0!==e.override.dropZone?e.override.dropZone:m},e);void 0!==l.columnAxes&&t.onChange("columnAxes",{value:l.columnAxes}),void 0!==l.rowAxes&&t.onChange("rowAxes",{value:l.rowAxes}),void 0!==l.measureAxes&&t.onChange("measureAxes",{value:l.measureAxes}),void 0!==l.sort&&t.onChange("sort",{value:a}),void 0!==l.filter&&t.onChange("filter",{value:l.filter}),void 0!==l.dropDirection&&k(l.dropDirection),void 0!==l.dropTarget&&b(l.dropTarget),void 0!==l.dropZone&&v(l.dropZone),void 0!==l.dragItem&&d(l.dragItem)}}]}(t,R),L=F[0],z=F[1];r.useImperativeHandle(R,(function(){return{element:M.current,props:t,state:L}})),r.useImperativeHandle(e,(function(){return R.current}));var B=function(){L.dragItem&&z({type:Ot.setDropZone,payload:"columnAxes"})},V=function(){L.dragItem&&z({type:Ot.setDropZone,payload:null})},H=function(){L.dragItem&&z({type:Ot.setDropZone,payload:"rowAxes"})},U=function(){L.dragItem&&z({type:Ot.setDropZone,payload:null})},W=function(){L.dragItem&&z({type:Ot.setDropZone,payload:"measureAxes"})},q=function(){L.dragItem&&z({type:Ot.setDropZone,payload:null})},K=t.horizontal?"div":r.Fragment,G=t.horizontal?{className:"k-form-field-wrapper"}:{};return r.createElement(Ct.Provider,{value:{onAxisFilterFieldExpand:function(t){var e={target:t.target,currentTarget:R.current,value:t.value,syntheticEvent:t.syntheticEvent};l&&l(e)},onAxisFilterFieldsExpandChange:function(t){var e={target:t.target,currentTarget:R.current,value:t.value,syntheticEvent:t.syntheticEvent};c&&c(e)}}},r.createElement(_t.Provider,{value:[L,z]},r.createElement(K,Ut({},G),r.createElement("div",{className:"k-form-field"},r.createElement(p,Ut({},h),N.toLanguageString("pivotgrid.configuratorEditorSearchTitle",Tt["pivotgrid.configuratorEditorSearchTitle"]))),r.createElement("div",{className:"k-form-field"},r.createElement("div",{className:"k-fields-list-wrapper"},r.createElement(f,Ut({data:t.data,onExpand:function(e){var n={target:e.target,currentTarget:R.current,value:e.value,syntheticEvent:e.syntheticEvent};if(s){var r=s(n,t,L);r&&(Array.isArray(r)?r.filter(Boolean).map((function(t){return t&&z(Ut({},t),e.syntheticEvent)})):z(Ut({},r),e.syntheticEvent))}a&&a({target:e.target,currentTarget:R.current,value:e.value,syntheticEvent:e.syntheticEvent})},onCheck:function(e){var r={target:e.target,currentTarget:R.current,value:e.value,syntheticEvent:e.syntheticEvent};if(i){var o=i(r,t,L);o&&(Array.isArray(o)?o.filter(Boolean).map((function(t){return t&&z(Ut({},t),e.syntheticEvent)})):z(Ut({},o),e.syntheticEvent))}n&&n(r)},columnAxes:L.columnAxes,rowAxes:L.rowAxes,measureAxes:L.measureAxes},m))))),r.createElement(K,Ut({},G),r.createElement("div",{className:"k-form-field",onMouseEnter:B,onMouseLeave:V},r.createElement(vt.Field,Ut({name:"columnAxes",field:"columnAxes",component:g},y),N.toLanguageString("pivotgrid.configuratorColumnsTitle",Tt["pivotgrid.configuratorColumnsTitle"]))),t.valueGetter("columnAxes").length?r.createElement(vt.Field,Ut({name:"columnAxes",field:"columnAxes",component:x,onMouseEnter:B,onMouseLeave:V,className:"k-column-fields"},w)):r.createElement("div",{className:"k-settings-description",onMouseEnter:B,onMouseLeave:V},N.toLanguageString(It,Tt[It])),r.createElement("div",{className:"k-form-field",onMouseEnter:H,onMouseLeave:U},r.createElement(vt.Field,Ut({name:"rowAxes",field:"rowAxes",component:O},C),N.toLanguageString("pivotgrid.configuratorRowsTitle",Tt["pivotgrid.configuratorRowsTitle"]))),t.valueGetter("rowAxes").length?r.createElement(vt.Field,Ut({name:"rowAxes",field:"rowAxes",component:S,onMouseEnter:H,onMouseLeave:U,className:"k-column-fields"},E)):r.createElement("div",{className:"k-settings-description",onMouseEnter:H,onMouseLeave:U},N.toLanguageString(It,Tt[It]))),r.createElement(K,Ut({},G),r.createElement("div",{className:"k-form-field",onMouseEnter:W,onMouseLeave:q},r.createElement(vt.Field,Ut({name:"measureAxes",field:"measureAxes",component:T},D),N.toLanguageString("pivotgrid.configuratorMeasuresTitle",Tt["pivotgrid.configuratorMeasuresTitle"]))),t.valueGetter("measureAxes").length?r.createElement(vt.Field,Ut({name:"measureAxes",field:"measureAxes",component:A,onMouseEnter:W,onMouseLeave:q,className:"k-column-fields"},j)):r.createElement("div",{className:"k-settings-description",onMouseEnter:W,onMouseLeave:q},N.toLanguageString(It,Tt[It])))))})),qt={data:[],horizontal:!1,fieldsLabel:gt.Label,fieldsEditor:Vt,columnAxesLabel:gt.Label,columnAxesEditor:Lt,rowAxesLabel:gt.Label,rowAxesEditor:Lt,measureAxesLabel:gt.Label,measureAxesEditor:Lt,axesEditor:Lt,onFieldsEditorFieldCheckAction:function(t){return{type:Ot.toggleSelection,payload:t.value}},onFieldsEditorFieldExpandAction:function(t){return{type:Ot.toggleExpansion,payload:t.value}}};Wt.defaultProps=qt,Wt.displayName="KendoReactPivotGridConfiguratorEditor";var Kt=function(){return(Kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Gt=r.forwardRef((function(t,e){var n=Kt({},Yt,t),i=n.horizontal,a=n.data,s=n.rowAxes,l=n.columnAxes,c=n.measureAxes,u=r.useRef(null),p=r.useRef(null),h=r.useRef(null),d=Object(mt.useLocalization)(),f=Object(o.y)(t.editor||Yt.editor),m=f[0],v=f[1],g=Object(o.y)(t.form||Yt.form),y=g[0],b=g[1],x=Object(o.y)(t.formElement||Yt.formElement),w=x[0],k=x[1];r.useImperativeHandle(p,(function(){return{props:t,element:u.current}})),r.useImperativeHandle(e,(function(){return p.current}));var O={rowAxes:s,columnAxes:l,measureAxes:c,sort:t.sort,filter:t.filter};return r.useEffect((function(){h.current&&h.current.onChange("rowAxes",{value:s})}),[s]),r.useEffect((function(){h.current&&h.current.onChange("columnAxes",{value:l})}),[l]),r.useEffect((function(){h.current&&h.current.onChange("measureAxes",{value:c})}),[c]),r.useEffect((function(){h.current&&h.current.onChange("sort",{value:t.sort})}),[t.sort]),r.useEffect((function(){h.current&&h.current.onChange("filter",{value:t.filter})}),[t.filter]),r.createElement("div",{ref:u,id:t.id,tabIndex:t.tabIndex,style:t.style,className:Object(o.g)("k-pivotgrid-configurator",t.className)},r.createElement("div",{className:Object(o.g)("k-pivotgrid-configurator-panel","k-pivotgrid-configurator-push",{"k-pivotgrid-configurator-horizontal":i,"k-pivotgrid-configurator-vertical":!i})},r.createElement("div",{className:"k-pivotgrid-configurator-header"},r.createElement("div",{className:"k-pivotgrid-configurator-header-text"},d.toLanguageString("pivotgrid.configuratorTitle",Tt["pivotgrid.configuratorTitle"]))),r.createElement(y,Kt({ref:Object(o.f)(y)?h:void 0,initialValues:O,onSubmit:function(e,n){t.onRowAxesChange&&t.onRowAxesChange({target:p.current,value:e.rowAxes,syntheticEvent:n}),t.onColumnAxesChange&&t.onColumnAxesChange({target:p.current,value:e.columnAxes,syntheticEvent:n}),t.onMeasureAxesChange&&t.onMeasureAxesChange({target:p.current,value:e.measureAxes,syntheticEvent:n}),t.onSortChange&&t.onSortChange({target:p.current,value:e.sort,syntheticEvent:n}),t.onFilterChange&&t.onFilterChange({target:p.current,value:e.filter,syntheticEvent:n})},render:function(e){return r.createElement(r.Fragment,null,r.createElement("div",{className:"k-pivotgrid-configurator-content"},r.createElement(w,Kt({horizontal:i},k),r.createElement(m,Kt({},e,{horizontal:t.horizontal,onFieldsEditorFieldExpand:t.onFieldsEditorFieldExpand,onFieldsEditorFieldCheck:t.onFieldsEditorFieldCheck,onAxisFilterFieldExpand:t.onAxisFilterFieldExpand,onAxisFilterFieldsExpandChange:t.onAxisFilterFieldsExpandChange,data:a},v)))),r.createElement("div",{className:"k-pivotgrid-configurator-actions k-actions k-hstack k-justify-content-end"},r.createElement(ft.Button,{type:"submit",onClick:e.onFormReset},d.toLanguageString("pivotgrid.configuratorCancel",Tt["pivotgrid.configuratorCancel"])),r.createElement(ft.Button,{primary:!0,type:"submit",onClick:e.onSubmit},d.toLanguageString("pivotgrid.configuratorApply",Tt["pivotgrid.configuratorApply"]))))}},b))))})),Yt={form:vt.Form,formElement:vt.FormElement,editor:Wt,horizontal:!1,data:[],columnAxes:[],rowAxes:[],measureAxes:[]};Gt.defaultProps=Yt,Gt.displayName="KendoReactPivotGridConfigurator";var Xt=function(){return(Xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},$t=r.forwardRef((function(t,e){var n=r.useRef(null),i=r.useRef(null),a=Object(mt.useLocalization)();r.useImperativeHandle(n,(function(){return{props:t,element:i.current}})),r.useImperativeHandle(e,(function(){return n.current}));var s=Object(o.y)(t.icon||Zt.icon),l=s[0],c=s[1],u=r.useMemo((function(){return Object(o.g)("k-pivotgrid-configurator-button",t.className)}),[t.className]),p=Object(o.B)(t,n);return r.createElement("div",Xt({ref:i,id:t.id,className:u,tabIndex:t.tabIndex},p),r.createElement("span",null,a.toLanguageString("pivotgrid.configuratorButtonLabel",Tt["pivotgrid.configuratorButtonLabel"]),r.createElement(l,Xt({name:"gear"},c))))})),Zt={icon:o.c};$t.defaultProps=Zt,$t.displayName="KendoReactPivotGridConfiguratorButton";var Jt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}l((r=r.apply(t,e||[])).next())}))},Qt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},te=function(t){var e=r.useState(!0),n=e[0],i=e[1],a=r.useState({data:[],columns:[],rows:[]}),s=a[0],l=a[1],c=r.useState([]),u=c[0],p=c[1],h=r.useState(t.defaultColumnAxes||[]),d=h[0],f=h[1],m=r.useState(t.defaultRowAxes||[]),v=m[0],g=m[1],y=r.useState(t.defaultMeasureAxes||[]),b=y[0],x=y[1],S=r.useState(t.defaultSort||[]),E=S[0],I=S[1],T=r.useState(t.defaultFilter||[]),D=T[0],j=T[1],M=function(t){g(t.value)},R=function(t){f(t.value)};r.useEffect((function(){i(!0);var e={connection:{catalog:t.catalog,cube:t.cube},columnAxes:d.slice(),rowAxes:v.slice(),measureAxes:b,sort:E,filter:D};setTimeout((function(){(function(t,e){return O(void 0,void 0,void 0,(function(){var n;return C(this,(function(r){switch(r.label){case 0:return n=k({body:w(e),headers:{"Content-Type":"text/xml"},method:"POST"},t.init),[4,fetch(t.url,n)];case 1:return[4,r.sent().text()];case 2:return[2,_(r.sent())]}}))}))})({url:t.url},Object(o.h)(e)).then(A).then((function(t){l(t),i(!1)}))}))}),[d,v,b,D,E,t.cube,t.catalog,t.url]),r.useEffect((function(){i(!0);var e={connection:{catalog:t.catalog,cube:t.cube},restrictions:{catalogName:t.catalog,cubeName:t.cube},command:"schemaDimensions"};P({url:t.url},e).then((function(t){!function(t){for(var e,n=0;n<t.length;n++)if(2===t[n].type){e=!0;break}e&&t.splice(n+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})}(t),p(t),i(!1)}))}),[t.catalog,t.cube,t.url]);var N=function(t,e){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var r=t[n];if(String(r.name)===String(e.name))return r}return null},F=function(t,e){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var r=t[n];if(r.uniqueName===e.uniqueName)return r;var o=F(r.children,e);if(null!==o)return o}return null},L=function(e){return Jt(void 0,void 0,void 0,(function(){var n,r,o;return Qt(this,(function(i){return e.name&&(n="schemaMembers",r=String(e.name)+".[(ALL)]"),o={connection:{catalog:t.catalog,cube:t.cube},restrictions:{catalogName:t.catalog,cubeName:t.cube,hierarchyUniqueName:void 0,dimensionUniqueName:void 0,levelUniqueName:r,memberUniqueName:void 0,treeOp:void 0},command:n},[2,P({url:t.url},o)]}))}))},z=function(e){return Jt(void 0,void 0,void 0,(function(){var n,r,o,i;return Qt(this,(function(a){return e.uniqueName&&(n="schemaMembers",r=e.uniqueName.replace(/\&/g,"&amp;"),o=1),i={connection:{catalog:t.catalog,cube:t.cube},restrictions:{catalogName:t.catalog,cubeName:t.cube,hierarchyUniqueName:void 0,dimensionUniqueName:void 0,levelUniqueName:void 0,memberUniqueName:r,treeOp:o},command:n},[2,P({url:t.url},i)]}))}))},B=function(e){return Jt(void 0,void 0,void 0,(function(){var n,r,o,i;return Qt(this,(function(a){return 2===e.type?n="schemaMeasures":e.dimensionUniqueName?(n="schemaLevels",o=e.uniqueName):(n="schemaHierarchies",r=e.uniqueName),i={connection:{catalog:t.catalog,cube:t.cube},restrictions:{catalogName:t.catalog,cubeName:t.cube,hierarchyUniqueName:o,dimensionUniqueName:r,levelUniqueName:void 0,memberUniqueName:void 0,treeOp:void 0},command:n},[2,P({url:t.url},i)]}))}))};return{pivotProps:{rowAxes:v,columnAxes:d,data:s.data,rows:s.rows,columns:s.columns,onRowAxesChange:M,onColumnAxesChange:R},configuratorProps:{sort:E,onSortChange:function(t){I(t.value)},filter:D,onFilterChange:function(t){j(t.value)},data:u,rowAxes:v,columnAxes:d,measureAxes:b,onRowAxesChange:M,onColumnAxesChange:R,onMeasureAxesChange:function(t){x(t.value)},onFieldsEditorFieldExpand:function(e){return Jt(void 0,void 0,void 0,(function(){var n,r,o,i,a;return Qt(this,(function(s){switch(s.label){case 0:return n=u.slice(),(r=F(n,e.value))&&"[KPIs]"===r.uniqueName?(i=ne,[4,Jt(void 0,void 0,void 0,(function(){var e;return Qt(this,(function(n){return e={connection:{catalog:t.catalog,cube:t.cube},restrictions:{catalogName:t.catalog,cubeName:t.cube},command:"schemaKPIs"},[2,P({url:t.url},e)]}))}))]):[3,2];case 1:return o=i.apply(void 0,[s.sent()]),r.children=o,[3,5];case 2:return r&&"kpi"===r.type?(r.children=V(r),[3,5]):[3,3];case 3:return!r||r.children?[3,5]:[4,B(r)];case 4:a=s.sent(),r.children=a,s.label=5;case 5:return p(n),[2]}}))}))},onAxisFilterFieldExpand:function(t){return Jt(void 0,void 0,void 0,(function(){var e,n,r,o,i,a,s,l;return Qt(this,(function(c){switch(c.label){case 0:return e={rowAxes:[v,g],columnAxes:[d,f],measureAxes:[b,x]}[t.target.props.axes],n=e[0],r=e[1],o=n.slice(),(i=N(o,t.target.props.dataItem))?(a=(i.fields||[]).slice(),!(s=F(a,t.value))||s.children&&s.children.length?[3,2]:[4,z(s)]):[3,2];case 1:l=c.sent(),s.children=l,i.fields=a,r(o),c.label=2;case 2:return[2]}}))}))},onAxisFilterFieldsExpandChange:function(t){return Jt(void 0,void 0,void 0,(function(){var e,n,r,o,i,a;return Qt(this,(function(s){switch(s.label){case 0:return e={rowAxes:[v,g],columnAxes:[d,f],measureAxes:[b,x]}[t.target.props.axes],n=e[0],r=e[1],o=n.slice(),!(i=N(o,t.target.props.dataItem))||i.fields?[3,2]:[4,L(i)];case 1:a=s.sent(),i.fields=a,r(o),s.label=2;case 2:return[2]}}))}))}},state:{loading:n}}},ee=function(t){var e=te(t);return t.children(e)},ne=function(t){for(var e=0,n=t.length;e<n;e++)t[e].uniqueName=t[e].name,t[e].type="kpi";return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"Gantt",(function(){return Bt})),n.d(e,"GanttDayView",(function(){return Ht})),n.d(e,"GanttWeekView",(function(){return Ct})),n.d(e,"GanttMonthView",(function(){return Wt})),n.d(e,"GanttYearView",(function(){return Kt})),n.d(e,"orderBy",(function(){return w})),n.d(e,"filterBy",(function(){return k})),n.d(e,"mapTree",(function(){return O})),n.d(e,"extendDataItem",(function(){return C})),n.d(e,"createDataTree",(function(){return _})),n.d(e,"removeTask",(function(){return me})),n.d(e,"addTask",(function(){return de})),n.d(e,"updateTask",(function(){return fe})),n.d(e,"addDependency",(function(){return he})),n.d(e,"GanttTextFilter",(function(){return ee})),n.d(e,"GanttNumericFilter",(function(){return oe})),n.d(e,"GanttBooleanFilter",(function(){return se})),n.d(e,"GanttDateFilter",(function(){return ue})),n.d(e,"GanttRow",(function(){return Ve})),n.d(e,"GanttForm",(function(){return ze})),n.d(e,"GanttRemoveDialog",(function(){return Be})),n.d(e,"getSelectedState",(function(){return c.getSelectedState})),n.d(e,"getSelectedStateFromKeyDown",(function(){return c.getSelectedStateFromKeyDown})),n.d(e,"setSelectedState",(function(){return c.setSelectedState})),n.d(e,"GANTT_COL_INDEX_ATTRIBUTE",(function(){return h})),n.d(e,"GANTT_ROW_INDEX_ATTRIBUTE",(function(){return p})),n.d(e,"GANTT_PREVENT_SELECTION_ELEMENT",(function(){return d}));var r,o,i=n(0),a=n(1),s=n(2),l=n(4),c=n(6),u=n(19),p=c.TABLE_ROW_INDEX_ATTRIBUTE,h=c.TABLE_COL_INDEX_ATTRIBUTE,d=c.TABLE_PREVENT_SELECTION_ELEMENT,f=(new Date).getTime(),m={skeleton:"MEd"},v=((r={})["data-dependency-drag-handle"]="start",r),g=((o={})["data-dependency-drag-handle"]="finish",o),y={id:"id",start:"start",end:"end",title:"title",percentComplete:"percentComplete",isRollup:"isRollup",isExpanded:"isExpanded",isInEdit:"isInEdit",children:"children",isSelected:"isSelected"},b={id:"id",fromId:"fromId",toId:"toId",type:"type"},x=function(){return(x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},w=c.orderBy,k=c.filterBy,O=s.t,C=s.l,_=u.createDataTree,S=function(t){return Object(l.getDate)(t)},E=function(t,e){return Object(l.getDate)(Object(l.addDays)(t,e||1))};function I(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))}var T=function(t,e,n,r){return r?D(t,e,n):P(t,e,n)},D=function(t,e,n){n.push({top:t-2,left:e}),n.push({top:t,left:e-4+1}),n.push({top:t+2,left:e}),n.push({top:t,left:e})},P=function(t,e,n){n.push({top:t+2,left:e}),n.push({top:t,left:e+4-1}),n.push({top:t-2,left:e}),n.push({top:t,left:e})},A=function(t){if(void 0===t.workWeekStart||void 0===t.workWeekEnd)return[];var e=[],n=t.workWeekStart;for(e.push(n);t.workWeekEnd!==n;)n>6?n-=7:n++,e.push(n);return e},j=function(t,e){for(var n=e.step,r=e.timezone,o=[],i=l.ZonedDate.fromLocalDate(t.start,r),a=l.ZonedDate.fromLocalDate(t.end,r),s=i.clone();s.getTime()<a.getTime();){var c=s.clone(),u=c.clone().addTime(n),p=new Date(c.getTime()),h={end:new Date(u.getTime()),start:p,zonedStart:c,zonedEnd:u};o.push(h),s=s.addTime(n)}return o},M=function(t,e,n){return j(t,{step:l.MS_PER_DAY,timezone:e.timezone}).map((function(t){return{range:t,isWork:(r=t.start,o=e.workDays,i=r.getDay(),o.indexOf(i)>-1),span:1,text:n.formatDate(t.zonedStart,m),type:"day"};var r,o,i}))},R=function(t,e,n){return function(t,e,n){for(var r=e.timezone,o=[],i=l.ZonedDate.fromLocalDate(t.start,r),a=l.ZonedDate.fromLocalDate(t.end,r),s=i.clone(),c=0;s.getTime()<a.getTime();c++){var u=s.clone(),p=E(Object(l.firstDayInWeek)(Object(l.getDate)(u),n.firstDay()),7),h=l.ZonedDate.fromUTCDate(I(p),r),d=h.getTime()>a.getTime()?a.clone():h;s=d.clone();var f=new Date(u.getTime()),m={end:new Date(d.getTime()),start:f,zonedStart:u,zonedEnd:d};o.push(m)}return o}(t,{timezone:e.timezone},n).map((function(t){var e=(t.zonedEnd.getTime()-t.zonedStart.getTime())/l.MS_PER_DAY;return{range:t,isWork:!1,span:e,text:n.formatDate(t.zonedStart,m)+" - "+n.formatDate(t.zonedEnd,m),type:"week"}}))},N=function(t,e,n){return function(t,e){for(var n=e.timezone,r=[],o=l.ZonedDate.fromLocalDate(t.start,n),i=l.ZonedDate.fromLocalDate(t.end,n),a=o.clone(),s=0;a.getTime()<i.getTime();s++){var c=a.clone(),u=l.ZonedDate.fromLocalDate(Object(l.addMonths)(new Date(c.getTime()),1),n);a=u.clone();var p=new Date(c.getTime()),h={end:new Date(u.getTime()),start:p,zonedStart:c,zonedEnd:u};r.push(h)}return r}(t,{timezone:e.timezone}).map((function(t){var e=(t.zonedEnd.getTime()-t.zonedStart.getTime())/l.MS_PER_DAY;return{range:t,isWork:!1,span:e,text:n.formatDate(t.zonedStart,"MMM"),type:"month"}}))},F=function(t,e,n){return function(t,e){for(var n=e.timezone,r=[],o=l.ZonedDate.fromLocalDate(t.start,n),i=l.ZonedDate.fromLocalDate(t.end,n),a=o.clone(),s=0;a.getTime()<i.getTime();s++){var c=a.clone(),u=l.ZonedDate.fromLocalDate(Object(l.addMonths)(new Date(c.getTime()),12),n);a=u.clone();var p=new Date(c.getTime()),h={end:new Date(u.getTime()),start:p,zonedStart:c,zonedEnd:u};r.push(h)}return r}(t,{timezone:e.timezone}).map((function(t){var e=(t.zonedEnd.getTime()-t.zonedStart.getTime())/l.MS_PER_DAY;return{range:t,isWork:!1,span:e,text:n.formatDate(t.zonedStart,"yyyy"),type:"year"}}))},L=function(t,e){return Boolean(Object(s.q)(e)(t))},z=function(t,e){return Boolean(Object(s.q)(e)(t))},B=n(5),V=i.createContext([]);V.displayName="KendoReactGanttTaskDataContext";var H=i.createContext([]);H.displayName="KendoReactGanttDependencyDataContext";var U=i.createContext(y),W=function(){return i.useContext(U)};U.displayName="KendoReactGanttTaskModelFieldsContext";var q=i.createContext(b),K=function(){return i.useContext(q)};q.displayName="KendoReactGanttDependencyModelFieldsContext";var G=i.createContext({}),Y=function(){return i.useContext(G)};G.displayName="KendoReactGanttPropsContext";var X=i.createContext({start:new Date,end:new Date,zonedStart:l.ZonedDate.fromLocalDate(new Date),zonedEnd:l.ZonedDate.fromLocalDate(new Date)}),$=function(){return i.useContext(X)};X.displayName="KendoReactGanttDateRangeContext";var Z=i.createContext([]);Z.displayName="KendoReactGanttViewsContext";var J=i.createContext(["week",s.v]),Q=function(){return i.useContext(J)};J.displayName="KendoReactGanttActiveViewContext";var tt=i.createContext(0),et=function(){return i.useContext(tt)};tt.displayName="KendoReactGanttRowHeightContext";var nt=i.createContext(0);nt.displayName="KendoReactGanttToolbarHeightContext";var rt=i.createContext({onDataStateChange:s.v,onSortChange:s.v,onFilterChange:s.v,onColumnMenuFilterChange:s.v,onExpandChange:s.v,onRowClick:s.v,onRowDoubleClick:s.v,onRowContextMenu:s.v,onColumnResize:s.v,onColumnReorder:s.v,onDependencyCreate:s.v,onKeyDown:s.v,onSelectionChange:s.v,onHeaderSelectionChange:s.v});rt.displayName="KendoReactGanttEventsContext";var ot=i.createContext({onTaskClick:s.v,onTaskDoubleClick:s.v,onTaskContextMenu:s.v});ot.displayName="KendoReactGanttTaskEventsContext";var it=function(t){var e=t.children,n=t.taskData,r=t.dependencyData,o=t.taskModelFields,a=t.dependencyModelFields,s=t.props,l=t.dateRange,c=t.views,u=t.activeView,p=t.rowHeight,h=t.toolbarHeight,d=t.events,f=t.taskEvents;return i.createElement(G.Provider,{value:s},i.createElement(V.Provider,{value:n},i.createElement(H.Provider,{value:r},i.createElement(U.Provider,{value:o},i.createElement(q.Provider,{value:a},i.createElement(X.Provider,{value:l},i.createElement(Z.Provider,{value:c},i.createElement(J.Provider,{value:u},i.createElement(tt.Provider,{value:p},i.createElement(nt.Provider,{value:h},i.createElement(rt.Provider,{value:d},i.createElement(ot.Provider,{value:f},e))))))))))))};it.displayName="KendoReactGanttContext";var at=i.createContext([{current:{}},s.v]),st=function(){return i.useContext(at)};at.displayName="KendoReactGanttViewContext";var lt=i.createContext(0);lt.displayName="KendoReactGanttViewTimelineWidthContext";var ct=i.createContext({onDependencyHandlePress:s.v,onDependencyHandleDrag:s.v,onDependencyHandleRelease:s.v,isEnabled:!1,draggedId:null});ct.displayName="KendoReactGanttViewDependencyDragContext";var ut,pt=function(t){var e=t.children,n=t.tasksStore,r=t.timelineWidth,o=t.dependencyDrag;return i.createElement(at.Provider,{value:n},i.createElement(lt.Provider,{value:r},i.createElement(ct.Provider,{value:o},e)))};pt.displayName="KendoReactGanttViewContext",function(t){t[t.add=0]="add",t[t.remove=1]="remove"}(ut||(ut={}));var ht=function(){return(ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},dt=i.forwardRef((function(t,e){var n,r,o=$(),a=W(),l=i.useContext(lt),c=i.useContext(ct),u=i.useContext(ot),p=i.useRef(null),h=i.useRef(null);!function(t,e,n,r){var o=i.useRef(null),a=st()[1];i.useImperativeHandle(o,(function(){return{element:r.current,dataItem:t}})),i.useImperativeHandle(n,(function(){return o.current})),i.useLayoutEffect((function(){var t=o.current;if(t)return a({type:ut.add,itemRef:t,id:e}),function(){a({type:ut.remove,itemRef:t,id:e})}}))}(t.dataItem,Object(s.q)(a.id)(t.dataItem),e,p);var d=i.useRef(null),f=Object(s.q)(a.id)(t.dataItem),m=Object(s.q)(a.start)(t.dataItem),y=Object(s.q)(a.end)(t.dataItem),b=Object(s.q)(a.title)(t.dataItem),x=Object(s.q)(a.percentComplete)(t.dataItem),w=Object(s.q)(a.children)(t.dataItem),k=Object(s.q)(a.isSelected)(t.dataItem),O=m&&m.getTime(),C=y&&y.getTime(),_=w&&w.length,S=!_&&O===C,E=O&&C&&function(t,e,n,r){return n<e&&t<=r}(o.start,o.end,m,y),I=i.useState(!1),T=I[0],D=I[1],P=i.useRef(null),A=i.useRef(null);Object(s.A)(P,{onPress:c.onDependencyHandlePress,onDrag:c.onDependencyHandleDrag,onRelease:c.onDependencyHandleRelease}),Object(s.A)(A,{onPress:c.onDependencyHandlePress,onDrag:c.onDependencyHandleDrag,onRelease:c.onDependencyHandleRelease});var j=i.useCallback((function(e){u.onTaskClick&&u.onTaskClick({dataItem:t.dataItem,level:t.level,nativeEvent:e&&e.nativeEvent,syntheticEvent:e,target:null})}),[t.dataItem,t.level]),M=i.useCallback((function(e){u.onTaskDoubleClick&&u.onTaskDoubleClick({dataItem:t.dataItem,level:t.level,nativeEvent:e&&e.nativeEvent,syntheticEvent:e,target:null})}),[t.dataItem,t.level]),R=i.useCallback((function(e){u.onTaskContextMenu&&u.onTaskContextMenu({dataItem:t.dataItem,level:t.level,nativeEvent:e&&e.nativeEvent,syntheticEvent:e,target:null})}),[t.dataItem,t.level]),N=i.useCallback((function(e){u.onTaskRemoveClick&&u.onTaskRemoveClick({dataItem:t.dataItem,level:t.level,nativeEvent:e&&e.nativeEvent,syntheticEvent:e,target:null})}),[t.dataItem,t.level]),F=i.useCallback((function(){var t=o.start,e=o.end,n=d.current,r=p.current,i=h.current;if(E&&null!==n&&null!==r){var a=n.clientWidth/(e.getTime()-t.getTime()),s=(m.getTime()-t.getTime())*a,l=(y.getTime()-m.getTime())*a,c=(n.offsetHeight-r.offsetHeight)/2;r.style.left=Math.round(S?s-6:s)+"px",r.style.top=Math.round(c)+"px",S||(r.style.width=Math.round(l)+"px",null!==i&&(i.style.width=Math.round(l*(x||0))+"px")),D(!0)}}),[o.start.getTime(),o.end.getTime(),O,C,E,x,l]);i.useEffect(F,[F]);var L={visibility:T?void 0:"hidden",display:E?void 0:"none"},z={userSelect:"none",display:c.draggedId===String(f)?"block":void 0};return i.createElement("td",{ref:d,key:f,role:"presentation"},S?i.createElement("div",ht({"aria-hidden":!0,className:Object(s.g)({"k-task":!0,"k-task-milestone":!0,"k-state-selected":k&&!Array.isArray(k)}),style:L,ref:p},((n={})["data-task-id"]=f,n),{onClick:j,onDoubleClick:M,onContextMenu:R}),i.createElement("div",{className:"k-task-milestone-content"}),c.isEnabled&&i.createElement("div",ht({className:"k-task-dot k-task-start",ref:P,style:z},v)),c.isEnabled&&i.createElement("div",ht({className:"k-task-dot k-task-end",ref:A,style:z},g))):i.createElement("div",ht({"aria-hidden":!0,className:Object(s.g)({"k-task":!0,"k-task-summary":_,"k-task-single":!_,"k-state-selected":k&&!Array.isArray(k)}),ref:p,style:L},((r={})["data-task-id"]=f,r),{onClick:j,onDoubleClick:M,onContextMenu:R}),_?i.createElement("div",{className:"k-task-summary-progress",ref:h},i.createElement("div",{className:"k-task-summary-complete"})):i.createElement("div",{className:"k-task-complete",ref:h}),!_&&i.createElement(i.Fragment,null,i.createElement("div",{className:"k-task-content"},b),u.onTaskRemoveClick?i.createElement("span",{className:"k-task-actions"},i.createElement("span",{onClick:N,className:"k-link k-task-delete","aria-label":"Delete"},i.createElement("span",{className:"k-icon k-i-close"}))):null),c.isEnabled&&i.createElement("div",ht({className:"k-task-dot k-task-start",ref:P,style:z},v)),c.isEnabled&&i.createElement("div",ht({className:"k-task-dot k-task-end",ref:A,style:z},g))))}));dt.displayName="KendoReactGanttTask";var ft=function(t){var e=t.dependency,n=st()[0],r=i.useRef(null),o=K(),a=et(),l=i.useState(!1),c=l[0],u=l[1];return i.useEffect((function(){if(null!==r.current&&null!==n.current){var t=n.current[Object(s.q)(o.fromId)(e)],i=n.current[Object(s.q)(o.toId)(e)];if(t&&i){var l=t.element,p=i.element;if(l&&p)if(!1!==c){var h={top:l.offsetTop+l.offsetHeight/2,start:l.offsetLeft,end:l.offsetLeft+l.offsetWidth},d={top:p.offsetTop+p.offsetHeight/2,start:p.offsetLeft,end:p.offsetLeft+p.offsetWidth},f=Object(s.q)(o.type)(e),m=function(t,e,n,r){var o=[],i=0,a=0,s=Math.floor(n/2),l=t.top<e.top,c=function(){return o.push({left:a,top:i})};if(0===r||3===r){var u=3===r?"start":"end";i=t.top,a=t[u],c(),a=Math["start"===u?"min":"max"](t[u],e[u]),a="start"===u?a-10:a+10,c(),i=e.top,c(),a="start"===u?e[u]-4:e[u]+4,c(),T(i,a,o,"start"!==u)}else{var p=2===r?"start":"end",h=2===r?"end":"start",d=2===r?t[p]-20>=e[h]:t[p]+20<=e[h];i=t.top,a=t[p],c(),a="start"===p?a-10:a+10,c(),d||(i=l?i+s:i-s,c(),a="start"===p?e[h]+10:e[h]-10,c()),i=e.top,c(),a="start"===h?e[h]-4:e[h]+4,c(),T(i,a,o,"start"!==h)}return o}(h,d,a,f);m&&m.length&&r.current.setAttribute("points",m.map((function(t){return t.left+","+t.top})).join(" "))}else u(!0);else u(!1)}else u(!1)}else u(!1)})),i.createElement("polyline",{ref:r,style:{display:c?void 0:"none"}})};ft.displayName="KendoReactGanttDependency";var mt,vt,gt=(mt=function(t,e){return(mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}mt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yt=function(){return(yt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},bt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},xt=function(t){function e(e){var n=t.call(this,e)||this;return n.tableElement=null,n.tbodyElement=null,n.wrapperScrollLeft=0,n.wrapperScrollTop=0,n.updateOnScroll=!1,n.tbodyOffsetTop=0,n.prevData=[],n.flattedData=[],n.element=null,n._treeListId=Object(s.r)(),n.contextStateRef={current:void 0},n.navigationStateRef={current:void 0},n.scrollIntoView=function(t){if(n.element){var e=t.rowIndex,r=void 0===e?0:e,o=n.props.rowHeight,i=void 0===o?0:o;n.element.scroll(0,(r-1)*i)}},n.getColumns=function(t){var e=t.filter((function(t){return t.declarationIndex>=0&&-1===t.parentIndex})),n=function(t){return t.sort((function(t,e){return t.declarationIndex-e.declarationIndex})),t.map((function(t){t.declarationIndex,t.parentIndex,t.depth,t.colSpan,t.rowSpan,t.index,t.kFirst,t.groupable;var e=t.children,r=bt(t,["declarationIndex","parentIndex","depth","colSpan","rowSpan","index","kFirst","groupable","children"]);return e.length?yt({children:n(e)},r):r}))};return n(e)},n.onKeyDown=function(t){if(c.tableKeyboardNavigation.onKeyDown(t,{contextStateRef:n.contextStateRef,navigationStateRef:n.navigationStateRef}),n.props.onKeyDown){var e=Object(c.getSelectionOptions)(n.props.selectable),r=e.mode,o=e.cell;n.props.onKeyDown.call(void 0,yt({dataItems:n.getLeafDataItems(),mode:r,cell:o,componentId:n._treeListId,selectedField:n.props.selectedField},n.getEventArguments(t)))}},n.onFocus=function(t){c.tableKeyboardNavigation.onFocus(t,{contextStateRef:n.contextStateRef})},n.onRowDrag=function(t){if(n.props.onRowDrag){var e=yt({},t,{target:n});n.props.onRowDrag.call(void 0,e)}},n.onRowDrop=function(t){if(n.props.onRowDrop){var e=yt({},t,{target:n});n.props.onRowDrop.call(void 0,e)}},n.onColumnReorder=function(t,e,r){var o=n.props.extendedColumns,i=o[t].depth,a=function(t){do{t++}while(t<o.length&&o[t].depth>i);return t},s=o.slice(),l=s.splice(t,a(t)-t);if(s.splice.apply(s,[t<e?a(e-l.length):e,0].concat(l)),s.filter((function(t){return t.declarationIndex>=0})).forEach((function(t,e){return t.orderIndex=e})),n.props.onColumnReorder){var c={target:n,columns:n.getColumns(s),nativeEvent:r};n.props.onColumnReorder.call(void 0,c)}},n.onColumnResize=function(t,e,r,o,i){if(n.props.onColumnResize){var a=n.props.extendedColumns.filter((function(t){return 0===t.children.length})).reduce((function(t,e){return t+parseFloat(String(e.width))}),0);n.tableElement&&(n.tableElement.style.width=a+"px");var s={columns:n.getColumns(n.props.extendedColumns),totalWidth:a,index:t,nativeEvent:o,newWidth:e,oldWidth:r,end:i,target:n};n.props.onColumnResize.call(void 0,s)}},n.onScroll=function(t){var e=t.currentTarget.scrollLeft,r=t.currentTarget.scrollTop,o=n.props,i=o.columnVirtualization,a=o.scrollable,s=o.rowHeight,l=void 0===s?0:s,c=!1;i&&Math.abs(n.wrapperScrollLeft-e)>0&&(n.wrapperScrollLeft=e,c=!0),"virtual"===a&&Math.abs(n.wrapperScrollTop-r)>l&&(n.wrapperScrollTop=r,c=!0),c&&(n.updateOnScroll=!0,n.forceUpdate())},n.calculateSizes=function(t){if(t&&"none"!==n.props.scrollable){var e=Array.from(t.childNodes),r=e.find((function(t){return"TABLE"===t.nodeName})),o=n.props.toolbar&&e.find((function(t){return 1===t.nodeType&&t.classList.contains("k-grid-toolbar")})),i=0;if(o){var a=o.style.boxSizing;o.style.boxSizing="border-box",i=parseFloat(String(window.getComputedStyle(o).height))||o.offsetHeight,o.style.boxSizing=a,o.getAttribute("style")||o.removeAttribute("style")}n.tbodyOffsetTop=r.tBodies[0].offsetTop,Object(u.setHeaderRowsTop)(r,i)}},n.onItemChange=function(t){if(t.field!==n.props.expandField){if(n.props.onItemChange){var e=yt({},n.getEventArguments(t.syntheticEvent),{dataItem:t.dataItem,level:t.level,field:t.field,value:t.value});n.props.onItemChange.call(void 0,e)}}else{var r=n.props.onExpandChange;if(r){var o=yt({},n.getEventArguments(t.syntheticEvent),{dataItem:t.dataItem,level:t.level,value:t.value});r.call(void 0,o)}}},n.onHeaderSelectionChange=function(t){if(n.props.onHeaderSelectionChange){var e={field:t.field,nativeEvent:t.syntheticEvent&&t.syntheticEvent.nativeEvent,syntheticEvent:t.syntheticEvent,target:n,dataItems:n.getLeafDataItems()};n.props.onHeaderSelectionChange.call(void 0,e)}},n.selectionRelease=function(t){if(n.props.onSelectionChange){var e=yt({syntheticEvent:void 0,target:n,selectedField:n.props.selectedField||"",componentId:n._treeListId,dataItems:n.getLeafDataItems(),dataItem:null,level:[]},t);n.props.onSelectionChange.call(void 0,e)}},n.onSortChange=function(t,e,r){n.onDataStateChange(n.props.onSortChange,{sort:e,field:r},t)},n.onFilterChange=function(t){var e=t.filter,r=t.field;n.onDataStateChange(n.props.onFilterChange,{filter:e,field:r},t.syntheticEvent)},n.onColumnMenuFilterChange=function(t,e,r){var o=n.props.onColumnMenuFilterChange;if(o){var i={syntheticEvent:t,filter:e,field:r,target:n,nativeEvent:t.nativeEvent};o.call(void 0,i)}},n.onExpandChange=function(t,e,r){var o=n.props,i=o.expandField,a=o.onExpandChange;if(i&&a){var s=yt({},n.getEventArguments(t),{dataItem:e,level:r,value:L(e,n.props.expandField)});a.call(void 0,s)}},n.onRowClick=function(t,e){if(n.props.onRowClick&&"TD"===t.target.nodeName){var r=yt({dataItem:e.dataItem,level:e.level},n.getEventArguments(t));n.props.onRowClick.call(void 0,r)}},n.rowDoubleClick=function(t,e){if(n.props.onRowDoubleClick&&"TD"===t.target.nodeName){var r=yt({dataItem:e.dataItem,level:e.level},n.getEventArguments(t));n.props.onRowDoubleClick.call(void 0,r)}},n.rowContextMenu=function(t,e){if(n.props.onRowContextMenu&&"TD"===t.target.nodeName){var r=yt({dataItem:e.dataItem,level:e.level},n.getEventArguments(t));n.props.onRowContextMenu.call(void 0,r)}},n.onPageChange=function(t){if(n.props.onPageChange){var e=yt({},n.getEventArguments(t.syntheticEvent),{skip:t.skip,take:t.take});n.props.onPageChange.call(void 0,e)}},n.onDataStateChange=function(t,e,r){if(t&&t.call(void 0,yt({},n.getEventArguments(r),e)),n.props.onDataStateChange){var o=yt({},n.getEventArguments(r),{dataState:yt({},n.getDataState(),e)});n.props.onDataStateChange.call(void 0,o)}},n.getDataState=function(){return{filter:n.props.filter,sort:n.props.sort}},n.getEventArguments=function(t){return{nativeEvent:t&&t.nativeEvent,syntheticEvent:t,target:n}},n.getLeafDataItems=function(){return n.flatData.map((function(t){return t.dataItem}))},n.dragLogic=new c.CommonDragLogic(n.onColumnReorder,s.v,s.v),n.columnResize=new c.ColumnResize(n.onColumnResize),c.tableKeyboardNavigation.onConstructor({navigatable:Boolean(e.navigatable),contextStateRef:n.contextStateRef,navigationStateRef:n.navigationStateRef,idPrefix:e.idPrefix}),n}return gt(e,t),Object.defineProperty(e.prototype,"document",{get:function(){if(s.e)return this.element&&this.element.ownerDocument||document},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.calculateSizes(this.element),c.tableKeyboardNavigation.onComponentDidMount({scope:this.element||void 0,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef})},e.prototype.getSnapshotBeforeUpdate=function(){return c.tableKeyboardNavigation.onGetSnapshotBeforeUpdate({document:this.document,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef}),null},e.prototype.componentDidUpdate=function(t){t.columns!==this.props.columns&&this.calculateSizes(this.element),c.tableKeyboardNavigation.onComponentDidUpdate({scope:this.element||void 0,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef})},e.prototype.componentWillUnmount=function(){this.columnResize.columns=[],this.dragLogic.columns=[],this.prevData=[],this.flattedData=[],this.updateOnScroll=!1},e.prototype.render=function(){var t=this,e=this.props,n=e.filterRow,r=e.scrollable,o=void 0===r?"scrollable":r,a=e.resizable,l=void 0!==a&&a,p=e.reorderable,h=void 0!==p&&p,d=e.skip,f=e.take,m=e.afterContent,v=e.extendedColumns,g=void 0===v?[]:v,y=e.columnsMap,b=g.some((function(t){return Boolean(t.filter)}))||void 0!==n,x=n||c.FilterRow,w=c.tableKeyboardNavigationTools.getIdPrefix(this.navigationStateRef);this.columnResize.columns=g,this.columnResize.resizable=l,this.dragLogic.columns=g,this.dragLogic.reorderable=h,this.dragLogic.groupable=!1;var k=g.filter((function(t){return 0===t.children.length})),O=i.createElement(c.Header,{headerRow:i.createElement(c.HeaderRow,{sort:this.props.sort,sortable:this.props.sortable,sortChange:this.onSortChange,selectionChange:this.onHeaderSelectionChange,columns:g,columnsMap:y,cellRender:this.props.headerCellRender,columnResize:this.columnResize,columnMenu:this.props.columnMenu,columnMenuFilter:this.props.columnMenuFilter,columnMenuFilterChange:this.onColumnMenuFilterChange,pressHandler:this.dragLogic.pressHandler,dragHandler:this.dragLogic.dragHandler,releaseHandler:this.dragLogic.releaseHandler}),filterRow:b&&i.createElement(x,{columns:k,filter:this.props.filter,filterChange:this.onFilterChange,sort:this.props.sort,ariaRowIndex:y.length+1})||void 0,columnResize:this.columnResize}),C=this.props.style||{},_=Object(c.tableColumnsVirtualization)({enabled:this.props.columnVirtualization,columns:k,scrollLeft:this.wrapperScrollLeft,tableViewPortWidth:parseFloat((C.width||"").toString())}),S=_.colSpans,E=_.hiddenColumns,I=this.flatData,T=I.length;void 0!==d&&void 0!==f&&(I=I.slice(d,d+f)),"virtual"===o&&(I=Object(u.tableRowsVirtualization)({rows:I,tableViewPortHeight:parseFloat((C.height||C.maxHeight||"").toString()),scrollTop:this.wrapperScrollTop}),this.updateOnScroll=!1);var D=I.map((function(t){return t.level})),P=y.length+(b?1:0)+1,A=I.length>0&&I.map((function(e,n){var r=Object(s.q)(t.props.editField||"")(e.dataItem),o=Object(s.q)(t.props.dataItemKey)(e.dataItem),a=String(o||e.level.join(".")),l=L(e.dataItem,t.props.expandField),p=t.props.selectedField?Object(s.q)(t.props.selectedField)(e.dataItem):void 0,h={key:a,level:e.level,levels:D,dataItem:e.dataItem,selectedField:t.props.selectedField,rowHeight:e.height,render:t.props.rowRender,onDrop:t.onRowDrop,onDrag:t.onRowDrag,onClick:function(n){return t.onRowClick(n,e)},onDoubleClick:function(n){return t.rowDoubleClick(n,e)},onContextMenu:function(n){return t.rowContextMenu(n,e)},isAltRow:n%2!=0,expanded:l,rowIndex:n,ariaRowIndex:P+n,ariaSetSize:e.levelCount,ariaPosInSet:e.level[e.level.length-1]+1,isSelected:"boolean"==typeof p&&p},d=t.props.editRow,f=t.props.row||u.TreeListRow,m=function(e,n,r,o,a,s){return k.map((function(l,p){if(E[p])return null;var h=(l.className?l.className+" ":"")+(l.locked?"k-grid-content-sticky":""),d={id:c.tableKeyboardNavigationTools.generateNavigatableId(r+"-"+String(p),w),colSpan:S[p],dataItem:e.dataItem,field:l.field,format:l.format,className:h||void 0,render:t.props.cellRender,onChange:t.onItemChange,selectionChange:t.props.onSelectionChange?function(n){t.onSelectionChange({event:n,item:e,columnIndex:p,dataIndex:a})}:void 0,level:e.level,expandable:l.expandable,expanded:o,hasChildren:z(e.dataItem,t.props.subItemsField),colIndex:p,ariaColumnIndex:l.ariaColumnIndex,onExpandChange:t.onExpandChange,style:void 0!==l.left&&{left:l.left,right:l.right,borderRightWidth:l.rightBorder?"1px":""}||{},isSelected:Array.isArray(s)&&s.indexOf(p)>-1};return n&&l.editCell?i.createElement(l.editCell,yt({},d,{onChange:t.onItemChange,key:p})):l.cell?i.createElement(l.cell,yt({key:p},d)):i.createElement(u.TreeListCell,yt({key:p},d))}))}(e,r,a,l,n,p);return r&&d?i.createElement(d,yt({},h),m):i.createElement(f,yt({},h),m)}))||i.createElement("tr",{className:"k-grid-norecords"},i.createElement("td",{colSpan:k.length},this.props.noRecords||i.createElement(u.TreeListNoRecords,null))),j=i.createElement("colgroup",{ref:function(e){t.columnResize.colGroupMain=e},role:"presentation"},k.map((function(e,n){return i.createElement("col",{key:n.toString(),className:(r=e.field,t.props.sort&&t.props.sort.some((function(t){return t.field===r}))?"k-sorted":void 0),style:void 0!==e.width?{width:e.width}:void 0});var r}))),M=this.props.columnVirtualization||"virtual"===this.props.scrollable,R=this.props.selectable&&this.props.selectable.drag?"none":void 0,N=this.props.tableProps||{};return i.createElement(c.TableKeyboardNavigationContext.Provider,{value:this.contextStateRef.current},i.createElement("div",yt({style:this.props.style,className:Object(s.g)("k-widget k-grid",this.props.className,{"k-treelist-scrollable":"none"!==o}),ref:function(e){return t.element=e},onScroll:M?this.onScroll:void 0,onKeyDown:this.onKeyDown,onFocus:this.onFocus,"aria-rowcount":T,"aria-colcount":k.length,role:"treegrid"},c.tableKeyboardNavigationScopeAttributes),this.props.toolbar,i.createElement(c.TableSelection,{selectable:this.props.selectable,onRelease:this.selectionRelease,childRef:function(e){t.tableElement=e}},i.createElement("table",yt({},this.props.tableProps||{},{style:yt({},N.style||{},{userSelect:R}),role:"presentation"}),j,O,i.createElement("tbody",yt({},c.tableKeyboardNavigationBodyAttributes,{ref:function(e){return t.tbodyElement=e},role:"presentation"}),A))),this.props.pager&&i.createElement(this.props.pager,{className:"k-grid-pager",total:T,skip:d,take:f,onPageChange:this.onPageChange}),h&&i.createElement(i.Fragment,null,i.createElement(c.DropClue,{ref:this.dragLogic.refDropElementClue}),i.createElement(c.DragClue,{ref:this.dragLogic.refDragElementClue})),m))},Object.defineProperty(e.prototype,"flatData",{get:function(){var t=this.props,e=t.data,n=void 0===e?[]:e,r=t.rowHeight,o=void 0===r?0:r,i=0,a=this.updateOnScroll&&this.prevData===n&&this.tbodyOffsetTop>0&&this.flattedData.length?this.flattedData:n.map((function(t){return yt({},t,(i+=(e={height:o,offsetTop:i}).height,e));var e}));return this.prevData=n,this.flattedData=a,a},enumerable:!0,configurable:!0}),e.prototype.onSelectionChange=function(t){if(this.props.onSelectionChange){var e=t.event,n=t.item,r=t.dataIndex,o=t.columnIndex,i=Object(c.getSelectionOptions)(this.props.selectable),a=i.mode,s=i.cell,l=yt({},this.getEventArguments(e.syntheticEvent),{dataItem:n.dataItem,level:n.level,startColIndex:o,endColIndex:o,startRowIndex:r,endRowIndex:r,dataItems:this.getLeafDataItems(),altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,mode:a,cell:s,isDrag:!1,componentId:this._treeListId,selectedField:this.props.selectedField||""});this.props.onSelectionChange.call(void 0,l)}},e.propTypes={data:a.array,resizable:a.bool,reorderable:a.bool,sortable:a.oneOfType([a.bool,a.shape({mode:a.oneOf(["single","multiple"]),allowUnsort:a.bool})]),onSortChange:a.func,sort:a.array,columns:a.arrayOf(a.object),columnVirtualization:a.bool,filter:a.array,onFilterChange:a.func,filterRow:a.any,toolbar:a.any,noRecords:a.any,onExpandChange:a.func,expandField:a.string,subItemsField:a.string,selectedField:a.string,onSelectionChange:a.func,onHeaderSelectionChange:a.func,onRowClick:a.func,onItemChange:a.func,editField:a.string,scrollable:a.oneOf(["none","scrollable","virtual"]),rowHeight:a.number,style:a.object,tableProps:a.object,pager:a.any,skip:a.number,take:a.number,onPageChange:a.func,onDataStateChange:a.func,onColumnResize:a.func,onColumnReorder:a.func,extendedColumns:a.arrayOf(a.object),columnsMap:a.arrayOf(a.array),dataItemKey:a.string.isRequired,afterContent:a.any,navigatable:a.bool,idPrefix:a.string},e.contextType=c.TableKeyboardNavigationContext,e}(i.Component),wt=function(){return(wt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},kt=i.forwardRef((function(t,e){var n=t.slotLevels,r=t.slotWidth,o=t.timelineHeaderCell,a=Y(),l=a.columns,u=a.noRecords,p=a.resizable,h=a.reorderable,d=a.sortable,f=a.sort,m=a.filter,v=a.columnMenuFilter,g=a.columnMenu,y=a.navigatable,b=a.row,x=a.selectable,w=i.useContext(rt),k=w.onDataStateChange,O=w.onSortChange,C=w.onFilterChange,_=w.onColumnMenuFilterChange,S=w.onExpandChange,E=w.onRowClick,I=w.onRowDoubleClick,T=w.onRowContextMenu,D=w.onColumnResize,P=w.onColumnReorder,A=w.onDependencyCreate,j=w.onKeyDown,M=w.onSelectionChange,R=w.onHeaderSelectionChange,N=et(),F=i.useContext(nt),L=W(),z=K(),B=i.useContext(V),U=i.useContext(H),q=i.useRef(null),G=i.useRef(null),X=i.useRef(null),$=i.useRef(null),Z=i.useRef(0),J=i.useRef(Object(s.r)()),Q=i.useRef(null),tt=i.useRef(null),ot=i.useCallback((function(t){X.current&&X.current.scrollIntoView(t)}),[]);i.useImperativeHandle(tt,(function(){return{scrollIntoView:ot}})),i.useImperativeHandle(e,(function(){return tt.current}));var it,at,st=i.useRef(0),lt=i.useRef(0),ct=i.useRef(0),ht=i.useRef(0),mt=i.useRef(null),vt=i.useRef(null),gt=i.useState(null),yt=gt[0],bt=gt[1],kt=function(t,e,n){var r=n;return i.createElement("table",{ref:e,"aria-hidden":!0},i.createElement("tbody",null,t.map((function(t,e){return i.createElement("tr",{key:e},t.map((function(t,n){return i.createElement("td",{key:t.range.start.getTime(),colSpan:t.span,className:Object(s.g)({"k-header":!0,"k-nonwork-hour":!t.isWork})},r?i.createElement(r,{rowIndex:e,index:n,range:t.range,text:t.text,isWork:t.isWork,type:t.type}):t.text)})))}))))}(n,q,o),Ot=function(t,e){var n=t[t.length-1];return i.createElement("table",{className:"k-gantt-columns",ref:e,"aria-hidden":!0},i.createElement("tbody",null,i.createElement("tr",null,n.map((function(t){return i.createElement("td",{key:t.range.start.getTime(),colSpan:t.span,className:Object(s.g)({"k-nonwork-hour":!t.isWork})})})))))}(n,G),Ct=function(t,e){var n=t[t.length-1],r=0,o=0;return n.forEach((function(t){var e=t.span;o+=e,e>r&&(r=e)})),Math.round(o*e/r)}(n,r),_t=i.useMemo((function(){var t=Object(c.readColumns)(l.concat([{title:"",sortable:!1,resizable:!1,reorderable:!1,width:Ct,headerCell:function(){return kt},cell:dt,orderIndex:Number.MAX_SAFE_INTEGER,navigatable:!1}]),{prevId:0,idPrefix:J.current}),e=0;return t.forEach((function(t,n,r){var o=n+1===r.length,i=0===t.children.length;o?t.isAccessible=!1:(t.locked=!0,i&&(t.width=t.width||100)),i&&(e+=parseFloat(String(t.width)))})),{extendedColumns:t,columnsWidth:e,columnsMap:Object(c.mapColumns)(t)}}),[l,Ct]),St=_t.extendedColumns,Et=_t.columnsWidth,It=_t.columnsMap,Tt=(it=i.useRef({}),at=i.useCallback((function(t){switch(t.type){case ut.add:it.current[t.id]=t.itemRef;break;case ut.remove:delete it.current[t.id]}}),[]),[it,at]),Dt=Tt[0],Pt=Tt[1],At=i.useCallback((function(){return q.current&&q.current.parentElement}),[]),jt=function(){var t=At(),e=G.current,n=X.current&&X.current.tbodyElement;if(t&&e&&n){var r=n.offsetTop,o=t.offsetLeft,i=Ct;e.style.top=r+"px",e.style.left=o+"px",e.style.width=i+"px",e.style.height=n.offsetHeight+"px"}};i.useEffect(jt),i.useEffect((function(){var t=At();t&&(Z.current=t.offsetLeft)}));var Mt=i.useCallback((function(t){if($.current){var e=t.columns.slice(0,t.columns.length-1);if(t.end)$.current.style.left="0px";else{var n=At();if(!n)return;$.current.style.left=n.offsetLeft-Z.current+"px",jt()}D(wt({},t,{columns:e}))}}),[D]),Rt=i.useCallback((function(t){var e=t.columns.slice(0,t.columns.length-1);P(wt({},t,{columns:e}))}),[D]),Nt=i.useCallback((function(t){var e=(Q.current&&Q.current.ownerDocument?Q.current.ownerDocument:document).elementFromPoint(t.clientX,t.clientY),n=Q.current;if(e&&e.parentElement&&n){var r=n.parentElement,o=n.firstElementChild;if(r&&o){var i=e.getAttribute("data-dependency-drag-handle");if(i){var a=n.offsetTop,s=n.offsetLeft,l=r.offsetTop,c=r.offsetLeft,u=o.scrollTop,p=o.scrollLeft;ct.current=s+c,ht.current=a+l,st.current=t.clientX-ct.current+p,lt.current=t.clientY-ht.current+u,mt.current=e.parentElement.getAttribute("data-task-id"),vt.current=i}}}}),[]),Ft=i.useCallback((function(t){var e=Q.current;if(e){var n=e.firstElementChild;if(n){var r=n.scrollTop,o=n.scrollLeft,i=t.clientX-ct.current+o,a=t.clientY-ht.current+r;Math.abs(st.current-i)<10&&Math.abs(lt.current-a)<10||bt({startX:st.current,startY:lt.current,endX:i,endY:a})}}}),[]),Lt=i.useCallback((function(t){var e=(Q.current&&Q.current.ownerDocument?Q.current.ownerDocument:document).elementFromPoint(t.clientX,t.clientY);if(e&&e.parentElement){var n=e.parentElement.getAttribute("data-task-id"),r=e.getAttribute("data-dependency-drag-handle");if(r&&n!==mt.current&&A){var o=void 0;o="start"===vt.current?"start"===r?3:2:"start"===r?1:0,A({fromId:mt.current,toId:n,type:o})}st.current=0,lt.current=0,ct.current=0,ht.current=0,mt.current=null,vt.current=null,bt(null)}}),[A,bt]);return i.createElement(pt,{tasksStore:[Dt,Pt],timelineWidth:Ct,dependencyDrag:{isEnabled:Boolean(A),draggedId:mt.current,onDependencyHandlePress:Nt,onDependencyHandleDrag:Ft,onDependencyHandleRelease:Lt}},i.createElement("div",{className:"k-gantt-content",ref:Q,style:{height:"calc(100% - "+F+"px)"}},i.createElement(xt,{ref:X,extendedColumns:St,columnsMap:It,dataItemKey:L.id,data:B,idPrefix:J.current,navigatable:y,expandField:L.isExpanded,subItemsField:L.children,editField:L.isInEdit,selectedField:L.isSelected,onDataStateChange:k,onSortChange:O,onFilterChange:C,onExpandChange:S,onRowClick:E,onRowDoubleClick:I,onRowContextMenu:T,onColumnResize:Mt,onColumnReorder:Rt,onColumnMenuFilterChange:_,onKeyDown:j,onSelectionChange:M,onHeaderSelectionChange:R,tableProps:{style:{width:Et},className:"k-table-layout-fixed"},noRecords:u,rowHeight:N,resizable:p,reorderable:h,sortable:d,sort:f,filter:m,columnMenuFilter:v,columnMenu:g,row:b,selectable:x,afterContent:i.createElement(i.Fragment,null,i.createElement("svg",{className:"k-gantt-dependencies-svg",ref:$,style:{left:0,top:0}},U.map((function(t){return i.createElement(ft,{key:Object(s.q)(z.id)(t),dependency:t})}))),i.createElement("svg",{className:"k-gantt-dependencies-svg",style:{left:0,top:0,zIndex:3}},yt&&i.createElement("polyline",{points:yt.startX+","+yt.startY+" "+yt.endX+","+yt.endY})),B&&B.length?Ot:null)})))}));kt.displayName="KendoReactGanttBaseView";var Ot=((vt={})["gantt.weekViewTitle"]="Week",vt["gantt.dayViewTitle"]="Day",vt["gantt.monthViewTitle"]="Month",vt["gantt.yearViewTitle"]="Year",vt["gantt.filterClearButton"]="Clear",vt["gantt.filterEqOperator"]="Is equal to",vt["gantt.filterNotEqOperator"]="Is not equal to",vt["gantt.filterIsNullOperator"]="Is null",vt["gantt.filterIsNotNullOperator"]="Is not null",vt["gantt.filterIsEmptyOperator"]="Is empty",vt["gantt.filterIsNotEmptyOperator"]="Is not empty",vt["gantt.filterStartsWithOperator"]="Starts with",vt["gantt.filterContainsOperator"]="Contains",vt["gantt.filterNotContainsOperator"]="Does not contain",vt["gantt.filterEndsWithOperator"]="Ends with",vt["gantt.filterGteOperator"]="Is greater than or equal to",vt["gantt.filterGtOperator"]="Is greater than",vt["gantt.filterLteOperator"]="Is less than or equal to",vt["gantt.filterLtOperator"]="Is less than",vt["gantt.filterIsTrue"]="Is true",vt["gantt.filterIsFalse"]="Is false",vt["gantt.filterBooleanAll"]="(All)",vt["gantt.filterAfterOrEqualOperator"]="Is after or equal to",vt["gantt.filterAfterOperator"]="Is after",vt["gantt.filterBeforeOperator"]="Is before",vt["gantt.filterBeforeOrEqualOperator"]="Is before or equal to",vt["gantt.noRecords"]="No records available",vt["gantt.editSave"]="Save",vt["gantt.editCancel"]="Cancel",vt["gantt.editorTitle"]="Task",vt["gantt.editorTaskTitle"]="Title",vt["gantt.editorTaskStart"]="Start",vt["gantt.editorTaskEnd"]="End",vt["gantt.editorTaskComplete"]="Complete",vt["gantt.editorValidationRequired"]="Field is required.",vt["gantt.editorValidationStart"]="Start time must be be before End time.",vt["gantt.editorValidationEnd"]="End time must be after Start time.",vt["gantt.addTask"]="Add Task",vt["gantt.addChild"]="Add Child",vt["gantt.addAbove"]="Add Above",vt["gantt.addBelow"]="Add Below",vt["gantt.editorDelete"]="Delete",vt["gantt.deleteConfirmation"]="Are you sure you want to delete this event?",vt["gantt.deleteDialogTitle"]="Delete Event",vt),Ct=i.forwardRef((function(t,e){var n=t.slotWidth,r=void 0===n?_t.slotWidth:n,o=t.firstSlotRangeRef,a=t.timelineHeaderCell,s=Y().timezone,l=Object(B.useInternationalization)(),c=i.useRef(null),u=i.useRef(null),p=i.useCallback((function(t){u.current&&u.current.scrollIntoView(t)}),[]);i.useImperativeHandle(c,(function(){return{scrollIntoView:p}})),i.useImperativeHandle(e,(function(){return c.current}));var h=$(),d=t.workWeekStart||_t.workWeekStart,f=t.workWeekEnd||_t.workWeekEnd,m=i.useMemo((function(){var t=A({workWeekStart:d,workWeekEnd:f}),e=[],n=R(h,{timezone:s},l);return n.forEach((function(n){var r=M(n.range,{workDays:t,timezone:s},l);e.push.apply(e,r)})),o&&e[0]&&(o.current=e[0].range),[n,e]}),[s,h.start.getTime(),h.end.getTime(),l,d,f]);return i.createElement(kt,{ref:u,slotWidth:r,slotLevels:m,timelineHeaderCell:a})})),_t={name:"week",dateRange:function(t){var e=t.intl,n=t.tasksStart,r=t.tasksEnd,o=t.timezone,i=l.ZonedDate.fromLocalDate(n,o),a=l.ZonedDate.fromLocalDate(r,o),s=S(Object(l.firstDayInWeek)(Object(l.getDate)(i),e.firstDay())),c=E(Object(l.firstDayInWeek)(Object(l.getDate)(a),e.firstDay()),7),u=l.ZonedDate.fromUTCDate(I(s),o),p=l.ZonedDate.fromUTCDate(I(c),o);return{start:new Date(u.getTime()),end:new Date(p.getTime()),zonedStart:u,zonedEnd:p}},title:function(t){return t.toLanguageString("gantt.weekViewTitle",Ot["gantt.weekViewTitle"])},slotWidth:100,workWeekStart:1,workWeekEnd:5,workDayStart:"08:00",workDayEnd:"17:00"};Ct.defaultProps=_t,Ct.propTypes={name:a.string,dateRange:a.oneOfType([a.func,a.object]),title:a.oneOfType([a.string,a.func]),slotWidth:a.number,workWeekStart:a.number,workWeekEnd:a.number,workDayStart:a.string,workDayEnd:a.string},Ct.displayName="KendoReactGanttWeekView";var St=function(){return(St=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Et=n(7),It=function(t){var e=Q(),n=e[0],r=e[1],o=Object(B.useLocalization)(),a=i.useMemo((function(){return"function"==typeof t.view.title?t.view.title.call(void 0,o):t.view.title}),[t.view.title,o]),s=i.useCallback((function(){t.view.name&&r(t.view.name)}),[r,t.view.name]);return i.createElement(Et.Button,{role:"button",type:"button",tabIndex:-1,togglable:!0,selected:t.view.name===n,onClick:s},a)};It.displayName="KendoReactGanttViewSelectorItem";var Tt=function(){return(Tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Dt=i.forwardRef((function(){var t=i.useContext(Z),e=Q(),n=e[0],r=e[1],o=t.find((function(t){return t.props.name===n})),a=Object(B.useLocalization)(),s=i.useCallback((function(t){r&&(t.syntheticEvent.preventDefault(),r(t.item.name))}),[r]);return i.createElement("div",{className:"k-gantt-views-wrapper"},i.createElement(Et.ButtonGroup,{className:"k-gantt-views"},t.map((function(t){return i.createElement(It,{key:t.props.name,view:t.props})}))),o&&i.createElement(Et.DropDownButton,{className:"k-views-dropdown",onItemClick:s,popupSettings:{popupClass:"k-gantt-toolbar"},textField:"title",items:t.map((function(t){return Tt({},t.props,{selected:t.props.name===n,title:"function"==typeof t.props.title?t.props.title.call(void 0,a):t.props.title})})),text:i.createElement(i.Fragment,null,"function"==typeof o.props.title?o.props.title.call(void 0,a):o.props.title,i.createElement("span",{className:"k-icon k-i-arrow-60-down"}))}))}));Dt.displayName="KendoReactGanttViewSelectorList";var Pt=function(){return(Pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},At=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},jt=i.forwardRef((function(t,e){var n=t.className,r=At(t,["className"]),o=i.useRef(null);return i.useImperativeHandle(e,(function(){return{element:o.current,props:t}})),i.createElement(Et.ToolbarItem,Pt({ref:function(t){t&&(o.current=t.element)},className:Object(s.g)("k-gantt-views",n)},r),t.children)}));jt.displayName="KendoReactGanttViewSelector";var Mt=function(){return(Mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Rt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Nt=i.forwardRef((function(t,e){var n=t.className,r=Rt(t,["className"]),o=i.useRef(null),a=i.useRef(null);i.useImperativeHandle(a,(function(){return{element:o.current,props:t}})),i.useImperativeHandle(e,(function(){return a.current}));var l=i.useMemo((function(){return Object(s.g)("k-gantt-toolbar k-gantt-header",n)}),[n]);return i.createElement(Et.Toolbar,Mt({ref:function(t){t&&(o.current=t.element)},className:l},r),t.children)}));Nt.displayName="KendoReactGanttToolbar";var Ft={name:"@progress/kendo-react-gantt",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616885,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},Lt=i.forwardRef((function(t,e){var n=Object(B.useLocalization)(),r=function(t){return n.toLanguageString(t,Ot[t])},o=r("gantt.addTask"),a=r("gantt.addChild"),s=r("gantt.addAbove"),l=r("gantt.addBelow"),c=i.useCallback((function(e){e.syntheticEvent.preventDefault();var n=e.item&&e.item.direction?e.item.direction:"none";t.onClick&&t.onClick({nativeEvent:e.nativeEvent,syntheticEvent:e.syntheticEvent,direction:n})}),[t.onClick]),u=i.useCallback((function(e){e.preventDefault(),t.onClick&&t.onClick({nativeEvent:e&&e.nativeEvent,syntheticEvent:e,direction:"none"})}),[t.onClick]),p=i.createElement(i.Fragment,null,i.createElement("span",{className:"k-icon k-i-plus"}),o);return t.selectedTask?i.createElement(Et.DropDownButton,{className:"k-views-dropdown",onItemClick:c,popupSettings:{popupClass:"k-gantt-toolbar"},textField:"title",items:[{title:a,direction:"child"},{title:s,direction:"above"},{title:l,direction:"below"}],text:p}):i.createElement(Et.Button,{onClick:u},p)}));Lt.displayName="KendoReactGanttAddButton";var zt=function(){return(zt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Bt=i.forwardRef((function(t,e){Object(s.D)(Ft);var n,r,o=t.columns,a=void 0===o?Vt.columns:o,l=t.taskData,c=void 0===l?Vt.taskData:l,p=t.dependencyData,h=void 0===p?Vt.dependencyData:p,d=t.style,m=t.className,v=t.noRecords,g=t.timezone,w=t.rowHeight,k=void 0===w?Vt.rowHeight:w,O=t.resizable,C=t.reorderable,_=t.sortable,S=t.sort,E=t.filter,I=t.columnMenuFilter,T=t.columnMenu,D=t.navigatable,P=t.toolbar,A=t.row,j=t.selectable,M=Object(B.useInternationalization)(),R=i.useMemo((function(){return function(t){return{fields:x({},y,t)}}(t.taskModelFields)}),[t.taskModelFields]).fields,N=i.useMemo((function(){return function(t){return{fields:x({},b,t)}}(t.dependencyModelFields)}),[t.dependencyModelFields]).fields,F=i.useCallback((n=R.isExpanded,r=R.children,function(t){return L(t,n)&&z(t,r)?Object(s.q)(r)(t).slice():[]}),[R.isExpanded,R.children]),V=i.useRef(null),H=i.useRef(null),U=i.useRef(null),W=i.useRef(null),q=i.useRef(null),K=i.useCallback((function(t){var e=Object(s.q)(R.start)(t),n=Object(s.q)(R.end)(t),r=Object(s.q)(R.isSelected)(t);(!H.current||e<H.current)&&(H.current=e),(!U.current||n>U.current)&&(U.current=n),r&&(W.current=t)}),[R.start,R.end]),G=i.useMemo((function(){return H.current=null,U.current=null,W.current=null,Object(u.flatData)(c,F,K)}),[c,F]);H.current&&U.current||(H.current=new Date(f),U.current=new Date(f));var Y=i.Children.toArray(t.children||[i.createElement(Ct,{key:"week",firstSlotRangeRef:q})]),X=function(t,e,n){var r=i.useState(e||t),o=r[0],a=r[1];return[void 0!==e?e:o,i.useCallback((function(t,e){a(t),n&&n.call(void 0,St({},e,{value:t}))}),[n,a])]}(t.defaultView||Y[0].props.name,t.view,t.onViewChange),$=X[0],Z=X[1],J=Y.find((function(t){return t.props.name===$}))||Y[0],Q="function"==typeof J.props.dateRange?J.props.dateRange.call(void 0,{intl:M,tasksStart:H.current,tasksEnd:U.current,timezone:g}):J.props.dateRange,tt=i.useRef(null),et=i.useState(0),nt=et[0],rt=et[1];i.useLayoutEffect((function(){tt.current&&rt(tt.current.element.offsetHeight)}),[]);var ot=i.useCallback((function(t){V.current&&V.current.scrollIntoView(t)}),[]),at=i.useRef(null),st=i.useRef(null);i.useImperativeHandle(st,(function(){return{props:t,element:at.current,scrollIntoView:ot}})),i.useImperativeHandle(e,(function(){return st.current}));var lt=i.useCallback((function(e){t.onDataStateChange&&t.onDataStateChange.call(void 0,zt({},e,{target:st.current}))}),[t.onDataStateChange]),ct=i.useCallback((function(e){t.onSortChange&&t.onSortChange.call(void 0,zt({},e,{target:st.current}))}),[t.onSortChange]),ut=i.useCallback((function(e){t.onKeyDown&&t.onKeyDown.call(void 0,zt({},e,{target:st.current}))}),[t.onKeyDown]),pt=i.useCallback((function(e){t.onSelectionChange&&t.onSelectionChange.call(void 0,zt({},e,{target:st.current}))}),[t.onSelectionChange]),ht=i.useCallback((function(e){t.onHeaderSelectionChange&&t.onHeaderSelectionChange.call(void 0,zt({},e,{target:st.current}))}),[t.onHeaderSelectionChange]),dt=i.useCallback((function(e){t.onFilterChange&&t.onFilterChange.call(void 0,zt({},e,{target:st.current}))}),[t.onFilterChange]),ft=i.useCallback((function(e){t.onColumnMenuFilterChange&&t.onColumnMenuFilterChange.call(void 0,zt({},e,{target:st.current}))}),[t.onColumnMenuFilterChange]),mt=i.useCallback((function(e){t.onExpandChange&&t.onExpandChange.call(void 0,zt({},e,{target:st.current}))}),[t.onExpandChange]),vt=i.useCallback((function(e){t.onAddClick&&t.onAddClick.call(void 0,zt({},e,{target:st.current,selectedDataItem:W.current,slotStart:q.current&&new Date(q.current.start.getTime()),slotEnd:q.current&&new Date(q.current.end.getTime())}))}),[t.onAddClick]),gt=i.useCallback((function(e){t.onColumnResize&&t.onColumnResize.call(void 0,zt({},e,{target:st.current}))}),[t.onColumnResize]),yt=i.useCallback((function(e){t.onColumnReorder&&t.onColumnReorder.call(void 0,zt({},e,{target:st.current}))}),[t.onColumnReorder]),bt=i.useCallback((function(e){t.onRowClick&&t.onRowClick.call(void 0,zt({},e,{target:st.current}))}),[t.onRowClick]),xt=i.useCallback((function(e){t.onRowDoubleClick&&t.onRowDoubleClick.call(void 0,zt({},e,{target:st.current}))}),[t.onRowClick]),wt=i.useCallback((function(e){t.onRowContextMenu&&t.onRowContextMenu.call(void 0,zt({},e,{target:st.current}))}),[t.onRowClick]),kt=i.useCallback((function(e){t.onTaskClick&&t.onTaskClick.call(void 0,zt({},e,{target:st.current}))}),[t.onTaskClick]),Ot=i.useCallback((function(e){t.onTaskDoubleClick&&t.onTaskDoubleClick.call(void 0,zt({},e,{target:st.current}))}),[t.onTaskDoubleClick]),_t=i.useCallback((function(e){t.onTaskContextMenu&&t.onTaskContextMenu.call(void 0,zt({},e,{target:st.current}))}),[t.onTaskContextMenu]),It=i.useCallback((function(e){t.onTaskRemoveClick&&t.onTaskRemoveClick.call(void 0,zt({},e,{target:st.current}))}),[t.onTaskRemoveClick]),Tt=i.useCallback((function(e){if(t.onDependencyCreate){for(var n=void 0,r=void 0,o=Object(s.q)(R.id),i=0;i<G.length;i++){var a=o(G[i].dataItem);if(String(a)===e.fromId&&(n=a),String(a)===e.toId&&(r=a),n&&r)break}t.onDependencyCreate.call(void 0,{fromId:n,toId:r,target:st.current,type:e.type})}}),[t.onDependencyCreate,R,G]);return i.createElement(it,{dateRange:Q,taskData:G,dependencyData:h,taskModelFields:R,dependencyModelFields:N,views:Y,activeView:[$,Z],rowHeight:k,toolbarHeight:nt,props:{columns:a,noRecords:v,timezone:g,resizable:O,reorderable:C,sortable:_,sort:S,filter:E,columnMenuFilter:I,columnMenu:T,navigatable:D,row:A,selectable:j},events:{onDataStateChange:lt,onSortChange:ct,onFilterChange:dt,onColumnMenuFilterChange:ft,onExpandChange:mt,onRowClick:bt,onRowDoubleClick:xt,onRowContextMenu:wt,onColumnResize:gt,onColumnReorder:yt,onDependencyCreate:t.onDependencyCreate&&Tt,onKeyDown:ut,onSelectionChange:pt,onHeaderSelectionChange:ht},taskEvents:{onTaskClick:kt,onTaskDoubleClick:Ot,onTaskContextMenu:_t,onTaskRemoveClick:t.onTaskRemoveClick&&It}},i.createElement("div",{ref:at,style:d,className:Object(s.g)("k-gantt",m)},i.createElement(Nt,{ref:tt},P&&P.addTaskButton?i.createElement(Lt,{selectedTask:W.current,onClick:vt}):null,i.createElement(Et.ToolbarSpacer,null),i.createElement(jt,null,i.createElement(Dt,null))),J&&i.createElement(J.type,zt({key:J.props.name,ref:V},J.props,{firstSlotRangeRef:q}))))})),Vt={taskData:[],dependencyData:[],columns:[],rowHeight:40};Bt.propTypes={taskData:a.array,taskModelFields:a.shape({id:a.string,start:a.string,end:a.string,title:a.string,percentComplete:a.string,isRollup:a.string,isExpanded:a.string,children:a.string,isInEdit:a.string}),dependencyData:a.array,dependencyModelFields:a.shape({id:a.string,fromId:a.string,toId:a.string,type:a.string}),columns:a.arrayOf(a.shape({width:a.number,cell:a.any,editCell:a.any,headerCell:a.any,filter:a.any,children:a.any,field:a.string,title:a.string,sortable:a.any,expandable:a.bool,headerSelectionValue:a.bool,format:a.string,headerClassName:a.string,className:a.string,resizable:a.bool,reorderable:a.bool,minResizableWidth:a.number,orderIndex:a.number,columnMenu:a.any})),sort:a.array,filter:a.array,columnMenuFilter:a.array,columnMenu:a.any,style:a.object,className:a.string,children:a.any,timezone:a.string,defaultView:a.string,view:a.string,rowHeight:a.number,navigatable:a.bool,onViewChange:a.func,onDataStateChange:a.func,onSortChange:a.func,onFilterChange:a.func,onExpandChange:a.func,onRowClick:a.func,onColumnResize:a.func,onColumnReorder:a.func},Bt.defaultProps=Vt,Bt.displayName="KendoReactGantt";var Ht=i.forwardRef((function(t,e){var n=t.slotWidth,r=void 0===n?Ut.slotWidth:n,o=t.slotDuration,a=void 0===o?Ut.slotDuration:o,s=t.firstSlotRangeRef,c=t.timelineHeaderCell,u=Y().timezone,p=Object(B.useInternationalization)(),h=i.useRef(null),d=i.useRef(null),f=i.useCallback((function(t){d.current&&d.current.scrollIntoView(t)}),[]);i.useImperativeHandle(h,(function(){return{scrollIntoView:f}})),i.useImperativeHandle(e,(function(){return h.current}));var m=$(),v=t.workWeekStart||Ut.workWeekStart,g=t.workWeekEnd||Ut.workWeekEnd,y=t.workDayStart||Ut.workDayStart,b=t.workDayEnd||Ut.workDayEnd,x=i.useMemo((function(){var t=A({workWeekStart:v,workWeekEnd:g}),e=[],n=M(m,{workDays:t,timezone:u},p);return n.forEach((function(t){var n=function(t,e,n){var r=n.parseDate(e.workDayStart).getHours(),o=n.parseDate(e.workDayEnd).getHours();return j(t,{step:l.MS_PER_MINUTE*e.slotDuration,timezone:e.timezone}).map((function(t){var e=t.zonedStart.getHours();return{range:t,isWork:e>=r&&e<o,span:1,text:n.formatDate(t.zonedStart,"hh:mm a"),type:"time"}}))}(t.range,{workDayStart:y,workDayEnd:b,timezone:u,slotDuration:a},p);t.span=n.length,e.push.apply(e,n)})),s&&e[0]&&(s.current=e[0].range),[n,e]}),[u,m.start.getTime(),m.end.getTime(),p,v,g,y,b]);return i.createElement(kt,{ref:d,slotWidth:r,slotLevels:x,timelineHeaderCell:c})})),Ut={name:"day",dateRange:function(t){var e=t.tasksStart,n=t.tasksEnd,r=t.timezone,o=l.ZonedDate.fromLocalDate(e,r),i=l.ZonedDate.fromLocalDate(n,r),a=S(o),s=E(i),c=l.ZonedDate.fromUTCDate(I(a),r),u=l.ZonedDate.fromUTCDate(I(s),r);return{start:new Date(c.getTime()),end:new Date(u.getTime()),zonedStart:c,zonedEnd:u}},title:function(t){return t.toLanguageString("gantt.dayViewTitle",Ot["gantt.dayViewTitle"])},slotWidth:100,slotDuration:60,workWeekStart:1,workWeekEnd:5,workDayStart:"08:00",workDayEnd:"17:00"};Ht.defaultProps=Ut,Ht.propTypes={name:a.string,dateRange:a.oneOfType([a.func,a.object]),title:a.oneOfType([a.string,a.func]),slotWidth:a.number,slotDuration:a.number,workWeekStart:a.number,workWeekEnd:a.number,workDayStart:a.string,workDayEnd:a.string},Ht.displayName="KendoReactGanttDayView";var Wt=i.forwardRef((function(t,e){var n=t.slotWidth,r=void 0===n?qt.slotWidth:n,o=t.firstSlotRangeRef,a=t.timelineHeaderCell,s=Y().timezone,l=Object(B.useInternationalization)(),c=i.useRef(null),u=i.useRef(null),p=i.useCallback((function(t){u.current&&u.current.scrollIntoView(t)}),[]);i.useImperativeHandle(c,(function(){return{scrollIntoView:p}})),i.useImperativeHandle(e,(function(){return c.current}));var h=$(),d=i.useMemo((function(){var t=[],e=N(h,{timezone:s},l);return e.forEach((function(e){var n=R(e.range,{timezone:s},l);t.push.apply(t,n)})),o&&t[0]&&(o.current=t[0].range),[e,t]}),[s,h.start.getTime(),h.end.getTime(),l]);return i.createElement(kt,{ref:u,slotWidth:r,slotLevels:d,timelineHeaderCell:a})})),qt={name:"month",dateRange:function(t){var e=t.tasksStart,n=t.tasksEnd,r=t.timezone,o=l.ZonedDate.fromLocalDate(e,r),i=l.ZonedDate.fromLocalDate(n,r),a=Object(l.firstDayOfMonth)(Object(l.getDate)(o)),s=Object(l.addDays)(Object(l.lastDayOfMonth)(Object(l.getDate)(i)),1),c=l.ZonedDate.fromUTCDate(I(a),r),u=l.ZonedDate.fromUTCDate(I(s),r);return{start:new Date(c.getTime()),end:new Date(u.getTime()),zonedStart:c,zonedEnd:u}},title:function(t){return t.toLanguageString("gantt.monthViewTitle",Ot["gantt.monthViewTitle"])},slotWidth:100,workWeekStart:1,workWeekEnd:5,workDayStart:"08:00",workDayEnd:"17:00"};Wt.defaultProps=qt,Wt.propTypes={name:a.string,dateRange:a.oneOfType([a.func,a.object]),title:a.oneOfType([a.string,a.func]),slotWidth:a.number,workWeekStart:a.number,workWeekEnd:a.number,workDayStart:a.string,workDayEnd:a.string},Wt.displayName="GanttMonthView";var Kt=i.forwardRef((function(t,e){var n=t.slotWidth,r=void 0===n?Gt.slotWidth:n,o=t.firstSlotRangeRef,a=t.timelineHeaderCell,s=Y().timezone,l=Object(B.useInternationalization)(),c=i.useRef(null),u=i.useRef(null),p=i.useCallback((function(t){u.current&&u.current.scrollIntoView(t)}),[]);i.useImperativeHandle(c,(function(){return{scrollIntoView:p}})),i.useImperativeHandle(e,(function(){return c.current}));var h=$(),d=i.useMemo((function(){var t=F(h,{timezone:s},l),e=[];return t.forEach((function(t){var n=N(t.range,{timezone:s},l);e.push.apply(e,n)})),o&&e[0]&&(o.current=e[0].range),[t,e]}),[s,h.start.getTime(),h.end.getTime(),l]);return i.createElement(kt,{slotWidth:r,slotLevels:d,timelineHeaderCell:a})})),Gt={name:"year",dateRange:function(t){var e=t.tasksStart,n=t.tasksEnd,r=t.timezone,o=l.ZonedDate.fromLocalDate(e,r),i=l.ZonedDate.fromLocalDate(n,r),a=Object(l.firstDayOfMonth)(Object(l.firstMonthOfYear)(Object(l.getDate)(o))),s=Object(l.addDays)(Object(l.lastDayOfMonth)(Object(l.lastMonthOfYear)(Object(l.getDate)(i))),1),c=l.ZonedDate.fromUTCDate(I(a),r),u=l.ZonedDate.fromUTCDate(I(s),r);return{start:new Date(c.getTime()),end:new Date(u.getTime()),zonedStart:c,zonedEnd:u}},title:function(t){return t.toLanguageString("gantt.yearViewTitle",Ot["gantt.yearViewTitle"])},slotWidth:100};Kt.defaultProps=Gt,Kt.propTypes={name:a.string,dateRange:a.oneOfType([a.func,a.object]),title:a.oneOfType([a.string,a.func]),slotWidth:a.number},Kt.displayName="GanttYearView";var Yt=[{text:"gantt.filterContainsOperator",operator:"contains"},{text:"gantt.filterNotContainsOperator",operator:"doesnotcontain"},{text:"gantt.filterEqOperator",operator:"eq"},{text:"gantt.filterNotEqOperator",operator:"neq"},{text:"gantt.filterStartsWithOperator",operator:"startswith"},{text:"gantt.filterEndsWithOperator",operator:"endswith"},{text:"gantt.filterIsNullOperator",operator:"isnull"},{text:"gantt.filterIsNotNullOperator",operator:"isnotnull"},{text:"gantt.filterIsEmptyOperator",operator:"isempty"},{text:"gantt.filterIsNotEmptyOperator",operator:"isnotempty"}],Xt=[{text:"gantt.filterEqOperator",operator:"eq"},{text:"gantt.filterNotEqOperator",operator:"neq"},{text:"gantt.filterGteOperator",operator:"gte"},{text:"gantt.filterGtOperator",operator:"gt"},{text:"gantt.filterLteOperator",operator:"lte"},{text:"gantt.filterLtOperator",operator:"lt"},{text:"gantt.filterIsNullOperator",operator:"isnull"},{text:"gantt.filterIsNotNullOperator",operator:"isnotnull"}],$t=[{text:"gantt.filterEqOperator",operator:"eq"},{text:"gantt.filterNotEqOperator",operator:"neq"},{text:"gantt.filterAfterOrEqualOperator",operator:"gte"},{text:"gantt.filterAfterOperator",operator:"gt"},{text:"gantt.filterBeforeOperator",operator:"lt"},{text:"gantt.filterBeforeOrEqualOperator",operator:"lte"},{text:"gantt.filterIsNullOperator",operator:"isnull"},{text:"gantt.filterIsNotNullOperator",operator:"isnotnull"}],Zt=[{text:"gantt.filterBooleanAll",operator:""},{text:"gantt.filterIsTrue",operator:!0},{text:"gantt.filterIsFalse",operator:!1}];function Jt(t,e){return{clearButtonTitle:t.toLanguageString("gantt.filterClearButton",Ot["gantt.filterClearButton"]),operators:e.map((function(e){return{text:t.toLanguageString(e.text,Ot[e.text]),operator:e.operator}}))}}var Qt=function(){return(Qt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},te=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ee=function(t){var e=t.operators,n=te(t,["operators"]);return i.createElement(c.TextFilterCell,Qt({},Jt(Object(B.useLocalization)(),e||Yt),n))};ee.displayName="KendoReactGanttTextFilter";var ne=function(){return(ne=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},re=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},oe=function(t){var e=t.operators,n=re(t,["operators"]);return i.createElement(c.NumericFilterCell,ne({},Jt(Object(B.useLocalization)(),e||Xt),n))};oe.displayName="KendoReactGanttNumericFilter";var ie=function(){return(ie=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},se=function(t){var e=t.operators,n=ae(t,["operators"]);return i.createElement(c.BooleanFilterCell,ie({},Jt(Object(B.useLocalization)(),e||Zt),n))};se.displayName="KendoReactGanttBooleanFilter";var le=function(){return(le=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ce=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ue=function(t){var e=t.operators,n=ce(t,["operators"]);return i.createElement(c.DateFilterCell,le({},Jt(Object(B.useLocalization)(),e||$t),n))};ue.displayName="KendoReactGanttDateFilter";var pe=function(){return(pe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},he=function(t){var e=t.dependencyData,n=t.dependencyModelFields,r=t.defaultDataItem,o=t.fromId,i=t.toId,a=t.type,l=e.map((function(t){return pe({},t)})),c=Object(s.x)(n.fromId),u=Object(s.x)(n.toId),p=Object(s.x)(n.type),h=r?pe({},r):{};return c(h,o),u(h,i),p(h,a),l.push(h),l},de=function(t){var e,n=t.defaultDataItem,r=t.selectedDataItem,o=t.direction,i=t.taskModelFields,a=t.dataTree,l=t.slotStart,c=t.slotEnd,u=O(a,i.children,(function(t){return pe({},t)})),p=Object(s.x)(i.start),h=Object(s.x)(i.end),d=Object(s.q)(i.start),f=Object(s.q)(i.end),m=n?pe({},n):{},v=d(m)&&f(m);if(r&&"none"!==o){for(var g=[{task:(e={},e[i.children]=u,e),childrenIndex:0}],y=Object(s.q)(i.id),b=Object(s.q)(i.children),x=Object(s.x)(i.children),w=y(r);g.length>0;){var k=g[g.length-1],C=k.task,_=y(C),S=b(C);if(_&&_===w)break;S&&S.length&&S.length>k.childrenIndex?(g.push({task:S[k.childrenIndex],childrenIndex:0}),k.childrenIndex++):g.pop()}if(g.length>1){var E=g[g.length-1].task,I=g[g.length-2].childrenIndex,T=g[g.length-2].task,D=b(T);switch(o){case"child":var P=b(E);P||x(E,P=[]),v||(p(m,new Date(d(E).getTime())),h(m,new Date(f(E).getTime()))),P.push(m),ve(g.splice(1,g.length-1).map((function(t){return t.task})),i);break;case"above":d(T)&&f(T)&&!v?(p(m,new Date(d(E).getTime())),h(m,new Date(f(E).getTime()))):(p(m,l),h(m,c)),D.splice(I-1,0,m),ve(g.splice(1,g.length-2).map((function(t){return t.task})),i);break;case"below":d(T)&&f(T)&&!v?(p(m,new Date(d(E).getTime())),h(m,new Date(f(E).getTime()))):(p(m,l),h(m,c)),D.splice(I,0,m),ve(g.splice(1,g.length-2).map((function(t){return t.task})),i)}}}else v||(p(m,l),h(m,c)),u.unshift(m);return u},fe=function(t){for(var e,n,r=t.updatedDataItem,o=t.taskModelFields,i=t.dataTree,a=Object(s.q)(o.id),l=Object(s.q)(o.children),c=a(r),u=O(i,o.children,(function(t){return a(t)===c?(n=t,pe({},r)):pe({},t)})),p=[{task:(e={},e[o.children]=u,e),childrenIndex:0}];p.length>0;){var h=p[p.length-1],d=h.task,f=a(d),m=l(d);if(f&&f===c)break;m&&m.length&&m.length>h.childrenIndex?(p.push({task:m[h.childrenIndex],childrenIndex:0}),h.childrenIndex++):p.pop()}if(p.length>1){p=p.splice(1,p.length-2);var v=Object(s.q)(o.start),g=Object(s.q)(o.end),y=Object(s.q)(o.percentComplete);if(v(n).getTime()!==v(r).getTime()){ge(p.map((function(t){return t.task})),o);var b=v(r).getTime()-v(n).getTime();xe(l(r),o,b)}g(n).getTime()!==g(r).getTime()&&ye(p.map((function(t){return t.task})),o),y(n)!==y(r)&&be(p.map((function(t){return t.task})),o)}return u},me=function(t){for(var e,n=t.removedDataItem,r=t.taskModelFields,o=t.dataTree,i=O(o,r.children,(function(t){return pe({},t)})),a=[{task:(e={},e[r.children]=i,e),childrenIndex:0}],l=Object(s.q)(r.id),c=Object(s.q)(r.children),u=l(n);a.length>0;){var p=a[a.length-1],h=p.task,d=l(h),f=c(h);if(d&&d===u)break;f&&f.length&&f.length>p.childrenIndex?(a.push({task:f[p.childrenIndex],childrenIndex:0}),p.childrenIndex++):a.pop()}if(a.length>1){var m=a[a.length-2];c(m.task).splice(m.childrenIndex-1,1),a=a.splice(1,a.length-2),ve(a.map((function(t){return t.task})),r)}return i},ve=function(t,e){ge(t,e),ye(t,e),be(t,e)},ge=function(t,e){if(t.length)for(var n=Object(s.q)(e.children),r=Object(s.q)(e.start),o=Object(s.x)(e.start),i=t.length-1;i>=0;i--){var a=t[i],l=n(a);if(l&&l.length){var c=l.reduce((function(t,e){return Math.min(t,r(e).getTime())}),r(l[0]).getTime());o(a,new Date(c))}}},ye=function(t,e){if(t.length)for(var n=Object(s.q)(e.children),r=Object(s.q)(e.end),o=Object(s.x)(e.end),i=t.length-1;i>=0;i--){var a=t[i],l=n(a);if(l&&l.length){var c=l.reduce((function(t,e){return Math.max(t,r(e).getTime())}),r(l[0]).getTime());o(a,new Date(c))}}},be=function(t,e){if(t.length)for(var n=Object(s.q)(e.children),r=Object(s.q)(e.percentComplete),o=Object(s.x)(e.percentComplete),i=function(t,e){var n=t.avg,o=t.n;return{avg:((r(e)||0)+o*n)/(o+1),n:o+1}},a=t.length-1;a>=0;a--){var l=t[a],c=n(l);if(c&&c.length)o(l,c.reduce(i,{avg:0,n:0}).avg)}},xe=function(t,e,n){if(t)for(var r=Object(s.q)(e.children),o=Object(s.q)(e.start),i=Object(s.x)(e.start),a=Object(s.q)(e.end),l=Object(s.x)(e.end),c=t.map((function(t){return{task:t,childrenIndex:0}}));c.length>0;){var u=c[c.length-1],p=u.task,h=r(p);h&&h.length&&h.length>u.childrenIndex?(c.push({task:h[u.childrenIndex],childrenIndex:0}),u.childrenIndex++):(c.pop(),i(p,new Date(o(p).getTime()+n)),l(p,new Date(a(p).getTime()+n)))}},we=n(12),ke=n(9),Oe=n(16),Ce=n(8),_e=n(11),Se=function(){return(Se=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ee=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Ie=function(t){var e=t.validationMessage,n=t.touched,r=t.label,o=t.id,a=t.valid,s=t.disabled,l=t.hint,c=t.type,u=t.optional,p=Ee(t,["validationMessage","touched","label","id","valid","disabled","hint","type","optional"]),h=n&&e,d=!h&&l,f=d?o+"_hint":"",m=h?o+"_error":"";return i.createElement(ke.FieldWrapper,null,i.createElement(Ce.Label,{editorId:o,editorValid:a,editorDisabled:s,optional:u},r),i.createElement("div",{className:"k-form-field-wrap"},i.createElement(_e.Input,Se({valid:a,type:c,id:o,disabled:s,ariaDescribedBy:f+" "+m},p)),d&&i.createElement(Ce.Hint,{id:f},l),h&&i.createElement(Ce.Error,{id:m},e)))},Te=n(15),De=function(){return(De=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Pe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Ae=function(t){var e=t.validationMessage,n=t.touched,r=t.label,o=t.id,a=t.valid,s=t.disabled,l=t.hint,c=t.wrapperStyle,u=Pe(t,["validationMessage","touched","label","id","valid","disabled","hint","wrapperStyle"]),p=n&&e,h=!p&&l,d=h?o+"_hint":"",f=p?o+"_error":"",m=r?o+"_label":"";return i.createElement(ke.FieldWrapper,{style:c},i.createElement(Ce.Label,{id:m,editorId:o,editorValid:a,editorDisabled:s},r),i.createElement("div",{className:"k-form-field-wrap"},i.createElement(Te.DateTimePicker,De({ariaLabelledBy:m,ariaDescribedBy:d+" "+f,valid:a,id:o,disabled:s},u)),h&&i.createElement(Ce.Hint,{id:d},l),p&&i.createElement(Ce.Error,{id:f},e)))},je=function(){return(je=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Me=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Re=function(t){var e=t.validationMessage,n=t.touched,r=t.label,o=t.id,a=t.valid,s=t.disabled,l=t.hint,c=Me(t,["validationMessage","touched","label","id","valid","disabled","hint"]),u=n&&e,p=!u&&l,h=p?o+"_hint":"",d=u?o+"_error":"";return i.createElement(ke.FieldWrapper,null,i.createElement(Ce.Label,{editorId:o,editorValid:a,editorDisabled:s},r),i.createElement("div",{className:"k-form-field-wrap"},i.createElement(_e.NumericTextBox,je({ariaDescribedBy:h+" "+d,valid:a,id:o,disabled:s},c)),p&&i.createElement(Ce.Hint,{id:h},l),u&&i.createElement(Ce.Error,{id:d},e)))},Ne=function(){var t=W(),e=Object(B.useLocalization)(),n=function(t){return e.toLanguageString(t,Ot[t])},r=n("gantt.editorTaskTitle"),o=n("gantt.editorTaskStart"),a=n("gantt.editorTaskEnd"),s=n("gantt.editorTaskComplete"),l=n("gantt.editorValidationRequired"),c=n("gantt.editorValidationStart"),u=n("gantt.editorValidationEnd"),p=i.useCallback((function(t){return t||0===t?void 0:l}),[l]),h=i.useCallback((function(e,n){return Boolean(e&&n(t.end)&&e.getTime()>n(t.end).getTime())?c:void 0}),[t,c]),d=i.useCallback((function(e,n){return Boolean(e&&n(t.start)&&e.getTime()<n(t.start).getTime())?u:void 0}),[t,u]),f=i.useMemo((function(){return[p,h]}),[p,h]),m=i.useMemo((function(){return[p,d]}),[p,d]);return i.createElement(ke.FormElement,{style:{width:400},horizontal:!0},i.createElement(ke.Field,{id:t.title+"_gantteditor",name:t.title,label:r,component:Ie,validator:p}),i.createElement(ke.Field,{id:t.start+"_gantteditor",name:t.start,label:o,component:Ae,validator:f}),i.createElement(ke.Field,{id:t.end+"_gantteditor",name:t.end,label:a,component:Ae,validator:m}),i.createElement(ke.Field,{id:t.percentComplete+"_gantteditor",name:t.percentComplete,format:"p",label:s,component:Re,step:.01,validator:p}))},Fe=function(){return(Fe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Le=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},ze=function(t){var e=t.onCancel,n=t.onClose,r=t.onSubmit,o=Le(t,["onCancel","onClose","onSubmit"]),a=Object(B.useLocalization)(),l=function(t){return a.toLanguageString(t,Ot[t])},c=l("gantt.editSave"),u=l("gantt.editCancel"),p=l("gantt.editorTitle"),h=i.useCallback((function(t){e&&e.call(void 0,{syntheticEvent:t,nativeEvent:t&&t.nativeEvent})}),[e]),d=i.useCallback((function(t){var e=t.syntheticEvent;n&&n.call(void 0,{syntheticEvent:e,nativeEvent:e&&e.nativeEvent})}),[n]),f=i.useCallback((function(t,e){r&&r.call(void 0,{dataItem:t,syntheticEvent:e,nativeEvent:e&&e.nativeEvent})}),[r]);return s.e?we.createPortal(i.createElement(ke.Form,Fe({initialValues:t.dataItem,onSubmit:f,render:function(t){return i.createElement(Oe.Dialog,{title:p,minWidth:600,onClose:d,style:{zIndex:90}},i.createElement(Ne,null),i.createElement(Oe.DialogActionsBar,null,i.createElement("button",{className:"k-button",disabled:!t.allowSubmit,onClick:t.onSubmit},c),i.createElement("button",{className:"k-button",onClick:h},u)))}},o)),document&&document.body):null},Be=function(t){var e=t.onClose,n=t.onCancel,r=t.onConfirm,o=t.dataItem,a=Object(B.useLocalization)(),l=function(t){return a.toLanguageString(t,Ot[t])},c=l("gantt.editorDelete"),u=l("gantt.editCancel"),p=l("gantt.deleteConfirmation"),h=l("gantt.deleteDialogTitle"),d=i.useCallback((function(t){var n=t.syntheticEvent;e&&e.call(void 0,{syntheticEvent:n,nativeEvent:n&&n.nativeEvent,dataItem:null})}),[e]),f=i.useCallback((function(t){n&&n.call(void 0,{syntheticEvent:t,nativeEvent:t&&t.nativeEvent,dataItem:null})}),[n]),m=i.useCallback((function(t){r&&r.call(void 0,{syntheticEvent:t,nativeEvent:t&&t.nativeEvent,dataItem:o})}),[r,o]);return s.e?we.createPortal(i.createElement(Oe.Dialog,{title:h,onClose:d},p,i.createElement(Oe.DialogActionsBar,null,i.createElement("button",{className:"k-button",onClick:f},u),i.createElement("button",{className:"k-button",onClick:m},c))),document&&document.body):null},Ve=u.TreeListRow},function(t,e,n){"use strict";n.r(e),n.d(e,"ExcelExport",(function(){return Tr})),n.d(e,"ExcelExportColumnGroup",(function(){return jr})),n.d(e,"ExcelExportFooter",(function(){return Rr})),n.d(e,"ExcelExportColumn",(function(){return Pr})),n.d(e,"ExcelExportGroupFooter",(function(){return Fr})),n.d(e,"ExcelExportGroupHeader",(function(){return zr})),n.d(e,"KendoOoxml",(function(){return r})),n.d(e,"workbookOptions",(function(){return kr})),n.d(e,"toDataURL",(function(){return Or})),n.d(e,"isWorkbookOptions",(function(){return Cr}));var r={};n.r(r),n.d(r,"ExcelExporter",(function(){return k})),n.d(r,"IntlService",(function(){return On})),n.d(r,"TemplateService",(function(){return d})),n.d(r,"Workbook",(function(){return Zn})),n.d(r,"Worksheet",(function(){return qn}));var o=n(0),i=n(1);var a=function(){return document.createElement("a")},s=function(){return"download"in a()};function l(t,e){var n=t;if("string"==typeof t){for(var r=t.split(";base64,"),o=r[0],i=atob(r[1]),a=new Uint8Array(i.length),s=0;s<i.length;s++)a[s]=i.charCodeAt(s);n=new Blob([a.buffer],{type:o})}navigator.msSaveBlob(n,e)}function c(t,e){var n=t;window.Blob&&t instanceof Blob&&(n=URL.createObjectURL(t));var r=a();r.download=e,r.href=n;var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o),setTimeout((function(){return URL.revokeObjectURL(n)}))}function u(t,e,n){if(n.proxyURL){var r=document.createElement("form");r.setAttribute("action",n.proxyURL),r.setAttribute("method","POST"),r.setAttribute("target",n.proxyTarget||"_self");var o=n.proxyData||{};o.fileName=e;var i=t.split(";base64,");for(var a in o.contentType=i[0].replace("data:",""),o.base64=i[1],o)if(o.hasOwnProperty(a)){var s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name",a),s.setAttribute("value",o[a]),r.appendChild(s)}document.body.appendChild(r),r.submit(),document.body.removeChild(r)}}String.fromCharCode;var p={compile:function(t){return t}},h=function(){};h.register=function(t){p=t},h.compile=function(t){return p.compile(t)};var d=h,f=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,m={};function v(t){if(m[t])return m[t];var e=[];return t.replace(f,(function(t,n,r,o){e.push(void 0!==n?n:r||o)})),m[t]=function(t){for(var n=t,r=0;r<e.length&&n;r++)n=n[e[r]];return n},m[t]}function g(t,e){return t.reduce((function(t,n,r){var o=e(n,r);return null!=o&&t.push(o),t}),[])}function y(t){return t.title+": "+t.value}function b(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n}function x(t){return t.id}m[void 0]=function(t){return t};var w=function(t){t.columns=this._trimColumns(t.columns||[]),this.allColumns=g(this._leafColumns(t.columns||[]),this._prepareColumn),this.columns=this._visibleColumns(this.allColumns),this.options=t,this.data=t.data||[],this.aggregates=t.aggregates||{},this.groups=[].concat(t.groups||[]),this.hasGroups=this.groups.length>0,this.hierarchy=t.hierarchy,this.hasGroupHeaderColumn=this.columns.some((function(t){return t.groupHeaderColumnTemplate})),this.collapsible=this.options.collapsible};w.prototype.workbook=function(){var t={sheets:[{columns:this._columns(),rows:this.hierarchy?this._hierarchyRows():this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};return t},w.prototype._trimColumns=function(t){var e=this;return t.filter((function(t){var n=Boolean(t.field);return!n&&t.columns&&(n=e._trimColumns(t.columns).length>0),n}))},w.prototype._leafColumns=function(t){for(var e=[],n=0;n<t.length;n++)t[n].columns?e=e.concat(this._leafColumns(t[n].columns)):e.push(t[n]);return e},w.prototype._prepareColumn=function(t){if(!t.field)return null;var e=function(e){return v(t.field)(e)},n=null;return t.values&&(n={},t.values.forEach((function(t){n[t.value]=t.text})),e=function(e){return n[v(t.field)(e)]}),Object.assign({},t,{value:e,values:n,groupHeaderTemplate:t.groupHeaderTemplate?d.compile(t.groupHeaderTemplate):y,groupHeaderColumnTemplate:t.groupHeaderColumnTemplate?d.compile(t.groupHeaderColumnTemplate):null,groupFooterTemplate:t.groupFooterTemplate?d.compile(t.groupFooterTemplate):null,footerTemplate:t.footerTemplate?d.compile(t.footerTemplate):null})},w.prototype._filter=function(){if(!this.options.filterable)return null;var t=this._depth();return{from:t,to:t+this.columns.length-1}},w.prototype._createPaddingCells=function(t){var e=this;return b(t,(function(){return Object.assign({background:"#dfdfdf",color:"#333"},e.options.paddingCellOptions)}))},w.prototype._dataRow=function(t,e,n){var r=this._createPaddingCells(e);if(this.hasGroups&&n&&t.items){r=r.concat(this._groupHeaderCells(t,e,n));var o=this._dataRows(t.items,e+1);return o.unshift({type:"group-header",cells:r,level:this.collapsible?e:null}),o.concat(this._footer(t,e))}for(var i=[],a=0;a<this.columns.length;a++)i[a]=this._cell(t,this.columns[a]);return this.hierarchy&&(i[0].colSpan=n-e+1),[{type:"data",cells:r.concat(i),level:this.collapsible?e:null}]},w.prototype._groupHeaderCells=function(t,e,n){var r=[],o=this.allColumns.filter((function(e){return e.field===t.field}))[0]||{},i=o&&o.title?o.title:t.field,a=o?o.groupHeaderTemplate||o.groupHeaderColumnTemplate:null,s=Object.assign({title:i,field:t.field,value:o&&o.values?o.values[t.value]:t.value,aggregates:t.aggregates,items:t.items},t.aggregates[t.field]),l=a?a(s):i+": "+t.value;return r.push(Object.assign({value:l,background:"#dfdfdf",color:"#333",colSpan:(this.hasGroupHeaderColumn?1:this.columns.length)+n-e},o.groupHeaderCellOptions)),this.hasGroupHeaderColumn&&this.columns.forEach((function(e,n){n>0&&r.push(Object.assign({background:"#dfdfdf",color:"#333",value:e.groupHeaderColumnTemplate?e.groupHeaderColumnTemplate(Object.assign({group:s},s,t.aggregates[e.field])):void 0},e.groupHeaderCellOptions))})),r},w.prototype._dataRows=function(t,e){for(var n=this._depth(),r=[],o=0;o<t.length;o++)r.push.apply(r,this._dataRow(t[o],e,n));return r},w.prototype._hierarchyRows=function(){var t,e=this._depth(),n=this.data,r=this.hierarchy.itemLevel,o=this.hierarchy.itemId||x,i=this._hasFooterTemplate(),a=[],s=[],l=0;i||(this.collapsible=!1);for(var c=0;c<n.length;c++){var u=n[c],p=r(u,c);i&&(p>l?s.push({id:t,level:l}):p<l&&a.push.apply(a,this._hierarchyFooterRows(s,p,e)),l=p,t=o(u,c)),a.push.apply(a,this._dataRow(u,p+1,e))}if(i){a.push.apply(a,this._hierarchyFooterRows(s,0,e));var h=n.length?this.aggregates[n[0].parentId]:{};a.push(this._hierarchyFooter(h,0,e))}return this._prependHeaderRows(a),a},w.prototype._hierarchyFooterRows=function(t,e,n){for(var r=[];t.length&&t[t.length-1].level>=e;){var o=t.pop();r.push(this._hierarchyFooter(this.aggregates[o.id],o.level+1,n))}return r},w.prototype._hasFooterTemplate=function(){for(var t=this.columns,e=0;e<t.length;e++)if(t[e].footerTemplate)return!0},w.prototype._hierarchyFooter=function(t,e,n){var r=this.columns.map((function(r,o){var i=o?1:n-e+1;if(r.footerTemplate){var a=(t||{})[r.field];return Object.assign({background:"#dfdfdf",color:"#333",colSpan:i,value:r.footerTemplate(Object.assign({aggregates:t},a))},r.footerCellOptions)}return Object.assign({background:"#dfdfdf",color:"#333",colSpan:i},r.footerCellOptions)}));return{type:"footer",cells:this._createPaddingCells(e).concat(r),level:this.collapsible?e:null}},w.prototype._footer=function(t,e){var n,r,o=[],i=this.columns.some((function(t){return t.groupFooterTemplate}));i&&(r={group:{items:t.items,field:t.field,value:t.value}},n={},Object.keys(t.aggregates).forEach((function(e){n[e]=Object.assign({},t.aggregates[e],r)})));var a=this.columns.map((function(e){if(e.groupFooterTemplate){var o=Object.assign({},n,t.aggregates[e.field],r);return Object.assign({background:"#dfdfdf",color:"#333",value:e.groupFooterTemplate(o)},e.groupFooterCellOptions)}return Object.assign({background:"#dfdfdf",color:"#333"},e.groupFooterCellOptions)}));return i&&o.push({type:"group-footer",cells:this._createPaddingCells(this.groups.length).concat(a),level:this.collapsible?e:null}),o},w.prototype._isColumnVisible=function(t){return this._visibleColumns([t]).length>0&&(t.field||t.columns)},w.prototype._visibleColumns=function(t){var e=this;return t.filter((function(t){var n=t.exportable;"object"==typeof n&&(n=t.exportable.excel);var r=!t.hidden&&!1!==n,o=t.hidden&&!0===n,i=r||o;return i&&t.columns&&(i=e._visibleColumns(t.columns).length>0),i}))},w.prototype._headerRow=function(t,e){var n=this,r=t.cells.map((function(e){return Object.assign(e,{colSpan:e.colSpan>1?e.colSpan:1,rowSpan:t.rowSpan>1&&!e.colSpan?t.rowSpan:1})}));return this.hierarchy&&r[0].firstCell&&(r[0].colSpan+=this._depth()),{type:"header",cells:b(e.length,(function(){return Object.assign({background:"#7a7a7a",color:"#fff"},n.options.headerPaddingCellOptions)})).concat(r)}},w.prototype._prependHeaderRows=function(t){var e=this.groups,n=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(n,this.options.columns);for(var r=n.length-1;r>=0;r--)t.unshift(this._headerRow(n[r],e))},w.prototype._prepareHeaderRows=function(t,e,n,r){for(var o=r||t[t.length-1],i=t[o.index+1],a=0,s=0;s<e.length;s++){var l=e[s];if(this._isColumnVisible(l)){var c=Object.assign({background:"#7a7a7a",color:"#fff",value:l.title||l.field,colSpan:0,firstCell:0===s&&(!n||n.firstCell)},l.headerCellOptions);o.cells.push(c),l.columns&&l.columns.length&&(i||(i={rowSpan:0,cells:[],index:t.length},t.push(i)),c.colSpan=this._trimColumns(this._visibleColumns(l.columns)).length,this._prepareHeaderRows(t,l.columns,c,i),a+=c.colSpan-1,o.rowSpan=t.length-o.index)}}n&&(n.colSpan+=a)},w.prototype._rows=function(){var t=this,e=this._dataRows(this.data,0);if(this.columns.length){this._prependHeaderRows(e);var n=!1,r=this.columns.map((function(e){return e.footerTemplate?(n=!0,Object.assign({background:"#dfdfdf",color:"#333",value:e.footerTemplate(Object.assign({},t.aggregates,t.aggregates[e.field]))},e.footerCellOptions)):Object.assign({background:"#dfdfdf",color:"#333"},e.footerCellOptions)}));n&&e.push({type:"footer",cells:this._createPaddingCells(this.groups.length).concat(r)})}return e},w.prototype._headerDepth=function(t){for(var e=0,n=0;n<t.length;n++)if(t[n].columns){var r=this._headerDepth(t[n].columns);r>e&&(e=r)}return 1+e},w.prototype._freezePane=function(){var t=this._visibleColumns(this.options.columns||[]),e=this._visibleColumns(this._trimColumns(this._leafColumns(t.filter((function(t){return t.locked}))))).length;return{rowSplit:this._headerDepth(t),colSplit:e?e+this.groups.length:0}},w.prototype._cell=function(t,e){return Object.assign({value:e.value(t)},e.cellOptions)},w.prototype._depth=function(){return this.hierarchy?this.hierarchy.depth:this.groups.length},w.prototype._columns=function(){return b(this._depth(),(function(){return{width:20}})).concat(this.columns.map((function(t){return{width:parseInt(t.width,10),autoWidth:!t.width}})))};var k=w;function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)O(n,r)&&(t[r]=n[r])}}return t}function _(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)}var S={arraySet:function(t,e,n,r,o){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),o);else for(var i=0;i<r;i++)t[o+i]=e[n+i]},flattenChunks:function(t){var e,n,r,o,i,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),o=0,e=0,n=t.length;e<n;e++)i=t[e],a.set(i,o),o+=i.length;return a},Buf8:function(t){return new Uint8Array(t)},Buf16:function(t){return new Uint16Array(t)},Buf32:function(t){return new Int32Array(t)}},E={arraySet:function(t,e,n,r,o){for(var i=0;i<r;i++)t[o+i]=e[n+i]},flattenChunks:function(t){return[].concat.apply([],t)},Buf8:function(t){return new Array(t)},Buf16:function(t){return new Array(t)},Buf32:function(t){return new Array(t)}},I=function(){var t="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;return I=function(){return t},t},T=function(t,e,n,r,o){return(T=I()?S.arraySet:E.arraySet)(t,e,n,r,o)},D=function(t){return(D=I()?S.flattenChunks:E.flattenChunks)(t)},P=function(t){return(P=I()?S.Buf8:E.Buf8)(t)},A=function(t){return(A=I()?S.Buf16:E.Buf16)(t)},j=function(t){return(j=I()?S.Buf32:E.Buf32)(t)},M=function(){var t=!0;try{String.fromCharCode.apply(null,[0])}catch(e){t=!1}return M=function(){return t},t},R=function(){var t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){t=!1}return R=function(){return t},t},N=function(t){for(var e=P(256),n=0;n<256;n++)e[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;return e[254]=e[254]=1,N=function(t){return e[t]},e[t]};function F(t){var e,n,r,o,i,a=t.length,s=0;for(o=0;o<a;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),i=0,o=0;i<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|63&n):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|63&n):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|63&n);return e}function L(t,e){if(e<65534&&(t.subarray&&R()||!t.subarray&&M()))return String.fromCharCode.apply(null,_(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}function z(t,e){var n,r,o,i,a=e||t.length,s=new Array(2*a);for(r=0,n=0;n<a;)if((o=t[n++])<128)s[r++]=o;else if((i=N(o))>4)s[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&n<a;)o=o<<6|63&t[n++],i--;i>1?s[r++]=65533:o<65536?s[r++]=o:(o-=65536,s[r++]=55296|o>>10&1023,s[r++]=56320|1023&o)}return L(s,r)}function B(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+N(t[n])>e?n:e}function V(t,e,n,r){for(var o=65535&t|0,i=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(o=o+e[r++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}var H=function(){var t=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();return H=function(){return t},t};function U(t,e,n,r){var o=H(),i=r+n;t^=-1;for(var a=r;a<i;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}function W(t,e){var n,r,o,i,a,s,l,c,u,p,h,d,f,m,v,g,y,b,x,w,k,O,C,_,S;n=t.state,r=t.next_in,_=t.input,o=r+(t.avail_in-5),i=t.next_out,S=t.output,a=i-(e-t.avail_out),s=i+(t.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,p=n.wnext,h=n.window,d=n.hold,f=n.bits,m=n.lencode,v=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{f<15&&(d+=_[r++]<<f,f+=8,d+=_[r++]<<f,f+=8),b=m[d&g];e:for(;;){if(d>>>=x=b>>>24,f-=x,0===(x=b>>>16&255))S[i++]=65535&b;else{if(!(16&x)){if(0==(64&x)){b=m[(65535&b)+(d&(1<<x)-1)];continue e}if(32&x){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&b,(x&=15)&&(f<x&&(d+=_[r++]<<f,f+=8),w+=d&(1<<x)-1,d>>>=x,f-=x),f<15&&(d+=_[r++]<<f,f+=8,d+=_[r++]<<f,f+=8),b=v[d&y];n:for(;;){if(d>>>=x=b>>>24,f-=x,!(16&(x=b>>>16&255))){if(0==(64&x)){b=v[(65535&b)+(d&(1<<x)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(k=65535&b,f<(x&=15)&&(d+=_[r++]<<f,(f+=8)<x&&(d+=_[r++]<<f,f+=8)),(k+=d&(1<<x)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=x,f-=x,k>(x=i-a)){if((x=k-x)>u&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(O=0,C=h,0===p){if(O+=c-x,x<w){w-=x;do{S[i++]=h[O++]}while(--x);O=i-k,C=S}}else if(p<x){if(O+=c+p-x,(x-=p)<w){w-=x;do{S[i++]=h[O++]}while(--x);if(O=0,p<w){w-=x=p;do{S[i++]=h[O++]}while(--x);O=i-k,C=S}}}else if(O+=p-x,x<w){w-=x;do{S[i++]=h[O++]}while(--x);O=i-k,C=S}for(;w>2;)S[i++]=C[O++],S[i++]=C[O++],S[i++]=C[O++],w-=3;w&&(S[i++]=C[O++],w>1&&(S[i++]=C[O++]))}else{O=i-k;do{S[i++]=S[O++],S[i++]=S[O++],S[i++]=S[O++],w-=3}while(w>2);w&&(S[i++]=S[O++],w>1&&(S[i++]=S[O++]))}break}}break}}while(r<o&&i<s);r-=w=f>>3,d&=(1<<(f-=w<<3))-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?o-r+5:5-(r-o),t.avail_out=i<s?s-i+257:257-(i-s),n.hold=d,n.bits=f}var q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],K=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],G=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function X(t,e,n,r,o,i,a,s){var l,c,u,p,h,d,f,m,v,g=s.bits,y=0,b=0,x=0,w=0,k=0,O=0,C=0,_=0,S=0,E=0,I=null,T=0,D=A(16),P=A(16),j=null,M=0;for(y=0;y<=15;y++)D[y]=0;for(b=0;b<r;b++)D[e[n+b]]++;for(k=g,w=15;w>=1&&0===D[w];w--);if(k>w&&(k=w),0===w)return o[i++]=20971520,o[i++]=20971520,s.bits=1,0;for(x=1;x<w&&0===D[x];x++);for(k<x&&(k=x),_=1,y=1;y<=15;y++)if(_<<=1,(_-=D[y])<0)return-1;if(_>0&&(0===t||1!==w))return-1;for(P[1]=0,y=1;y<15;y++)P[y+1]=P[y]+D[y];for(b=0;b<r;b++)0!==e[n+b]&&(a[P[e[n+b]]++]=b);if(0===t?(I=j=a,d=19):1===t?(I=q,T-=257,j=K,M-=257,d=256):(I=G,j=Y,d=-1),E=0,b=0,y=x,h=i,O=k,C=0,u=-1,p=(S=1<<k)-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){f=y-C,a[b]<d?(m=0,v=a[b]):a[b]>d?(m=j[M+a[b]],v=I[T+a[b]]):(m=96,v=0),l=1<<y-C,x=c=1<<O;do{o[h+(E>>C)+(c-=l)]=f<<24|m<<16|v|0}while(0!==c);for(l=1<<y-1;E&l;)l>>=1;if(0!==l?(E&=l-1,E+=l):E=0,b++,0==--D[y]){if(y===w)break;y=e[n+a[b]]}if(y>k&&(E&p)!==u){for(0===C&&(C=k),h+=x,_=1<<(O=y-C);O+C<w&&!((_-=D[O+C])<=0);)O++,_<<=1;if(S+=1<<O,1===t&&S>852||2===t&&S>592)return 1;o[u=E&p]=k<<24|O<<16|h-i|0}}return 0!==E&&(o[h+E]=y-C<<24|64<<16|0),s.bits=k,0}function $(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function Z(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=A(320),this.work=A(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function J(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,function(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=j(852),e.distcode=e.distdyn=j(592),e.sane=1,e.back=-1,0):-2}(t)):-2}function Q(t,e){var n,r;return t?(r=new Z,t.state=r,r.window=null,0!==(n=function(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,J(t))):-2}(t,e))&&(t.state=null),n):-2}var tt,et,nt=!0;function rt(t){if(nt){var e;for(tt=j(512),et=j(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(X(1,t.lens,0,288,tt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;X(2,t.lens,0,32,et,0,t.work,{bits:5}),nt=!1}t.lencode=tt,t.lenbits=9,t.distcode=et,t.distbits=5}function ot(t,e,n,r){var o,i=t.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=P(i.wsize)),r>=i.wsize?(T(i.window,e,n-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):((o=i.wsize-i.wnext)>r&&(o=r),T(i.window,e,n-r,o,i.wnext),(r-=o)?(T(i.window,e,n-r,r,0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0}function it(t,e){var n,r,o,i,a,s,l,c,u,p,h,d,f,m,v,g,y,b,x,w,k,O,C,_,S=0,E=P(4),I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),a=t.next_out,o=t.output,l=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,c=n.hold,u=n.bits,p=s,h=l,O=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}if(2&n.wrap&&35615===c){n.check=0,E[0]=255&c,E[1]=c>>>8&255,n.check=U(n.check,E,2,0),c=0,u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&c)){t.msg="unknown compression method",n.mode=30;break}if(u-=4,k=8+(15&(c>>>=4)),0===n.wbits)n.wbits=k;else if(k>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<k,t.adler=n.check=1,n.mode=512&c?10:12,c=0,u=0;break;case 2:for(;u<16;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}if(n.flags=c,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=U(n.check,E,2,0)),c=0,u=0,n.mode=3;case 3:for(;u<32;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,n.check=U(n.check,E,4,0)),c=0,u=0,n.mode=4;case 4:for(;u<16;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=U(n.check,E,2,0)),c=0,u=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=U(n.check,E,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((d=n.length)>s&&(d=s),d&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),T(n.head.extra,r,i,d,k)),512&n.flags&&(n.check=U(n.check,r,d,i)),s-=d,i+=d,n.length-=d),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break t;d=0;do{k=r[i+d++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&d<s);if(512&n.flags&&(n.check=U(n.check,r,d,i)),s-=d,i+=d,k)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break t;d=0;do{k=r[i+d++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&d<s);if(512&n.flags&&(n.check=U(n.check,r,d,i)),s-=d,i+=d,k)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}if(c!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;u<32;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}t.adler=n.check=$(c),c=0,u=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=a,t.avail_out=l,t.next_in=i,t.avail_in=s,n.hold=c,n.bits=u,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){c>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}switch(n.last=1&c,u-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(rt(n),n.mode=20,6===e){c>>>=2,u-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,c=0,u=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(d=n.length){if(d>s&&(d=s),d>l&&(d=l),0===d)break t;T(o,r,i,d,a),s-=d,i+=d,l-=d,a+=d,n.length-=d;break}n.mode=12;break;case 17:for(;u<14;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}n.lens[I[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},O=X(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,O){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;g=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&S,!((v=S>>>24)<=u);){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}if(y<16)c>>>=v,u-=v,n.lens[n.have++]=y;else{if(16===y){for(_=v+2;u<_;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}if(c>>>=v,u-=v,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}k=n.lens[n.have-1],d=3+(3&c),c>>>=2,u-=2}else if(17===y){for(_=v+3;u<_;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}u-=v,k=0,d=3+(7&(c>>>=v)),c>>>=3,u-=3}else{for(_=v+7;u<_;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}u-=v,k=0,d=11+(127&(c>>>=v)),c>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;d--;)n.lens[n.have++]=k}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,C={bits:n.lenbits},O=X(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,O){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},O=X(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,O){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(s>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=i,t.avail_in=s,n.hold=c,n.bits=u,W(t,h),a=t.next_out,o=t.output,l=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,c=n.hold,u=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;g=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&S,!((v=S>>>24)<=u);){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}if(g&&0==(240&g)){for(b=v,x=g,w=y;g=(S=n.lencode[w+((c&(1<<b+x)-1)>>b)])>>>16&255,y=65535&S,!(b+(v=S>>>24)<=u);){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=v,u-=v,n.back+=v,n.length=y,0===g){n.mode=26;break}if(32&g){n.back=-1,n.mode=12;break}if(64&g){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&g,n.mode=22;case 22:if(n.extra){for(_=n.extra;u<_;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;g=(S=n.distcode[c&(1<<n.distbits)-1])>>>16&255,y=65535&S,!((v=S>>>24)<=u);){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}if(0==(240&g)){for(b=v,x=g,w=y;g=(S=n.distcode[w+((c&(1<<b+x)-1)>>b)])>>>16&255,y=65535&S,!(b+(v=S>>>24)<=u);){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=v,u-=v,n.back+=v,64&g){t.msg="invalid distance code",n.mode=30;break}n.offset=y,n.extra=15&g,n.mode=24;case 24:if(n.extra){for(_=n.extra;u<_;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break t;if(d=h-l,n.offset>d){if((d=n.offset-d)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}d>n.wnext?(d-=n.wnext,f=n.wsize-d):f=n.wnext-d,d>n.length&&(d=n.length),m=n.window}else m=o,f=a-n.offset,d=n.length;d>l&&(d=l),l-=d,n.length-=d;do{o[a++]=m[f++]}while(--d);0===n.length&&(n.mode=21);break;case 26:if(0===l)break t;o[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===s)break t;s--,c|=r[i++]<<u,u+=8}if(h-=l,t.total_out+=h,n.total+=h,h&&(t.adler=n.check=n.flags?U(n.check,o,h,a-h):V(n.check,o,h,a-h)),h=l,(n.flags?c:$(c))!==n.check){t.msg="incorrect data check",n.mode=30;break}c=0,u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break t;s--,c+=r[i++]<<u,u+=8}if(c!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}c=0,u=0}n.mode=29;case 29:O=1;break t;case 30:O=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=a,t.avail_out=l,t.next_in=i,t.avail_in=s,n.hold=c,n.bits=u,(n.wsize||h!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&ot(t,t.output,t.next_out,h-t.avail_out),p-=t.avail_in,h-=t.avail_out,t.total_in+=p,t.total_out+=h,n.total+=h,n.wrap&&h&&(t.adler=n.check=n.flags?U(n.check,o,h,t.next_out-h):V(n.check,o,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===p&&0===h||4===e)&&0===O&&(O=-5),O}function at(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&V(1,e,r,0)!==n.check?-3:ot(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2}var st={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function lt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function ct(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ut=Object.prototype.toString,pt=function t(e){if(!(this instanceof t))return new t(e);this.options=C({chunkSize:16384,windowBits:0,to:""},e||{});var n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,0===n.windowBits&&(n.windowBits=-15)),!(n.windowBits>=0&&n.windowBits<16)||e&&e.windowBits||(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&0==(15&n.windowBits)&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lt,this.strm.avail_out=0;var r,o,i,a=Q(this.strm,n.windowBits);if(0!==a)throw new Error(st[a]);if(this.header=new ct,r=this.strm,o=this.header,r&&r.state&&(0==(2&(i=r.state).wrap)||(i.head=o,o.done=!1)),n.dictionary&&("string"==typeof n.dictionary?n.dictionary=F(n.dictionary):"[object ArrayBuffer]"===ut.call(n.dictionary)&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&0!==(a=at(this.strm,n.dictionary))))throw new Error(st[a])};pt.prototype.push=function(t,e){var n,r,o,i,a,s,l=this.strm,c=this.options.chunkSize,u=this.options.dictionary,p=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?l.input=function(t){for(var e=new Uint8Array(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e}(t):"[object ArrayBuffer]"===ut.call(t)?l.input=new Uint8Array(t):l.input=t,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=P(c),l.next_out=0,l.avail_out=c),2===(n=it(l,0))&&u&&(s="string"==typeof u?F(u):"[object ArrayBuffer]"===ut.call(u)?new Uint8Array(u):u,n=at(this.strm,s)),-5===n&&!0===p&&(n=0,p=!1),1!==n&&0!==n)return this.onEnd(n),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&1!==n&&(0!==l.avail_in||4!==r&&2!==r)||("string"===this.options.to?(o=B(l.output,l.next_out),i=l.next_out-o,a=z(l.output,o),l.next_out=i,l.avail_out=c-i,i&&T(l.output,l.output,o,i,0),this.onData(a)):this.onData(_(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(p=!0)}while((l.avail_in>0||0===l.avail_out)&&1!==n);return 1===n&&(r=4),4===r?(n=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0}(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==r||(this.onEnd(0),l.avail_out=0,!0)},pt.prototype.onData=function(t){this.chunks.push(t)},pt.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=D(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function ht(t){for(var e=t.length;--e>=0;)t[e]=0}var dt,ft,mt,vt,gt,yt,bt,xt,wt,kt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ot=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ct=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_t=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function St(t,e,n,r,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=t&&t.length}function Et(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function It(t){return t<256?mt[t]:mt[256+(t>>>7)]}function Tt(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function Dt(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,Tt(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function Pt(t,e,n){Dt(t,n[2*e],n[2*e+1])}function At(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function jt(t,e,n){var r,o,i=new Array(16),a=0;for(r=1;r<=15;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=e;o++){var s=t[2*o+1];0!==s&&(t[2*o]=At(i[s]++,s))}}function Mt(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Rt(t){t.bi_valid>8?Tt(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Nt(t,e,n,r){var o=2*e,i=2*n;return t[o]<t[i]||t[o]===t[i]&&r[e]<=r[n]}function Ft(t,e,n){for(var r=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&Nt(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!Nt(e,r,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=r}function Lt(t,e,n){var r,o,i,a,s=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],o=t.pending_buf[t.l_buf+s],s++,0===r?Pt(t,o,e):(Pt(t,(i=vt[o])+256+1,e),0!==(a=kt[i])&&Dt(t,o-=gt[i],a),Pt(t,i=It(--r),n),0!==(a=Ot[i])&&Dt(t,r-=yt[i],a))}while(s<t.last_lit);Pt(t,256,e)}function zt(t,e){var n,r,o,i=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==i[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)i[2*(o=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[o]=0,t.opt_len--,s&&(t.static_len-=a[2*o+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)Ft(t,i,n);o=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Ft(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*o]=i[2*n]+i[2*r],t.depth[o]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=o,t.heap[1]=o++,Ft(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,o,i,a,s,l=e.dyn_tree,c=e.max_code,u=e.stat_desc.static_tree,p=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,f=e.stat_desc.max_length,m=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(i=l[2*l[2*(r=t.heap[n])+1]+1]+1)>f&&(i=f,m++),l[2*r+1]=i,r>c||(t.bl_count[i]++,a=0,r>=d&&(a=h[r-d]),s=l[2*r],t.opt_len+=s*(i+a),p&&(t.static_len+=s*(u[2*r+1]+a)));if(0!==m){do{for(i=f-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[f]--,m-=2}while(m>0);for(i=f;0!==i;i--)for(r=t.bl_count[i];0!==r;)(o=t.heap[--n])>c||(l[2*o+1]!==i&&(t.opt_len+=(i-l[2*o+1])*l[2*o],l[2*o+1]=i),r--)}}(t,e),jt(i,c,t.bl_count)}function Bt(t,e,n){var r,o,i=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=e[2*(r+1)+1],++s<l&&o===a||(s<c?t.bl_tree[2*o]+=s:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,i=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4))}function Vt(t,e,n){var r,o,i=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(o=a,a=e[2*(r+1)+1],!(++s<l&&o===a)){if(s<c)do{Pt(t,o,t.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(Pt(t,o,t.bl_tree),s--),Pt(t,16,t.bl_tree),Dt(t,s-3,2)):s<=10?(Pt(t,17,t.bl_tree),Dt(t,s-3,3)):(Pt(t,18,t.bl_tree),Dt(t,s-11,7));s=0,i=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4)}}var Ht=!1;function Ut(t){Ht||(!function(){var t,e,n,r,o,i=new Array(16);for(ht(dt=new Array(576)),ht(ft=new Array(60)),ht(mt=new Array(512)),ht(vt=new Array(256)),ht(gt=new Array(29)),ht(yt=new Array(30)),n=0,r=0;r<28;r++)for(gt[r]=n,t=0;t<1<<kt[r];t++)vt[n++]=r;for(vt[n-1]=r,o=0,r=0;r<16;r++)for(yt[r]=o,t=0;t<1<<Ot[r];t++)mt[o++]=r;for(o>>=7;r<30;r++)for(yt[r]=o<<7,t=0;t<1<<Ot[r]-7;t++)mt[256+o++]=r;for(e=0;e<=15;e++)i[e]=0;for(t=0;t<=143;)dt[2*t+1]=8,t++,i[8]++;for(;t<=255;)dt[2*t+1]=9,t++,i[9]++;for(;t<=279;)dt[2*t+1]=7,t++,i[7]++;for(;t<=287;)dt[2*t+1]=8,t++,i[8]++;for(jt(dt,287,i),t=0;t<30;t++)ft[2*t+1]=5,ft[2*t]=At(t,5);bt=new St(dt,kt,257,286,15),xt=new St(ft,Ot,0,30,15),wt=new St(new Array(0),Ct,0,19,7)}(),Ht=!0),t.l_desc=new Et(t.dyn_ltree,bt),t.d_desc=new Et(t.dyn_dtree,xt),t.bl_desc=new Et(t.bl_tree,wt),t.bi_buf=0,t.bi_valid=0,Mt(t)}function Wt(t,e,n,r){Dt(t,0+(r?1:0),3),function(t,e,n,r){Rt(t),r&&(Tt(t,n),Tt(t,~n)),T(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}function qt(t){Dt(t,2,3),Pt(t,256,dt),function(t){16===t.bi_valid?(Tt(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}function Kt(t,e,n,r){var o,i,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),zt(t,t.l_desc),zt(t,t.d_desc),a=function(t){var e;for(Bt(t,t.dyn_ltree,t.l_desc.max_code),Bt(t,t.dyn_dtree,t.d_desc.max_code),zt(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*_t[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),o=t.opt_len+3+7>>>3,(i=t.static_len+3+7>>>3)<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==e?Wt(t,e,n,r):4===t.strategy||i===o?(Dt(t,2+(r?1:0),3),Lt(t,dt,ft)):(Dt(t,4+(r?1:0),3),function(t,e,n,r){var o;for(Dt(t,e-257,5),Dt(t,n-1,5),Dt(t,r-4,4),o=0;o<r;o++)Dt(t,t.bl_tree[2*_t[o]+1],3);Vt(t,t.dyn_ltree,e-1),Vt(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Lt(t,t.dyn_ltree,t.dyn_dtree)),Mt(t),r&&Rt(t)}function Gt(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(vt[n]+256+1)]++,t.dyn_dtree[2*It(e)]++),t.last_lit===t.lit_bufsize-1}function Yt(t,e){return t.msg=st[e],e}function Xt(t){return(t<<1)-(t>4?9:0)}function $t(t){for(var e=t.length;--e>=0;)t[e]=0}function Zt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(T(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function Jt(t,e){Kt(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Zt(t.strm)}function Qt(t,e){t.pending_buf[t.pending++]=e}function te(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function ee(t,e){var n,r,o=t.max_chain_length,i=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,c=t.window,u=t.w_mask,p=t.prev,h=t.strstart+258,d=c[i+a-1],f=c[i+a];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+a]===f&&c[n+a-1]===d&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(r=258-(h-i),i=h-258,r>a){if(t.match_start=e,a=r,r>=s)break;d=c[i+a-1],f=c[i+a]}}}while((e=p[e&u])>l&&0!=--o);return a<=t.lookahead?a:t.lookahead}function ne(t){var e,n,r,o,i,a,s,l,c,u,p=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-262)){T(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=p?r-p:0}while(--n);e=n=p;do{r=t.prev[--e],t.prev[e]=r>=p?r-p:0}while(--n);o+=p}if(0===t.strm.avail_in)break;if(a=t.strm,s=t.window,l=t.strstart+t.lookahead,c=o,u=void 0,(u=a.avail_in)>c&&(u=c),n=0===u?0:(a.avail_in-=u,T(s,a.input,a.next_in,u,l),1===a.state.wrap?a.adler=V(a.adler,s,u,l):2===a.state.wrap&&(a.adler=U(a.adler,s,u,l)),a.next_in+=u,a.total_in+=u,u),t.lookahead+=n,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+3-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function re(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ne(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,Jt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(Jt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Jt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Jt(t,!1),t.strm.avail_out),1)}function oe(t,e){for(var n,r;;){if(t.lookahead<262){if(ne(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=ee(t,n)),t.match_length>=3)if(r=Gt(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=Gt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Jt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(Jt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Jt(t,!1),0===t.strm.avail_out)?1:2}function ie(t,e){for(var n,r,o;;){if(t.lookahead<262){if(ne(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=ee(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-3,r=Gt(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Jt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=Gt(t,0,t.window[t.strstart-1]))&&Jt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Gt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(Jt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Jt(t,!1),0===t.strm.avail_out)?1:2}function ae(t,e,n,r,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=o}var se=function(){var t=[new ae(0,0,0,0,re),new ae(4,4,8,4,oe),new ae(4,5,16,8,oe),new ae(4,6,32,32,oe),new ae(4,4,16,16,ie),new ae(8,16,32,32,ie),new ae(8,16,128,128,ie),new ae(8,32,128,256,ie),new ae(32,128,258,1024,ie),new ae(32,258,258,4096,ie)];return se=function(){return t},t};function le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=A(1146),this.dyn_dtree=A(122),this.bl_tree=A(78),$t(this.dyn_ltree),$t(this.dyn_dtree),$t(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=A(16),this.heap=A(573),$t(this.heap),this.heap_len=0,this.heap_max=0,this.depth=A(573),$t(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(t){var e=function(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,Ut(e),0):Yt(t,-2)}(t);return 0===e&&function(t){t.window_size=2*t.w_size,$t(t.head);var e=se();t.max_lazy_match=e[t.level].max_lazy,t.good_match=e[t.level].good_length,t.nice_match=e[t.level].nice_length,t.max_chain_length=e[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e}function ue(t,e){var n,r,o,i;if(!t||!t.state||e>5||e<0)return t?Yt(t,-2):-2;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&4!==e)return Yt(t,0===t.avail_out?-5:-2);if(r.strm=t,n=r.last_flush,r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Qt(r,31),Qt(r,139),Qt(r,8),r.gzhead?(Qt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Qt(r,255&r.gzhead.time),Qt(r,r.gzhead.time>>8&255),Qt(r,r.gzhead.time>>16&255),Qt(r,r.gzhead.time>>24&255),Qt(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Qt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Qt(r,255&r.gzhead.extra.length),Qt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=U(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Qt(r,0),Qt(r,0),Qt(r,0),Qt(r,0),Qt(r,0),Qt(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),Qt(r,3),r.status=113);else{var a=8+(r.w_bits-8<<4)<<8;a|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=113,te(r,a),0!==r.strstart&&(te(r,t.adler>>>16),te(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(t.adler=U(t.adler,r.pending_buf,r.pending-o,o)),Zt(t),o=r.pending,r.pending!==r.pending_buf_size));)Qt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(t.adler=U(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=U(t.adler,r.pending_buf,r.pending-o,o)),Zt(t),o=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Qt(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>o&&(t.adler=U(t.adler,r.pending_buf,r.pending-o,o)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=U(t.adler,r.pending_buf,r.pending-o,o)),Zt(t),o=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Qt(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>o&&(t.adler=U(t.adler,r.pending_buf,r.pending-o,o)),0===i&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Zt(t),r.pending+2<=r.pending_buf_size&&(Qt(r,255&t.adler),Qt(r,t.adler>>8&255),t.adler=0,r.status=113)):r.status=113),0!==r.pending){if(Zt(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&Xt(e)<=Xt(n)&&4!==e)return Yt(t,-5);if(666===r.status&&0!==t.avail_in)return Yt(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&666!==r.status){var s=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(ne(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=Gt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Jt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Jt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Jt(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var n,r,o,i,a=t.window;;){if(t.lookahead<=258){if(ne(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=a[o=t.strstart-1])===a[++o]&&r===a[++o]&&r===a[++o]){i=t.strstart+258;do{}while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<i);t.match_length=258-(i-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=Gt(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Gt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Jt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(Jt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Jt(t,!1),0===t.strm.avail_out)?1:2}(r,e):se()[r.level].func(r,e);if(3!==s&&4!==s||(r.status=666),1===s||3===s)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===s&&(1===e?qt(r):5!==e&&(Wt(r,0,0,!1),3===e&&($t(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Zt(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(Qt(r,255&t.adler),Qt(r,t.adler>>8&255),Qt(r,t.adler>>16&255),Qt(r,t.adler>>24&255),Qt(r,255&t.total_in),Qt(r,t.total_in>>8&255),Qt(r,t.total_in>>16&255),Qt(r,t.total_in>>24&255)):(te(r,t.adler>>>16),te(r,65535&t.adler)),Zt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)}var pe=Object.prototype.toString,he=function(t){this.options=C({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lt,this.strm.avail_out=0;var n,r,o=function(t,e,n,r,o,i){if(!t)return-2;var a=1;if(-1===e&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||8!==n||r<8||r>15||e<0||e>9||i<0||i>4)return Yt(t,-2);8===r&&(r=9);var s=new le;return t.state=s,s.strm=t,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=P(2*s.w_size),s.head=A(s.hash_size),s.prev=A(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=P(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=i,s.method=n,ce(t)}(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==o)throw new Error(st[o]);if(e.header&&(n=this.strm,r=e.header,n&&n.state&&(2!==n.state.wrap||(n.state.gzhead=r))),e.dictionary){var i;if(i="string"==typeof e.dictionary?F(e.dictionary):"[object ArrayBuffer]"===pe.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(o=function(t,e){var n,r,o,i,a,s,l,c,u=e.length;if(!t||!t.state)return-2;if(2===(i=(n=t.state).wrap)||1===i&&42!==n.status||n.lookahead)return-2;for(1===i&&(t.adler=V(t.adler,e,u,0)),n.wrap=0,u>=n.w_size&&(0===i&&($t(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=P(n.w_size),T(c,e,u-n.w_size,n.w_size,0),e=c,u=n.w_size),a=t.avail_in,s=t.next_in,l=t.input,t.avail_in=u,t.next_in=0,t.input=e,ne(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,ne(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=l,t.avail_in=a,n.wrap=i,0}(this.strm,i)))throw new Error(st[o]);this._dict_set=!0}};he.prototype.push=function(t,e){var n,r,o,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=F(t):"[object ArrayBuffer]"===pe.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=P(a),i.next_out=0,i.avail_out=a),1!==(n=ue(i,r))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(L(o=_(i.output,i.next_out),o.length)):this.onData(_(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==n);return 4===r?(n=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?Yt(t,-2):(t.state=null,113===e?Yt(t,-3):0):-2}(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==r||(this.onEnd(0),i.avail_out=0,!0)},he.prototype.onData=function(t){this.chunks.push(t)},he.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=D(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var de={Promise:Promise},fe={base64:!0,array:!0,string:!0,nodebuffer:!1,nodestream:!1,get arraybuffer(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},get uint8array(){return"undefined"!=typeof Uint8Array},get blob(){return me()}},me=function(){var t;if("undefined"==typeof ArrayBuffer)t=!1;else{var e=new ArrayBuffer(0);try{t=0===new Blob([e],{type:"application/zip"}).size}catch(e){t=!1}}return me=function(){return t},t},ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ge(t){return t}function ye(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function be(t,e,n){var r=[],o=0,i=t.length;if(i<=n)return String.fromCharCode.apply(null,t);for(;o<i;)"array"===e?r.push(String.fromCharCode.apply(null,t.slice(o,Math.min(o+n,i)))):r.push(String.fromCharCode.apply(null,t.subarray(o,Math.min(o+n,i)))),o+=n;return r.join("")}var xe=function(){var t;try{t=fe.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){t=!1}return xe=function(){return t},t};function we(t){var e=65536,n=Se(t),r=!0;if("uint8array"===n&&(r=xe()),r)for(;e>1;)try{return be(t,n,e)}catch(t){e=Math.floor(e/2)}return function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}(t)}var ke=we;function Oe(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var Ce={string:{string:ge,array:function(t){return ye(t,new Array(t.length))},arraybuffer:function(t){return Ce.string.uint8array(t).buffer},uint8array:function(t){return ye(t,new Uint8Array(t.length))}},array:{string:we,array:ge,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)}},arraybuffer:{string:function(t){return we(new Uint8Array(t))},array:function(t){return Oe(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:ge,uint8array:function(t){return new Uint8Array(t)}},uint8array:{string:we,array:function(t){return Oe(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:ge}},_e=function(t,e){if(e||(e=""),!t)return e;Ee(t);var n=Se(e);return Ce[n][t](e)},Se=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":fe.uint8array&&t instanceof Uint8Array?"uint8array":fe.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},Ee=function(t){if(!fe[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},Ie=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)r+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return r},Te=function(t,e,n){setTimeout((function(){t.apply(n||null,e||[])}),0)},De=function(){var t,e,n=arguments,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])Object.hasOwnProperty.call(n[t],e)&&void 0===r[e]&&(r[e]=n[t][e]);return r},Pe=function(t,e,n,r,o){return de.Promise.resolve(e).then((function(t){return fe.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new de.Promise((function(e,n){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){n(t.target.error)},r.readAsArrayBuffer(t)})):t})).then((function(e){var i,a=Se(e);return a?("arraybuffer"===a?e=_e("uint8array",e):"string"===a&&(o?e=function(t){var e,n,r,o,i,a,s=0,l=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var c,u=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===ve.charAt(64)&&u--,t.charAt(t.length-2)===ve.charAt(64)&&u--,u%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=fe.uint8array?new Uint8Array(0|u):new Array(0|u);s<t.length;)e=ve.indexOf(t.charAt(s++))<<2|(o=ve.indexOf(t.charAt(s++)))>>4,n=(15&o)<<4|(i=ve.indexOf(t.charAt(s++)))>>2,r=(3&i)<<6|(a=ve.indexOf(t.charAt(s++))),c[l++]=e,64!==i&&(c[l++]=n),64!==a&&(c[l++]=r);return c}(e):n&&!0!==r&&(e=ye(i=e,fe.uint8array?new Uint8Array(i.length):new Array(i.length)))),e):de.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))},Ae=function(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null};Ae.prototype.push=function(t){this.emit("data",t)},Ae.prototype.end=function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},Ae.prototype.error=function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},Ae.prototype.on=function(t,e){return this._listeners[t].push(e),this},Ae.prototype.cleanUp=function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},Ae.prototype.emit=function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},Ae.prototype.pipe=function(t){return t.registerPrevious(this)},Ae.prototype.registerPrevious=function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},Ae.prototype.pause=function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},Ae.prototype.resume=function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},Ae.prototype.flush=function(){},Ae.prototype.processChunk=function(t){this.push(t)},Ae.prototype.withStreamInfo=function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},Ae.prototype.mergeStreamInfo=function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},Ae.prototype.lock=function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},Ae.prototype.toString=function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t};var je=function(t){for(var e=new Array(256),n=0;n<256;n++)e[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;return e[254]=e[254]=1,je=function(t){return e[t]},e[t]},Me=function(t){return function(t){var e,n,r,o,i,a=t.length,s=0;for(o=0;o<a;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=fe.uint8array?new Uint8Array(s):new Array(s),i=0,o=0;i<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|63&n):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|63&n):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|63&n);return e}(t)},Re=function(t){return function(t){var e,n,r,o,i=t.length,a=new Array(2*i);for(n=0,e=0;e<i;)if((r=t[e++])<128)a[n++]=r;else if((o=je(r))>4)a[n++]=65533,e+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&e<i;)r=r<<6|63&t[e++],o--;o>1?a[n++]=65533:r<65536?a[n++]=r:(r-=65536,a[n++]=55296|r>>10&1023,a[n++]=56320|1023&r)}return a.length!==n&&(a.subarray?a=a.subarray(0,n):a.length=n),ke(a)}(t=_e(fe.uint8array?"uint8array":"array",t))},Ne=function(t){function e(){t.call(this,"utf-8 decode"),this.leftOver=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.processChunk=function(t){var e=_e(fe.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(fe.uint8array){var n=e;(e=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),e.set(n,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var r=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+je(t[n])>e?n:e}(e),o=e;r!==e.length&&(fe.uint8array?(o=e.subarray(0,r),this.leftOver=e.subarray(r,e.length)):(o=e.slice(0,r),this.leftOver=e.slice(r,e.length))),this.push({data:Re(o),meta:t.meta})},e.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Re(this.leftOver),meta:{}}),this.leftOver=null)},e}(Ae),Fe=function(t){function e(){t.call(this,"utf-8 encode")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.processChunk=function(t){this.push({data:Me(t.data),meta:t.meta})},e}(Ae),Le=function(t){function e(e){t.call(this,"ConvertWorker to "+e),this.destType=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.processChunk=function(t){this.push({data:_e(this.destType,t.data),meta:t.meta})},e}(Ae);function ze(t,e,n){switch(t){case"blob":return function(t,e){return Ee("blob"),new Blob([t],{type:e})}(_e("arraybuffer",e),n);case"base64":return function(t){for(var e,n,r,o,i,a,s,l=[],c=0,u=t.length,p=u,h="string"!=typeof t;c<t.length;)p=u-c,h?(e=t[c++],n=c<u?t[c++]:0,r=c<u?t[c++]:0):(e=t.charCodeAt(c++),n=c<u?t.charCodeAt(c++):0,r=c<u?t.charCodeAt(c++):0),o=e>>2,i=(3&e)<<4|n>>4,a=p>1?(15&n)<<2|r>>6:64,s=p>2?63&r:64,l.push(ve.charAt(o)+ve.charAt(i)+ve.charAt(a)+ve.charAt(s));return l.join("")}(e);default:return _e(t,e)}}function Be(t,e){return new de.Promise((function(n,r){var o=[],i=t._internalType,a=t._outputType,s=t._mimeType;t.on("data",(function(t,n){o.push(t),e&&e(n)})).on("error",(function(t){o=[],r(t)})).on("end",(function(){try{var t=ze(a,function(t,e){var n,r=0,o=null,i=0;for(n=0;n<e.length;n++)i+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(o=new Uint8Array(i),n=0;n<e.length;n++)o.set(e[n],r),r+=e[n].length;return o;default:throw new Error("concat : unsupported type '"+t+"'")}}(i,o),s);n(t)}catch(t){r(t)}o=[]})).resume()}))}var Ve=function(t,e,n){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=n,Ee(r),this._worker=t.pipe(new Le(r)),t.lock()}catch(t){this._worker=new Ae("error"),this._worker.error(t)}};Ve.prototype.accumulate=function(t){return Be(this,t)},Ve.prototype.on=function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){Te(e,arguments,n)})),this},Ve.prototype.resume=function(){return Te(this._worker.resume,[],this._worker),this},Ve.prototype.pause=function(){return this._worker.pause(),this};var He=Object.freeze({__proto__:null,base64:!1,binary:!1,dir:!1,createFolders:!0,date:null,compression:null,compressionOptions:null,comment:null,unixPermissions:null,dosPermissions:null}),Ue=function(t){function e(e){t.call(this,"DataWorker");var n=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(t){n.dataIsReady=!0,n.data=t,n.max=t&&t.length||0,n.type=Se(t),n.isPaused||n._tickAndRepeat()}),(function(t){n.error(t)}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.cleanUp=function(){t.prototype.cleanUp.call(this),this.data=null},e.prototype.resume=function(){return!!t.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,Te(this._tickAndRepeat,[],this)),!0)},e.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(Te(this._tickAndRepeat,[],this),this._tickScheduled=!0))},e.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e}(Ae),We=function(t){function e(e){t.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.processChunk=function(e){if(e){var n=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=n+e.data.length}t.prototype.processChunk.call(this,e)},e}(Ae),qe=function(){for(var t=[],e=0;e<256;e++){for(var n=e,r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return qe=function(){return t},t};function Ke(t,e){return void 0!==t&&t.length?"string"!==Se(t)?function(t,e,n,r){var o=qe(),i=r+n;t^=-1;for(var a=r;a<i;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,n,r){var o=qe(),i=r+n;t^=-1;for(var a=r;a<i;a++)t=t>>>8^o[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0):0}var Ge=function(t){function e(){t.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.processChunk=function(t){this.streamInfo.crc32=Ke(t.data,this.streamInfo.crc32||0),this.push(t)},e}(Ae),Ye=function(t,e,n,r,o){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=o};Ye.prototype.getContentWorker=function(){var t=new Ue(de.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new We("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},Ye.prototype.getCompressedWorker=function(){return new Ue(de.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)},Ye.createWorkerFrom=function(t,e,n){return t.pipe(new Ge).pipe(new We("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new We("compressedSize")).withStreamInfo("compression",e)};var Xe=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};Xe.prototype.internalStream=function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(e=e.pipe(new Fe)),!o&&r&&(e=e.pipe(new Ne))}catch(t){(e=new Ae("error")).error(t)}return new Ve(e,n,"")},Xe.prototype.async=function(t,e){return this.internalStream(t).accumulate(e)},Xe.prototype._compressWorker=function(t,e){if(this._data instanceof Ye&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new Fe)),Ye.createWorkerFrom(n,t,e)},Xe.prototype._decompressWorker=function(){return this._data instanceof Ye?this._data.getContentWorker():this._data instanceof Ae?this._data:new Ue(this._data)};var $e=function(){var t="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array?"uint8array":"array";$e=function(){return t}},Ze=function(t){function e(e,n){t.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=n,this.meta={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(_e($e(),t.data),!1)},e.prototype.flush=function(){t.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},e.prototype.cleanUp=function(){t.prototype.cleanUp.call(this),this._pako=null},e.prototype._createPako=function(){var t=this,e={raw:!0,level:this._pakoOptions.level||-1};this._pako="Deflate"===this._pakoAction?new he(e):new pt(e),this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e}(Ae),Je={STORE:{magic:"\0\0",compressWorker:function(){return new Ae("STORE compression")},uncompressWorker:function(){return new Ae("STORE decompression")}},DEFLATE:{magic:"\b\0",compressWorker:function(t){return new Ze("Deflate",t)},uncompressWorker:function(){return new Ze("Inflate",{})}}},Qe=function(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},tn=function(t,e,n,r,o,i){var a,s,l=t.file,c=t.compression,u=i!==Me,p=_e("string",i(l.name)),h=_e("string",Me(l.name)),d=l.comment,f=_e("string",i(d)),m=_e("string",Me(d)),v=h.length!==l.name.length,g=m.length!==d.length,y="",b="",x="",w=l.dir,k=l.date,O={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(O.crc32=t.crc32,O.compressedSize=t.compressedSize,O.uncompressedSize=t.uncompressedSize);var C=0;e&&(C|=8),u||!v&&!g||(C|=2048);var _=0,S=0;w&&(_|=16),"UNIX"===o?(S=798,_|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(l.unixPermissions,w)):(S=20,_|=function(t,e){return 63&(t||0)}(l.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,s=k.getUTCFullYear()-1980,s<<=4,s|=k.getUTCMonth()+1,s<<=5,s|=k.getUTCDate(),v&&(b=Qe(1,1)+Qe(Ke(p),4)+h,y+="up"+Qe(b.length,2)+b),g&&(x=Qe(1,1)+Qe(Ke(f),4)+m,y+="uc"+Qe(x.length,2)+x);var E="";return E+="\n\0",E+=Qe(C,2),E+=c.magic,E+=Qe(a,2),E+=Qe(s,2),E+=Qe(O.crc32,4),E+=Qe(O.compressedSize,4),E+=Qe(O.uncompressedSize,4),E+=Qe(p.length,2),{fileRecord:"PK"+(E+=Qe(y.length,2))+p+y,dirRecord:"PK"+Qe(S,2)+E+Qe(f.length,2)+"\0\0\0\0"+Qe(_,4)+Qe(r,4)+p+y+f}},en=function(t){return"PK\b"+Qe(t.crc32,4)+Qe(t.compressedSize,4)+Qe(t.uncompressedSize,4)},nn=function(t){function e(e,n,r,o){t.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=n,this.zipPlatform=r,this.encodeFileName=o,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(e){var n=e.meta.percent||0,r=this.entriesCount,o=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,t.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(n+100*(r-o-1))/r:100}}))},e.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=tn(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},e.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=tn(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:en(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},e.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,r=function(t,e,n,r,o){var i=_e("string",o(r));return"PK\0\0\0\0"+Qe(t,2)+Qe(t,2)+Qe(e,4)+Qe(n,4)+Qe(i.length,2)+i}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},e.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},e.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},e.prototype.resume=function(){return!!t.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},e.prototype.error=function(e){var n=this._sources;if(!t.prototype.error.call(this,e))return!1;for(var r=0;r<n.length;r++)try{n[r].error(e)}catch(t){}return!0},e.prototype.lock=function(){t.prototype.lock.call(this);for(var e=this._sources,n=0;n<e.length;n++)e[n].lock()},e}(Ae),rn=function(t,e,n){var r=new nn(e.streamFiles,n,e.platform,e.encodeFileName),o=0;try{t.forEach((function(t,n){o++;var i=function(t,e){var n=t||e,r=Je[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,e.compression),a=n.options.compressionOptions||e.compressionOptions||{},s=n.dir,l=n.date;n._compressWorker(i,a).withStreamInfo("file",{name:t,dir:s,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(r)})),r.entriesCount=o}catch(t){r.error(t)}return r},on=function(t){this.data=t,this.length=t.length,this.index=0,this.zero=0};on.prototype.checkOffset=function(t){this.checkIndex(this.index+t)},on.prototype.checkIndex=function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},on.prototype.setIndex=function(t){this.checkIndex(t),this.index=t},on.prototype.skip=function(t){this.setIndex(this.index+t)},on.prototype.byteAt=function(t){},on.prototype.readInt=function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},on.prototype.readString=function(t){return _e("string",this.readData(t))},on.prototype.readData=function(t){},on.prototype.lastIndexOfSignature=function(t){},on.prototype.readAndCheckSignature=function(t){},on.prototype.readDate=function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))};var an=function(t){function e(e){t.call(this,e);for(var n=0;n<this.data.length;n++)e[n]=255&e[n]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.byteAt=function(t){return this.data[this.zero+t]},e.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),o=t.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===e&&this.data[i+1]===n&&this.data[i+2]===r&&this.data[i+3]===o)return i-this.zero;return-1},e.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),o=t.charCodeAt(3),i=this.readData(4);return e===i[0]&&n===i[1]&&r===i[2]&&o===i[3]},e.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e}(on),sn=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},e.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},e.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},e.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e}(on),ln=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e}(an);function cn(t){var e=Se(t);return Ee(e),"string"!==e||fe.uint8array?fe.uint8array?new ln(_e("uint8array",t)):new an(_e("array",t)):new sn(t)}var un=function(t,e){this.options=t,this.loadOptions=e};un.prototype.isEncrypted=function(){return 1==(1&this.bitFlag)},un.prototype.useUTF8=function(){return 2048==(2048&this.bitFlag)},un.prototype.readLocalPart=function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in Je)if(Je.hasOwnProperty(e)&&Je[e].magic===t)return Je[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+Ie(this.compressionMethod)+" unknown (inner file : "+_e("string",this.fileName)+")");this.decompressed=new Ye(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},un.prototype.readCentralPart=function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},un.prototype.processAttributes=function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},un.prototype.parseZIP64ExtraField=function(t){if(this.extraFields[1]){var e=cn(this.extraFields[1].value);-1===this.uncompressedSize&&(this.uncompressedSize=e.readInt(8)),-1===this.compressedSize&&(this.compressedSize=e.readInt(8)),-1===this.localHeaderOffset&&(this.localHeaderOffset=e.readInt(8)),-1===this.diskNumberStart&&(this.diskNumberStart=e.readInt(4))}},un.prototype.readExtraFields=function(t){var e,n,r,o=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<o;)e=t.readInt(2),n=t.readInt(2),r=t.readData(n),this.extraFields[e]={id:e,length:n,value:r}},un.prototype.handleUTF8=function(){var t=fe.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Re(this.fileName),this.fileCommentStr=Re(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=_e(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=_e(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},un.prototype.findExtraFieldUnicodePath=function(){var t=this.extraFields[28789];if(t){var e=cn(t.value);return 1!==e.readInt(1)||Ke(this.fileName)!==e.readInt(4)?null:Re(e.readData(t.length-5))}return null},un.prototype.findExtraFieldUnicodeComment=function(){var t=this.extraFields[25461];if(t){var e=cn(t.value);return 1!==e.readInt(1)||Ke(this.fileComment)!==e.readInt(4)?null:Re(e.readData(t.length-5))}return null};var pn=function(t){this.files=[],this.loadOptions=t};function hn(t){return new de.Promise((function(e,n){var r=t.decompressed.getContentWorker().pipe(new Ge);r.on("error",(function(t){n(t)})).on("end",(function(){r.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}function dn(t,e){var n=this;return e=De(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:Re}),Pe("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new pn(e);return n.load(t),n})).then((function(t){var n=[de.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var o=0;o<r.length;o++)n.push(hn(r[o]));return de.Promise.all(n)})).then((function(t){for(var r=t.shift(),o=r.files,i=0;i<o.length;i++){var a=o[i];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}pn.prototype.checkSignature=function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+Ie(e)+", expected "+Ie(t)+")")}},pn.prototype.isSignature=function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4)===e;return this.reader.setIndex(n),r},pn.prototype.readBlockEndOfCentral=function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=fe.uint8array?"uint8array":"array",n=_e(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},pn.prototype.readBlockZip64EndOfCentral=function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},pn.prototype.readBlockZip64EndOfCentralLocator=function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},pn.prototype.readLocalFiles=function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature("PK"),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},pn.prototype.readCentralDir=function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature("PK");)(t=new un({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},pn.prototype.readEndOfCentral=function(){var t=this.reader.lastIndexOfSignature("PK");if(t<0)throw!this.isSignature(0,"PK")?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature("PK"),this.readBlockEndOfCentral(),65535===this.diskNumber||65535===this.diskWithCentralDirStart||65535===this.centralDirRecordsOnThisDisk||65535===this.centralDirRecords||-1===this.centralDirSize||-1===this.centralDirOffset){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature("PK"))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature("PK"),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,"PK")&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature("PK"),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature("PK"),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(r>0)this.isSignature(e,"PK")||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},pn.prototype.prepareReader=function(t){this.reader=cn(t)},pn.prototype.load=function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()};var fn=function(t,e,n){var r,o=Se(e),i=De(n||{},He);i.date=i.date||new Date,null!==i.compression&&(i.compression=i.compression.toUpperCase()),"string"==typeof i.unixPermissions&&(i.unixPermissions=parseInt(i.unixPermissions,8)),i.unixPermissions&&16384&i.unixPermissions&&(i.dir=!0),i.dosPermissions&&16&i.dosPermissions&&(i.dir=!0),i.dir&&(t=vn(t)),i.createFolders&&(r=mn(t))&&gn.call(this,r,!0);var a="string"===o&&!1===i.binary&&!1===i.base64;n&&void 0!==n.binary||(i.binary=!a),(e instanceof Ye&&0===e.uncompressedSize||i.dir||!e||0===e.length)&&(i.base64=!1,i.binary=!0,e="",i.compression="STORE",o="string");var s=null;s=e instanceof Ye||e instanceof Ae?e:Pe(t,e,i.binary,i.optimizedBinaryString,i.base64);var l=new Xe(t,s,i);this.files[t]=l},mn=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},vn=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},gn=function(t,e){return e=void 0===e||e,t=vn(t),this.files[t]||fn.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function yn(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var bn=function t(){if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new t;for(var n in this)"function"!=typeof this[n]&&(e[n]=this[n]);return e}},xn={support:{configurable:!0},defaults:{configurable:!0},version:{configurable:!0},external:{configurable:!0}};bn.prototype.load=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},bn.prototype.forEach=function(t){var e,n,r;for(e in this.files)r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r)},bn.prototype.filter=function(t){var e=[];return this.forEach((function(n,r){t(n,r)&&e.push(r)})),e},bn.prototype.file=function(t,e,n){if(1===arguments.length){if(yn(t)){var r=t;return this.filter((function(t,e){return!e.dir&&r.test(t)}))}var o=this.files[this.root+t];return o&&!o.dir?o:null}return t=this.root+t,fn.call(this,t,e,n),this},bn.prototype.folder=function(t){if(!t)return this;if(yn(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=gn.call(this,e),r=this.clone();return r.root=n.name,r},bn.prototype.remove=function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},bn.prototype.generate=function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},bn.prototype.generateInternalStream=function(t){var e,n={};try{if((n=De(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:Me})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");Ee(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";e=rn(this,n,r)}catch(t){(e=new Ae("error")).error(t)}return new Ve(e,n.type||"string",n.mimeType)},bn.prototype.generateAsync=function(t,e){return this.generateInternalStream(t).accumulate(e)},bn.prototype.loadAsync=function(t,e){return dn.apply(this,[t,e])},bn.loadAsync=function(t,e){return(new bn).loadAsync(t,e)},xn.support.get=function(){return fe},xn.defaults.get=function(){return He},xn.version.get=function(){return"3.2.2-esm"},xn.external.get=function(){return de},Object.defineProperties(bn,xn);var wn={toString:function(t){return t}},kn=function(){};kn.register=function(t){wn=t},kn.toString=function(t,e){return wn.toString(t,e)};var On=kn;function Cn(t,e,n){return(1461*(t+4800+((e-13)/12|0))/4|0)+(367*(e-1-12*((e-13)/12|0))/12|0)-(3*((t+4900+((e-13)/12|0))/100|0)/4|0)+n-32075}var _n=Cn(1900,0,-1);function Sn(t){var e,n,r,o,i=(e=t.getHours(),n=t.getMinutes(),r=t.getSeconds(),o=t.getMilliseconds(),(e+(n+(r+o/1e3)/60)/60)/24),a=function(t,e,n){return Cn(t,e,n)-_n}(t.getFullYear(),t.getMonth(),t.getDate());return a<0?a-1+i:a+i}var En="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",In={compression:"DEFLATE",type:"base64"},Tn={compression:"DEFLATE",type:"blob"},Dn={compression:"DEFLATE",type:"arraybuffer"};function Pn(t){return"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+t}function An(t,e){return e.indexOf(t)}var jn=JSON.parse.bind(JSON);function Mn(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}function Rn(t,e){for(var n="",r=0;r<t;++r)n+=e(r);return n}function Nn(t,e){var n="";if(null!=t)if(Array.isArray(t))for(var r=0;r<t.length;++r)n+=e(t[r],r);else"object"==typeof t&&Object.keys(t).forEach((function(r,o){n+=e(t[r],r,o)}));return n}var Fn='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r',Ln=function(t){var e=t.frozenColumns,n=t.frozenRows,r=t.columns,o=t.defaults,i=t.data,a=t.index,s=t.mergeCells,l=t.autoFilter,c=t.filter,u=t.showGridLines,p=t.hyperlinks,h=t.validations,d=t.defaultCellStyleId,f=t.rtl,m=t.legacyDrawing,v=t.drawing,g=t.lastRow,y=t.lastCol;return Fn+'\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac">\n   '+(g&&y?'<dimension ref="A1:'+Vn(g-1,y-1)+'" />':"")+"\n\n   <sheetViews>\n     <sheetView "+(f?'rightToLeft="1"':"")+" "+(0===a?'tabSelected="1"':"")+' workbookViewId="0" '+(!1===u?'showGridLines="0"':"")+">\n     "+(n||e?'\n       <pane state="frozen"\n         '+(e?'xSplit="'+e+'"':"")+"\n         "+(n?'ySplit="'+n+'"':"")+'\n         topLeftCell="'+(String.fromCharCode(65+(e||0))+((n||0)+1))+'"\n       />':"")+'\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent="0.25" '+(o.skipCustomHeight?"":'customHeight="1"')+' defaultRowHeight="'+(o.rowHeight?.75*o.rowHeight:15)+'"\n     '+(o.columnWidth?'defaultColWidth="'+Wn(o.columnWidth)+'"':"")+" />\n\n   "+(null!=d||r&&r.length>0?"\n     <cols>\n       "+(r&&r.length?"":'\n         <col min="1" max="16384" style="'+d+'"\n              '+(o.columnWidth?'width="'+Wn(o.columnWidth)+'"':"")+" /> ")+"\n       "+Nn(r,(function(t,e){var n="number"==typeof t.index?t.index+1:e+1;return 0===t.width?"<col "+(null!=d?'style="'+d+'"':"")+'\n                        min="'+n+'" max="'+n+'" hidden="1" customWidth="1" />':"<col "+(null!=d?'style="'+d+'"':"")+'\n                      min="'+n+'" max="'+n+'" customWidth="1"\n                      '+(t.autoWidth?'width="'+(7*t.width+5)/7*256/256+'" bestFit="1"':'width="'+Wn(t.width)+'"')+" />"}))+"\n     </cols>":"")+"\n\n   <sheetData>\n     "+Nn(i,(function(t,e){return'\n         <row r="'+("number"==typeof t.index?t.index+1:e+1)+'" x14ac:dyDescent="0.25"\n              '+(t.level?'outlineLevel="'+t.level+'"':"")+"\n              "+(0===t.height?'hidden="1"':t.height?'ht="'+(.75*t.height+'" customHeight="1"'):"")+">\n           "+Nn(t.data,(function(t){return'\n             <c r="'+t.ref+'" '+(t.style?'s="'+t.style+'"':"")+" "+(t.type?'t="'+t.type+'"':"")+">\n               "+(null!=t.formula?function(t){if("string"==typeof t)return"<f>"+Mn(t)+"</f>";return'<f t="array" ref="'+t.ref+'">'+Mn(t.src)+"</f>"}(t.formula):"")+"\n               "+(null!=t.value?"<v>"+Mn(t.value)+"</v>":"")+"\n             </c>"}))+"\n         </row>\n       "}))+"\n   </sheetData>\n\n   "+(l?'<autoFilter ref="'+l.from+":"+l.to+'"/>':c?dr(c):"")+"\n\n   "+(s.length?'\n     <mergeCells count="'+s.length+'">\n       '+Nn(s,(function(t){return'<mergeCell ref="'+t+'"/>'}))+"\n     </mergeCells>":"")+"\n\n   "+(h.length?"\n     <dataValidations>\n       "+Nn(h,(function(t){return'\n         <dataValidation sqref="'+t.sqref.join(" ")+'"\n                         showErrorMessage="'+t.showErrorMessage+'"\n                         type="'+Mn(t.type)+'"\n                         '+("list"!==t.type?'operator="'+Mn(t.operator)+'"':"")+'\n                         allowBlank="'+t.allowBlank+'"\n                         showDropDown="'+t.showDropDown+'"\n                         '+(t.error?'error="'+Mn(t.error)+'"':"")+"\n                         "+(t.errorTitle?'errorTitle="'+Mn(t.errorTitle)+'"':"")+">\n           "+(t.formula1?"<formula1>"+Mn(t.formula1)+"</formula1>":"")+"\n           "+(t.formula2?"<formula2>"+Mn(t.formula2)+"</formula2>":"")+"\n         </dataValidation>"}))+"\n     </dataValidations>":"")+"\n\n   "+(p.length?"\n     <hyperlinks>\n       "+Nn(p,(function(t){return'\n         <hyperlink ref="'+t.ref+'" r:id="'+t.rId+'"/>'}))+"\n     </hyperlinks>":"")+'\n\n   <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n   '+(v?'<drawing r:id="'+v+'"/>':"")+"\n   "+(m?'<legacyDrawing r:id="'+m+'"/>':"")+"\n</worksheet>"},zn=function(t){return Fn+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+Nn(t,(function(t){return'\n    <Relationship Id="'+t.rId+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="'+t.target+'"/>'}))+"\n</Relationships>"};function Bn(t){var e=Math.floor(t/26)-1;return(e>=0?Bn(e):"")+String.fromCharCode(65+t%26)}function Vn(t,e){return Bn(e)+(t+1)}function Hn(t,e){return"$"+Bn(e)+"$"+(t+1)}function Un(t){return(t.frozenRows||(t.freezePane||{}).rowSplit||1)-1}function Wn(t){return t/7-Math.floor(128/7)/256}var qn=function(t,e,n,r){this.options=t,this._strings=e,this._styles=n,this._borders=r,this._validations={},this._comments=[],this._drawings=t.drawings||[],this._hyperlinks=(this.options.hyperlinks||[]).map((function(t,e){return Object.assign({},t,{rId:"link"+e})}))};function Kn(t){var e=t.length;return t.forEach((function(t){t.index&&t.index>=e&&(e=t.index+1)})),e}qn.prototype.relsToXML=function(){var t=this._hyperlinks,e=this._comments,n=this._drawings;if(t.length||e.length||n.length)return function(t){var e=t.hyperlinks,n=t.comments,r=t.sheetIndex,o=t.drawings;return Fn+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+Nn(e,(function(t){return'\n    <Relationship Id="'+t.rId+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="'+Mn(t.target)+'" TargetMode="External" />'}))+"\n  "+(n.length?'\n    <Relationship Id="comment'+r+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments" Target="../comments'+r+'.xml"/>\n    <Relationship Id="vml'+r+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing" Target="../drawings/vmlDrawing'+r+'.vml"/>':"")+"\n  "+(o.length?'\n    <Relationship Id="drw'+r+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing'+r+'.xml"/>':"")+"\n</Relationships>"}({hyperlinks:t,comments:e,sheetIndex:this.options.sheetIndex,drawings:n})},qn.prototype.toXML=function(t){var e=this.options.mergedCells||[],n=function(t,e){var n=[],r=[];!function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r){var o=r.index;"number"!=typeof o&&(o=n),e(r,o)}}}(t,(function(t,e){var o={_source:t,index:e,height:t.height,level:t.level,cells:[]};n.push(o),r[e]=o}));for(var o=er(n).slice(0),i={rowData:n,rowsByIndex:r,mergedCells:e},a=0;a<o.length;a++)ir(o[a],i),delete o[a]._source;return er(n)}(this.options.rows||[],e);this._readCells(n);var r,o=this.options.filter;o&&"number"==typeof o.from&&"number"==typeof o.to?o={from:Vn(Un(this.options),o.from),to:Vn(Un(this.options),o.to)}:o&&o.ref&&o.columns&&(r=o,o=null);var i=[];for(var a in this._validations)Object.prototype.hasOwnProperty.call(this._validations,a)&&i.push(this._validations[a]);var s=null;this.options.defaultCellStyle&&(s=this._lookupStyle(this.options.defaultCellStyle));var l=this.options.freezePane||{},c=this.options.defaults||{},u=this.options.rows?this._getLastRow():1,p=this.options.rows?this._getLastCol():1;return Ln({frozenColumns:this.options.frozenColumns||l.colSplit,frozenRows:this.options.frozenRows||l.rowSplit,columns:this.options.columns,defaults:c,data:n,index:t,mergeCells:e,autoFilter:o,filter:r,showGridLines:this.options.showGridLines,hyperlinks:this._hyperlinks,validations:i,defaultCellStyleId:s,rtl:void 0!==this.options.rtl?this.options.rtl:c.rtl,legacyDrawing:this._comments.length?"vml"+this.options.sheetIndex:null,drawing:this._drawings.length?"drw"+this.options.sheetIndex:null,lastRow:u,lastCol:p})},qn.prototype.commentsXML=function(){if(this._comments.length)return function(t){var e=t.comments;return Fn+'\n<comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">\n  <authors>\n    <author></author>\n  </authors>\n  <commentList>\n    '+Nn(e,(function(t){return'\n      <comment ref="'+t.ref+'" authorId="0">\n        <text>\n          <r>\n            <rPr>\n              <sz val="8"/>\n              <color indexed="81"/>\n              <rFont val="Tahoma"/>\n              <charset val="1"/>\n            </rPr>\n            <t>'+Mn(t.text)+"</t>\n          </r>\n        </text>\n      </comment>"}))+"\n  </commentList>\n</comments>"}({comments:this._comments})},qn.prototype.drawingsXML=function(t){if(this._drawings.length){var e={},n=this._drawings.map((function(n){var r=rr(n.topLeftCell),o=e[n.image];return o||(o=e[n.image]={rId:"img"+n.image,target:t[n.image].target}),{col:r.col,colOffset:or(n.offsetX),row:r.row,rowOffset:or(n.offsetY),width:or(n.width),height:or(n.height),imageId:o.rId}}));return{main:(r=n,Fn+'\n<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"\n          xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"\n          xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  '+Nn(r,(function(t,e){return'\n    <xdr:oneCellAnchor editAs="oneCell">\n      <xdr:from>\n        <xdr:col>'+t.col+"</xdr:col>\n        <xdr:colOff>"+t.colOffset+"</xdr:colOff>\n        <xdr:row>"+t.row+"</xdr:row>\n        <xdr:rowOff>"+t.rowOffset+'</xdr:rowOff>\n      </xdr:from>\n      <xdr:ext cx="'+t.width+'" cy="'+t.height+'" />\n      <xdr:pic>\n        <xdr:nvPicPr>\n          <xdr:cNvPr id="'+(e+1)+'" name="Picture '+(e+1)+'"/>\n          <xdr:cNvPicPr/>\n        </xdr:nvPicPr>\n        <xdr:blipFill>\n          <a:blip r:embed="'+t.imageId+'"/>\n          <a:stretch>\n            <a:fillRect/>\n          </a:stretch>\n        </xdr:blipFill>\n        <xdr:spPr>\n          <a:prstGeom prst="rect">\n            <a:avLst/>\n          </a:prstGeom>\n        </xdr:spPr>\n      </xdr:pic>\n      <xdr:clientData/>\n    </xdr:oneCellAnchor>'}))+"\n</xdr:wsDr>"),rels:zn(e)}}var r},qn.prototype.legacyDrawing=function(){if(this._comments.length)return function(t){return'<xml xmlns:v="urn:schemas-microsoft-com:vml"\n     xmlns:o="urn:schemas-microsoft-com:office:office"\n     xmlns:x="urn:schemas-microsoft-com:office:excel">\n  <v:shapetype coordsize="21600,21600" id="_x0000_t202" path="m,l,21600r21600,l21600,xe">\n    <v:stroke joinstyle="miter"/>\n    <v:path gradientshapeok="t" o:connecttype="rect"/>\n  </v:shapetype>\n  '+Nn(t.comments,(function(t){return'\n    <v:shape type="#_x0000_t202" style="visibility: hidden" fillcolor="#ffffe1" o:insetmode="auto">\n      <v:shadow on="t" color="black" obscured="t"/>\n      <x:ClientData ObjectType="Note">\n        <x:MoveWithCells/>\n        <x:SizeWithCells/>\n        <x:Anchor>'+t.anchor+"</x:Anchor>\n        <x:AutoFill>False</x:AutoFill>\n        <x:Row>"+t.row+"</x:Row>\n        <x:Column>"+t.col+"</x:Column>\n      </x:ClientData>\n    </v:shape>"}))+"\n</xml>"}({comments:this._comments})},qn.prototype._lookupString=function(t){var e,n="$"+t,r=this._strings.indexes[n];return void 0!==r?e=r:(e=this._strings.indexes[n]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,e},qn.prototype._lookupStyle=function(t){var e=JSON.stringify(t);if("{}"===e)return 0;var n=An(e,this._styles);return n<0&&(n=this._styles.push(e)-1),n+1},qn.prototype._lookupBorder=function(t){var e=JSON.stringify(t);if("{}"!==e){var n=An(e,this._borders);return n<0&&(n=this._borders.push(e)-1),n+1}},qn.prototype._readCells=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.cells;n.data=[];for(var o=0;o<r.length;o++){var i=this._cell(r[o],n.index,o);i&&n.data.push(i)}}},qn.prototype._cell=function(t,e,n){if(!t||t===tr)return null;var r=t.value,o={};t.borderLeft&&(o.left=t.borderLeft),t.borderRight&&(o.right=t.borderRight),t.borderTop&&(o.top=t.borderTop),t.borderBottom&&(o.bottom=t.borderBottom),o=this._lookupBorder(o);var i,a=this.options.defaultCellStyle||{},s={borderId:o};(i=function(e,n){var r=t[e];if(void 0===r&&(r=a[e]),void 0!==r)return s[n||e]=r,!0})("color"),i("background"),i("bold"),i("italic"),i("underline"),i("fontFamily")||i("fontName","fontFamily"),i("fontSize"),i("format"),i("textAlign")||i("hAlign","textAlign"),i("verticalAlign")||i("vAlign","verticalAlign"),i("wrap"),i("indent");var l=(this.options.columns||[])[n],c=typeof r;if(l&&l.autoWidth&&(!t.colSpan||1===t.colSpan)){var u=r;"number"===c&&(u=On.toString(r,t.format)),l.width=Math.max(l.width||0,String(u).length)}"string"===c?(r=function(t){return String(t).replace(/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,"").replace(/\r?\n/g,"\r\n")}(r),r=this._lookupString(r),c="s"):"number"===c?c="n":"boolean"===c?(c="b",r=Number(r)):r&&r.getTime?(c=null,r=Sn(r),s.format||(s.format="mm-dd-yy")):(c=null,r=null),s=this._lookupStyle(s);var p=Vn(e,n);if(t.validation&&this._addValidation(t.validation,p),t.comment){var h=[n+1,15,e,10,n+3,15,e+3,4];this._comments.push({ref:p,text:t.comment,row:e,col:n,anchor:h.join(", ")})}return{value:r,formula:t.formula,type:c,style:s,ref:p}},qn.prototype._addValidation=function(t,e){var n={showErrorMessage:"reject"===t.type?1:0,formula1:t.from,formula2:t.to,type:Yn[t.dataType]||t.dataType,operator:Gn[t.comparerType]||t.comparerType,allowBlank:t.allowNulls?1:0,showDropDown:t.showButton?0:1,error:t.messageTemplate,errorTitle:t.titleTemplate},r=JSON.stringify(n);this._validations[r]||(this._validations[r]=n,n.sqref=[]),this._validations[r].sqref.push(e)},qn.prototype._getLastRow=function(){return Kn(this.options.rows)},qn.prototype._getLastCol=function(){var t=0;return this.options.rows.forEach((function(e){e.cells&&(t=Math.max(t,Kn(e.cells)))})),t};var Gn={greaterThanOrEqualTo:"greaterThanOrEqual",lessThanOrEqualTo:"lessThanOrEqual"},Yn={number:"decimal"},Xn={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function $n(t){var e=t;return e.length<6&&(e=e.replace(/(\w)/g,(function(t,e){return e+e}))),(e=e.substring(1).toUpperCase()).length<8&&(e="FF"+e),e}var Zn=function(t){var e=this;this.options=t||{},this._strings={indexes:{},count:0,uniqueCount:0},this._styles=[],this._borders=[],this._images=this.options.images,this._imgId=0,this._sheets=g(this.options.sheets||[],(function(t,n){return t.defaults=e.options,t.sheetIndex=n+1,new qn(t,e._strings,e._styles,e._borders)}))};function Jn(t,e){var n,r,o="";return e&&(o+="<"+t+' style="'+(n=e.size,r="thin",2===n?r="medium":3===n&&(r="thick"),r+'">'),e.color&&(o+='<color rgb="'+$n(e.color)+'"/>'),o+="</"+t+">"),o}function Qn(t){return"<border>"+Jn("left",t.left)+Jn("right",t.right)+Jn("top",t.top)+Jn("bottom",t.bottom)+"</border>"}Zn.prototype.imageFilename=function(t){var e=++this._imgId;switch(t){case"image/jpg":case"image/jpeg":return"image"+e+".jpg";case"image/png":return"image"+e+".png";case"image/gif":return"image"+e+".gif";default:return"image"+e+".bin"}},Zn.prototype.toZIP=function(){var t=this,e=new bn,n=e.folder("docProps");n.file("core.xml",function(t){var e=t.creator,n=t.lastModifiedBy,r=t.created,o=t.modified;return Fn+'\n <cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties"\n   xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"\n   xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n   <dc:creator>'+Mn(e)+"</dc:creator>\n   <cp:lastModifiedBy>"+Mn(n)+'</cp:lastModifiedBy>\n   <dcterms:created xsi:type="dcterms:W3CDTF">'+Mn(r)+'</dcterms:created>\n   <dcterms:modified xsi:type="dcterms:W3CDTF">'+Mn(o)+"</dcterms:modified>\n</cp:coreProperties>"}({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()}));var r=this._sheets.length;n.file("app.xml",function(t){var e=t.sheets;return Fn+'\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size="2" baseType="variant">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>'+e.length+'</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size="'+e.length+'" baseType="lpstr">'+Nn(e,(function(t,e){return t.options.title?"<vt:lpstr>"+Mn(t.options.title)+"</vt:lpstr>":"<vt:lpstr>Sheet"+(e+1)+"</vt:lpstr>"}))+"</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>"}({sheets:this._sheets})),e.folder("_rels").file(".rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n            <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n               <Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>\n               <Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>\n               <Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>\n            </Relationships>');var o=e.folder("xl");if(o.folder("_rels").file("workbook.xml.rels",function(t){var e=t.count;return Fn+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+Rn(e,(function(t){return'\n    <Relationship Id="rId'+(t+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+(t+1)+'.xml" />'}))+'\n  <Relationship Id="rId'+(e+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />\n  <Relationship Id="rId'+(e+2)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />\n</Relationships>'}({count:r})),this._images){var i=o.folder("media");Object.keys(this._images).forEach((function(e){var n=t._images[e],r=t.imageFilename(n.type);i.file(r,n.data),n.target="../media/"+r}))}var a={};o.file("workbook.xml",function(t){var e=t.sheets,n=t.filterNames,r=t.userNames;return Fn+'\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  <fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" />\n  <workbookPr defaultThemeVersion="124226" />\n  <bookViews>\n    <workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" />\n  </bookViews>\n  <sheets>\n  '+Nn(e,(function(t,e){var n=t.options;return'<sheet name="'+Mn(n.name||n.title||"Sheet"+(e+1))+'" sheetId="'+(e+1)+'" r:id="rId'+(e+1)+'" />'}))+"\n  </sheets>\n  "+(n.length||r.length?"\n    <definedNames>\n      "+Nn(n,(function(t){return'\n         <definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="'+t.localSheetId+'">'+Mn(function(t){if(/^\'/.test(t))return t;if(/^[a-z_][a-z0-9_]*$/i.test(t))return t;return"'"+t.replace(/\x27/g,"\\'")+"'"}(t.name))+"!"+Mn(t.from)+":"+Mn(t.to)+"</definedName>"}))+"\n      "+Nn(r,(function(t){return'\n         <definedName name="'+t.name+'" hidden="'+(t.hidden?1:0)+'" '+(null!=t.localSheetId?'localSheetId="'+t.localSheetId+'"':"")+">"+Mn(t.value)+"</definedName>"}))+"\n    </definedNames>":"")+'\n  <calcPr fullCalcOnLoad="1" calcId="145621" />\n</workbook>'}({sheets:this._sheets,filterNames:g(this._sheets,(function(t,e){var n=t.options,r=n.name||n.title||"Sheet"+(e+1);a[r.toLowerCase()]=e;var o=n.filter;if(o){if(o.ref){var i=o.ref.split(":"),s=rr(i[0]),l=rr(i[1]);return{localSheetId:e,name:r,from:Hn(s.row,s.col),to:Hn(l.row,l.col)}}if(void 0!==o.from&&void 0!==o.to)return{localSheetId:e,name:r,from:Hn(Un(n),o.from),to:Hn(Un(n),o.to)}}})),userNames:g(this.options.names||[],(function(t){return{name:t.localName,localSheetId:t.sheet?a[t.sheet.toLowerCase()]:null,value:t.value,hidden:t.hidden}}))}));for(var s=o.folder("worksheets"),l=o.folder("drawings"),c=l.folder("_rels"),u=s.folder("_rels"),p=[],h=[],d=0;d<r;d++){var f=t._sheets[d],m="sheet"+(d+1)+".xml",v=f.toXML(d),y=f.relsToXML(),b=f.commentsXML(),x=f.legacyDrawing(),w=f.drawingsXML(t._images);if(y&&u.file(m+".rels",y),b){var k="comments"+f.options.sheetIndex+".xml";o.file(k,b),p.push(k)}if(x&&l.file("vmlDrawing"+f.options.sheetIndex+".vml",x),w){var O="drawing"+f.options.sheetIndex+".xml";l.file(O,w.main),c.file(O+".rels",w.rels),h.push(O)}s.file(m,v)}var C=g(this._borders,jn),_=g(this._styles,jn),S=function(t){return t.underline||t.bold||t.italic||t.color||t.fontFamily||t.fontSize},E=g(_,(function(t){var e,n,r;if(t.fontSize&&(t.fontSize=(e=t.fontSize,(r=Number(e))&&(n=3*r/4),n)),t.color&&(t.color=$n(t.color)),S(t))return t})),I=g(_,(function(t){if(t.format&&void 0===Xn[t.format])return t})),T=g(_,(function(t){if(t.background)return t.background=$n(t.background),t}));return o.file("styles.xml",function(t){var e=t.formats,n=t.fonts,r=t.fills,o=t.borders,i=t.styles;return Fn+'\n<styleSheet\n    xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"\n    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n    mc:Ignorable="x14ac"\n    xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n  <numFmts count="'+e.length+'">\n  '+Nn(e,(function(t,e){return'\n    <numFmt formatCode="'+Mn(t.format)+'" numFmtId="'+(165+e)+'" />'}))+'\n  </numFmts>\n  <fonts count="'+(n.length+1)+'" x14ac:knownFonts="1">\n    <font>\n       <sz val="11" />\n       <color theme="1" />\n       <name val="Calibri" />\n       <family val="2" />\n       <scheme val="minor" />\n    </font>\n    '+Nn(n,(function(t){return"\n    <font>\n      "+(t.bold?"<b/>":"")+"\n      "+(t.italic?"<i/>":"")+"\n      "+(t.underline?"<u/>":"")+'\n      <sz val="'+(t.fontSize||11)+'" />\n      '+(t.color?'<color rgb="'+Mn(t.color)+'" />':'<color theme="1" />')+"\n      "+(t.fontFamily?'\n        <name val="'+Mn(t.fontFamily)+'" />\n        <family val="2" />\n      ':'\n        <name val="Calibri" />\n        <family val="2" />\n        <scheme val="minor" />\n      ')+"\n    </font>"}))+'\n  </fonts>\n  <fills count="'+(r.length+2)+'">\n      <fill><patternFill patternType="none"/></fill>\n      <fill><patternFill patternType="gray125"/></fill>\n    '+Nn(r,(function(t){return"\n      "+(t.background?'\n        <fill>\n          <patternFill patternType="solid">\n              <fgColor rgb="'+Mn(t.background)+'"/>\n          </patternFill>\n        </fill>\n      ':"")}))+'\n  </fills>\n  <borders count="'+(o.length+1)+'">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    '+Nn(o,Qn)+'\n  </borders>\n  <cellStyleXfs count="1">\n    <xf borderId="0" fillId="0" fontId="0" />\n  </cellStyleXfs>\n  <cellXfs count="'+(i.length+1)+'">\n    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />\n    '+Nn(i,(function(t){return'\n      <xf xfId="0"\n          '+(t.fontId?'fontId="'+t.fontId+'" applyFont="1"':"")+"\n          "+(t.fillId?'fillId="'+t.fillId+'" applyFill="1"':"")+"\n          "+(t.numFmtId?'numFmtId="'+t.numFmtId+'" applyNumberFormat="1"':"")+"\n          "+(t.textAlign||t.verticalAlign||t.wrap?'applyAlignment="1"':"")+"\n          "+(t.borderId?'borderId="'+t.borderId+'" applyBorder="1"':"")+">\n        "+(t.textAlign||t.verticalAlign||t.wrap?"\n        <alignment\n          "+(t.textAlign?'horizontal="'+Mn(t.textAlign)+'"':"")+"\n          "+(t.verticalAlign?'vertical="'+Mn(t.verticalAlign)+'"':"")+"\n          "+(t.indent?'indent="'+Mn(t.indent)+'"':"")+"\n          "+(t.wrap?'wrapText="1"':"")+" />\n        ":"")+"\n      </xf>\n    "}))+'\n  </cellXfs>\n  <cellStyles count="1">\n    <cellStyle name="Normal" xfId="0" builtinId="0"/>\n  </cellStyles>\n  <dxfs count="0" />\n  <tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" />\n</styleSheet>'}({fonts:E,fills:T,formats:I,borders:C,styles:g(_,(function(t){var e={};return S(t)&&(e.fontId=An(t,E)+1),t.background&&(e.fillId=An(t,T)+2),e.textAlign=t.textAlign,e.indent=t.indent,e.verticalAlign=t.verticalAlign,e.wrap=t.wrap,e.borderId=t.borderId,t.format&&(void 0!==Xn[t.format]?e.numFmtId=Xn[t.format]:e.numFmtId=165+An(t,I)),e}))})),o.file("sharedStrings.xml",function(t){var e=t.count,n=t.uniqueCount,r=t.indexes;return Fn+'\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+e+'" uniqueCount="'+n+'">\n  '+Nn(Object.keys(r),(function(t){return'\n    <si><t xml:space="preserve">'+Mn(t.substring(1))+"</t></si>"}))+"\n</sst>"}(this._strings)),e.file("[Content_Types].xml",function(t){var e=t.sheetCount,n=t.commentFiles,r=t.drawingFiles;return Fn+'\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="png" ContentType="image/png"/>\n  <Default Extension="gif" ContentType="image/gif"/>\n  <Default Extension="jpg" ContentType="image/jpeg"/>\n  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" />\n  <Default Extension="xml" ContentType="application/xml" />\n  <Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>\n  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" />\n  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>\n  '+Rn(e,(function(t){return'<Override PartName="/xl/worksheets/sheet'+(t+1)+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />'}))+"\n  "+Nn(n,(function(t){return'<Override PartName="/xl/'+t+'" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"/>'}))+"\n  "+Nn(r,(function(t){return'<Override PartName="/xl/drawings/'+t+'" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml"/>'}))+'\n  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />\n  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" />\n</Types>'}({sheetCount:r,commentFiles:p,drawingFiles:h})),e},Zn.prototype.toDataURL=function(){var t=this.toZIP();return t.generateAsync?t.generateAsync(In).then(Pn):Pn(t.generate(In))},Zn.prototype.toBlob=function(){var t=this.toZIP();return t.generateAsync?t.generateAsync(Tn):new Blob([t.generate(Dn)],{type:En})};var tr={};function er(t){return t.sort((function(t,e){return t.index-e.index}))}function nr(t,e){for(var n=0;n<t.length;++n){var r=t[n].split(":"),o=r[0];if(o===e){var i=r[1];return o=rr(o),{rowSpan:(i=rr(i)).row-o.row+1,colSpan:i.col-o.col+1}}}}function rr(t){var e,n=/^([a-z]+)(\d+)$/i.exec(t);return{row:(e=n[2],parseInt(e,10)-1),col:function(t){for(var e=t.toUpperCase(),n=0,r=0;r<e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}(n[1])}}function or(t){return Math.round(9525*t)}function ir(t,e){var n,r,o=t._source,i=t.index,a=o.cells,s=t.cells;if(a)for(var l=0;l<a.length;l++){var c=a[l]||tr,u=c.rowSpan||1,p=c.colSpan||1,h=ar(s,c),d=Vn(i,h);if(1===u&&1===p){var f=nr(e.mergedCells,d);f&&(p=f.colSpan,u=f.rowSpan)}if(lr(c,s,h,p),(u>1||p>1)&&(n=e.mergedCells,r=d+":"+Vn(i+u-1,h+p-1),n.indexOf(r)<0&&n.push(r)),u>1)for(var m=i+1;m<i+u;m++){var v=e.rowsByIndex[m];v||(v=e.rowsByIndex[m]={index:m,cells:[]},e.rowData.push(v)),lr(c,v.cells,h-1,p+1)}}}function ar(t,e){var n;return"number"==typeof e.index?(n=e.index,sr(t,e,e.index)):n=function(t,e){for(var n=t.length,r=0;r<t.length+1;r++)if(!t[r]){t[r]=e,n=r;break}return n}(t,e),n}function sr(t,e,n){t[n]=e}function lr(t,e,n,r){for(var o=1;o<r;o++){sr(e,{borderTop:t.borderTop,borderRight:t.borderRight,borderBottom:t.borderBottom,borderLeft:t.borderLeft},n+o)}}var cr=function(t){return"\n<customFilters "+("and"===t.logic?'and="1"':"")+">\n"+Nn(t.criteria,(function(t){var e=dr.customOperator(t);return"<customFilter "+(e?'operator="'+e+'"':"")+' val="'+dr.customValue(t)+'"/>'}))+"\n</customFilters>"},ur=function(t){var e=t.type;return'<dynamicFilter type="'+dr.dynamicFilterType(e)+'" />'},pr=function(t){var e=t.type,n=t.value;return'<top10 percent="'+(/percent$/i.test(e)?1:0)+'"\n       top="'+(/^top/i.test(e)?1:0)+'"\n       val="'+n+'" />'},hr=function(t){return"<filters "+(t.blanks?'blank="1"':"")+">\n    "+Nn(t.values,(function(t){return'\n      <filter val="'+t+'" />'}))+"\n  </filters>"};function dr(t){return function(t){var e=t.ref,n=t.columns,r=t.generators;return'\n<autoFilter ref="'+e+'">\n  '+Nn(n,(function(t){return'\n    <filterColumn colId="'+t.index+'">\n      '+r[t.filter](t)+"\n    </filterColumn>\n  "}))+"\n</autoFilter>"}({ref:t.ref,columns:t.columns,generators:{custom:cr,dynamic:ur,top:pr,value:hr}})}dr.customOperator=function(t){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[t.operator.toLowerCase()]},dr.customValue=function(t){function e(t){return t.replace(/([*?])/g,"~$1")}switch(t.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return e(t.value)+"*";case"endswith":case"doesnotendwith":return"*"+e(t.value);case"contains":case"doesnotcontain":return"*"+e(t.value)+"*";default:return t.value}},dr.dynamicFilterType=function(t){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[t.toLowerCase()]||t};var fr,mr=n(23),vr=function(){return(vr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},gr=function(t,e,n){return function(r){n(e,r);var i=mr.renderToStaticMarkup(o.createElement(t,vr({},e))),a=Number(i);return isNaN(a)?i:a}},yr=function(t,e){t.$implicit=t.group=e,t.field=e.field,t.value=e.value,t.aggregates=e.aggregates},br=function(t,e){t.group=e.group,t.$implicit=t.aggregates=e},xr=function(t,e){},wr=function(t,e){this.title=t.title,this.field=t.field,this.hidden=t.hidden,this.locked=t.locked,this.width=t.width,this.headerCellOptions=t.headerCellOptions,this.cellOptions=t.cellOptions,this.groupHeaderCellOptions=t.groupHeaderCellOptions,this.groupFooterCellOptions=t.groupFooterCellOptions,this.footerCellOptions=t.footerCellOptions,t.footer&&(this.footerTemplate=gr(t.footer,{$implicit:t,column:t,columnIndex:e},xr)),t.groupFooter&&(this.groupFooterTemplate=gr(t.groupFooter,{column:t,field:t.field},br)),t.groupHeader&&(this.groupHeaderTemplate=gr(t.groupHeader,{},yr))},kr=function(t){var e,n,r,o,i,a=(e=t.columns,r=0,(o=function(t,e,n){t.forEach((function(t){if(t.level===n){var i=new wr(t,r);if(e.push(i),t.children&&t.children.length>1){var a=i.columns=[];o(t.children,a,n+1)}else r++}}))})(e,n=[],0),n),s=new k({columns:a,data:t.data,filterable:t.filterable,groups:t.group,paddingCellOptions:t.paddingCellOptions,headerPaddingCellOptions:t.headerPaddingCellOptions,hierarchy:t.hierarchy?{depth:(i=t.data,Math.max.apply(Math,i.map((function(t){return t.level})))+1),itemLevel:function(t){return t.level}}:null,collapsible:t.collapsible}).workbook();return s.creator=t.creator,s.date=t.date,s.rtl="rtl"===t.dir,s},Or=function(t){return new Zn(t).toDataURL()},Cr=function(t){return t&&t.sheets},_r=n(13),Sr={name:"@progress/kendo-react-excel-export",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616810,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},Er=(fr=function(t,e){return(fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ir=function(){return(Ir=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Tr=function(t){function e(e){var n=t.call(this,e)||this;if(n.saveFile=function(t){!function(t,e,n){void 0===n&&(n={});var r=u;if(n.forceProxy&&!n.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");n.forceProxy||(s()&&(r=c),navigator.msSaveBlob&&(r=l)),r(t,e,n)}(t,n.props.fileName,{forceProxy:n.props.forceProxy,proxyURL:n.props.proxyURL})},n.extractColumns=function(t,e){return void 0===e&&(e=0),Array.isArray(t)?t.map((function(t){return n.extractChild(t,e)})):[t,n.extractChild(t,e)]},n.extractChild=function(t,e){return void 0===e&&(e=0),o.isValidElement(t)?Ir({},t.props,{width:t.props.width&&parseInt(""+t.props.width,10),level:e,children:t.props.children&&n.extractColumns(t.props.children,e+1)}):Ir({},t,{level:e,children:t.children&&n.extractColumns(t.children,e+1)})},n.getExportData=function(t){return t?Array.isArray(t)?{data:t}:t:{data:n.props.data,group:n.props.group}},void 0!==_r)_r.validatePackage(Sr);else{var r="License activation failed for "+Sr.name+"\n";r+="The @progress/kendo-licensing script is not loaded.\n",r+="See "+Sr.licensingDocsUrl+" for more information.\n",console.warn(r)}return n.save=n.save.bind(n),n.toDataURL=n.toDataURL.bind(n),n.workbookOptions=n.workbookOptions.bind(n),n}return Er(e,t),e.prototype.save=function(t,e){var n=this;this.toDataURL(t,e).then((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.props.onExportComplete&&n.props.onExportComplete.call(void 0,{target:n}),n.saveFile.apply(n,t)}))},e.prototype.toDataURL=function(t,e){var n=Cr(t)?t:this.workbookOptions(t,e);return Or(n)},e.prototype.workbookOptions=function(t,e){var n=this.getExportData(t),r=this.props.children,i=r&&r.type&&"KendoReactGrid"===r.type.displayName&&r.props&&o.Children.toArray(r.props.children),a=this.extractColumns(i||e||this.props.columns||o.Children.toArray(r));return kr({columns:a,data:n.data,group:n.group,filterable:this.props.filterable,creator:this.props.creator,date:this.props.date,dir:this.props.dir,hierarchy:this.props.hierarchy,paddingCellOptions:this.props.paddingCellOptions,headerPaddingCellOptions:this.props.headerPaddingCellOptions})},e.prototype.render=function(){return this.props.children||null},e.propTypes={children:i.any,columns:i.arrayOf(i.any),creator:i.string,data:i.any,date:i.any,filterable:i.bool,fileName:i.string,forceProxy:i.bool,group:i.any,headerPaddingCellOptions:i.any,paddingCellOptions:i.any,proxyURL:i.string,dir:i.string,hierarchy:i.bool,collapsible:i.bool},e.defaultProps={fileName:"Export.xlsx",forceProxy:!1,collapsible:!1},e}(o.Component),Dr=function(t){return null};Dr.propTypes={cellOptions:i.any,field:i.string,footerCellOptions:i.any,footer:i.oneOfType([i.func,i.element]),groupFooterCellOptions:i.any,groupFooter:i.oneOfType([i.func,i.element]),groupHeaderCellOptions:i.any,groupHeader:i.oneOfType([i.func,i.element]),headerCellOptions:i.any,hidden:i.bool,level:i.number,locked:i.bool,title:i.string,width:i.number};var Pr=Dr,Ar=function(t){return null};Ar.propTypes={children:i.oneOfType([i.arrayOf(i.element),i.element]),headerCellOptions:i.any,hidden:i.bool,level:i.number,locked:i.bool,title:i.string,width:i.number};var jr=Ar,Mr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mr(e,t),e}(o.PureComponent),Nr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nr(e,t),e}(o.PureComponent),Lr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lr(e,t),e}(o.PureComponent)},function(t,e,n){"use strict";n.r(e),n.d(e,"UploadUI",(function(){return lt})),n.d(e,"Upload",(function(){return Rt})),n.d(e,"UploadFileStatus",(function(){return r})),n.d(e,"ExternalDropZone",(function(){return Nt}));var r,o=n(0),i=n(2);!function(t){t[t.UploadFailed=0]="UploadFailed",t[t.Initial=1]="Initial",t[t.Selected=2]="Selected",t[t.Uploading=3]="Uploading",t[t.Uploaded=4]="Uploaded",t[t.RemoveFailed=5]="RemoveFailed",t[t.Removing=6]="Removing"}(r||(r={}));var a,s,l=n(5),c="upload.cancel",u="upload.remove",p="upload.retry",h="upload.total",d="upload.statusUploaded",f=((a={})[c]="Cancel",a["upload.clearSelectedFiles"]="Clear",a["upload.dropFilesHere"]="Drop files here to upload",a["upload.headerStatusUploaded"]="Done",a["upload.headerStatusUploading"]="Uploading...",a["upload.invalidFileExtension"]="File type not allowed.",a["upload.invalidFiles"]="Invalid file(s). Please check file upload requirements.",a["upload.invalidMaxFileSize"]="File size too large.",a["upload.invalidMinFileSize"]="File size too small.",a[u]="Remove",a[p]="Retry",a["upload.select"]="Select files...",a["upload.uploadSelectedFiles"]="Upload",a[h]="Total",a["upload.files"]="files",a[d]="File(s) successfully uploaded.",a["upload.statusUploadFailed"]="File(s) failed to upload.",a["upload.dropZoneHint"]="Drag and drop files here to upload.",a["upload.dropZoneNote"]="Only JPEG and PNG files are allowed.",a),m=/&/g,v=/</g,g=/"/g,y=/'/g,b=/>/g,x=function(t){return(""+t).replace(m,"&amp;").replace(v,"&lt;").replace(b,"&gt;").replace(g,"&quot;").replace(y,"&#39;")},w=function(t){var e=t.match(/\.([^\.]+)$/);return e?e[0]:""},k=function(t){var e=t.name,n=t.size;return{extension:w(e),name:x(e),getRawFile:function(){return t},size:n,status:r.Selected,progress:0,uid:""}},O=function(t){return!!(t.validationErrors&&t.validationErrors.length>0)},C=O,_=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(O(r))return!0}return!1},S=function(t){var e,n=0;if("number"!=typeof t[0].size)return"";for(e=0;e<t.length;e++)t[e].size&&(n+=t[e].size||0);return(n/=1024)<1024?n.toFixed(2)+" KB":(n/1024).toFixed(2)+" MB"},E=function(t){var e,n=new Array;for(e=0;e<t.length;e++)n.push(k(t[e]));return n},I=function(t,e){var n=Object(i.r)();return t.map((function(t){return t.uid=e?n:Object(i.r)(),t}))},T=function(t){var e=!1,n=!1,o=!1,i=!1,a=function(t){t.forEach((function(t){t.status===r.Uploading&&(e=!0),t.status===r.Uploaded&&(n=!0),t.status===r.UploadFailed&&(o=!0),O(t)&&(i=!0)}))};return Array.isArray(t)?a(t):Object.keys(t).forEach((function(e){a(t[e])})),[e,n,o,i]},D=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),P=function(t){function e(e){var n=t.call(this,e)||this;return n.buttonClassNames=function(t){var e=n.state,r=e.actionFocused,o=e.retryFocused;return Object(i.g)("k-button k-button-icon k-flat k-upload-action",n.props.disabled?"k-state-disabled":"",r&&"action"===t||o&&"retry"===t?"k-state-focused":"")},n.onRetryFocus=function(){n.setState({retryFocused:!0})},n.onRetryBlur=function(){n.setState({retryFocused:!1})},n.onActionFocus=function(){n.setState({actionFocused:!0})},n.onActionBlur=function(){n.setState({actionFocused:!1})},n.onActionClick=function(){var t=n.props,e=t.status,o=t.uid,i=t.disabled,a=t.onCancel,s=t.onRemove;i||e===r.Removing||(e===r.Uploading?a.call(void 0,o):s.call(void 0,o))},n.onRetryClick=function(){var t=n.props,e=t.uid,r=t.disabled,o=t.onRetry;r||o.call(void 0,e)},n.state={retryFocused:!1,actionFocused:!1},n}return D(e,t),e.prototype.actionButtonTitle=function(t,e){return t===r.Uploading?e.toLanguageString(c,f[c]):e.toLanguageString(u,f[u])},e.prototype.retryButtonTitle=function(t){return t.toLanguageString(p,f[p])},e.prototype.render=function(){var t=this.props,e=t.status,n=t.progress,a=Object(i.g)("k-icon",e===r.Uploading?"k-cancel k-i-deny":"",e!==r.Uploading?"k-delete k-i-x":""),s=e===r.UploadFailed,c=e===r.Uploading,u=(e===r.Uploaded||e===r.Initial)&&!this.props.async.removeUrl,p=Object(l.provideLocalizationService)(this);return o.createElement("strong",{className:"k-upload-status"},c?o.createElement("span",{className:"k-upload-pct"},n,"%"):void 0,s?o.createElement("button",{type:"button",tabIndex:-1,className:this.buttonClassNames("retry"),onFocus:this.onRetryFocus,onBlur:this.onRetryBlur,onClick:this.onRetryClick},o.createElement("span",{"aria-label":this.retryButtonTitle(p),title:this.retryButtonTitle(p),className:"k-icon k-retry k-i-refresh-sm"})):void 0,u?void 0:o.createElement("button",{type:"button",tabIndex:-1,className:this.buttonClassNames("action"),onFocus:this.onActionFocus,onBlur:this.onActionBlur,onClick:this.onActionClick},o.createElement("span",{"aria-label":this.actionButtonTitle(e,p),title:this.actionButtonTitle(e,p),className:a})))},e}(o.Component);Object(l.registerForLocalization)(P);var A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(){return(j=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},M=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A(e,t),e.prototype.getFileExtension=function(t){return t.extension?t.extension.substring(1):""},e.prototype.getFileValidationMessage=function(t,e){var n=Object(l.provideLocalizationService)(this),r="";if(e)r=n.toLanguageString("upload.statusUploadFailed",f["upload.statusUploadFailed"]);else if(t.validationErrors&&t.validationErrors.length>0){var o="upload."+t.validationErrors[0];r=n.toLanguageString(o,f[o])}return r},e.prototype.getFileExtensionIcon=function(t){switch(t.extension){case".png":case".jpg":case".jpeg":case".tiff":case".bmp":case".gif":return"k-i-file-image";case".mp3":case".mp4":case".wav":return"k-i-file-audio";case".mkv":case".webm":case".flv":case".gifv":case".avi":case".wmv":return"k-i-file-video";case".txt":return"k-i-file-txt";case".pdf":return"k-i-file-pdf";case".ppt":case".pptx":return"k-i-file-presentation";case".csv":case".xls":case".xlsx":return"k-i-file-data";case".html":case".css":case".js":case".ts":return"k-i-file-programming";case".exe":return"k-i-file-config";case".zip":case".rar":return"k-i-file-zip";default:return"k-i-file"}},e.prototype.renderValidationError=function(t,e){return o.createElement("span",{className:"k-file-name-size-wrapper",key:"2"},o.createElement("span",{className:"k-file-name k-file-name-invalid",title:t.name},t.name),o.createElement("span",{className:"k-file-validation-message k-text-error"},this.getFileValidationMessage(t,e)))},e.prototype.renderFileDetails=function(t){var e=Object(l.provideLocalizationService)(this).toLanguageString(d,f[d]);return o.createElement("span",{className:"k-file-name-size-wrapper",key:"2"},o.createElement("span",{className:"k-file-name",title:t.name},t.name),100!==t.progress?o.createElement("span",{className:"k-file-size"},S([t])):o.createElement("span",{className:"k-file-validation-message k-text-success"},e))},e.prototype.render=function(){var t=this.props,e=t.files,n=M(t,["files"]),r=e[0],a=Object(i.g)("k-file-single"),s=T([r]),l=s[1],c=s[2],u=s[3],p=!u&&!l&&!c;return o.createElement("div",{className:a},o.createElement("div",{className:"k-progressbar",style:{transition:"opacity 1s ease-in-out",opacity:p?1:0}},o.createElement("span",{className:"k-progress",style:{width:(r.progress||0)+"%"}})),o.createElement("span",{className:"k-file-group-wrapper",key:"1"},o.createElement("span",{className:"k-file-group k-icon "+this.getFileExtensionIcon(r)}),o.createElement("span",{className:"k-file-state"})),u||c?this.renderValidationError(r,c):this.renderFileDetails(r),o.createElement(P,j({uid:r.uid,status:r.status,progress:r.progress},n)))},e}(o.Component);Object(l.registerForLocalization)(R);var N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(){return(F=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},L=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapFiles=function(){return e.props.files.map((function(t){return o.createElement("span",{key:t.name,className:"k-file-name-size-wrapper"},o.createElement("span",{className:"k-file-name",title:t.name},t.name),C(t)?o.createElement("span",{className:"k-file-validation-message k-text-error"},e.getFileValidationMessage(t)):o.createElement("span",{key:t.name+"-size",className:"k-file-size"},S([t])))}))},e.progress=function(){var t=e.props.files,n=0;return t.forEach((function(t){n+=t.progress||0})),n/t.length},e}return N(e,t),e.prototype.getFileValidationMessage=function(t){var e=Object(l.provideLocalizationService)(this),n="";if(t.validationErrors&&t.validationErrors.length>0){var r="upload."+t.validationErrors[0];n=e.toLanguageString(r,f[r])}return n},e.prototype.render=function(){var t=this.props,e=t.files,n=L(t,["files"]),r=Object(i.g)("k-file-multiple"),a=T(e),s=a[1],c=a[2],u=a[3],p=Object(l.provideLocalizationService)(this),m=p.toLanguageString(h,f[h]),v=p.toLanguageString("upload.files",f["upload.files"]),g=p.toLanguageString("upload.statusUploadFailed",f["upload.statusUploadFailed"]),y=p.toLanguageString(d,f[d]),b=this.progress(),x=!u&&!s&&!c;return o.createElement("div",{className:r},o.createElement("div",{className:"k-progressbar",style:{transition:"opacity 1s ease-in-out",opacity:x?1:0}},o.createElement("span",{className:"k-progress",style:{width:(b||0)+"%"}})),o.createElement("span",{className:"k-multiple-files-group-wrapper"},o.createElement("span",{className:"k-file-group k-icon k-i-copy"})),o.createElement("span",{className:"k-multiple-files-wrapper"},this.mapFiles(),c?o.createElement("span",{className:"k-file-validation-message k-text-error"},e.length+" "+g):100!==b?o.createElement("span",{className:"k-file-information"},m+": "+e.length+" "+v+", "+S(e)):o.createElement("span",{className:"k-file-information k-text-success"},e.length+" "+y)),o.createElement(P,F({uid:e[0].uid,status:e[0].status,progress:b},n)))},e}(o.Component);Object(l.registerForLocalization)(z);var B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(){return(V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClick=function(){e.props.onClick.call(void 0,e.props.index)},e}return B(e,t),e.prototype.componentDidUpdate=function(){var t=this.props;t.navigationIndex===t.index&&this._element&&document.activeElement!==this._element&&this._element.focus()},e.prototype.render=function(){var t=this,e=this.props,n=e.files,a=e.async,s=e.disabled,l=e.navigationIndex,c=e.index,u=e.listItemUI,p=e.onCancel,h=e.onRemove,d=e.onRetry,f=n[0],m=f.status===r.Uploaded||f.status===r.Initial,v=Object(i.g)("k-file",_(n)?"k-file-invalid":"",f.status===r.UploadFailed||f.status===r.RemoveFailed?"k-file-error":"",f.status===r.Uploading?"k-file-progress":"",m?"k-file-success":"",l===c?"k-state-focused":""),g={async:a,disabled:s,onCancel:p,onRemove:h,onRetry:d},y=u||(1===n.length?R:z);return o.createElement("li",{ref:function(e){return t._element=e},className:v,"data-uid":f.uid,tabIndex:-1,onClick:this.onClick},o.createElement(y,V({files:n},g)))},e}(o.Component),U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(){return(W=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},q=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.mapListGroups=function(){var t=this.props,e=t.groupedFiles,n=t.navigationIndex,r=q(t,["groupedFiles","navigationIndex"]);return Object.keys(e).map((function(t,i){var a=e[t];return o.createElement(H,W({key:t,files:a,index:i,navigationIndex:n},r))}))},e.prototype.render=function(){var t=Object(i.g)("k-upload-files","k-reset");return o.createElement("ul",{className:t},this.mapListGroups())},e}(o.Component),G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y=/(chrome)[ \/]([\w.]+)/i,X=/(webkit)[ \/]([\w.]+)/i,$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){e.props.onMouseDown&&e.props.onMouseDown(t)},e.onAdd=function(){var t=navigator.userAgent,n=e._input;n&&(e.props.onAdd&&n.files&&e.props.onAdd.call(void 0,n.files),!t.match(Y)&&t.match(X)||(n.type="",n.type="file"))},e}return G(e,t),Object.defineProperty(e.prototype,"actionElement",{get:function(){return this._input},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this,e=this.props,n=e.multiple,r=e.async,i=e.disabled,a=e.accept;return o.createElement("input",{ref:function(e){return t._input=e},autoComplete:"off",name:r.saveField,accept:a,type:"file",tabIndex:-1,multiple:n,disabled:i,onChange:this.onAdd,onMouseDown:this.onMouseDown})},e}(o.Component),Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(){return(J=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Q=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.focus=function(){e._element&&e._element.focus()},e.onClick=function(){e.props.onClick.call(void 0,e.props.addButtonIndex)},e.onInputMouseDown=function(t){e._element&&(t.preventDefault(),e._element.focus())},e}return Z(e,t),Object.defineProperty(e.prototype,"actionElement",{get:function(){if(this._uploadInput)return this._uploadInput.actionElement},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(t){var e=this.props,n=e.navigationIndex,r=e.addButtonIndex,o=e.notFocusedIndex;n!==t.navigationIndex&&t.navigationIndex!==o&&n===r&&this._element&&this._element.focus()},e.prototype.render=function(){var t=this,e=this.props,n=e.navigationIndex,r=e.addButtonIndex,a=e.tabIndex,s=e.id,c=e.ariaLabelledBy,u=e.ariaDescribedBy,p=Q(e,["navigationIndex","addButtonIndex","tabIndex","id","ariaLabelledBy","ariaDescribedBy"]),h=Object(l.provideLocalizationService)(this).toLanguageString("upload.select",f["upload.select"]),d=Object(i.g)("k-button","k-upload-button",n===r?"k-state-focused":"");return o.createElement("div",{id:s,ref:function(e){return t._element=e},role:"button",className:d,"aria-label":h,"aria-labelledby":c,"aria-describedby":u,tabIndex:a,onClick:this.onClick},o.createElement($,J({},p,{onMouseDown:this.onInputMouseDown,ref:function(e){return t._uploadInput=e}})),o.createElement("span",null,h))},e}(o.Component);Object(l.registerForLocalization)(tt);var et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClearClick=function(){e.props.disabled||e.props.onClear&&e.props.onClear.call(void 0)},e.onUploadClick=function(){e.props.disabled||(e.props.onClick.call(void 0,e.props.uploadButtonIndex),e.props.onUpload&&e.props.onUpload.call(void 0))},e}return et(e,t),e.prototype.componentDidUpdate=function(t){var e=this.props,n=e.navigationIndex,r=e.clearButtonIndex,o=e.uploadButtonIndex;n!==t.navigationIndex&&(n===r&&this._clearElement&&this._clearElement.focus(),n===o&&this._uploadElement&&this._uploadElement.focus())},e.prototype.render=function(){var t=this,e=this.props,n=e.disabled,r=e.navigationIndex,a=e.clearButtonIndex,s=e.uploadButtonIndex,c=e.actionsLayout,u=Object(l.provideLocalizationService)(this),p=Object(i.g)("k-actions","k-hstack",{"k-justify-content-start":"start"===c,"k-justify-content-center":"center"===c,"k-justify-content-end":"end"===c,"k-justify-content-stretch":"stretched"===c}),h=Object(i.g)("k-button","k-clear-selected",n?"k-state-disabled":"",r===a?"k-state-focused":""),d=Object(i.g)("k-button","k-primary","k-upload-selected",n?"k-state-disabled":"",r===s?"k-state-focused":"");return o.createElement("div",{className:p},o.createElement("button",{ref:function(e){return t._clearElement=e},type:"button",className:h,tabIndex:-1,onClick:this.onClearClick},u.toLanguageString("upload.clearSelectedFiles",f["upload.clearSelectedFiles"])),o.createElement("button",{ref:function(e){return t._uploadElement=e},type:"button",className:d,tabIndex:-1,onClick:this.onUploadClick},u.toLanguageString("upload.uploadSelectedFiles",f["upload.uploadSelectedFiles"])))},e}(o.Component);Object(l.registerForLocalization)(nt);var rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rt(e,t),e.prototype.render=function(){var t=this.props,e=t.isUploading,n=t.isUploaded,r=t.isUploadFailed,a=Object(i.g)("k-upload-status","k-upload-status-total"),s=Object(i.g)(e||r||!n?"":"k-i-checkmark",!e&&r?"k-i-exception":"",e?"k-i-loading":"","k-icon"),c="",u=Object(l.provideLocalizationService)(this);return e?c=u.toLanguageString("upload.headerStatusUploading",f["upload.headerStatusUploading"]):(n||r)&&(c=u.toLanguageString("upload.headerStatusUploaded",f["upload.headerStatusUploaded"])),o.createElement("div",{className:a},o.createElement("span",{className:s}),c)},e}(o.Component);Object(l.registerForLocalization)(ot);var it=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._documentActive=!1,e._elementActive=!1,e.onDocumentDragEnter=function(){if(!e.documentActive){e.documentActive=!0;e._documentInterval=setInterval((function(){e.isDragOver(e._lastDocumentDragOver)&&(e.documentActive=!1,clearInterval(e._documentInterval),e._documentInterval=null,e._lastDocumentDragOver=null)}),100)}},e.onDocumentDragOver=function(){e._lastDocumentDragOver=new Date},e.onElementDragEnter=function(){if(!e.elementActive){e.elementActive=!0;e._elementInterval=setInterval((function(){e.isDragOver(e._lastElementDragOver)&&(e.elementActive=!1,clearInterval(e._elementInterval),e._elementInterval=null,e._lastElementDragOver=null)}),100)}},e.onElementDragOver=function(t){t.preventDefault(),e._lastElementDragOver=new Date},e.onDrop=function(t){t.preventDefault();var n=t.dataTransfer.files;n.length>0&&!e.props.disabled&&e.props.onAdd&&e.props.onAdd.call(void 0,n)},e.isDragOver=function(t){return(new Date).getTime()-(t||new Date).getTime()>100},e}return it(e,t),Object.defineProperty(e.prototype,"documentActive",{get:function(){return this._documentActive},set:function(t){var e=this.documentActive;this._documentActive=t,t!==e&&this.forceUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elementActive",{get:function(){return this._elementActive},set:function(t){var e=this._elementActive;this._elementActive=t,t!==e&&this.setState({})},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){document.addEventListener("dragenter",this.onDocumentDragEnter),document.addEventListener("dragover",this.onDocumentDragOver)},e.prototype.componentWillUnmount=function(){document.removeEventListener("dragenter",this.onDocumentDragEnter),document.removeEventListener("dragover",this.onDocumentDragOver)},e.prototype.render=function(){var t=this.props,e=t.addButtonComponent,n=t.fileGroup,r=Object(l.provideLocalizationService)(this).toLanguageString("upload.dropFilesHere",f["upload.dropFilesHere"]),a=Object(i.g)("k-dropzone",this.documentActive?"k-dropzone-active":"",this.elementActive?"k-dropzone-hovered":""),s=T(n),c=s[0],u=s[1],p=s[2],h=s[3],d=Object(i.g)("k-dropzone-hint",{});return o.createElement("div",{className:a,onDrop:this.onDrop,onDragEnter:this.onElementDragEnter,onDragOver:this.onElementDragOver},e,c||u||p||h?o.createElement(ot,{isUploading:c,isUploaded:u,isUploadFailed:p}):o.createElement("div",{className:d},r))},e}(o.Component);Object(l.registerForLocalization)(at);var st=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.focus=function(){if(e._uploadAddButton)return e._uploadAddButton.focus()},e.onAdd=function(t){e.props.onAdd&&e.props.onAdd.call(void 0,t)},e.onRetry=function(t){e.props.onRetry&&e.props.onRetry.call(void 0,t)},e.onCancel=function(t){e.props.onCancel&&e.props.onCancel.call(void 0,t)},e.onClear=function(){e.props.onClear&&e.props.onClear.call(void 0)},e.onUpload=function(){e.props.onUpload&&e.props.onUpload.call(void 0)},e.onRemove=function(t){e.props.onRemove&&e.props.onRemove.call(void 0,t)},e.onKeyDown=function(t){e.props.onKeyDown&&e.props.onKeyDown.call(void 0,t,e.isRtl)},e.onFocus=function(t){e.props.onFocus&&e.props.onFocus.call(void 0,t)},e.onBlur=function(t){e.props.onBlur&&e.props.onBlur.call(void 0,t)},e.onClick=function(t){e.props.onClick&&e.props.onClick.call(void 0,t)},e}return st(e,t),Object.defineProperty(e.prototype,"async",{get:function(){var t=this.props;return{autoUpload:t.autoUpload,batch:t.batch,withCredentials:t.withCredentials,saveField:t.saveField,saveHeaders:t.saveHeaders,saveMethod:t.saveMethod,saveUrl:t.saveUrl,responseType:t.responseType,removeField:t.removeField,removeHeaders:t.removeHeaders,removeMethod:t.removeMethod,removeUrl:t.removeUrl}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupsCount",{get:function(){return Object.keys(this.props.groupedFiles).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastGroupIndex",{get:function(){return this.groupsCount-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonIndex",{get:function(){return-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearButtonIndex",{get:function(){return this.lastGroupIndex+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uploadButtonIndex",{get:function(){return this.lastGroupIndex+2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRtl",{get:function(){return this._container&&"rtl"===getComputedStyle(this._container).direction||!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionElement",{get:function(){if(this._uploadAddButton)return this._uploadAddButton.actionElement},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this,e=this.props,n=e.multiple,r=e.disabled,a=e.tabIndex,s=e.accept,l=e.showFileList,c=e.groupedFiles,u=e.navigationIndex,p=e.showActionButtons,h=e.actionsLayout,d=e.notFocusedIndex,f=e.listItemUI,m=e.id,v=e.ariaLabelledBy,g=e.ariaDescribedBy,y=Object(i.g)("k-widget","k-upload",this.props.className,r?"k-state-disabled":""),b=o.createElement(tt,{id:m,ariaLabelledBy:v,ariaDescribedBy:g,ref:function(e){return t._uploadAddButton=e},accept:s,async:this.async,addButtonIndex:this.addButtonIndex,navigationIndex:u,notFocusedIndex:d,tabIndex:a,multiple:n,disabled:r,onAdd:this.onAdd,onClick:this.onClick});return o.createElement("div",{ref:function(e){return t._container=e},className:y,onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur},o.createElement(at,{addButtonComponent:b,fileGroup:c,disabled:r,onAdd:this.onAdd}),l?o.createElement(K,{groupedFiles:c,disabled:r,async:this.async,navigationIndex:u,listItemUI:f,onCancel:this.onCancel,onRemove:this.onRemove,onRetry:this.onRetry,onClick:this.onClick}):void 0,p?o.createElement(nt,{disabled:r,navigationIndex:u,clearButtonIndex:this.clearButtonIndex,uploadButtonIndex:this.uploadButtonIndex,actionsLayout:h,onUpload:this.onUpload,onClear:this.onClear,onClick:this.onClick}):void 0)},e.defaultProps={disabled:!1,groupedFiles:{},multiple:!0,actionsLayout:"end"},e}(o.Component),ct=n(1),ut=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pt=function(){return(pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ht=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},dt=function(t){function e(e){var n=t.call(this,e)||this;return n.focus=function(){n._uploadUI&&n._uploadUI.focus()},n.onKeyDown=function(t,e){var r=n.navIndex,o=Object.keys(n.props.groupedFiles),a=o.length-1,s=n.props.autoUpload||0===o.length?a:a+1,l=a+1,c=l+1,u=-2===r?-1:r,p=r;switch(t.keyCode){case i.d.up:r>-1&&(p=u-1);break;case i.d.down:r<s&&(p=u+1);break;case i.d.left:e?r===l&&(p=u+1):r===c&&(p=u-1);break;case i.d.right:e?r===c&&(p=u-1):r===l&&(p=u+1);break;case i.d.enter:-1!==r&&-2!==r||n.actionElement&&n.actionElement.click(),r>=0&&r<=a&&n.onRetry(o[r]);break;case i.d.space:-1!==r&&-2!==r||n.actionElement&&n.actionElement.click();break;case i.d.tab:p=-2;break;case i.d.delete:r>=0&&r<=a&&(p=u-1,n.onRemove(o[r]));break;case i.d.esc:r>=0&&r<=a&&(p=u-1,n.onCancel(o[r]))}n.navIndex=p},n.onCancel=function(t){n.props.onCancel&&n.props.onCancel.call(void 0,t)},n.onClear=function(){n.navIndex=-1,n.props.onClear&&n.props.onClear.call(void 0)},n.onUpload=function(){n.navIndex=-1,n.props.onUpload&&n.props.onUpload.call(void 0)},n.onRetry=function(t){n.props.onRetry&&n.props.onRetry.call(void 0,t)},n.onRemove=function(t){n.navIndex=n.navIndex>-1?n.navIndex-1:-1,n.props.onRemove&&n.props.onRemove.call(void 0,t)},n.onAdd=function(t){n.navIndex=-1,n.props.onAdd&&n.props.onAdd.call(void 0,t)},n.onClick=function(t){n.navIndex=t},n.onFocus=function(){n._blurTimeout&&(clearTimeout(n._blurTimeout),n._blurTimeout=void 0)},n.onBlurTimeout=function(){n.navIndex=-2,n._blurTimeout=void 0},n.onBlur=function(){clearTimeout(n._blurTimeout),n._blurTimeout=window.setTimeout(n.onBlurTimeout)},n._navIndex=-2,n}return ut(e,t),Object.defineProperty(e.prototype,"navIndex",{get:function(){return this._navIndex},set:function(t){var e=this.navIndex;this._navIndex=t,t!==e&&this.forceUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionElement",{get:function(){if(this._uploadUI)return this._uploadUI.actionElement},enumerable:!0,configurable:!0}),e.prototype.componentDidUpdate=function(t){var e=Object.keys(t.groupedFiles).length,n=Object.keys(this.props.groupedFiles).length;e>n&&this.navIndex>-1&&(this.navIndex=this.navIndex-(e-n))},e.prototype.render=function(){var t=this,e=this.props,n=(e.onClear,e.onRemove,e.onRetry,e.onCancel,e.onUpload,e.onAdd,ht(e,["onClear","onRemove","onRetry","onCancel","onUpload","onAdd"]));return o.createElement(lt,pt({ref:function(e){return t._uploadUI=e},className:this.props.className,onKeyDown:this.onKeyDown,navigationIndex:this.navIndex,notFocusedIndex:-2,onAdd:this.onAdd,onClear:this.onClear,onUpload:this.onUpload,onRemove:this.onRemove,onRetry:this.onRetry,onCancel:this.onCancel,onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur},n))},e}(o.Component),ft=n(24),mt=n.n(ft),vt=function(){return(vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},gt=function(t,e){e.push(t)},yt=function(t,e){Object.keys(t).forEach((function(n){e(t[n],n)}))},bt={copyState:function(t){return(t||[]).map((function(t){return vt({},t)}))},addMany:function(t,e){t.forEach((function(t){return gt(t,e)}))},add:gt,groupFilesByUid:function(t){var e={};return t.forEach((function(t){e[t.uid]?e[t.uid].push(t):e[t.uid]=[t]})),e},filesForUpload:function(t){var e={};return yt(t,(function(t,n){var o=!0;t.forEach((function(t){(t.status!==r.Selected||t.validationErrors&&t.validationErrors.length>0)&&(o=!1)})),o&&(e[n]=t)})),e},setFilesStatus:function(t,e){yt(t,(function(t){t.forEach((function(t){t.status=e}))}))},flatFileGroup:function(t){var e=[];return yt(t,(function(t){e.push.apply(e,t)})),e},groupForEach:yt},xt=function(){return(xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},wt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},kt=function(t,e){Object.keys(e).forEach((function(n){t.append(n,e[n])}))},Ot=function(t,e,n){var r=new FormData;return kt(r,n),t.forEach((function(t){var n=t.getRawFile?t.getRawFile():"";n?r.append(e,n,t.name):r.append(e,n)})),r},Ct=function(t,e,n){var r=new FormData;return kt(r,n),t.forEach((function(t){r.append(e,t)})),r},_t=function(t,e){return{headers:t,responseType:e.responseType,withCredentials:e.withCredentials}},St=function(t){var e={};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e},Et=function(t){var e=t.data,n=(t.config,wt(t,["data","config"]));return xt({response:e},n)},It=function(t,e){e.length>0&&e.indexOf((t.extension||"").toLowerCase())<0&&(t.validationErrors=t.validationErrors||[],t.validationErrors.indexOf("invalidFileExtension")<0&&t.validationErrors.push("invalidFileExtension"))},Tt=function(t,e,n){0!==e&&(t.size||0)<e&&(t.validationErrors=t.validationErrors||[],t.validationErrors.indexOf("invalidMinFileSize")<0&&t.validationErrors.push("invalidMinFileSize")),0!==n&&(t.size||0)>n&&(t.validationErrors=t.validationErrors||[],t.validationErrors.indexOf("invalidMaxFileSize")<0&&t.validationErrors.push("invalidMaxFileSize"))},Dt=function(t,e){var n,r=(e.allowedExtensions||[]).map((function(t){return("."===t.substring(0,1)?t:"."+t).toLowerCase()})),o=e.maxFileSize||0,i=e.minFileSize||0;for(n=0;n<t.length;n++)It(t[n],r),Tt(t[n],i,o)},Pt={name:"@progress/kendo-react-upload",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631617232,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},At=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jt=function(){return(jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Mt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},Rt=function(t){function e(e){var n=t.call(this,e)||this;return n._httpSubscriptions={},n.focus=function(){n._uploadNavigation&&n._uploadNavigation.focus()},n.uploadFiles=function(t){var e=n.async;bt.setFilesStatus(t,r.Uploading),bt.groupForEach(t,(function(t,r){var o=St(e.saveHeaders||{}),i={target:n,files:t,headers:o,additionalData:{}};n.props.onBeforeUpload&&n.props.onBeforeUpload.call(void 0,i);var a=_t(i.headers,n.async),s=Ot(t,e.saveField,i.additionalData);if(n.isCustomSave)n.props.saveUrl(t,{formData:s,requestOptions:a},n.onUploadProgress).then((function(t){return n.onUploadSuccess(t.uid)})).catch((function(t){return n.onUploadError(t.uid)}));else{var l=mt.a.CancelToken.source();n._httpSubscriptions[r]=l,mt()(jt({method:e.saveMethod,url:e.saveUrl,data:s,cancelToken:l.token},a,{onUploadProgress:function(t){return n.onUploadProgress(r,t)}})).then((function(t){return n.onUploadSuccess(r,t)})).catch((function(t){return n.onUploadError(r,t)}))}}))},n.removeFiles=function(t){var e=n.async;bt.groupForEach(t,(function(t,r){var o=St(e.removeHeaders||{}),i={target:n,files:t,headers:o,additionalData:{}};n.props.onBeforeRemove&&n.props.onBeforeRemove.call(void 0,i);var a=t.map((function(t){return t.name})),s=_t(i.headers,n.async),l=Ct(a,e.removeField,i.additionalData);n.isCustomRemove?n.props.removeUrl(t,{formData:l,requestOptions:s}).then((function(t){return n.onRemoveSuccess(t.uid)})).catch((function(t){return n.onRemoveError(t.uid)})):mt()(jt({method:e.removeMethod,url:e.removeUrl,data:l},s)).then((function(t){return n.onRemoveSuccess(r,t)})).catch((function(t){return n.onRemoveError(r,t)}))}))},n.onUpload=function(){var t=n.fileStateCopy,e=bt.groupFilesByUid(t),r=bt.filesForUpload(e);n.uploadFiles(r);var o=function(){if(n.props.onStatusChange){var e={target:n,newState:t,affectedFiles:bt.flatFileGroup(r)};n.props.onStatusChange.call(void 0,e)}};n.isControlled?o():n.setState({files:t},o)},n.onAdd=function(t){var e,r=E(t);if(r=I(r,n.async.batch),Dt(r,n.props.restrictions),e=n.props.multiple?n.fileStateCopy:[],bt.addMany(r,e),n.async.autoUpload){var o=bt.groupFilesByUid(e);n.uploadFiles(bt.filesForUpload(o))}var i=function(){if(n.props.onAdd){var t={target:n,newState:e,affectedFiles:r};n.props.onAdd.call(void 0,t)}};n.isControlled?i():n.setState({files:e},i)},n.onUploadProgress=function(t,e){var r=Math.round(100*e.loaded/e.total)||0,o=n.fileStateCopy,i=o.filter((function(e){return e.uid===t}));if(i.length){i.forEach((function(t){t.progress=r}));var a=function(){if(n.props.onProgress){var t={target:n,newState:o,affectedFiles:i};n.props.onProgress.call(void 0,t)}};n.isControlled?a():n.setState({files:o},a)}},n.onUploadSuccess=function(t,e){var o=n.fileStateCopy,i=o.filter((function(e){return e.uid===t}));i.forEach((function(t){t.status=r.Uploaded})),delete n._httpSubscriptions[t];var a=function(){if(n.props.onStatusChange){var t={target:n,newState:o,affectedFiles:i,response:e?Et(e):void 0};n.props.onStatusChange.call(void 0,t)}};n.isControlled?a():n.setState({files:o},a)},n.onUploadError=function(t,e){var o=n.fileStateCopy,i=o.filter((function(e){return e.uid===t}));if(i.forEach((function(t){t.status=r.UploadFailed})),delete n._httpSubscriptions[t],i.length){var a=function(){if(n.props.onStatusChange){var t={target:n,newState:o,affectedFiles:i,response:e?Et(e):void 0};n.props.onStatusChange.call(void 0,t)}};n.isControlled?a():n.setState({files:o},a)}},n.onRemove=function(t){var e,o=n.fileStateCopy,i=o.filter((function(e){return e.uid===t})),a=o.filter((function(e){return e.uid!==t}));if([r.Uploaded,r.Initial,r.RemoveFailed].indexOf(i[0].status)>-1){var s=((e={})[t]=i,e);bt.setFilesStatus(s,r.Removing),n.removeFiles(s);var l=function(){if(n.props.onStatusChange){var t={target:n,newState:o,affectedFiles:i};n.props.onStatusChange.call(void 0,t)}};n.isControlled?l():n.setState({files:o},l)}else{var c=function(){if(n.props.onRemove){var t={target:n,newState:a,affectedFiles:i};n.props.onRemove.call(void 0,t)}};n.isControlled?c():n.setState({files:a},c)}},n.onRemoveSuccess=function(t,e){var r=n.fileStateCopy,o=r.filter((function(e){return e.uid===t})),i=r.filter((function(e){return e.uid!==t})),a=function(){if(n.props.onRemove){var t={target:n,newState:i,affectedFiles:o,response:e?Et(e):void 0};n.props.onRemove.call(void 0,t)}};n.isControlled?a():n.setState({files:i},a)},n.onRemoveError=function(t,e){var o=n.fileStateCopy,i=o.filter((function(e){return e.uid===t}));i.forEach((function(t){t.status=r.RemoveFailed}));var a=function(){if(n.props.onStatusChange){var t={target:n,newState:o,affectedFiles:i,response:e?Et(e):void 0};n.props.onStatusChange.call(void 0,t)}};n.isControlled?a():n.setState({files:o},a)},n.onRetry=function(t){var e=n.fileStateCopy,o=bt.groupFilesByUid(e.filter((function(e){return e.uid===t})));bt.setFilesStatus(o,r.Uploading),n.uploadFiles(o);var i=function(){if(n.props.onStatusChange){var t={target:n,newState:e,affectedFiles:bt.flatFileGroup(o)};n.props.onStatusChange.call(void 0,t)}};n.isControlled?i():n.setState({files:e},i)},n.onCancel=function(t){var e=n.fileStateCopy,r=e.filter((function(e){return e.uid!==t})),o=e.filter((function(e){return e.uid===t}));if(n._httpSubscriptions[t]&&(n._httpSubscriptions[t].cancel(),delete n._httpSubscriptions[t]),n.props.onCancel){var i={target:n,uid:t};n.props.onCancel.call(void 0,i)}var a=function(){if(n.props.onRemove){var t={target:n,newState:r,affectedFiles:o};n.props.onRemove.call(void 0,t)}};n.isControlled?a():n.setState({files:r},a)},n.onClear=function(){if(n.files.length){Object.keys(n._httpSubscriptions).forEach((function(t){n._httpSubscriptions[t].cancel()})),n._httpSubscriptions={};var t=function(){if(n.props.onRemove){var t={target:n,newState:[],affectedFiles:n.fileStateCopy};n.props.onRemove.call(void 0,t)}};n.isControlled?t():n.setState({files:[]},t)}},Object(i.D)(Pt),n.state={files:e.defaultFiles||[]},n}return At(e,t),Object.defineProperty(e.prototype,"async",{get:function(){var t=this.props;return{autoUpload:t.autoUpload,batch:t.batch,removeField:t.removeField,removeHeaders:t.removeHeaders,removeMethod:t.removeMethod,removeUrl:t.removeUrl,responseType:t.responseType,saveField:t.saveField,saveHeaders:t.saveHeaders,saveMethod:t.saveMethod,saveUrl:t.saveUrl,withCredentials:t.withCredentials}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"files",{get:function(){return(this.isControlled?this.props.files:this.state.files)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isControlled",{get:function(){return!this.props.defaultFiles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCustomSave",{get:function(){return this.props.saveUrl&&"function"==typeof this.props.saveUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCustomRemove",{get:function(){return this.props.removeUrl&&"function"==typeof this.props.removeUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileStateCopy",{get:function(){return this.isControlled?bt.copyState(this.props.files):bt.copyState(this.state.files)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionElement",{get:function(){if(this._uploadNavigation)return this._uploadNavigation.actionElement},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this,e=this.props,n=e.showFileList,r=(e.onAdd,e.onRemove,e.onCancel,e.autoUpload),a=e.showActionButtons,s=e.actionsLayout,l=e.tabIndex,c=e.disabled,u=Mt(e,["showFileList","onAdd","onRemove","onCancel","autoUpload","showActionButtons","actionsLayout","tabIndex","disabled"]),p=bt.groupFilesByUid(this.files),h=bt.filesForUpload(p);return o.createElement(dt,jt({groupedFiles:p,className:this.props.className,showFileList:n&&!!Object.keys(p).length,showActionButtons:a&&!r&&!!Object.keys(h).length,actionsLayout:s,autoUpload:r,disabled:c,onAdd:this.onAdd,onRemove:this.onRemove,onClear:this.onClear,onUpload:this.onUpload,onRetry:this.onRetry,onCancel:this.onCancel,tabIndex:Object(i.p)(l,c),ref:function(e){return t._uploadNavigation=e}},u))},e.defaultProps={autoUpload:!0,batch:!1,removeField:"fileNames",removeHeaders:{},removeMethod:"POST",removeUrl:"",responseType:"json",saveField:"files",saveHeaders:{},saveMethod:"POST",saveUrl:"",withCredentials:!0,restrictions:{allowedExtensions:[],maxFileSize:0,minFileSize:0},multiple:!0,showFileList:!0,showActionButtons:!0,actionsLayout:"end",disabled:!1},e.propTypes={autoUpload:ct.bool,batch:ct.bool,withCredentials:ct.bool,saveField:ct.string,saveHeaders:ct.object,saveMethod:ct.string,saveUrl:ct.oneOfType([ct.string,ct.func]),responseType:ct.oneOf(["arraybuffer","blob","json","text"]),removeField:ct.string,removeHeaders:ct.object,removeMethod:ct.string,removeUrl:ct.oneOfType([ct.string,ct.func]),multiple:ct.bool,disabled:ct.bool,showFileList:ct.bool,showActionButtons:ct.bool,actionsLayout:ct.oneOf(["start","center","end","stretched"]),tabIndex:ct.number,accept:ct.string,listItemUI:ct.oneOfType([ct.func,ct.string,ct.shape({render:ct.func.isRequired})]),restrictions:ct.shape({allowedExtensions:ct.arrayOf(ct.string),maxFileSize:ct.number,minFileSize:ct.number}),files:ct.arrayOf(ct.shape({uid:ct.string,name:ct.string,extension:ct.string,size:ct.number,validationErrors:ct.arrayOf(ct.string),status:ct.oneOf([r.Initial,r.RemoveFailed,r.Removing,r.Selected,r.UploadFailed,r.Uploaded,r.Uploading]),progress:ct.number,getRawFile:ct.func})),defaultFiles:ct.arrayOf(ct.shape({uid:ct.string,name:ct.string,extension:ct.string,size:ct.number,validationErrors:ct.arrayOf(ct.string),status:ct.oneOf([r.Initial,r.RemoveFailed,r.Removing,r.Selected,r.UploadFailed,r.Uploaded,r.Uploading]),progress:ct.number,getRawFile:ct.func}))},e}(o.Component),Nt=o.forwardRef((function(t,e){Object(i.D)(Pt);var n=o.useRef(null),r=o.useRef(null),a=o.useRef(null),s=o.useRef(!1),c=o.useRef(null),u=o.useState(!1),p=u[0],h=u[1],d=Object(l.useLocalization)(),m=d.toLanguageString("upload.dropZoneHint",f["upload.dropZoneHint"]),v=d.toLanguageString("upload.dropZoneNote",f["upload.dropZoneNote"]),g=t.customHint||o.createElement("span",null,m),y=t.customNote||o.createElement("span",null,v),b=t.uploadRef,x=o.useCallback((function(){r.current&&r.current.focus()}),[r]);o.useImperativeHandle(n,(function(){return{element:r.current,focus:x,props:t}})),o.useImperativeHandle(e,(function(){return n.current}));var w=o.useCallback((function(t){return(new Date).getTime()-(t||new Date).getTime()>100}),[]),k=o.useCallback((function(e){e.preventDefault();var n=e.dataTransfer.files;n.length>0&&!t.disabled&&b&&b.current&&b.current.onAdd&&(e.preventDefault(),b.current.onAdd(n))}),[t.disabled,b]),O=o.useCallback((function(){if(s){s.current=!0;a.current=setInterval((function(){w(c.current)&&(h(!1),s.current=!1,clearInterval(a.current),a.current=null,c.current=null)}),100)}}),[s,a,c]),C=o.useCallback((function(t){t.preventDefault(),c.current=new Date,h(!0)}),[c]);return o.createElement("div",{ref:r,id:t.id,className:Object(i.g)("k-external-dropzone",{"k-external-dropzone-hover":p,"k-state-disabled":t.disabled},t.className),tabIndex:Object(i.p)(t.tabIndex,t.disabled,void 0),onDrop:k,onDragEnter:O,onDragOver:C},o.createElement("div",{style:t.style,className:"k-dropzone-inner"},o.createElement("span",{className:"k-icon k-i-upload"}),o.createElement("span",{className:"k-dropzone-hint"},g),o.createElement("span",{className:"k-dropzone-note"},y)))})),Ft={id:ct.string,tabIndex:ct.number,editorRef:ct.oneOfType([ct.func,ct.shape({current:ct.any})]),disabled:ct.bool};Nt.displayName="KendoReactExternalDropZone",Nt.propTypes=Ft},function(t,e,n){"use strict";n.r(e),n.d(e,"Chat",(function(){return N})),n.d(e,"HeroCard",(function(){return z})),n.d(e,"ChatMessage",(function(){return u}));var r,o=n(0),i=n(2),a=n(5),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.componentDidUpdate=function(t){!t.selected&&this.props.selected&&this.elementToFocus.focus()},e}(o.Component),c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.render=function(){var t=this;return o.createElement("div",{className:this.getClassNames(),tabIndex:this.props.tabIndex,onClick:function(){return t.props.onRequestSelection(t.props.item.selectionIndex)},onFocus:function(){return t.props.onRequestSelection(t.props.item.selectionIndex)},ref:function(e){return t.elementToFocus=e}},this.getTimestampView(),this.getMainView(),this.getStatusView())},e.prototype.getMainView=function(){return this.props.item.typing?o.createElement("div",{className:"k-bubble"},o.createElement("div",{className:"k-typing-indicator"},o.createElement("span",null),o.createElement("span",null),o.createElement("span",null))):this.props.template?o.createElement(this.props.template,{item:this.props.item}):this.props.item.text?o.createElement("div",{className:"k-bubble"},this.props.item.text):null},e.prototype.getTimestampView=function(){var t=null;return this.props.item.timestamp&&(t=o.createElement("time",{className:"k-message-time","aria-hidden":!this.props.selected},Object(a.provideIntlService)(this).formatDate(this.props.item.timestamp,this.props.dateFormat))),t},e.prototype.getStatusView=function(){var t=null;return this.props.item.status&&(t=o.createElement("span",{className:"k-message-status"},this.props.item.status)),t},e.prototype.getClassNames=function(){return Object(i.g)({"k-only":this.props.isOnlyItemInGroup},{"k-first":this.props.isFirstItemInGroup&&!this.props.isOnlyItemInGroup},{"k-last":this.props.isLastItemInGroup&&!this.props.isOnlyItemInGroup},{"k-state-selected":this.props.selected},{"k-state-focused":this.props.selected},"k-message")},e.defaultProps={dateFormat:"g",tabIndex:-1},e}(l);Object(a.registerForIntl)(u);var p=n(1),h=function(t,e){return t&&e.author&&t.id===e.author.id},d=function(t){return t[t.length-1]},f=function(t){return function(e,n,r){var o=r===t-1;return function(t,e){var n,r,o=e.timestamp,i=d(t);if(o&&(!i||(n=o,r=i.timestamp,n&&r&&(r.getDate()!==n.getDate()||r.getMonth()!==n.getMonth()||r.getFullYear()!==n.getFullYear())))){var a={type:"date-marker",timestamp:o,trackBy:o.getTime()};t.push(a)}}(e,n),function(t,e,n){var r=d(t),o=void 0;e.typing&&!n||(r&&"message-group"===r.type&&(o=r.messages),o&&h(e.author,d(o))?o.push(e):t.push({type:"message-group",messages:[e],author:e.author,timestamp:e.timestamp,trackBy:e}))}(e,n,o),n.attachments&&n.attachments.length>1&&e.push({type:"attachment-group",attachments:n.attachments,attachmentLayout:n.attachmentLayout,timestamp:n.timestamp,trackBy:n}),n.suggestedActions&&o&&e.push({type:"action-group",actions:n.suggestedActions,timestamp:n.timestamp,trackBy:n}),e}};var m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onKeyDown=function(t){t.keyCode===i.d.enter&&e.props.onActionExecute(e.props.item,t)},e}return m(e,t),e.prototype.render=function(){var t=this;return o.createElement("span",{className:this.getClassNames(),onClick:function(e){return t.props.onActionExecute(t.props.item,e)},ref:function(e){return t.elementToFocus=e},onKeyDown:this.onKeyDown,tabIndex:this.props.tabbable?0:-1},this.props.item.title||this.props.item.value)},e.prototype.getClassNames=function(){return Object(i.g)("k-quick-reply",{"k-first":this.props.isFirstItemInGroup},{"k-last":this.props.isLastItemInGroup},{"k-state-selected":this.props.selected},{"k-state-focused":this.props.selected})},e}(l),g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={selectedItemIndex:null},e.onRequestContainerSelection=function(){return e.props.onRequestSelection(e.props.group.selectionIndex)},e.onKeyDown=function(t){var n,r,o=null;e.isKeyboardNavigationLeftRight?(n=i.d.left,r=i.d.right):(n=i.d.up,r=i.d.down),t.keyCode===n?o=e.navigate(!1):t.keyCode===r&&(o=e.navigate(!0)),null!==o&&(t.preventDefault(),t.stopPropagation())},e}return g(e,t),e.getDerivedStateFromProps=function(t,e){return t.selected||null===e.selectedItemIndex?t.selected&&null===e.selectedItemIndex?{selectedItemIndex:0}:null:{selectedItemIndex:null}},e.prototype.navigate=function(t,e){void 0===e&&(e=0);var n=null,r=this.state.selectedItemIndex;return t?null===r?n=e:r<this.getLastSelectionIndex()&&(n=r+1):null===r?n=0:r>0&&(n=r-1),null!==n&&this.setState({selectedItemIndex:n}),n},Object.defineProperty(e.prototype,"isKeyboardNavigationLeftRight",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.getLastSelectionIndex=function(){var t=-1;if("action-group"===this.props.group.type){var e=this.props.group;t=e.actions?e.actions.length-1:-1}else if("attachment-group"===this.props.group.type){var n=this.props.group;t=n.attachments?n.attachments.length-1:-1}return t},e}(o.Component),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function e(e){return t.call(this,e)||this}return b(e,t),e.prototype.render=function(){var t=this,e=this.props.group.actions?this.props.group.actions.length-1:0;return o.createElement("div",{className:this.getClassNames(),onClick:this.onRequestContainerSelection,onKeyDown:this.onKeyDown},this.props.group.actions&&this.props.group.actions.map((function(n,r){return o.createElement(v,{item:n,onActionExecute:t.props.onActionExecute,selected:r===t.state.selectedItemIndex,tabbable:t.props.isLastGroup&&r===t.state.selectedItemIndex,isFirstItemInGroup:0===r,isLastItemInGroup:r===e,key:r})})))},e.prototype.getClassNames=function(){return Object(i.g)("k-quick-replies")},e}(y),w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.prototype.render=function(){var t=this;return o.createElement("div",{className:this.getClassNames(),tabIndex:this.getTabIndexValue(),onClick:this.props.onClick,ref:function(e){return t.elementToFocus=e}},this.props.template?o.createElement(this.props.template,{item:this.props.item}):o.createElement("div",{className:"k-card"},o.createElement("div",{className:"k-card-body"},this.getTitleView(),this.getSubtitleView(),this.getContentView())))},e.prototype.getTabIndexValue=function(){return void 0===this.props.tabbable?void 0:this.props.tabbable?0:-1},e.prototype.getClassNames=function(){return Object(i.g)({"k-state-selected":this.props.selected},{"k-state-focused":this.props.selected},"k-card-wrap",{"k-first":this.props.isFirstItemInGroup},{"k-last":this.props.isLastItemInGroup})},e.prototype.getTitleView=function(){return this.props.item.title?o.createElement("h5",{className:"k-card-title"},this.props.item.title):null},e.prototype.getSubtitleView=function(){return this.props.item.subtitle?o.createElement("h6",{className:"k-card-subtitle"},this.props.item.subtitle):null},e.prototype.getContentView=function(){return 0===this.props.item.contentType.indexOf("image/")?o.createElement("img",{src:this.props.item.content}):this.props.item.content},e}(l),O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return O(e,t),e.prototype.render=function(){var t=this,e=this.isCardDeckLayout(this.props),n=o.createElement("div",{className:this.getClassNames(),onKeyDown:e?void 0:this.onKeyDown},this.props.group.attachments.map((function(e,n){return o.createElement(k,{item:e,template:t.props.itemTemplate,selected:n===t.state.selectedItemIndex,tabbable:t.props.isLastGroup&&n===t.state.selectedItemIndex,isFirstItemInGroup:0===n,isLastItemInGroup:n===t.getLastItemIndex(),onClick:function(){return t.onAttachmentClick(n)},key:n})})));return e?o.createElement("div",{className:"k-card-deck-scrollwrap",onKeyDown:this.onKeyDown},this.getLeftScrollBtn(),n,this.getRightScrollBtn()):n},Object.defineProperty(e.prototype,"isKeyboardNavigationLeftRight",{get:function(){return this.isCardDeckLayout(this.props)},enumerable:!0,configurable:!0}),e.prototype.getLastItemIndex=function(){return this.props.group.attachments.length-1},e.prototype.getLeftScrollBtn=function(){var t=this,e=null;return this.isCardDeckLayout(this.props)&&this.state.selectedItemIndex&&(e=o.createElement("button",{className:"k-button k-button-icon",onClick:function(){return t.onNavigateBtnClick(!1)}},o.createElement("span",{className:"k-icon k-i-arrow-chevron-left"}))),e},e.prototype.getRightScrollBtn=function(){var t=this,e=null;return this.isCardDeckLayout(this.props)&&this.state.selectedItemIndex!==this.getLastItemIndex()&&(e=o.createElement("button",{className:"k-button k-button-icon",onClick:function(){return t.onNavigateBtnClick(!0)}},o.createElement("span",{className:"k-icon k-i-arrow-chevron-right"}))),e},e.prototype.onAttachmentClick=function(t){this.onRequestContainerSelection(),this.setState({selectedItemIndex:t})},e.prototype.onNavigateBtnClick=function(t){this.onRequestContainerSelection(),this.navigate(t,1)},e.prototype.isCardDeckLayout=function(t){return"list"!==t.group.attachmentLayout},e.prototype.getClassNames=function(){return Object(i.g)({"k-card-deck":this.isCardDeckLayout(this.props)})},e}(y),_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.render=function(){var t=this.props.item;return o.createElement("div",{className:"k-timestamp"},Object(a.provideIntlService)(this).formatDate(t.timestamp,"D"))},e}(o.Component),E=S;Object(a.registerForIntl)(S);var I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.render=function(){return o.createElement("div",{className:this.getMsgGroupClassNames()},this.getAvatarView(),this.getAuthorNameView(),this.getGroupMessagesView())},e.prototype.getMsgGroupClassNames=function(){return Object(i.g)("k-message-group",{"k-no-avatar":!this.props.group.author.avatarUrl,"k-alt":h(this.props.user,this.props.group.messages[0])})},e.prototype.getAvatarView=function(){var t=null;return this.props.group.author.avatarUrl&&(t=o.createElement("img",{src:this.props.group.author.avatarUrl,className:"k-avatar"})),t},e.prototype.getAuthorNameView=function(){var t=null;return this.props.group.author.name&&(t=o.createElement("p",{className:"k-author"},this.props.group.author.name)),t},e.prototype.getGroupMessagesView=function(){var t=this,e=this.props.group.messages.length-1;return this.props.group.messages.map((function(n,r){var i=[o.createElement(t.props.message,{item:n,template:t.props.itemTemplate,selected:n.selectionIndex===t.props.selectedItemIndex,onRequestSelection:t.props.onRequestSelection,tabIndex:r===e&&t.props.isLastGroup?0:-1,isFirstItemInGroup:0===r,isLastItemInGroup:r===e,isOnlyItemInGroup:0===e,key:r})];return n.attachments&&1===n.attachments.length&&i.push(o.createElement(k,{item:n.attachments[0],template:t.props.attachmentTemplate,selected:!1,key:"att-"+r})),i}))},e}(o.Component),D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.render=function(){return o.createElement("div",{className:"k-toolbar-box"},o.createElement("div",{className:"k-button-list"},this.props.children))},e}(o.Component),A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={focused:!1},e.inputEl=null,e.onInputKeyDown=function(t){t.keyCode===i.d.enter&&e.sendMessage(t)},e.sendMessage=function(t){if(e.props.onMessageSend&&null!==e.inputEl){var n=e.inputEl.value;if(n){var r={author:e.props.user,text:n,timestamp:new Date};e.props.onMessageSend(r,t)}}null!==e.inputEl&&(e.inputEl.value=null)},e}return A(e,t),e.prototype.render=function(){var t=this,n=o.createElement("input",{type:"text",className:this.getClassNames(),placeholder:this.props.placeholder,onKeyDown:this.onInputKeyDown,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},ref:function(e){return t.inputEl=e}}),r=o.createElement("button",{className:"k-button k-flat k-button-icon k-button-send",onClick:this.sendMessage,"aria-label":"Send...",dir:this.props.isDirectionRightToLeft?"rtl":void 0},o.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 16 16"},o.createElement("path",{d:e.buttonIconPath}))),i=o.createElement("button",{className:"k-button k-flat k-button-icon k-button-toggle",onClick:function(e){return t.props.onToolbarActionButtonClick(!t.props.showToolbar,e)}},o.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512"},o.createElement("g",null,o.createElement("path",{d:"M128,240c0-26.4-21.6-48-48-48s-48,21.6-48,48s21.6,48,48,48S128,266.4,128,240z"}),o.createElement("path",{d:"M192,240c0,26.4,21.6,48,48,48c26.4,0,48-21.6,48-48s-21.6-48-48-48C213.6,192,192,213.6,192,240z"}),o.createElement("path",{d:"M352,240c0,26.4,21.6,48,48,48c26.4,0,48-21.6,48-48s-21.6-48-48-48C373.6,192,352,213.6,352,240z"}))));return o.createElement(o.Fragment,null,o.createElement("div",{className:"k-message-box"},this.props.MessageBox?o.createElement(this.props.MessageBox,{messageInput:n,sendButton:r,toolbarButton:i}):o.createElement(o.Fragment,null,n,this.props.toolbar&&i,r)),this.props.showToolbar&&o.createElement(P,null,this.props.toolbar))},e.prototype.focusInput=function(){null!==this.inputEl&&this.inputEl.focus()},e.prototype.getClassNames=function(){return Object(i.g)({"k-state-focused":this.state.focused},"k-input")},e.buttonIconPath="M0,14.3c-0.1,0.6,0.3,0.8,0.8,0.6l14.8-6.5c0.5-0.2,0.5-0.6,0-0.8L0.8,1.1C0.3,0.9-0.1,1.1,0,1.7l0.7,4.2C0.8,6.5,1.4,7,1.9,7.1l8.8,0.8c0.6,0.1,0.6,0.1,0,0.2L1.9,8.9C1.4,9,0.8,9.5,0.7,10.1L0,14.3z",e}(o.Component),M={name:"@progress/kendo-react-conversational-ui",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631616456,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(t){function e(e){var n=t.call(this,e)||this;return n.scrollToBottomOnLoadingData=!0,n.onFocus=function(){clearTimeout(n.timeoutIdForChatLosingFocus)},n.onBlur=function(){n.timeoutIdForChatLosingFocus=window.setTimeout((function(){n.setState({selectedItemIndex:null})}),0)},n.onSelectionRequested=function(t){n.setState({selectedItemIndex:t})},n.onKeyDown=function(t){var e=null,r=null!==n.state.selectedItemIndex?n.state.selectedItemIndex:n.viewItems.lastSelectionIndex;t.keyCode===i.d.up?null===r?e=0:r>0&&(e=r-1):t.keyCode===i.d.down&&(null===r?e=0:r<n.viewItems.lastSelectionIndex&&(e=r+1)),null!==e&&(n.setState({selectedItemIndex:e}),t.preventDefault())},n.onMessageSend=function(t,e){Object(i.k)(n.props.onMessageSend,e,n,{message:t})},n.onActionExecute=function(t,e){if(Object(i.k)(n.props.onActionExecute,e,n,{action:t}),!e.isDefaultPrevented()){switch(t.type){case"reply":n.onMessageSend({author:n.props.user,text:t.value,timestamp:new Date},e);break;case"call":window.open("tel:"+t.value);break;case"openUrl":window.open(t.value)}n.newMsgComp.focusInput()}},Object(i.D)(M),n.state={selectedItemIndex:null,isFirstRender:!0},n}return R(e,t),e.prototype.render=function(){var t=this;return this.viewItems=this.getViewItemsFromMsgs(this.props.messages),this.isDirectionRightToLeft=this.checkIsDirectionRightToLeft(this.props),o.createElement("div",{style:{width:this.props.width},onKeyDown:this.onKeyDown,className:this.getClassNames(),ref:function(e){return t.chatWrapperEl=e}},o.createElement("div",{className:"k-message-list k-avatars",onBlur:this.onBlur,onFocus:this.onFocus,role:"log","aria-live":"polite",onScroll:function(e){t.scrollToBottomOnLoadingData=e.currentTarget.scrollTop===e.currentTarget.scrollHeight-e.currentTarget.clientHeight},ref:function(e){return t.viewItemsWrapperEl=e}},o.createElement("div",{className:"k-message-list-content"},this.renderViewItems())),o.createElement(j,{user:this.props.user,onMessageSend:this.onMessageSend,isDirectionRightToLeft:this.isDirectionRightToLeft,ref:function(e){return t.newMsgComp=e},placeholder:this.props.placeholder,MessageBox:this.props.messageBox,toolbar:this.props.toolbar,onToolbarActionButtonClick:this.props.onToolbarActionExecute,showToolbar:this.props.showToolbar}))},e.prototype.componentDidMount=function(){var t=this;this.setState({isFirstRender:!1},(function(){t.nextTickId=window.setTimeout((function(){return t.scrollViewItemsToBottom()}),250)}))},e.prototype.componentWillUnmount=function(){clearTimeout(this.nextTickId)},e.prototype.componentDidUpdate=function(t){t.messages.length!==this.props.messages.length&&this.scrollToBottomOnLoadingData&&this.scrollViewItemsToBottom()},e.prototype.getClassNames=function(){return Object(i.g)("k-widget","k-chat",this.props.className,{"k-rtl":this.isDirectionRightToLeft})},e.prototype.checkIsDirectionRightToLeft=function(t){var e=void 0!==t.dir?"rtl"===t.dir:this.chatWrapperEl&&"rtl"===getComputedStyle(this.chatWrapperEl).direction;return Boolean(e)},e.prototype.renderViewItems=function(){var t=this,n=this.viewItems.length-1;return this.viewItems.map((function(r,i){return"date-marker"===r.type?o.createElement(E,{item:r,key:i}):"message-group"===r.type?o.createElement(T,{group:r,itemTemplate:t.props.messageTemplate,attachmentTemplate:t.props.attachmentTemplate,user:t.props.user,selectedItemIndex:t.state.selectedItemIndex,onRequestSelection:t.onSelectionRequested,isLastGroup:i===n,key:i,message:t.props.message||e.defaultProps.message}):"attachment-group"===r.type?o.createElement(C,{group:r,itemTemplate:t.props.attachmentTemplate,onRequestSelection:t.onSelectionRequested,selected:r.selectionIndex===t.state.selectedItemIndex,isLastGroup:i===n,key:i}):"action-group"===r.type?o.createElement(x,{group:r,onActionExecute:t.onActionExecute,onRequestSelection:t.onSelectionRequested,selected:r.selectionIndex===t.state.selectedItemIndex,isLastGroup:i===n,key:i}):void 0}))},e.prototype.scrollViewItemsToBottom=function(){this.viewItemsWrapperEl&&(this.viewItemsWrapperEl.scrollTop=this.viewItemsWrapperEl.scrollHeight-this.viewItemsWrapperEl.clientHeight)},e.prototype.getViewItemsFromMsgs=function(t){return t.length>0?(o=(e=t).slice().reduce(f(e.length),[]),r=0,(n=o).forEach((function(t){"message-group"===t.type?t.messages.forEach((function(t){t.selectionIndex=r++})):"attachment-group"!==t.type&&"action-group"!==t.type||(t.selectionIndex=r++)})),n.lastSelectionIndex=r-1,o):[];var e,n,r,o},e.propTypes={messages:p.arrayOf(p.object),user:p.object,messageTemplate:p.any,attachmentTemplate:p.any,width:p.oneOfType([p.string,p.number]),onMessageSend:p.func,onActionExecute:p.func,dir:p.string,messageBox:p.any},e.defaultProps={messages:[],dateFormat:"g",message:u},e}(o.Component),F=n(7),L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onBtnClick=function(t,n){Object(i.k)(e.props.onActionExecute,n,e,{action:t})},e}return L(e,t),e.prototype.render=function(){return o.createElement("div",{className:"k-card"},o.createElement("img",{className:"k-card-image",src:this.props.imageUrl,style:{maxWidth:this.props.imageMaxWidth}}),o.createElement("div",{className:"k-card-body"},this.getTitleView(),this.getSubtitleView()),o.createElement("div",{className:"k-card-actions k-card-actions-vertical"},this.getActionsView()))},e.prototype.getActionsView=function(){var t=this;return this.props.actions.map((function(e,n){return o.createElement("span",{className:"k-card-action",key:n},o.createElement(F.Button,{look:"flat",onClick:function(n){return t.onBtnClick(e,n)}},e.title))}))},e.prototype.getTitleView=function(){var t=null;return this.props.title&&(t=o.createElement("h5",{className:"k-card-title"},this.props.title)),t},e.prototype.getSubtitleView=function(){var t=null;return this.props.subtitle&&(t=o.createElement("h6",{className:"k-card-subtitle"},this.props.subtitle)),t},e}(o.Component)},function(t,e,n){"use strict";n.r(e),n.d(e,"Sortable",(function(){return E})),n.d(e,"SortableOnDragStartEvent",(function(){return h})),n.d(e,"SortableOnDragOverEvent",(function(){return d})),n.d(e,"SortableOnDragEndEvent",(function(){return f})),n.d(e,"SortableOnNavigateEvent",(function(){return m}));var r,o,i,a=n(0),s=n(12),l=n(1),c=n(2),u=function(){function t(){this.prevented=!1}return t.prototype.preventDefault=function(){this.prevented=!0},t.prototype.isDefaultPrevented=function(){return this.prevented},t}(),p=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e,n,r){var o=t.call(this)||this;return o.target=e,o.prevIndex=n,o.element=r,o}return p(e,t),e}(u),d=function(t,e,n,r){this.target=t,this.prevIndex=e,this.nextIndex=n,this.newState=r},f=function(t,e,n,r){this.target=t,this.prevIndex=e,this.nextIndex=n,this.newState=r},m=function(t,e,n,r){this.target=t,this.prevIndex=e,this.nextIndex=n,this.newState=r},v=n(5),g="sortable.noData",y=((o={})[g]="No Data",o),b=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},x=function(t){return String(t).trim().split(" ")},w=/^(?:a|input|select|option|textarea|button|object)$/i,k=Object(c.s)(),O={name:"@progress/kendo-react-sortable",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631617189,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(){return(_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},S=((i={})["data-sortable-component"]=!0,i),E=function(t){function e(e){var n=t.call(this,e)||this;return n.state={clientX:0,clientY:0,isDragging:!1,isDragPrevented:!1,activeId:"",dragCueWidth:0,dragCueHeight:0},n.itemRefsMap={},n.oldSizesMap={},n.animatingItemMap={},n.isUnmounted=!1,n.focusActiveId=!1,n.isKeyboardNavigated=!1,n.swapItems=function(t,e,n){var r=t[e];return t[e]=t[n],t[n]=r,e=n},n.generateNewState=function(t,e){var r=n.props.data,o=r.slice();if(t>e)for(var i=t-1;i>=e;i--){var a=r[i];n.isItemDisabled(a)||(t=n.swapItems(o,t,i))}else for(i=t+1;i<=e;i++){a=r[i];n.isItemDisabled(a)||(t=n.swapItems(o,t,i))}return o},n.closestSortableItem=function(t){for(var e=t;e;){var r=e.getAttribute("data-sortable-id");if(r&&n.itemRefsMap[r]===e)return{id:r,element:e};e=e.parentElement}return{id:"",element:null}},n.isSortable=function(t){return Boolean(t.hasAttribute("data-sortable-component"))},n.closestSortable=function(t){for(var e=t;e;){if(n.isSortable(e))return e;e=e.parentElement}return null},n.isSameSortable=function(t){return n.closestSortable(t)===n.container},n.idComparer=function(t,e){return t+""==e+""},n.findItem=function(t){var e=n.props,r=e.data,o=e.idField;if(t+"")return function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}(r,(function(e){return n.idComparer(e[o],t)}))},n.findIndex=function(t){var e=n.props,r=e.data,o=e.idField;return t+""?b(r,(function(e){return n.idComparer(e[o],t)})):-1},n.isItemDisabled=function(t){return t&&!0===t[n.props.disabledField||""]},n.isActiveElementSortableItem=function(){return document.activeElement instanceof HTMLElement&&n.closestSortableItem(document.activeElement).element!==document.activeElement},n.widgetTarget=function(t){var e=function(t,e){for(;t&&!e(t);)t=t.parentNode;return t}(t,(function(t){return function(t,e){var n=x(e);return Boolean(x(t.className).find((function(t){return n.indexOf(t)>=0})))}(t,"k-widget")||n.isSortable(t)}));return e&&!n.isSortable(e)},n.allowDrag=function(t){return t.hasAttribute("data-sortable-id")||!(function(t){if(t.tagName){var e=t.tagName.toLowerCase(),n=t.getAttribute("tabIndex"),r="-1"===n,o=null!==n&&!r;return w.test(e)&&(o=!t.disabled&&!r),o}return!1}(t)||n.widgetTarget(t))},n.onDragStart=function(t){var e=t.event,r=n.props.onDragStart,o=document.elementFromPoint(e.clientX,e.clientY),i=n.closestSortableItem(o),a=i.id,s=i.element,l=n.findItem(a);if(!a||l&&n.isItemDisabled(l)||!n.allowDrag(o)||!n.isSameSortable(o))n.setState({isDragPrevented:!0});else{e.isTouch&&e.originalEvent.preventDefault();var c=new h(n,n.findIndex(a),o);r&&r.call(void 0,c);var u=c.isDefaultPrevented();u||(n.offsetParent=function(t){if(!t||!k)return null;for(var e=t.parentElement;e;){if("none"!==window.getComputedStyle(e).transform)return e;e=e.parentElement}}(n.container)),n.setState({isDragPrevented:u,activeId:a,dragCueWidth:s&&s.clientWidth||0,dragCueHeight:s&&s.clientHeight||0})}},n.onDragOver=function(t){var e=t.event,r=n.props,o=r.onDragOver,i=r.data;if(!n.state.isDragPrevented){e.originalEvent.preventDefault();var a=n.findIndex(n.state.activeId);if(-1!==a){var s=document.elementFromPoint(e.clientX,e.clientY),l=n.closestSortableItem(s),c=n.findIndex(l.id),u=i[c];if(o&&c>-1&&a!==c&&!n.isItemDisabled(u)&&!n.animatingItemMap[l.id]){var p=new d(n,a,c,n.generateNewState(a,c));o.call(void 0,p)}var h=n.parentOffset();n.setState({clientX:e.clientX-h.left,clientY:e.clientY-h.top,isDragging:!0})}else n.resetState()}},n.onDragEnd=function(t){var e=n.isActiveElementSortableItem();if(n.state.isDragPrevented)n.resetState(e);else{var r=t.event,o=n.props,i=o.onDragEnd,a=o.data,s=document.elementFromPoint(r.clientX,r.clientY),l=n.closestSortableItem(s),c=n.findIndex(l.id),u=n.findIndex(n.state.activeId),p=n.isItemDisabled(a[c]);if((-1===c||p)&&(c=u),i){var h=new f(n,u,c,n.generateNewState(u,c));i.call(void 0,h)}n.resetState(e)}},n.onItemBlur=function(){window.setTimeout((function(){n.isUnmounted||n.isActiveElementSortableItem()&&!n.state.isDragging&&n.setState({activeId:""})}))},n.onItemFocus=function(t){var e=n.closestSortableItem(t.currentTarget),r=e.id,o=e.element;!n.idComparer(r,n.state.activeId)&&n.isSameSortable(t.target)&&o===t.target&&n.setState({activeId:r})},n.onKeyDown=function(t){var e=n.props,r=e.data,o=e.idField,i=e.onNavigate,a=e.navigation,s=n.state.activeId;if(a&&s&&n.isSameSortable(t.target)){var l=n.isRtl,u=r.filter((function(t){return!n.isItemDisabled(t)})),p=b(u,(function(t){return n.idComparer(t[o],s)})),h=u.length-1,d=p;switch(t.keyCode===c.d.left&&(t.keyCode=l?c.d.down:c.d.up),t.keyCode===c.d.right&&(t.keyCode=l?c.d.up:c.d.down),t.keyCode){case c.d.up:p>0&&(d=p-1);break;case c.d.down:p<h&&(d=p+1)}if(d!==p){t.stopPropagation(),t.preventDefault();var f=u[d],v=f?f[o]:"",g=u[p],y=g?g[o]:"";if(t.ctrlKey){if(i){var x=n.findIndex(y),w=n.findIndex(v),k=new m(n,x,w,n.generateNewState(x,w));n.isKeyboardNavigated=!0,i.call(void 0,k)}}else n.focusActiveId=!0,n.setState({activeId:v+""})}}},n.resetState=function(t){n.setState({clientX:0,clientY:0,isDragging:!1,isDragPrevented:!1,dragCueWidth:0,dragCueHeight:0,activeId:t?"":n.state.activeId})},n.renderData=function(){var t=n.props,e=t.data,r=t.itemUI,o=t.idField,i=t.tabIndex;return e.map((function(t){var e,s=t[o],l=n.isItemDisabled(t),u=n.idComparer(n.state.activeId,s);return a.createElement(r,{key:s,forwardRef:function(t){return n.refAssign(t,s)},dataItem:t,isDisabled:l,isActive:u,isDragged:u&&n.state.isDragging,isDragCue:!1,attributes:(e={},e["data-sortable-id"]=s,e["aria-disabled"]=l,e["aria-grabbed"]=u&&n.state.isDragging&&!n.state.isDragPrevented,e["aria-dropeffect"]=l?"none":"move",e.tabIndex=Object(c.p)(i,l),e.onFocus=n.onItemFocus,e.onBlur=n.onItemBlur,e),style:{cursor:l?"auto":"move",MozUserSelect:"none",msUserSelect:"none",WebkitUserSelect:"none",userSelect:"none"}})}))},n.renderNoData=function(){var t=n.props.emptyItemUI,e=Object(v.provideLocalizationService)(n).toLanguageString(g,y[g]);if(t)return a.createElement(t,{message:e})},n.renderDragCue=function(){var t=n.props.itemUI,e=n.state,r=e.isDragging,o=e.activeId,i=e.clientX,s=e.clientY,l=n.findItem(o);if(r&&l)return a.createElement(t,{dataItem:l,isDisabled:!1,isActive:!0,isDragged:!0,isDragCue:!0,style:{position:"fixed",top:s+10,left:i+10,width:n.state.dragCueWidth,height:n.state.dragCueHeight},attributes:{}})},n.refAssign=function(t,e){t?n.itemRefsMap[e]=t:delete n.itemRefsMap[e]},n.draggableRefAssign=function(t){n.draggableRef=t},Object(c.D)(O),n}return C(e,t),Object.defineProperty(e.prototype,"container",{get:function(){return this.draggableRef&&this.draggableRef.element},enumerable:!0,configurable:!0}),e.prototype.getSnapshotBeforeUpdate=function(){var t=this,e=this.props,n=e.idField,r=e.animation;return this.oldSizesMap={},r?(this.props.data.forEach((function(e){var r=e[n],o=t.itemRefsMap[r],i=s.findDOMNode(o);i&&(t.oldSizesMap[r]=i.getBoundingClientRect())})),null):null},e.prototype.componentDidUpdate=function(t){var e=this,n=this.props,r=n.idField,o=n.animation;this.focusActiveId&&(this.focusActiveId=!1,this.itemRefsMap[this.state.activeId].focus()),o&&(this.state.isDragging||this.isKeyboardNavigated)&&(this.isKeyboardNavigated=!1,t.data.forEach((function(t){var n=t[r],o=e.itemRefsMap[n],i=o.getBoundingClientRect(),a=e.oldSizesMap[n],s=a.left-i.left,l=a.top-i.top;0===s&&0===l||requestAnimationFrame((function(){e.animatingItemMap[n]=!0,o.style.transform="translate("+s+"px, "+l+"px)",o.style.transition="transform 0s",requestAnimationFrame((function(){o.style.transform="",o.style.transition="transform 200ms cubic-bezier(0.2, 0, 0, 1) 0s",window.setTimeout((function(){return e.animatingItemMap[n]=!1}),200)}))}))})))},e.prototype.componentDidMount=function(){this.isRtl=this.container&&"rtl"===getComputedStyle(this.container).direction||!1},e.prototype.componentWillUnmount=function(){this.isUnmounted=!0},e.prototype.parentOffset=function(){var t=this.offsetParent;if(t&&t.ownerDocument&&t!==t.ownerDocument.body){var e=t.getBoundingClientRect();return{left:e.left-t.scrollLeft,top:e.top-t.scrollTop}}return{left:0,top:0}},e.prototype.render=function(){var t=this.props,e=t.data,n=t.style,r=t.className;return a.createElement(c.b,{onPress:this.onDragStart,onDrag:this.onDragOver,onRelease:this.onDragEnd,ref:this.draggableRefAssign},a.createElement("div",_({},S,{className:r,style:_({touchAction:"none"},n),onKeyDown:this.onKeyDown}),e&&e.length?this.renderData():this.renderNoData(),this.renderDragCue()))},e.defaultProps={navigation:!0,animation:!0,emptyItemUI:function(t){return a.createElement("div",null,t.message)}},e.propTypes={idField:l.string.isRequired,disabledField:l.string,data:l.array.isRequired,tabIndex:l.number,navigation:l.bool,animation:l.bool,itemUI:l.func.isRequired,emptyItemUI:l.func,style:l.object,className:l.string,onDragStart:l.func,onDragOver:l.func,onDragEnd:l.func,onNavigate:l.func},e}(a.Component);Object(v.registerForLocalization)(E)},function(t,e,n){"use strict";n.r(e),n.d(e,"ListBox",(function(){return h})),n.d(e,"ListBoxToolbar",(function(){return g})),n.d(e,"processListBoxData",(function(){return y})),n.d(e,"moveItem",(function(){return b})),n.d(e,"processListBoxDragAndDrop",(function(){return x}));var r,o=n(0),i=n(1),a=n(2);!function(t){t.TOP="top",t.BOTTOM="bottom",t.LEFT="left",t.RIGHT="right",t.NONE="none"}(r||(r={}));var s,l,c={name:"@progress/kendo-react-listbox",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631617017,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},h=function(t){function e(e){var n=t.call(this,e)||this;return n.setSelected=function(t){if(n.props.selectedField)return!!t[n.props.selectedField]},n.renderItem=function(t){return n.props.textField?t[n.props.textField]:t.toString()},n.handleKeyDown=function(t){n.props.onKeyDown&&Object(a.k)(n.props.onKeyDown,t,n,void 0)},n.handleContainerDrop=function(t){t.target.classList.contains("k-list-scroller")&&(n.props.data.length>0?Object(a.k)(n.props.onDrop,t,n,{dataItem:n.props.data[n.props.data.length-1]}):Object(a.k)(n.props.onDrop,t,n,{dataItem:null}))},n.setToolbarPosition=function(){return n.props.toolbarPosition===r.NONE||void 0===n.props.toolbar?"":"k-listbox-toolbar-"+n.props.toolbarPosition},n.handleOnDragLeave=function(t){n.props.onDragLeave&&t.target.classList.contains("k-list-scroller")&&Object(a.k)(n.props.onDragLeave,t,n,void 0)},Object(a.D)(c),n}return u(e,t),e.prototype.render=function(){var t=this;return o.createElement("div",{className:Object(a.g)(this.props.className,"k-listbox",this.setToolbarPosition()),style:this.props.style,unselectable:"on"},this.props.toolbar&&o.createElement(this.props.toolbar,null),o.createElement("div",{className:"k-list-scroller k-selectable","data-role":"selectable",onDragOver:function(t){return t.preventDefault()},onDrop:this.handleContainerDrop,onDragLeave:this.handleOnDragLeave},o.createElement("ul",{className:"k-reset k-list",role:"listbox",tabIndex:0,onKeyDown:this.handleKeyDown},this.props.data.map((function(e,n){var r=t.setSelected(e),i=Object(a.r)(),s={className:Object(a.g)("k-item",{"k-state-selected":r}),role:"option","aria-selected":r,key:n,id:i+n,"data-uid":i+n,draggable:t.props.draggable,onDragStart:function(n){return Object(a.k)(t.props.onDragStart,n,t,{dataItem:e})},onDragOver:function(n){n.preventDefault(),Object(a.k)(t.props.onDragOver,n,t,{dataItem:e})},onDrop:function(n){return Object(a.k)(t.props.onDrop,n,t,{dataItem:e})},onClick:function(n){return Object(a.k)(t.props.onItemClick,n,t,{dataItem:e})}};return t.props.item?o.createElement(t.props.item,p({selected:r,dataItem:e},s)):o.createElement("li",p({},s),t.renderItem(e))})))),o.createElement("select",{style:{display:"none"},multiple:!0,"data-role":"listbox"},this.props.data.map((function(e,n){var r=e[t.props.valueField||t.props.textField];return o.createElement("option",{key:n,value:r},r)}))))},e.propTypes={toolbarPosition:i.oneOf(["none","top","bottom","left","right"]),textField:i.string,valueField:i.string,selectedField:i.string,data:i.array},e.defaultProps={toolbarPosition:r.RIGHT,draggable:!0},e}(o.PureComponent),d=n(5),f=((l={})["listbox.moveUp"]="Move Up",l["listbox.moveDown"]="Move Down",l["listbox.transferTo"]="Transfer To",l["listbox.transferFrom"]="Transfer From",l["listbox.transferAllTo"]="Transfer All To",l["listbox.transferAllFrom"]="Transfer All From",l["listbox.remove"]="Delete",l),m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=[{name:"moveUp",iconClassName:"k-icon k-i-arrow-60-up"},{name:"moveDown",iconClassName:"k-icon k-i-arrow-60-down"},{name:"transferTo",iconClassName:"k-icon k-i-arrow-60-right"},{name:"transferFrom",iconClassName:"k-icon k-i-arrow-60-left"},{name:"transferAllTo",iconClassName:"k-icon k-i-arrow-double-60-right"},{name:"transferAllFrom",iconClassName:"k-icon k-i-arrow-double-60-left"},{name:"remove",iconClassName:"k-icon k-i-x"}],g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleToolClick=function(t,n){Object(a.k)(e.props.onToolClick,t,e,{toolName:n})},e.isItemDisabled=function(t){var n=!0,r=e.props.selectedField||"selected",o=e.props.data.length,i=e.props.dataConnected.length,a=e.props.data.findIndex((function(t){return!0===t[r]}))>=0,s=e.props.dataConnected.findIndex((function(t){return!0===t[r]}))>=0;switch(t){case"moveUp":n=a?!(e.props.data.length>0)||e.props.data[0].selected:!s||(!(e.props.dataConnected.length>0)||e.props.dataConnected[0].selected);break;case"moveDown":n=a?!e.props.data[o-1]||e.props.data[o-1].selected:!s||(!(e.props.dataConnected.length>0)||e.props.dataConnected[i-1].selected);break;case"transferTo":n=!(e.props.dataConnected&&a);break;case"transferFrom":n=!e.props.dataConnected||!(e.props.dataConnected&&s);break;case"transferAllTo":n=!(e.props.dataConnected&&e.props.data.length>0);break;case"transferAllFrom":n=!(e.props.dataConnected&&e.props.dataConnected.length>0);break;case"remove":n=!(a||s)}return n},e}return m(e,t),e.prototype.render=function(){var t=this,e=Object(d.provideLocalizationService)(this);return o.createElement("div",{className:Object(a.g)("k-listbox-toolbar")},o.createElement("ul",{className:"k-reset"},this.props.tools&&this.props.tools.map((function(n,r){var i=v.findIndex((function(t){return t.name===n})),s=v[i],l=t.isItemDisabled(s.name),c="listbox."+s.name;return o.createElement("li",{key:r},o.createElement("a",{href:"#",className:Object(a.g)("k-button","k-button-icon",{"k-state-disabled":l}),"data-command":s.name,title:e.toLanguageString(c,f[c]),"aria-label":e.toLanguageString(c,f[c]),role:"button",onClick:function(e){e.preventDefault(),t.handleToolClick(e,s.name||null)}},o.createElement("span",{className:s.iconClassName})))}))))},e.propTypes={data:i.array,dataConnected:i.array,tools:i.array,selectedField:i.string},e.defaultProps={data:[],dataConnected:[],selectedField:"selected"},e}(o.PureComponent);Object(d.registerForLocalization)(g);var y=function(t,e,n,r){void 0===t&&(t=[]),void 0===e&&(e=[]);var o=[],i=[],a=[],s={listBoxOneData:t,listBoxTwoData:e};switch(n){case"moveUp":(o=t.slice()).forEach((function(t,e){t[r]&&(o=b(e,e-1,o))})),(a=e.slice()).forEach((function(t,e){t[r]&&(a=b(e,e-1,a))})),s.listBoxOneData=o,s.listBoxTwoData=a;break;case"moveDown":(o=t.reverse()).forEach((function(t,e){t[r]&&(o=b(e,e-1,o))})),(a=e.reverse()).forEach((function(t,e){t[r]&&(a=b(e,e-1,a))})),s.listBoxOneData=o.slice().reverse(),s.listBoxTwoData=a.slice().reverse();break;case"transferTo":o=t.filter((function(t){return!t[r]})),i=t.filter((function(t){return t[r]})),a=e.concat(i),s.listBoxOneData=o,s.listBoxTwoData=a;break;case"transferFrom":a=e.filter((function(t){return!t[r]})),i=e.filter((function(t){return t[r]})),o=t.concat(i),s.listBoxOneData=o,s.listBoxTwoData=a;break;case"transferAllTo":s.listBoxOneData=[],s.listBoxTwoData=e.concat(t);break;case"transferAllFrom":s.listBoxOneData=e.concat(t),s.listBoxTwoData=[];break;case"remove":a=e.filter((function(t){return!t[r]})),o=t.filter((function(t){return!t[r]})),s.listBoxOneData=o,s.listBoxTwoData=a}return s},b=function(t,e,n){var r=n.splice(t,1)[0];return n.splice(e,0,r),n},x=function(t,e,n,r,o){void 0===t&&(t=[]),void 0===e&&(e=[]);var i=t.findIndex((function(t){return t[o]===n[o]})),a=e.findIndex((function(t){return t[o]===n[o]})),s=null!==r?t.findIndex((function(t){return t[o]===r[o]})):-1,l=null!==r?e.findIndex((function(t){return t[o]===r[o]})):-1,c=i>=0,u=a>=0,p=s>=0,h=l>=0,d=t.slice(),f=e.slice();return c&&p?{listBoxOneData:b(i,s,t),listBoxTwoData:e}:u&&h?{listBoxOneData:t,listBoxTwoData:b(a,l,e)}:c&&(h||null===r)?(null===r?f.push(t[i]):f.splice(l+1,0,t[i]),d.splice(i,1),{listBoxOneData:d,listBoxTwoData:f}):u&&(p||null===r)?(null===r?d.push(e[a]):d.splice(s+1,0,e[a]),f.splice(a,1),{listBoxOneData:d,listBoxTwoData:f}):{listBoxOneData:t,listBoxTwoData:e}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Ripple",(function(){return f}));var r,o=n(0),i=n(1),a=function(t,e,n){var r=function(){n(),t.removeEventListener(e,r,!1)},o=function(){return t.addEventListener(e,r,!1)};return o(),{remove:o}},s=function(t,e){return function(n){var r,o=n.target,i=o.document||o.ownerDocument;if((r=e.container?e.container(o):function(t,e){if(t.closest)return t.closest(e);for(var n=Element.prototype.matches?function(t,e){return t.matches(e)}:function(t,e){return t.msMatchesSelector(e)},r=t;r;){if(n(r,e))return r;r=r.parentElement}}(o,t))&&!(/focus/i.test(n.type)&&r.classList.contains("k-ripple-target")))if(o.classList.contains("k-checkbox")||o.classList.contains("k-radio"))n.target.classList.remove("k-ripple-focus"),"animationend"!==n.type&&n.target.classList.add("k-ripple-focus");else{r.classList.add("k-ripple-target");var s=function(t){var e=t.createElement("div");e.className="k-ripple";var n=t.createElement("div");return n.className="k-ripple-blob",e.appendChild(n),[e,n]}(i),u=s[0],p=s[1],h={animated:!1,released:!1,blob:p,container:r,ripple:u},d={focusin:"focusout",keydown:"keyup",mousedown:"mouseup",pointerdown:"pointerup",touchdown:"touchup",animationstart:"animationend"}[n.type];a(n.currentTarget,d,(function(){return c(h)})),r.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity");var f=r.getBoundingClientRect(),m=0,v=0;/mouse|pointer|touch/.test(n.type)?(m=n.clientX-f.left,v=n.clientY-f.top):(m=f.width/2,v=f.height/2);var g=m-(m<f.width/2?f.width:0),y=v-(v<f.height/2?f.height:0),b=2*Math.sqrt(g*g+y*y);if(p.style.width=p.style.height=b+"px",p.offsetWidth<0)throw new Error("Inconceivable!");p.style.cssText="\n        width: "+b+"px;\n        height: "+b+"px;\n        transform: translate(-50%, -50%) scale(1);\n        left: "+m+"px;\n        top: "+v+"px;\n    ",setTimeout((function(){return l(h)}),500)}}},l=function(t){t.animated=!0,u(t)},c=function(t){t.released=!0,u(t)},u=function(t){if(t.released&&t.animated){var e=t.blob,n=t.ripple,r=t.container;r&&a(r,"blur",(function(){return r.classList.remove("k-ripple-target")})),e&&(a(e,"transitionend",(function(){n&&n.parentNode&&n.parentNode.removeChild(n)})),e.style.transition="opacity 200ms linear",e.style.opacity="0")}},p=n(13),h={name:"@progress/kendo-react-ripple",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631617112,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},d=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(e){var n=t.call(this,e)||this;if(n._element=null,n.removeListeners=function(){},n.registerListeners=function(){var t=n._element;n.removeListeners();var e=function(t,e){var n,r=(n=e.map((function(e){var n={events:["mousedown","touchdown"],global:!1},r=e.selector,o=e.options,i=void 0===o?n:o,a=s(r,i),l=i.events||n.events,c=i.global?document.body:t;return l.forEach((function(t){return c.addEventListener(t,a,!1)})),{events:l,options:i,activator:a}})),[].concat.apply([],n));return function(){if(t){r.forEach((function(e){var n=e.events,r=e.options,o=e.activator,i=r.global?document.body:t;n.forEach((function(t){return i.removeEventListener(t,o,!1)}))})),t=null}}}(t,[{selector:".k-button:not(li)"},{selector:".k-list>.k-item",options:{global:!0}},{selector:".k-checkbox-label,.k-radio-label"},{selector:".k-checkbox,.k-radio",options:{events:["focusin","animationend","click"]}}]);n.removeListeners=e},void 0!==p)p.validatePackage(h);else{var r="License activation failed for "+h.name+"\n";r+="The @progress/kendo-licensing script is not loaded.\n",r+="See "+h.licensingDocsUrl+" for more information.\n",console.warn(r)}return n}return d(e,t),e.prototype.componentDidMount=function(){this.registerListeners()},e.prototype.componentDidUpdate=function(){this.props.disabled?this.removeListeners():this.registerListeners()},e.prototype.componentWillUnmount=function(){this.removeListeners()},e.prototype.render=function(){var t=this,e=this.props.className?"k-ripple-container "+this.props.className:"k-ripple-container";return o.createElement("span",{className:e,ref:function(e){t._element=e}},this.props.children)},e.propTypes={disabled:i.bool},e}(o.PureComponent)},function(t,e,n){"use strict";n.r(e),n.d(e,"ListView",(function(){return l})),n.d(e,"ListViewHeader",(function(){return c})),n.d(e,"ListViewFooter",(function(){return u}));var r,o=n(0),i=n(2),a={name:"@progress/kendo-react-listview",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631617037,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=t.call(this,e)||this;return n.onScroll=function(t){return Object(i.k)(n.props.onScroll,t,n,void 0)},Object(i.D)(a),n}return s(e,t),e.prototype.render=function(){var t=this.props,e=t.data,n=void 0===e?[]:e,r=t.item;return o.createElement("div",{className:Object(i.g)("k-listview k-widget k-d-flex",this.props.className),style:this.props.style},this.props.header?o.createElement(this.props.header,null):null,o.createElement("div",{className:"k-listview-content",onScroll:this.onScroll},r&&n.map((function(t,e){return o.createElement(r,{dataItem:t,index:e,key:e})}))),this.props.footer?o.createElement(this.props.footer,null):null)},e}(o.PureComponent),c=function(t){return o.createElement("div",{className:Object(i.g)("k-listview-header",t.className),style:t.style},t.children)},u=function(t){return o.createElement("div",{className:Object(i.g)("k-listview-footer",t.className),style:t.style},t.children)}},function(t,e,n){"use strict";n.r(e),n.d(e,"Notification",(function(){return u})),n.d(e,"NotificationGroup",(function(){return d}));var r,o=n(0),i=n(1),a=n(13),s={name:"@progress/kendo-react-notification",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631617057,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},u=function(t){function e(e){var n=t.call(this,e)||this;if(void 0!==a)a.validatePackage(s);else{var r="License activation failed for "+s.name+"\n";r+="The @progress/kendo-licensing script is not loaded.\n",r+="See "+s.licensingDocsUrl+" for more information.\n",console.warn(r)}return n}return l(e,t),e.prototype.render=function(){var t=this,n=this.props,r=n.onClose,i=n.className,a=n.closable,s=void 0===a?e.defaultProps.closable:a,l=n.type,u=void 0===l?e.defaultProps.type:l;return o.createElement("div",{dir:this.props.dir,className:"k-notification-container"},o.createElement("div",{className:"k-widget k-notification"+(i?" "+i:"")+("none"===u.style?"":" k-notification-"+u.style)+(s?" k-notification-closable":""),style:this.props.style},o.createElement("div",{className:"k-notification-wrap"},u.icon&&o.createElement("span",{className:"k-icon k-i-"+u.style}),o.createElement("div",{className:"k-notification-content"},this.props.children),s&&o.createElement("a",c({className:"k-icon k-i-close",title:"Close",onClick:function(e){r&&r.call(void 0,{target:t,syntheticEvent:e,nativeEvent:e.nativeEvent})}},"boolean"!=typeof s?s:{})))))},e.propTypes={className:i.string,closable:i.oneOfType([i.bool,i.object]),dir:i.string,style:i.object,type:i.shape({style:i.oneOf(["none","success","error","warning","info"]),icon:i.bool}),onClose:i.func},e.defaultProps={closable:!1,type:{style:"none",icon:!0}},e}(o.Component),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.render=function(){var t=this.props,e=t.style,n=void 0===e?{}:e,r=t.className;return o.createElement("div",{className:"k-notification-group"+(r?" "+r:""),style:h({alignItems:"center",flexWrap:"wrap"},n)},this.props.children)},e.propTypes={className:i.string,style:i.object},e}(o.Component)},function(t,e,n){"use strict";n.r(e),n.d(e,"Tooltip",(function(){return f}));var r,o=n(0),i=n(12),a=n(1),s=n(2),l=["k-tooltip-content","k-animation-container","k-tooltip","k-tooltip-title","k-tooltip k-tooltip-closable","k-icon k-i-close"],c=function(t){if(null===t)return!1;for(var e=t;e;){if(null!==e&&e.classList&&e.classList.contains("k-tooltip"))return!0;e=null!==e.parentNode&&e.parentNode}return l.filter((function(e){return e===t.className})).length>0},u={name:"@progress/kendo-react-tooltip",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1631617211,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},p=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},f=function(t){function e(e){var n=t.call(this,e)||this;return n.state={targetElement:null,open:!1,title:""},n.top=0,n.left=0,n.willOpen=!1,n.handleMouseOut=function(t){var e=n.state.targetElement,r=e?e.ownerDocument:document,o=r&&r.elementFromPoint(t.clientX,t.clientY);c(o)||n.props.open||(clearInterval(n.updateIntervalId),n.willOpen=!1,n.onClose(t))},n.handleMouseOver=function(t){var e=t.target;n.isVisible(e)&&!c(e)&&e!==n.state.targetElement&&n.showToolTip(t)},n.handleBodyMousemove=function(t){n.top=t.clientY,n.left=t.clientX},n.onClose=function(t){Object(s.k)(n.props.onClose,t,n,void 0),n.setState({targetElement:null,open:!1,title:""})},n.setUpdateInterval=function(){n.props.updateInterval&&(n.updateIntervalId=setInterval(n.onIntervalUpdate,n.props.updateInterval))},n.onIntervalUpdate=function(){var t=n.state.targetElement;t&&(null===t.parentElement?n.onClose({target:t}):n.showToolTip({target:t}))},n.position=function(t){var e,r=null!==(e=n.state.targetElement)?e.getBoundingClientRect():document.body.getBoundingClientRect();return{left:function(t,e,n,r,o){switch(o){case"bottom":return"pointer"===r?t-e/2:n.left-e/2+n.width/2;case"left":return"pointer"===r?t-e-10:n.left-e-10;case"right":return"pointer"===r?t+10:n.right+10;case"top":return"pointer"===r?t-e/2:n.left-e/2+n.width/2;default:return"pointer"===r?t<window.screen.availWidth/2?t-10:t-e+10:t<window.screen.availWidth/2?n.left:n.right-e}}(n.left,t.offsetWidth,r,n.props.anchorElement,n.props.position),top:function(t,e,n,r,o){switch(o){case"bottom":return"pointer"===r?t+10:e.bottom+10;case"left":case"right":return"pointer"===r?t-n/2:e.top-n/2+e.height/2;case"top":return"pointer"===r?t-n-10:e.top-n-10;default:return"pointer"===r?t<window.innerHeight/2?t+10:t-n-10:t<window.innerHeight/2?e.bottom+10:e.top-n-10}}(n.top,r,t.offsetHeight,n.props.anchorElement,n.props.position)}},n.getTitle=function(t){for(;t;){if(null!==t.getAttribute("title")||t.titleExpando)return{title:t.getAttribute("title")||t.titleExpando,element:t};t=n.props.parentTitle&&t.parentElement||null}return{title:"",element:t}},n.calloutClassName=function(){switch(n.props.position){case"bottom":return"k-callout k-callout-n";case"left":return"k-callout k-callout-e";case"right":return"k-callout k-callout-w";case"top":return"k-callout k-callout-s";default:return n.top<window.innerHeight/2?"k-callout k-callout-n":"k-callout k-callout-s"}},Object(s.D)(u),n}return p(e,t),e.prototype.componentDidMount=function(){document&&document.body.addEventListener("mousemove",this.handleBodyMousemove)},e.prototype.componentWillUnmount=function(){clearTimeout(this.openTimeoutId),clearInterval(this.updateIntervalId),document&&document.body.removeEventListener("mousemove",this.handleBodyMousemove)},e.prototype.componentDidUpdate=function(){this.props.open&&this.props.targetElement&&this.showToolTip({target:this.props.targetElement})},e.prototype.render=function(){var t=this;if(this.props.children){var n=this.props,r=n.children,a=d(n,["children"]),l=null;return o.createElement("div",{onMouseOver:function(t){l&&l.handleMouseOver(t)},onMouseOut:function(t){l&&l.handleMouseOut(t)}},o.createElement(e,h({ref:function(t){return l=t}},a)),r)}if(!1===this.props.open)return null;var c=this.state.targetElement;return c&&this.state.title&&c.ownerDocument&&i.createPortal(o.createElement("div",{ref:function(e){var n;e&&(n=t.props.onPosition?t.props.onPosition.call(void 0,{element:e,targetElement:t.state.targetElement,mouseTop:t.top,mouseLeft:t.left,anchorElement:t.props.anchorElement,position:t.props.position,target:t}):t.position(e),e.style.left=n.left+"px",e.style.top=n.top+"px")},className:Object(s.g)("k-animation-container","k-animation-container-fixed","k-animation-container-shown",this.props.className),style:this.props.style,tabIndex:0},o.createElement("div",{className:Object(s.g)("k-tooltip",this.props.tooltipClassName),style:h({position:"relative"},this.props.tooltipStyle)},o.createElement("div",{className:"k-tooltip-content"},this.props.content&&o.createElement(this.props.content,{title:this.state.title,target:this.state.targetElement})||this.state.title),this.props.showCallout&&o.createElement("div",{ref:function(e){e&&(e.className=t.calloutClassName(),"auto"===t.props.position&&(t.left<window.screen.availWidth/2?e.style.left=t.props.setCalloutOnPositionAuto||"25%":e.style.left=t.props.setCalloutOnPositionAuto||"75%"))}}))),this.props.appendTo?this.props.appendTo:c.ownerDocument.body)},e.prototype.showToolTip=function(t){var e=this;clearTimeout(this.openTimeoutId),clearInterval(this.updateIntervalId),t.target.hasChildNodes()&&t.target.childNodes.forEach((function(e){"title"===e.nodeName&&(t.target.titleExpando=e.innerHTML,e.remove())}));var n=this.props.targetElement||t.target,r=this.getTitle(n);r.title?(r.element&&(r.element.titleExpando=r.title,r.element.title=""),this.willOpen=!0,this.props.openDelay?this.openTimeoutId=window.setTimeout((function(){e.willOpen&&e.setState({targetElement:n,open:!0,title:r.title},e.setUpdateInterval)}),this.props.openDelay):this.setState({targetElement:n,open:!0,title:r.title},this.setUpdateInterval),this.state.title!==r.title&&Object(s.k)(this.props.onOpen,t,this,void 0)):this.state.open&&this.onClose(t)},e.prototype.isVisible=function(t){return!this.props.filter||this.props.filter(t)},e.propTypes={anchorElement:a.oneOf(["pointer","target"]),content:a.func,filter:a.func,openDelay:a.number,position:a.oneOf(["right","left","top","bottom","auto"]),updateInterval:a.number},e.defaultProps={anchorElement:"pointer",openDelay:400,position:"auto",showCallout:!0,parentTitle:!1},e}(o.PureComponent)}])}));